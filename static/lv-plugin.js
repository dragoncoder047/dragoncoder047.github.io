window.LifeViewerLoaded||(window.LifeViewerLoaded=!0,function(){var w=null,h=null;window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.JQ||performance.KQ||performance.MQ||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);
window.Uint8Array?window.typedArrays=!0:(window.typedArrays=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Int32Array||(window.Int32Array=Array);window.Int16Array||(window.Int16Array=Array);window.Int8Array||(window.Int8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=Array);window.Float32Array||(window.Float32Array=Array);window.Float64Array||
(window.Float64Array=Array);window.Uint32Array.prototype.fill?window.arrayFill=!0:(window.arrayFill=!1,window.Uint32Array.prototype.fill=function(g,q,n){void 0===n&&(n=this.length);for(q=0;q<n;q+=1)this[q]=g});window.Uint16Array.prototype.fill||(window.Uint16Array.prototype.fill=function(g,q,n){void 0===n&&(n=this.length);for(q=0;q<n;q+=1)this[q]=g});window.Uint8Array.prototype.fill||(window.Uint8Array.prototype.fill=function(g,q,n){void 0===n&&(n=this.length);for(q=0;q<n;q+=1)this[q]=g});window.Uint8ClampedArray.prototype.fill||
(window.Uint8ClampedArray.prototype.fill=function(g,q,n){void 0===n&&(n=this.length);for(q=0;q<n;q+=1)this[q]=g});window.Int32Array.prototype.fill||(window.Int32Array.prototype.fill=function(g,q,n){void 0===n&&(n=this.length);for(q=0;q<n;q+=1)this[q]=g});window.Int16Array.prototype.fill||(window.Int16Array.prototype.fill=function(g,q,n){void 0===n&&(n=this.length);for(q=0;q<n;q+=1)this[q]=g});window.Int8Array.prototype.fill||(window.Int8Array.prototype.fill=function(g,q,n){void 0===n&&(n=this.length);
for(q=0;q<n;q+=1)this[q]=g});window.Float32Array.prototype.fill||(window.Float32Array.prototype.fill=function(g,q,n){void 0===n&&(n=this.length);for(q=0;q<n;q+=1)this[q]=g});window.Float64Array.prototype.fill||(window.Float64Array.prototype.fill=function(g,q,n){void 0===n&&(n=this.length);for(q=0;q<n;q+=1)this[q]=g});window.Int32Array.prototype.slice?window.arraySlice=!0:(window.arraySlice=!1,window.Int32Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var n=q-g;var a=new Int32Array(n);
for(q=0;q<n;q+=1)a[q]=this[g+q];return a});window.Int16Array.prototype.slice||(window.Int16Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var n=q-g;var a=new Int16Array(n);for(q=0;q<n;q+=1)a[q]=this[g+q];return a});window.Int8Array.prototype.slice||(window.Int8Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var n=q-g;var a=new Int8Array(n);for(q=0;q<n;q+=1)a[q]=this[g+q];return a});window.Uint32Array.prototype.slice||(window.Uint32Array.prototype.slice=function(g,
q){void 0===q&&(q=this.length);var n=q-g;var a=new Uint32Array(n);for(q=0;q<n;q+=1)a[q]=this[g+q];return a});window.Uint16Array.prototype.slice||(window.Uint16Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var n=q-g;var a=new Uint16Array(n);for(q=0;q<n;q+=1)a[q]=this[g+q];return a});window.Uint8Array.prototype.slice||(window.Uint8Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var n=q-g;var a=new Uint8Array(n);for(q=0;q<n;q+=1)a[q]=this[g+q];return a});window.Uint8ClampedArray.prototype.slice||
(window.Uint8ClampedArray.prototype.slice=function(g,q){void 0===q&&(q=this.length);var n=q-g;var a=new Uint8ClampedArray(n);for(q=0;q<n;q+=1)a[q]=this[g+q];return a});window.Float32Array.prototype.slice||(window.Float32Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var n=q-g;var a=new Float32Array(n);for(q=0;q<n;q+=1)a[q]=this[g+q];return a});window.Float64Array.prototype.slice||(window.Float64Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var n=q-g;var a=new Float64Array(n);
for(q=0;q<n;q+=1)a[q]=this[g+q];return a});h=new Uint32Array(1);h[0]=4660;w=new Uint8Array(h.buffer);window.littleEndian=52===w[0]?!0:!1;h.copyWithin?window.copyWithin=!0:(window.Uint32Array.prototype.copyWithin=function(g,q,n){var a=!1;void 0===n&&(n=this.length);var c=n-q;if(q!==g)if((g>=q&&g<=n||g+c>=q&&g+c<=n)&&g>q&&(a=!0),a)for(n=c-1;0<=n;--n)this[g+n]=this[q+n];else for(n=0;n<c;n+=1)this[g+n]=this[q+n];return this},window.copyWithin=!1);window.registerEvent=function(g,q,n,a){g.addEventListener?
g.addEventListener(q,n,a):g.attachEvent("on"+q,n)}}(),function(){function w(q,n,a){this.type=q;this.name=a;this.elements=n;this.size=n*g.Br(q);this.Vq=1}function h(){this.gi=[];this.Jp=this.pt=this.Ip=this.nt=0}var g={vz:8,wz:40,sz:9,uz:10,cz:0,az:1,bz:2,Ty:18,Uy:19,Br:function(q){return 1<<(q&7)},dQ:function(q){var n=(0!==(q&16)?"Float":0!==(q&8)?"Uint":"Int")+8*(1<<(q&7));0!==(q&32)&&(n+="Clamped");return n}};h.prototype.QK=function(q){var n="";0<=q&&q<this.gi.length&&(q=this.gi[q],n=g.dQ(q.type)+
"\t"+q.elements+"\t"+q.name+"\t"+q.Vq);return n};h.prototype.YD=function(q,n,a){for(var c=0,d=!1,e;c<this.gi.length&&!d;)e=this.gi[c],a===e.name?(d=!0,this.pt+=1,this.Jp+=e.elements*g.Br(e.type)):c+=1;d?(this.gi[c].type=q,this.gi[c].elements=n,this.gi[c].Vq+=1,this.gi[c].size=n*g.Br(q)):(c=this.gi.length,this.gi[c]=new w(q,n,a));this.nt+=1;this.Ip+=n*g.Br(q)};h.prototype.lF=function(q,n,a,c,d){q=q.buffer;c*=g.Br(n);switch(n){case g.vz:a=new Uint8Array(q,c,a);break;case g.wz:a=new Uint8Array(q,c,a);
break;case g.sz:a=new Uint16Array(q,c,a);break;case g.uz:a=new Uint32Array(q,c,a);break;case g.cz:a=new Int8Array(q,c,a);break;case g.az:a=new Int16Array(q,c,a);break;case g.bz:a=new Int32Array(q,c,a);break;case g.Ty:a=new Float32Array(q,c,a);break;case g.Uy:a=new Float64Array(q,c,a);break;default:a=null,alert("Illegal type specified to allocator.typedView for "+d+": "+n)}return a};h.prototype.C=function(q,n,a){switch(q){case g.vz:n=new Uint8Array(n);break;case g.wz:n=new Uint8Array(n);break;case g.sz:n=
new Uint16Array(n);break;case g.uz:n=new Uint32Array(n);break;case g.cz:n=new Int8Array(n);break;case g.az:n=new Int16Array(n);break;case g.bz:n=new Int32Array(n);break;case g.Ty:n=new Float32Array(n);break;case g.Uy:n=new Float64Array(n);break;default:n=null,alert("Illegal type specified to allocator.typedMemory for "+a+": "+q)}return n};h.prototype.T=function(q,n,a){var c=null;0<n&&(c=this.C(q,n,a));(c||0===n)&&this.YD(q,n,a);return c};h.prototype.PK=function(q,n,a,c){var d=null;0<n&&(d=this.C(q,
n,a));(d||0===n)&&this.YD(q,n*c,a);return d};Array.matrix=function(q,n,a,c,d,e){var l=0,k=[];k.B=d;k.type=q;k.Ha=null;var p=d.T(q,n*a,e);k.Ha=p;if(0<a){for(;l<n;)k[l]=d.lF(p,q,a,l*a,e),l+=1;0!==c&&p.fill(c)}return k};Array.Yp=function(q,n){n=q.B.PK(q.type,q[0].length,n,q.length+1);q[q.length]=n};Array.mi=function(q,n){n.Ha.set(q.Ha)};Array.Gd=function(q,n,a){var c,d=n.length,e=[],l=n.B,k=n[0].length/g.Br(q);for(c=0;c<d;c+=1)e[c]=l.lF(n.Ha,q,k,c*k,a);return e};Array.SB=function(q,n,a){var c,d=q.length,
e=q.B,l=q.type,k=q[0].length;for(c=0;c<d;c+=1)e.lF(q.Ha,l,k-n,c*k+n,a)};window.Allocator=h;window.Uint8=g.vz;window.Uint8Clamped=g.wz;window.Uint16=g.sz;window.Uint32=g.uz;window.Int8=g.cz;window.Int16=g.az;window.Int32=g.bz;window.Float32=g.Ty;window.Float64=g.Uy}(),function(){window.AliasManager={Oc:[],eE:[],Ye:function(){var w,h;this.Oc=[];this.eE=[];var g=this.Oc;var q=this.eE;q.push("1D");g.push(["Wolfram 1D",""]);g.push(["Brownian motion","W54"]);g.push(["Fishing-net","W110"]);g.push(["Heavy triangles",
"W22"]);g.push(["Linear A","W90"]);g.push(["Linear B","W150"]);g.push(["Pascal's Triangle","W18"]);g.push(["Randomizer 1","W30"]);g.push(["Randomizer 2","W45"]);g.push(["Wolfram 22","W22"]);g.push(["Wolfram 30","W30"]);g.push(["Wolfram 110","W110"]);q.push("Margolus");g.push(["Margolus",""]);g.push(["BBM","M0,8,4,3,2,5,9,7,1,6,10,11,12,13,14,15"]);g.push(["BounceGas","M0,8,4,3,2,5,9,14,1,6,10,13,12,11,7,15"]);g.push(["BounceGasII","M0,8,4,12,2,10,9,7,1,6,5,11,3,13,14,15"]);g.push(["Critters","M15,14,13,3,11,5,6,1,7,9,10,2,12,4,8,0"]);
g.push(["HPP_Gas","M0,8,4,12,2,10,9,14,1,6,5,13,3,11,7,15"]);g.push(["MargSingRot","M0,2,8,3,1,5,6,7,4,9,10,11,12,13,14,15"]);g.push(["Rotations","M0,2,8,12,1,10,9,11,4,6,5,14,3,7,13,15"]);g.push(["RotationsII","M0,2,8,12,1,10,9,13,4,6,5,7,3,14,11,15"]);g.push(["RotationsIII","M0,4,1,10,8,3,9,11,2,6,12,14,5,7,13,15"]);g.push(["RotationsIV","M0,4,1,12,8,10,6,14,2,9,5,13,3,11,7,15"]);g.push(["Sand","M0,4,8,12,4,12,12,13,8,12,12,14,12,13,14,15"]);g.push(["StringThing","M0,1,2,12,4,10,9,7,8,6,5,11,3,13,14,15"]);
g.push(["StringThingII","M0,1,2,12,4,10,6,7,8,9,5,11,3,13,14,15"]);g.push(["SwapOnDiag","M0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15"]);g.push(["Tron","M15,1,2,3,4,5,6,7,8,9,10,11,12,13,14,0"]);q.push("PCA");g.push(["PCA",""]);g.push(["Model_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);g.push(["Model_2","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);g.push(["PCA_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);g.push(["PCA_2","2PCA4,0,2,4,3,8,10,6,7,1,9,5,11,12,13,14,15"]);g.push(["PCA_3","2PCA4,0,8,1,3,2,5,6,7,4,9,10,11,12,13,14,15"]);
g.push(["PCA_4","2PCA4,0,2,4,12,8,5,9,7,1,6,10,11,3,13,14,15"]);g.push(["PCA_5","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);g.push(["PCA_6","2PCA4,0,2,4,3,8,10,6,14,1,9,5,7,12,11,13,15"]);g.push(["PCA_7","2PCA4,0,2,4,12,8,5,9,14,1,6,10,7,3,11,13,15"]);g.push(["PCA_8","2PCA4,0,2,4,12,8,10,9,14,1,6,5,7,3,11,13,15"]);g.push(["PCA_9","2PCA4,0,2,4,12,8,10,9,13,1,6,5,14,3,7,11,15"]);g.push(["PCA_10","2PCA4,0,1,2,3,4,5,6,13,8,9,10,14,12,7,11,15"]);g.push(["PCA_11","2PCA4,0,4,8,3,1,10,6,11,2,9,5,11,13,12,14,15"]);
g.push(["PCA_12","2PCA4,0,4,2,3,14,6,11,5,8,7,9,13,10,12,1,15"]);q.push("OT vN");g.push(["Outer-Totalistic von Neumann",""]);g.push(["Fredkin2","B13/S024V"]);g.push(["Parity","B13/S13V"]);q.push("OT Hex");g.push(["Outer-Totalistic Hex",""]);g.push(["HexParity","B135/S0246H"]);g.push(["Hexagonal Life","B2/S34H"]);g.push(["HighHexLife","B25/S34H"]);g.push(["Replicator Hex","B135/S135H"]);q.push("OT M");g.push(["Outer-Totalistic Moore",""]);g.push(["","B3/S23"]);g.push(["2x2","B36/S125"]);g.push(["2x2 2",
"B3678/S1258"]);g.push(["34 Life","B34/S34"]);g.push(["3-4 Life","B34/S34"]);g.push(["Amoeba","B357/S1358"]);g.push(["Anneal","B4678/S35678"]);g.push(["AntiLife","B0123478/S01234678"]);g.push(["Assimilation","B345/S4567"]);g.push(["Bacteria","B34/S456"]);g.push(["Blinkers","B345/S2"]);g.push(["Bugs","B3567/S15678"]);g.push(["Castles","B3678/S135678"]);g.push(["Cheerios","B35678/S34567"]);g.push(["Christmas Life","B1/S012345678"]);g.push(["Coagulations","B378/S235678"]);g.push(["Conway's Game of Life",
"B3/S23"]);g.push(["Conway's Life","B3/S23"]);g.push(["Coral","B3/S45678"]);g.push(["Corrosion of Conformity","B3/S124"]);g.push(["Dance","B34/S35"]);g.push(["Day & Night","B3678/S34678"]);g.push(["Day and Night","B3678/S34678"]);g.push(["Diamoeba","B35678/S5678"]);g.push(["DotLife","B3/S023"]);g.push(["DrighLife","B367/S23"]);g.push(["DryFlock","B37/S12"]);g.push(["DryLife","B37/S23"]);g.push(["DryLife without Death","B37/S012345678"]);g.push(["EightFlock","B3/S128"]);g.push(["EightLife","B3/S238"]);
g.push(["Electrified Maze","B45/S12345"]);g.push(["Eppstein","B35/S236"]);g.push(["Feux","B1358/S0247"]);g.push(["Flakes","B3/S012345678"]);g.push(["Flock","B3/S12"]);g.push(["Forest of Ls","B168/S236"]);g.push(["Fredkin","B1357/S02468"]);g.push(["Fuzz","B1/S014567"]);g.push(["Gems Minor","B34578/S456"]);g.push(["Gems","B3457/S4568"]);g.push(["Geology","B3578/S24678"]);g.push(["Gnarl","B1/S1"]);g.push(["H-Trees","B1/S012345678"]);g.push(["HighFlock","B36/S12"]);g.push(["HighLife","B36/S23"]);g.push(["HighLife without Death",
"B36/S012345678"]);g.push(["Holstein","B35678/S4678"]);g.push(["HoneyFlock","B38/S128"]);g.push(["HoneyLife","B38/S238"]);g.push(["Iceballs","B25678/S5678"]);g.push(["InverseLife","B012345678/S34678"]);g.push(["Invertamaze","B028/S0124"]);g.push(["IronFlock","B36/S128"]);g.push(["IronLife","B36/S238"]);g.push(["Land Rush","B36/S234578"]);g.push(["Life SkyHigh","B368/S236"]);g.push(["Life without Death","B3/S012345678"]);g.push(["Life","B3/S23"]);g.push(["Live Free or Die","B2/S0"]);g.push(["LifeH",
"B3/S23H"]);g.push(["LifeV","B3/S23V"]);g.push(["Logarithmic replicator rule","B36/S245"]);g.push(["LongLife","B345/S5"]);g.push(["Long Life","B345/S5"]);g.push(["LowDeath without death","B368/S012345678"]);g.push(["LowDeath","B368/S238"]);g.push(["LowFlockDeath","B368/S128"]);g.push(["LowLife","B3/S13"]);g.push(["Majority","B45678/S5678"]);g.push(["Maze","B3/S12345"]);g.push(["Maze with Mice","B37/S12345"]);g.push(["Mazectric","B3/S1234"]);g.push(["Mazectric with Mice","B37/S1234"]);g.push(["Morley",
"B368/S245"]);g.push(["Move","B368/S245"]);g.push(["Neon Blobs","B08/S4"]);g.push(["Never happy","B345/S0456"]);g.push(["Oscillators Rule","B45/S1235"]);g.push(["Pedestrian Flock","B38/S12"]);g.push(["Pedestrian Life","B38/S23"]);g.push(["Pedestrian Life without Death","B38/S012345678"]);g.push(["Persian Rug","B234/S"]);g.push(["Plow World","B378/S012345678"]);g.push(["Pseudo Life","B357/S238"]);g.push(["Pulsar Life","B3/S238"]);g.push(["Replicator","B1357/S1357"]);g.push(["Replicator 2","B1357/S02468"]);
g.push(["Rings 'n' Slugs","B56/S14568"]);g.push(["Seeds","B2/S"]);g.push(["Serviettes","B234/S"]);g.push(["Shoots and Roots","B3/S245678"]);g.push(["Slow Blob","B367/S125678"]);g.push(["Snakeskin","B1/S134567"]);g.push(["Solid islands grow amongst static","B12678/S15678"]);g.push(["SnowLife","B3/S1237"]);g.push(["Stains","B3678/S235678"]);g.push(["Star Trek","B3/S0248"]);g.push(["Virus","B36/S235"]);g.push(["Vote","B5678/S45678"]);g.push(["Vote 4/5","B4678/S35678"]);g.push(["Walled Cities","B45678/S2345"]);
q.push("OT Tri");g.push(["Outer-Totalistic Triangular",""]);g.push(["Life 2333","B3/S23L"]);g.push(["Life 2345","B45/S23L"]);g.push(["Life 2346","B456/S23L"]);g.push(["Life 3445","B45/S34L"]);g.push(["Life 3446","B456/S34L"]);g.push(["Life 4546","B456/S45L"]);g.push(["Life 4644","B4/S456L"]);g.push(["Rule 1246","B456/S12L"]);g.push(["Rule 3544","B4/S345L"]);q.push("OT M G");g.push(["Outer-Totalistic Generations Moore",""]);g.push(["9:43 at Knight","237/34578/4"]);g.push(["Banners","2367/3457/5"]);
g.push(["BelZhab","23/23/8"]);g.push(["BelZhab Sediment","145678/23/8"]);g.push(["Bloomerang","234/34678/24"]);g.push(["Bombers","345/24/25"]);g.push(["Brain 5","/2/5"]);g.push(["Brain 6","6/246/3"]);g.push(["Brian's Brain","/2/3"]);g.push(["Burst","0235678/3468/9"]);g.push(["BurstII","235678/3468/9"]);g.push(["Caterpillars","124567/378/4"]);g.push(["Chenille","05678/24567/6"]);g.push(["Circuit Genesis","2345/1234/8"]);g.push(["Constellations","/23/3"]);g.push(["Cooties","23/2/8"]);g.push(["Diamonds and Spaceships",
"34578/257/16"]);g.push(["Ebb&Flow","012478/36/18"]);g.push(["Ebb&Flow II","012468/37/18"]);g.push(["Faders","2/2/25"]);g.push(["Fireballs","346/2/4"]);g.push(["Fireworks","2/13/21"]);g.push(["Flaming Starbows","347/23/8"]);g.push(["Free Star","0345/2/10"]);g.push(["Frogs","12/34/3"]);g.push(["Frozen spirals","356/23/6"]);g.push(["GeneroLife","2356/3567/4"]);g.push(["Glisserati","035678/245678/7"]);g.push(["Glissergy","035678/245678/5"]);g.push(["Lava","12345/45678/8"]);g.push(["Lines","012345/458/3"]);
g.push(["LivingOn TheEdge","345/3/6"]);g.push(["Meteor Guns","01245678/3/8"]);g.push(["Nova","45678/2478/25"]);g.push(["OrthoGo","3/2/4"]);g.push(["Prairie on fire","345/34/6"]);g.push(["RainZha","2/23/8"]);g.push(["Rake","3467/2678/6"]);g.push(["SediMental","45678/25678/4"]);g.push(["Snake","03467/25/6"]);g.push(["SoftFreeze","13458/38/6"]);g.push(["Spirals","2/234/5"]);g.push(["Star Wars","345/2/4"]);g.push(["Sticks","3456/2/6"]);g.push(["Swirl","23/34/8"]);g.push(["Tadpoles","0125678/345678/64"]);
g.push(["ThrillGrill","1234/34/48"]);g.push(["Transers","345/26/5"]);g.push(["TransersII","0345/26/6"]);g.push(["Transers 2","0345/26/6"]);g.push(["Transers 3","0345/26/7"]);g.push(["Wallplicators","345/25678/7"]);g.push(["Wanderers","345/34678/5"]);g.push(["Worms","3467/25/6"]);g.push(["Xtasy","1456/2356/16"]);q.push("INT Hex");g.push(["Isotropic Non-Totalistic Hex",""]);g.push(["Hex Life","B2o3m56/S2-p4oH"]);g.push(["22da","B2/S2-mH"]);g.push(["Hexrule b2o","B2o/S2m34H"]);q.push("INT M");g.push(["Isotropic Non-Totalistic Moore",
""]);g.push(["15Life","B34r/S23-q4et"]);g.push(["104life","B34ky5cy/S23-a4ity6c7"]);g.push(["22k","B2-k/S2-k"]);g.push(["2diagonal","B2n3/S23"]);g.push(["2xpand2","B3/S123eik4ce"]);g.push(["3x3","B35cky68/S0245-c6n"]);g.push(["38life","B35y/S2-n35k6ci"]);g.push(["4diagonal","B34c/S23"]);g.push(["4life","B34jy/S23"]);g.push(["4life2","B34j/S23"]);g.push(["57life","B34tyz5cy/S23-a4it5ej"]);g.push(["acnelife","B34/S2eik3"]);g.push(["aLife","B3/S234iw"]);g.push(["Arcane Circuitry","B2ci3aikr/S1e2-a3i"]);
g.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);g.push(["Artillery","B3-y7/S2-i3-c4kqt"]);g.push(["Atomic","B2ei3i/S1c2-n3jr4an5i6c"]);g.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);g.push(["B - ibis","B2n34cyz6n8/S2-n3-a4cq68"]);g.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);g.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);g.push(["Beaecsizae","B34ce/S12-a3"]);g.push(["Ben's rule","B2-ak3einqy4e/S1c2ak3inqy4e"]);g.push(["Best Friends","B2ce3aiy/S12aei3r"]);g.push(["Bgunlife",
"B34eny5e/S23-a4iy5e6c"]);g.push(["Billiard","B36-e/S12345"]);g.push(["Blasts","B2e3airy4kt5jr6c8/S02ace3eiknr4-aj5-cei6-a78"]);g.push(["BlinkBlink","B35ky/S234y"]);g.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);g.push(["blockandglider","B3/S234cw7c"]);g.push(["Blockship","B3-cer4ceqwz5acek6in78/S2-in3-eq4eqwyz5eikn678"]);g.push(["BoatLife","B3-knqy/S2-n3-ey4akwy5aik6kn"]);g.push(["boatLife","B3ainqy4aeq5ejn8/S2-in3-aek4aciq5ae6-c7c8"]);g.push(["bpuff","B3/S23-cky4k7e8"]);
g.push(["Breps","B34cqy5c/S23-y4y"]);g.push(["Breps-2","B3aeijn4n8/S234iqz"]);g.push(["Bricks","B2ak5c/S2cn3inqy4aikqtwz5inqy"]);g.push(["Bubbles","B3ai4-a/S23"]);g.push(["Butterfly","B2i34e6i7c/S2-i36n"]);g.push(["butterflyb7","B2i34e6i7/S2-i36n"]);g.push(["Buzz","B2i35-n/S2-ci36k8"]);g.push(["CapLife","B36c/S23"]);g.push(["CarrierLife","B2e3aceik/S23"]);g.push(["Cataverters","B3-cen/S234eijkrw5cry6ik"]);g.push(["cb2","B2ae4i/S1e2in"]);g.push(["cetlife","B34cet/S234jkwyz"]);g.push(["Clouds","B2e3aceij/S23-a4"]);
g.push(["Cloudsdale","B2kn3-ekqr4i5eq6n8/S23-aeny4cikqr5ek6ace7c"]);g.push(["CommonRepl","B3/S23-ac4eiy6"]);g.push(["Conquerors and Colonizers","B2ace3acei4ace5acei6ace/S"]);g.push(["Conway++","B3/S234c"]);g.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);g.push(["Conway+-2","B3/S2-ak34aikqtwz5inqy"]);g.push(["Conway--","B3/S2-ei3"]);g.push(["crawl","B37e/S2-i34y8"]);g.push(["Creperie","B2ikn3aijn/S23-ckqy"]);g.push(["CrossLife","B3/S234et"]);g.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);g.push(["DenseLife",
"B3-q4y/S234z"]);g.push(["Diamoeral","B2n3ai4a78/S35678"]);g.push(["Diamonds","B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);g.push(["DirtyLife","B3-cky5aq6ci7c/S23-ck4n6k7e"]);g.push(["DLife","B3-n/S23"]);g.push(["dolife","B2-ak3acei4ceqz5y/S234ce5ceky78"]);g.push(["dolife2","B2-a3acei4ceqz5y/S234ce5ceky78"]);g.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);g.push(["Dry15Life","B34r7/S23-q4et"]);g.push(["DryGoats","B2in37/S123a"]);g.push(["Dustclouds01","B2ce3-ai/S01"]);g.push(["EasyHighLife",
"B36-i/S23"]);g.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);g.push(["Eatsplosion IV","B2n3-q4aqz6n8/S2-in3-q4iz7c8"]);g.push(["EightGoats","B2in3/S123a8"]);g.push(["Einstein","B2ein3cijn4cnrwy5cnq6e/S1c2-ai3acny4anqy5c6ek8"]);g.push(["ElectrumLife","B367c/S2-i34q"]);g.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);g.push(["Extension","B2cei3-ijnr4-a6i/S12-cn"]);g.push(["fakePiShipLife","B3-ck4e5k6i/S2-in35i6c8"]);g.push(["FalseB5","B35ce/S234jqtyz6k8"]);g.push(["Frespa",
"B34ck5/S23aceik4aci"]);g.push(["FattyLife","B3-n4nt5qr6i/S23"]);g.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);g.push(["FlashLife","B2kn3-n4e/S23"]);g.push(["Flowflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k7e"]);g.push(["Flutter","B2-a3j4-acekn56/S15y"]);g.push(["Flying Life","B3-k5r/S236n7e"]);g.push(["FogLife","B35eq7/S2-i34q"]);g.push(["Forestfire","B3ai4ekq5cy6n/S2-ci3-ace4inr5eqry"]);g.push(["FrogLife","B36i/S1c23-acek5k6i8"]);g.push(["Fruitflies","B2-an4jn7e8/S12-k4r"]);g.push(["Fuzey","B2-ae3aej4ez/S03ac4aikqryz78"]);
g.push(["GemLife","B34c6/S23-q"]);g.push(["Gentle relative","B2cen3ek4jkw5-aein6a7e/S12an3-eijq4enrty5e6k"]);g.push(["GlideLife","B34ek5ak/S2-c34z"]);g.push(["GlideLife2","B34ek5ak/S2-c34iz5y"]);g.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);g.push(["GliderRROLife","B2e3einy4ak5ijq7c/S1c2-ai3-ceky4ejny5ceqr6ak"]);g.push(["glife","B3/S237c"]);g.push(["Glimmering Garden","B3-jknr4ity5ijk6i8/S23-a4city6c7c"]);g.push(["GMO snowflakes","B34c6n/S2-n3-ck4cijqtwy5y6n"]);g.push(["Goat Flock","B2in3/S123a"]);
g.push(["Goats","B2in3/S123a"]);g.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);g.push(["gp","B2ei3-a4ce5y6i/S234i7e"]);g.push(["Growflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k"]);g.push(["guntlife","B35j6a/S2-i34q"]);g.push(["Half as Interesting","B2ce3i/S23"]);g.push(["hassl8life","B34k5e7c/S23-a4iyz"]);g.push(["hatlife","B35y/S23"]);g.push(["Hats and Shuttles","B34iqwy/S23-cq"]);g.push(["hedgehog","B3/S1c2-a35r6i"]);g.push(["HeptaFish","B3-e4i5i/S234e"]);g.push(["High15Life","B34r6/S23-q4et"]);
g.push(["HighGoats","B2in36/S123a"]);g.push(["Hive","B3-ry4ckn/S2-in3-cjn4it5aiky6-a7e8"]);g.push(["hlife","B3/S234ce6k"]);g.push(["hlife2","B3/S2-in34nr"]);g.push(["hlife3","B3/S2-in34iw"]);g.push(["HoneyGoats","B2in38/S123a8"]);g.push(["HouseLife","B2i3/S23-r"]);g.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);g.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);g.push(["ilife","B3/S235i"]);g.push(["Immortalife","B3-cqy4j/S2-n34i"]);g.push(["IneticLife","B2-an3-k/S2ac"]);g.push(["IronGoats",
"B2in36/S123a8"]);g.push(["Ising","B3e4ejr5cinqy6-ei78/S2ei3aejkr4-cny5-e678"]);g.push(["Just Friends","B2-a/S12"]);g.push(["Kgdm","B3/S2-c3-en4ceitz"]);g.push(["KineticLife","B2-an3/S2ac"]);g.push(["klife","B34n/S23"]);g.push(["Knyght","B2e3/S23-jq"]);g.push(["ktlife","B3/S2-i34nq"]);g.push(["LambdaLife","B3-k/S2-i3-k4cen"]);g.push(["Leaplized D&N","B2n3678/S3-q4678"]);g.push(["LifeWithoutGliders","B35n/S23"]);g.push(["Linea","B2-a3-i/S23-a"]);g.push(["LispLife","B2n3/S23-q4e8"]);g.push(["LoafLife",
"B2n3-q/S23"]);g.push(["longlast","B3/S234ce8"]);g.push(["lotsofdots","B2ikn34e/S023-a4ce"]);g.push(["MaritimeLife","B2i34c6cen7c8/S2-i3-q4c5a6e8"]);g.push(["maze2","B3/S234-acew"]);g.push(["Migrating Bookends","B2ein3inry/S12-n3ce"]);g.push(["MilkyLife","B3-c4c5y8/S234qy5y8"]);g.push(["Mooselife","B34kz5e7c/S23-a4ityz5k"]);g.push(["move_rep","B3-r4e5e6-n/S23cr457e"]);g.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);g.push(["MoveIt","B368/S23cy45-j6n"]);g.push(["movetub","B34e68/S245"]);g.push(["movev",
"B35y68/S245"]);g.push(["Movostill","B2i3acijk6i/S23-a4"]);g.push(["Movostill 2","B3acijk/S23-a4"]);g.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);g.push(["MuddyLife","B3/S234k"]);g.push(["Nah","B345-a6/S2-a3-a4-a"]);g.push(["nonlife","B3-n/S234iz"]);g.push(["notlife","B3-q7c/S2-i3-q4q"]);g.push(["notlife (Wright)","B2k3-k/S23-a"]);g.push(["Notlife / Ace","B2-a3/S2ce"]);g.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);g.push(["olife","B2in3/S2-in3"]);g.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);
g.push(["Orthogonable","B2e3aiknr4q/S1c2-in3aijry4a"]);g.push(["Particles","B2ce3i/S1c2cek"]);g.push(["Patchworks","B2-an3aiy/S2-in3cijky4-nqrz5k"]);g.push(["Pedestrian Goats","B2in38/S123a"]);g.push(["Pentadecathlife","B34e5y6cn8/S234c5e"]);g.push(["Photics I","B2ae4c678/S01e4aeqrtw5678"]);g.push(["Photics II","B2ae4cw5y6i/S01e2i4q"]);g.push(["Pi replicator life","B3-r4z5y/S238"]);g.push(["Pi-plicator","B3-ckq/S2-c34ci"]);g.push(["PiLife","B37e/S23"]);g.push(["Pilife2","B34c/S234y8"]);g.push(["plasma1",
"B012-in3-cky4ar5cjnr6ae/S05aijnr6n"]);g.push(["plife","B35j/S2-i3"]);g.push(["plife2","B35j6i/S2-i3"]);g.push(["PondLife","B36i/S2-i35i"]);g.push(["PortLife","B34cz5y/S234y8"]);g.push(["pre-X-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);g.push(["Prismatika Crystallios","B2ae3r/S1e"]);g.push(["PlasmaLife","B34-air/S234-air"]);g.push(["Puffers","B3-nqr6/S235-nqr"]);g.push(["PuffLife","B34-i5-a6-a/S2-an34-akrw"]);g.push(["qlife","B3-q/S23"]);g.push(["quadraticlife","B34j/S23"]);g.push(["Quasilinear Collisions",
"B2-ak3-jnqr/S15678"]);g.push(["Rakelife","B3aij/S2-i3ajnr4arz56-a7e"]);g.push(["Rainflakes","B2-ac3aei4ey5n6n8/S02-n3aceir4ceyz5e6k"]);g.push(["RBeeLife","B34cijkq5k6i8/S2-n3-ik4cjqt5y6cin8"]);g.push(["replife","B34jy6n/S2-i3"]);g.push(["reptlife","B36-k/S2-i34q"]);g.push(["ResistantLife","B34eknqyz/S23"]);g.push(["Ribbons","B3-nqr/S23"]);g.push(["RotoBlocks","B34cyz5y8/S234y5y6n8"]);g.push(["RotoDotPuffers","B2ikn3-ejnr/S01c2cei3ay4c"]);g.push(["RotoHooks","B34ckyz/S234cz"]);g.push(["rgun","B34t/S2-i35a7e"]);
g.push(["Rule X3VI","B2c3aei4ajnr5acn/S2-ci3-ck4in5jkq6c7c"]);g.push(["RustyLife","B34-ai/S24-air5-a"]);g.push(["Salad","B2i34c/S2-i3"]);g.push(["Sanctuary","B2ei3ci/S1c23"]);g.push(["sansdomino","B2-a/S014"]);g.push(["Savanna","B2e3aeiy4ce5i6c7e/S2-n3-a4artz5aeny6cn"]);g.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);g.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);g.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);g.push(["SilverLife","B367/S2-i34q"]);g.push(["SimpleInverseFire","B2-ak4568/S156ak78"]);
g.push(["Simple Life","B2k34c/S2-c34z8"]);g.push(["SLHassleLife","B3-y5cr/S234w6n"]);g.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);g.push(["SolarWorld","B2ce3ci4iyz5ce6c/S12ce3ae"]);g.push(["SmokingLife","B2i34cj6a7c8/S2-i3-a4ceit6in"]);g.push(["Smorgasbord","B2e3aijr4q/S1c23-a5"]);g.push(["snotlife","B2k3-kn/S23"]);g.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);g.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);g.push(["SparkLife","B36i/S234j"]);g.push(["SparklingLife",
"B34cqy/S234q"]);g.push(["SparseMethuseLife","B35y/S1e2-ci3-a5i"]);g.push(["StairWorld","B2-a3i4aijk/S2a3-i4"]);g.push(["Stars","B2e3-ceny4einqwz5-cikr6cei/S1c2e3aijky4aceijrz5-cejk6-ak7c8"]);g.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);g.push(["Switches","B2ei3ij4ajnr6ci/S12ce3ajn4qtz5ijnqy6c"]);g.push(["Symmetristic","B2-ak3-jnqr4ceiqtwz5-jnqr6-ak/S2-ak3-jnqr4ceiqtwz5-jnqr6-ak"]);g.push(["t4life","B34jy/S2-i3"]);g.push(["TableLife","B3/S23-ai4anq6n"]);g.push(["TauLife","B3-nr/S2-i34-aij"]);
g.push(["tceclife","B36ce7c/S2-i34q"]);g.push(["tDryFlock","B37/S12-i4q"]);g.push(["tDryLife","B37/S2-i34q"]);g.push(["TearfulLife","B34e5c6n/S23-q"]);g.push(["tEightLife","B3/S2-i34q8"]);g.push(["testlife","B36a/S23"]);g.push(["tflock","B3/S12-i4q"]);g.push(["tHighFlock","B36/S12-i4q"]);g.push(["tHighLife","B36/S2-i34q"]);g.push(["ThisLife","B36i/S23-ce5q"]);g.push(["tlife","B3/S2-i34q"]);g.push(["tosc","B3/S234wz"]);g.push(["tosc2","B36in/S234cw"]);g.push(["tPedestrianFlock","B38/S12-i4q"]);g.push(["tPedestrianLife",
"B38/S2-i34q"]);g.push(["tq6","B2i34e/S023-a4ce"]);g.push(["Traffic Flow","B2e3aciy4jnw68/S23678"]);g.push(["Train","B34t6k8/S2-i35a7e"]);g.push(["Trilobites","B3aijn4w5nq/S2ae3aijr4irz5y"]);g.push(["triship","B2a3e/S012-ai3-i45-i678"]);g.push(["Trycogene","B2ce3aijn/S2ak3-aijn4jkqty5cekr6ce8"]);g.push(["Turro","B2-a3c/S12-i"]);g.push(["Two-dots rule 1","B2ei3ci4aerw5acky6i8/S012-an3eiknq4qrty5aeik6ik8"]);g.push(["Two-dots rule 2","B2-ak3aen4cenrtw5iq6e/S02ac3aenqy4ejqtwy5ak6acn7"]);g.push(["Twinkles",
"B2in34-a/S1e2ekn34ent"]);g.push(["Virus_v2","B3-nqr6/S235"]);g.push(["Wartlife","B3aijnq6n/S2-cn3-ceky4i"]);g.push(["WetLife","B34r/S23"]);g.push(["Whichlife","B2in3aeijn/S234e"]);g.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);g.push(["wlife","B34w/S23"]);g.push(["Worms 0","B01c2n5a/S3a5i"]);g.push(["Writers","B2-a3-inqr4c6/S23"]);g.push(["WSScentral","B3-n45qr6i/S2eik3"]);g.push(["X-rule-pre","B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);g.push(["xtdbee","B3-k/S23"]);g.push(["xvaLifeg",
"B2e3/S23"]);g.push(["Ylife","B2e3ai4ar/S23-a4a"]);g.push(["ylife (BokaBB)","B34y5y/S234y5y"]);g.push(["zigzag","B3/S2-k34q"]);g.push(["ZombieLife","B3-nqy4aqz5cn6n8/S2-i3-a4inqz7c8"]);q.push("INT M G");g.push(["Isotropic Non-Totalistic Generations Moore",""]);g.push(["HTech","234e/2e3/3"]);g.push(["Jellyfish","2ak34-a5-i/2c36k7/4"]);g.push(["KST","1234-i5anq6kn/3r4kr5eiq6ack7e/3"]);g.push(["Simple Brain","234e/e3/3"]);g.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);g.push(["tGeneC1WC0",
"2-i34q/2c34w5c/4"]);q.push("LtL M");g.push(["Larger than Life Moore",""]);g.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);g.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);g.push(["Bosco Analogue","R5,C2,M1,S34..53,B31..42,NM"]);g.push(["Bugs R3","R3,C2,M1,S14..23,B14..18,NM"]);g.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);g.push(["Bugs R6","R6,C2,M1,S47..81,B47..63,NM"]);g.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);g.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);g.push(["Bugs R9",
"R9,C2,M1,S101..173,B101..134,NM"]);g.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);g.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);g.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);g.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);g.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);g.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);g.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);g.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);
g.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);g.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);g.push(["Mini Bugs","R2,C2,M1,S7..10,B7..8,NM"]);g.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);g.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);g.push(["Quadratic Bugs","R6,C2,M1,S47..81,B47..61,NM"]);g.push(["Rasta Bugs","R5,C2,M1,S41..59,B32..50,NM"]);g.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);g.push(["Stones","R5,C2,M1,S29..58,B38..61,NM"]);g.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);
g.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);g.push(["Waffle","R7,C2,M1,S100..200,B75..170,NM"]);g.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);q.push("LtL M G");g.push(["Generations Larger than Life Moore",""]);g.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);g.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);g.push(["ModernArt","R10,C255,M1,S2..3,B3..3,NM"]);q.push("HROT vN");g.push(["Higher-Range Outer-Totalistic von Neumann",""]);g.push(["Fredkin2 R2","R2,C2,S0,2,4,6,8,10,12,B1,3,5,7,9,11,NN"]);
g.push(["Parity R2","R2,C2,S1,3,5,7,9,11,B1,3,5,7,9,11,NN"]);q.push("HROT M");g.push(["Higher-Range Outer-Totalistic Moore",""]);g.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);g.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);g.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
g.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);g.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);g.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
q.push("MAP NINT");g.push(["MAP Non-Isotropic",""]);g.push(["2CellSlug","MAPBTDe/yAA9/8AAP//AAD//yAA/78AAP//AID//wAA//8AAP//AAD/2wAA//8AgP//AAD//4AA//+AAH//AAD//w"]);g.push(["BLAHTWOCELLGUN","MAPAMB/vwAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);g.push(["FoxLife","MAPARYXfhZofugWaH7oaIFoxBZofuhogOiAaIFoxIAAgAAWaH7oaIFoxGiA6ICAAIAAaIFoxIAAgACAAIAAAAAAAA"]);g.push(["MovingStrings","MAPARH+/wMT//8BEf7/AxP//wER/v8DE///AREAAAMTAAABEf7/AxP//wER/v8DE///AREAAAMTAAABEQAAAxMAAA"]);
g.push(["MuzikThing","MAPACD//wAA3/8AgH//AAD//wCAf/8AAP//AAD//wAA//8AAH//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//w"]);g.push(["MyEntry","MAPIAD/7wgA/f8AAP//AAD//wAA//8AAP//AAD/fwAA//8AAP//AAD//wAA//8AAP//AAD//4AA//8AAP//AAD//w"]);g.push(["OLife","MAPABD/vgIB//8AAP//AAD//wAA/78AAN3/AJB/vwAAf/8AAP//AABd/wAA//8AAP//AAD//4IA//8AAP//AIB//w"]);g.push(["Rhufo","MAPARH//wMA//8AAP9/AAD//wAA//8AAP9/AAD//wAA//8AAP//AAB//wAA//8AAP//AAD//wAA//8AAH9/AAB//w"]);g.push(["Rhufo2","MAPARH//wMA//8AAH9/AAD//wAAX/8AAP9/AAB/7wAA//8AAH//AAB//wAA//8AAP//AAB//wAA/f8AAH8/AAB3/w"]);
g.push(["SemiFelineLife","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaICatGiA6ICAAIAAaICatIAAgACAAIAAAAAAAA"]);g.push(["Simple_Weird_Ships","MAPABHs/wMA//8AAP//AAD//wAA/38AAP//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);g.push(["Socrates","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaIDogGiA6ICAAIAAaIDogIAAg00IAmSocrateg"]);q.push("Weighted");g.push(["Weighted",""]);g.push(["Ben's rule","R1,C2,S3,5,8,B4,6,8,NW323202323"]);g.push(["Border","R1,C2,S10-16,B1-8,NW010101010901010101"]);
g.push(["Bricks","R1,C3,S10,12,14,16,B7,13,NW525202525"]);g.push(["Bustle","R1,C4,S2,4-5,7,B3,NW212101212"]);g.push(["Career","R1,C2,S2-3,B3,NW121101111"]);g.push(["Cloud54","R1,C2,S2-3,9-10,19,27,B3,10,27,NW010109010009010909"]);g.push(["Cloud75","R1,C2,S2-4,10-11,13,18,21-22,27,29-31,36-40,B3,10,27,NW010109010009010909"]);g.push(["Conway","R1,C2,S2-3,6-7,10-11,15,B3,7,11,15,NW515101515"]);g.push(["Conway--","R1,C2,S3,6-7,10-11,15,B3,7,11,15,NW515101515"]);g.push(["Conway++","R1,C2,S2-3,6-7,10-11,15,20,B3,7,11,15,NW515101515"]);
g.push(["Conway+-1","R1,C2,S2-3,6-7,10,12,15,B3,7,11,15,NW515101515"]);g.push(["Conway+-2","R1,C2,S2-3,7,10-13,15,B3,7,11,15,NW515101515"]);g.push(["CrossPorpoises","R1,C2,S2-3,6-10,12-13,B5,NW141404140"]);g.push(["Cyclish","R1,C7,S2,B1-3,NW010101010"]);g.push(["Cyclones","R1,C5,S2,4-5,B2-5,NW110101011"]);g.push(["Dragon","R1,C2,S1-2,7-8,12,15,18,20,B7,11-13,20,NW515101515"]);g.push(["Emergence","R1,C2,S2-4,10-11,16-17,24-25,B3-4,9,24,NW010801010001080801"]);g.push(["Fire-flies","R1,C9,S1,10,B6,11-12,21,NW010501050a05010501"]);
g.push(["Fleas","R1,C2,S2-3,6-7,10-11,15,20,B2,11,NW515101515"]);g.push(["Fleas2","R1,C2,S1-2,5,7,10-11,B2,4,8,11,NW515101515"]);g.push(["NoFleas2","R1,C2,S2-3,5-7,10-11,B2,4,8,11,NW515101515"]);g.push(["FroggyHex","R1,C2,S1,6,8,B5-6,NW410104041H"]);g.push(["Frost M","R1,C25,S,B1,NW111101111"]);g.push(["Frost N","R1,C25,S,B1,NW010101010"]);g.push(["Gnats","R1,C2,S0-2,11,19,B11,19,NW090109010001090109"]);g.push(["HexParity","R1,C2,S0,2,4,6,B1,3,5,NW110101011H"]);g.push(["Hextenders","R1,C10,S1,3-5,B2-3,NW110101011H"]);
g.push(["Hex Inverse Fire","R1,C2,S2-3,6-9,11-15,B5,10-11,14-15,NW410104041H"]);g.push(["HGlass","R1,C2,S1-3,11,21,25,29-31,B1-3,11,21,25,29-31,NW000200080110000400"]);g.push(["Hogs","R1,C2,S2-4,6,B5-6,NW023302230H"]);g.push(["Jitters","R1,C2,S4,14,B1,4,9,NW995505599"]);g.push(["Lemmings","R1,C2,S3-6,B4,NW121202131"]);g.push(["Linguini","R1,C2,S2-4,9-11,19-20,B11,18,NW090109010001090109"]);g.push(["Madness","R1,C2,S8,10,12,14,B5,8,13,NW232303232"]);g.push(["MazeMakers","R1,C2,S2-3,6-10,12-13,B5,NW441404141"]);
g.push(["MidgeDN","R1,C9,S0,2-3,B4-6,NW222101212"]);g.push(["Midges","R1,C4,S3,5-6,B4-6,NW121232121"]);g.push(["MikesAnts","R1,C2,S4-5,B2,5-6,NW011100111"]);g.push(["Mosquito","R1,C2,S3-4,8-9,B2-3,9,NW995505599"]);g.push(["Mosquito2","R1,C2,S3-4,8-9,B3,6,9,18,NW995505599"]);g.push(["Navaho1","R1,C12,S8-9,11,B2,5,NW414575414"]);g.push(["Nocturne","R1,C4,S1,6,B2-4,NW110101011"]);g.push(["Parity","R1,C2,S1,3,5,B1,3,5,NW010111010"]);g.push(["Pictures","R1,C2,S1-3,B2-4,NW010101010"]);g.push(["PicturesH",
"R1,C9,S1-3,B2-4,NW010101010"]);g.push(["Pinwheels","R1,C7,S2,B2-3,NW110101011"]);g.push(["PipeFleas","R1,C3,S3-4,7,11-15,17-18,20,22-23,B6,10,NW515101515"]);g.push(["PreHogs","R1,C2,S3-4,6,B5-6,NW230302023"]);g.push(["PuttPutt","R1,C2,S1-4,9,18,27,36,40,B2,4,11,18-19,36,40,NW090109010001090109"]);g.push(["SEmigration","R1,C2,S2-3,6-7,10-12,B7,11-12,16,NW515100505"]);g.push(["Simple","R1,C2,S1,5,B2,10,NW515101515"]);g.push(["Simple Inverse","R1,C2,S1,4-5,8-9,12-13,16-24,B2,9-10,13-14,17-18,21-22,24,NW515101515"]);
g.push(["Simple Inverse Fire","R1,C2,S1,5,9,13,17-19,21,23-24,B2,4,8-10,12-14,16-18,20-22,24,NW515101515"]);g.push(["Stampede","R1,C8,S4,6,9-10,B4,7,NW130303130"]);g.push(["Starburst","R1,C2,S2,4,6,B4,NW121202121"]);g.push(["Starbursts2","R1,C2,S2,4-6,B4,NW121202121"]);g.push(["Stream","R1,C2,S1,3-4,7-11,B5,7-8,10-11,NW010104041"]);g.push(["UpDown1","R1,C2,S2,4-6,9,12,16,20,B3,6,9,12,NW111404444"]);g.push(["UpDown2","R1,C2,S2-3,7,10-12,15,B3,7,11,15,NW151101555"]);g.push(["Upstream","R1,C10,S4,6,9-10,B4,7,NW130404130"]);
g.push(["Vineyard","R1,C2,S2,6,8-10,12-13,B5,NW141404040"]);g.push(["Vineyard2","R1,C2,S2,8-10,12-13,B5,NW141404040"]);g.push(["Weevils","R1,C2,S1-4,B5-6,14,NW331101133"]);g.push(["Weighted Brain","R1,C3,S3-4,7,B4-5,8,NW3323d3232"]);g.push(["Y_Chromosome","R1,C3,S2,B2,NW110101011"]);q.push("Weighted G");g.push(["Weighted Generations",""]);g.push(["WG Rule004","R1,C4,S6-11,B4,NW111101111,0201"]);g.push(["WG Rule012","R1,C6,S4-5,B5,NW111101111,021111"]);g.push(["WG Rule020","R1,C6,S5-8,B5,NW111101111,020301"]);
g.push(["WG Rule031","R1,C4,S5-7,B4,NW111101111,0210"]);g.push(["WG Rule038","R1,C5,S8,B6,9,NW111101111,03210"]);g.push(["WG Rule050","R1,C8,S4-8,B6,NW111101111,02120300"]);g.push(["WG Rule063","R1,C5,S6-7,9-11,B7,10,NW212101212,03101"]);g.push(["WG Rule071","R1,C6,S8-16,B6,NW111101111,031012"]);g.push(["WG Rule072","R1,C6,S8-16,B6,NW111101111,030112"]);g.push(["WG Rule074","R1,C5,S4-8,B3,NW111101111,02001"]);g.push(["WG Rule084","R1,C7,S5-6,B5,NW212101212,0121001"]);q.push("Alt OT M");g.push(["Alternating Outer-Totalistic Moore",
""]);g.push(["alternlife","B13/S012345678|B/S15"]);g.push(["comb395","B3/S1237|B2/S"]);g.push(["comb625","B3/S348|B2/S356"]);g.push(["Dotlesslife","B3/S23|B/S12345678"]);g.push(["Fizzler","B13/S3|B/S345678"]);g.push(["Jelly","B3/S135|B2/S5"]);g.push(["Phoenix","B24/S|B35/S"]);q.push("Alt INT M");g.push(["Alternating Non-Totalistic Moore",""]);g.push(["SparklessLife","B3/S23|B/S1c2345678"]);g.push(["Unidim1","B134578/S02345678|B6i7/S268"]);g.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);g.push(["Unidim3",
"B12ci34578/S02345678|B6i7/S268"]);this.Oc[0][2]=!1;this.Oc[0][3]=!1;for(w=1;w<this.Oc.length;w+=1)for(g=this.Oc[w][1],q=this.Oc[w][0],this.Oc[w][2]=!1,this.Oc[w][3]=!1,h=0;h<w;h+=1)this.Oc[h][0]===q&&(this.Oc[h][3]=!0,this.Oc[w][3]=!0),this.Oc[h][1]===g&&(this.Oc[h][2]=!0,this.Oc[w][2]=!0)},aB:function(w){var h=null,g=0;for(w=w.replace(/&amp;/g,"&");g<this.Oc.length&&null===h;)""!==this.Oc[g][1]&&this.Oc[g][0]===w&&(h=this.Oc[g][1]),g+=1;if(!h)for(w=w.toLowerCase(),g=0;g<this.Oc.length&&null===h;)""!==
this.Oc[g][1]&&this.Oc[g][0].toLowerCase()===w&&(h=this.Oc[g][1]),g+=1;return h},vs:function(w){for(var h=null,g=0;g<this.Oc.length&&null===h;)""!==this.Oc[g][1]&&this.Oc[g][1]===w&&(h=this.Oc[g][0]),g+=1;"Conway's Life"===h&&(h="Life");return h}}}(),function(){function w(d,e,l,k,p){this.j=p;this.Ka=d;this.Ya=e;this.Gb=l;this.message="";this.ea=d;this.na=e;this.pb=l;this.el="";this.Y=this.G=!1;this.context=k;this.ab=!1;this.Ca=this.startTime=0;this.Ag="rgb(32,255,255)";this.px="white";this.C=0;this.animate=
!1;this.$b=this.rc="black";this.enabled=!1;this.scale=1}function h(d,e,l,k){this.name=d;this.width=e;this.height=l;this.Vq=k}function g(d,e){this.context=e;this.ea=d;this.height=this.width=0;this.Ca=this.na=this.G=this.C=null;this.Y=[];this.op=!0;this.Cx=this.LD=4294967295;this.BH=this.kE=0;this.Ye=!1;this.scale=1}function q(d,e,l,k,p,r,t,v,x,A,y,D,b,m,f,u,z,B,C,E){this.id=d;this.G=E;this.F="";this.fn=-1;this.l=this.hw=!1;this.Xb=e;this.caller=l;this.icon=C;this.x=p;this.y=r;this.Ex=p;this.C=r;this.position=
k;this.width=t;this.height=v;this.Dx=t;this.Fy=v;this.border=m;this.type=D;b===c.Sz?this.orientation=t>=v?c.Xe:c.vertical:this.orientation=b;this.Ir=this.orientation;this.lower=x;this.upper=A;D===c.np?this.current=[y,y]:this.current=y;this.uF=f;this.eb=u;this.uD=z;this.fixed=B;this.yw=!1;this.MB=this.LB=-1;this.textAlign=c.hG;this.enabled=!0;this.vn=this.locked=!1;this.jg=[];if(this.type===c.list)for(d=0;d<x.length;d+=1)this.jg[d]=!1;this.mu=[];this.Ww=0;this.qN=!1;this.Qd=E.Qd;this.Be=E.Be;if(D===
c.list)for(this.uo=[],d=0;d<x.length;d+=1)this.uo[d]=this.Qd;this.je=E.je;this.gh=E.gh;this.gj=E.gj;this.Nl=E.Nl;this.rk=E.rk;this.vp=E.vp;this.zf=E.zf;this.ak=E.ak;this.ji=E.ji;this.Nk=E.Nk;this.border=E.border;this.fontSize=parseInt(E.Al.substr(0,E.Al.indexOf("px")),10);this.fontFamily=E.Al.substr(E.Al.indexOf("px")+3)}function n(d,e,l,k,p,r){this.A=d;this.context=p;this.Uh=this.$d=1;this.Al=r;this.locked=this.l=!1;this.lh=this.Pf=-1;this.xo=this.Vc=!1;this.na=this.ea=-1;this.Ka=6;this.Xb=e;this.Ge=
[];this.Xc=0;this.Qd="";this.Be=0;this.je="";this.gh=0;this.gj="";this.Nl=0;this.rk="";this.vp=0;this.zf="";this.ak=0;this.ji="";this.border=this.Nk=0;this.G=c.Sz;this.qn=this.ul=-1;this.Go=this.HF=null;this.Pu=l;this.caller=k;this.W=null;this.oA=this.tv=this.Y="auto"}function a(d,e,l,k,p,r){var t=this,v=0;this.Wf=1;this.Ma=60;this.pB=this.vD=!0;this.ab=this.pb=40;this.cQ=50;this.xk=0;this.ea=this.na=this.Ka=-1;this.lp=!1;this.caller=p;this.wk=this.Bb=this.Yl=this.Wc=!1;this.gf=4;this.rH=r;this.hasFocus=
this.gs=!1;this.$r=!0;this.ty=!1;this.io=1;this.Gv=8;this.Ya="rgb(32,255,255)";this.Qd="black";this.Be=.7;this.je="white";this.gh=1;this.jH=this.kH=this.lH=0;this.gj="rgb(0,240,32)";this.Nl=.7;this.rk="blue";this.vp=.7;this.zf="grey";this.ak=1;this.ji="rgb(32,255,255)";this.border=this.Nk=1;this.gG=function(x){return function(){x.Fc(x)}}(this);this.W=k;this.Tc=d;this.vc=e;this.Vc=!1;this.gk=this.fk=-1;this.Pj=!1;this.oi=-1;this.Qc=null;this.Al=l;this.Ln=this.ol=!1;this.zw=performance.now();this.hp=
5;this.lu=0;this.JB=[];this.PB=[];this.Vo=[];for(v=0;5>v;v+=1)this.JB[v]=0,this.PB[v]=0,this.Vo[v]=0;this.et=null;this.vg=!1;this.notification=new w(25,100,25,e,this);this.notification.Ag=this.je;this.notification.px=this.je;this.KB=performance.now();this.xo=this.sF=!1;this.Y=[];this.C=this.G=0;registerEvent(d,"mousedown",function(x){t.Qb(t,x)},!1);registerEvent(d,"mousemove",function(x){t.$b(t,x)},!1);registerEvent(d,"mouseup",function(x){t.wc(t,x)},!1);registerEvent(d,"mouseover",function(x){t.rc(t,
x)},!1);registerEvent(d,"mouseout",function(x){t.ic(t,x)},!1);registerEvent(d,"touchstart",function(x){t.Ca(t,x)},!1);registerEvent(d,"touchmove",function(x){t.Ca(t,x)},!1);registerEvent(d,"touchend",function(x){t.Ca(t,x)},!1);registerEvent(d,"touchcancel",function(x){t.Ca(t,x)},!1);this.Gb()}w.prototype.Fo=function(){var d=!1;if(""!==this.message||""!==this.el)d=!0;return d};w.prototype.clear=function(d,e){d?""!==this.el&&(e||this.Y?(this.el="",this.Y=!1):(this.Ca=performance.now()-(this.ea+this.na),
this.Y=!0)):""!==this.message&&(e||this.G?(this.G=!1,this.message=""):(this.startTime=performance.now()-(this.Ka+this.Ya),this.G=!0))};w.prototype.notify=function(d,e,l,k,p){this.enabled&&(p?this.el!==d&&(this.el=d,this.ea=16*e,this.na=16*l,this.pb=16*k,this.Ca=performance.now(),this.Y=!1,this.C=0,this.animate=!1):(this.message=d,this.Ka=16*e,this.Ya=16*l,this.Gb=16*k,this.startTime=performance.now(),this.G=!1))};w.prototype.ic=function(){var d=128>this.C?this.C/128:(255-this.C)/128;this.context.fillStyle=
"rgb("+(this.j.lH*d+this.j.xP*(1-d))+","+(this.j.kH*d+this.j.wP*(1-d))+","+(this.j.jH*d+this.j.vP*(1-d))+")"};w.prototype.ip=function(d,e,l){var k=this.context.measureText(d).width>>1;if(this.ab){this.context.fillStyle=this.$b;var p=this.context.globalAlpha;this.context.globalAlpha=.5*p;this.context.fillRect(-k-20,-l,2*k+40,2*l);this.context.globalAlpha=p}this.context.fillStyle=this.rc;this.context.fillText(d,-k+2,2);e?this.animate?(this.ic(),this.C=this.C+4&255):this.context.fillStyle=this.px:this.context.fillStyle=
this.Ag;this.context.fillText(d,-k,0)};w.prototype.Qb=function(d,e,l,k,p,r,t){var v=30*this.scale,x=32*this.scale,A=this.j.gf,y=60*this.scale,D=!0;this.j.Wc?(y=0,r=this.context.canvas.height/2,this.ab=!0):this.ab=!1;""!==d&&(D=!1,p=performance.now()-p,this.context.save(),this.j.Bb&&(t?(y=0,r=this.context.canvas.height/2):(v/=A,x=x/A|0,r=r/A|0,y=y/A|0)),this.context.font=(v|0)+"px Arial",this.context.translate(this.context.canvas.width/2-1,y+r),p<=e?(r=p/e,r*=r,this.context.globalAlpha=r,this.context.scale(r,
r)):p>e+l&&p<=e+l+k&&(r=(k-(p-(e+l)))/k,r*=r,this.context.globalAlpha=r,this.context.scale(r,r)),p>e+l+k?D=!0:(e=d.indexOf("\\n"),-1===e?this.ip(d,t,x):(this.ip(d.substr(0,e),t,x),this.context.translate(0,x),this.ip(d.substr(e+2),t,x))),this.context.restore());return D};w.prototype.update=function(){var d=this.j.Qc.Uh;this.Qb(this.message,this.Ka,this.Ya,this.Gb,this.startTime,81*d,!1)&&(this.message="");this.j.Bb&&"Expand"!==this.el&&"Launch"!==this.el||!this.Qb(this.el,this.ea,this.na,this.pb,this.Ca,
45*d,!0)||(this.el="")};g.prototype.setScale=function(d){this.scale=d};g.prototype.ip=function(d,e,l,k){var p,r,t=this.Y.length,v,x;if(0<this.ea.width){this.Ye||(this.width=this.ea.width,this.height=this.ea.height,this.C=document.createElement("canvas"),this.C.width=this.width,this.C.height=this.height,this.G=this.C.getContext("2d"),this.na=new Image,this.Ca=new Image);if(this.op){this.G.clearRect(0,0,this.C.width,this.C.height);this.G.drawImage(this.ea,0,0);var A=this.G.getImageData(0,0,this.C.width,
this.C.height);var y=new Uint32Array(A.data.buffer);for(p=r=0;p<t;p+=1){for(x=38;1<x;--x){var D=r+x*this.width;var b=D-2-this.width-this.width;for(v=38;1<v;--v)0===y[D+v]&&4294967295===y[b+v]&&(y[D+v]=this.kE)}r+=40}for(p=0;p<y.length;p+=1)4294967295===y[p]&&(y[p]=this.BH);this.G.putImageData(A,0,0);this.Ca.src=this.C.toDataURL("image/png");this.G.clearRect(0,0,this.C.width,this.C.height);this.G.drawImage(this.ea,0,0);A=this.G.getImageData(0,0,this.C.width,this.C.height);y=new Uint32Array(A.data.buffer);
for(p=r=0;p<t;p+=1){for(x=38;1<x;--x)for(D=r+x*this.width,b=D-2-this.width-this.width,v=38;1<v;--v)0===y[D+v]&&4294967295===y[b+v]&&(y[D+v]=this.kE);r+=40}for(p=0;p<y.length;p+=1)4294967295===y[p]?y[p]=this.LD:4285558896===y[p]&&(y[p]=this.Cx);this.G.putImageData(A,0,0);this.Ye=this.op=!1}this.Ye||(this.na.src=this.C.toDataURL("image/png"),this.Ye=!0);1!==this.scale&&(this.context.save(),this.context.translate(e,l),this.context.scale(this.scale,this.scale),this.context.imageSmoothingEnabled=!0,l=
e=0);k?this.context.drawImage(this.Ca,d.Vq*d.width,0,d.width,d.height,e,l,d.width,d.height):this.context.drawImage(this.na,d.Vq*d.width,0,d.width,d.height,e,l,d.width,d.height);1!==this.scale&&(this.context.restore(),this.context.imageSmoothingEnabled=!1)}};g.prototype.length=function(){return this.Y.length};g.prototype.icon=function(d){var e,l=this.Y,k=this.length(),p=null;for(e=0;e<k&&!p;)l[e].name===d?p=l[e]:e+=1;return p};g.prototype.add=function(d,e,l){var k=this.Y.length;d=new h(d,e,l,k);this.Y[k]=
d};var c={Sz:0,Xe:1,vertical:2,np:0,button:1,toggle:2,Ng:3,list:4,label:5,qm:0,cb:1,left:0,hG:1,right:2,ua:0,uc:1,Nv:2,jb:3,yp:4,Ci:5,LF:6,jd:7,Ia:8};q.prototype.Cg=function(d){!this.l&&d&&(this.l=!0)};q.prototype.hb=function(d){this.fontSize=parseInt(d.substr(0,d.indexOf("px")),10);this.fontFamily=d.substr(d.indexOf("px")+3)};q.prototype.Xt=function(d,e,l,k,p,r){this.je=d;this.Qd=e;this.gj=l;this.rk=k;this.zf=p;this.ji=r;if(this.type===c.list)for(this.uo=[],d=0;d<this.lower.length;d+=1)this.uo[d]=
this.Qd};q.prototype.Kh=function(d){this.Dx=d};q.prototype.BP=function(d){this.Fy=d};q.prototype.Qy=function(d){this.C=d};q.prototype.setPosition=function(d,e,l){this.position=d;this.Ex=e;this.C=l};q.prototype.dL=function(d,e){var l=this.G.$d,k=this.G.Uh,p=this.Ex*l,r=this.C*k;l=this.Dx*l;k=this.Fy*k;this.x=p;this.y=r;this.width=l;this.height=k;switch(this.position){case c.ua:this.x=(d-l>>1)+p;break;case c.uc:this.x=d+p;break;case c.Nv:this.y=(e-k>>1)+r;this.x=d+p;break;case c.jb:this.x=d+p;this.y=
e+r;break;case c.yp:this.x=(d-l>>1)+p;this.y=e+r;break;case c.Ci:this.y=e+r;break;case c.LF:this.y=(e-k>>1)+r;break;case c.Ia:this.x=(d-l>>1)+p,this.y=(e-k>>1)+r}};q.prototype.TF=function(d,e){var l=this.Ww;this.mu[l]=[d,e];this.Ww=l+1};q.prototype.Qu=function(d){var e=[],l;var k=d.length;for(l=0;l<k;l+=1)d[l].TF(this,!0);k=e.length;for(l=0;l<k;l+=1)e[l].TF(this,!1)};q.prototype.TN=function(d,e){var l=!1;this.enabled&&d>=this.x&&d<this.x+this.width&&e>=this.y&&e<this.y+this.height&&(l=!0);return l};
n.prototype.aP=function(d){this.Uh=this.$d=d;this.A.notification.scale=d};n.prototype.Xt=function(d,e,l,k,p,r){var t;this.je=d;this.Qd=e;this.gj=l;this.rk=k;this.zf=p;this.ji=r;for(t=0;t<this.Ge.length;t+=1)this.Ge[t].Xt(d,e,l,k,p,r)};n.prototype.Ca=function(d,e){var l=!1,k=d.Ww;d.type===c.list&&d.upper===c.cb?l=d.current[0]:l=d.current===d.upper;d.qN&&(l=!l);if(l&&e)for(e=0;e<k;e+=1)l=l&&this.Ca(d.mu[e][0],d.mu[e][1]);return l};n.prototype.HJ=function(d){var e,l=d.Ww;var k=!0;for(e=0;e<l;e+=1)k=
k&&this.Ca(d.mu[e][0],d.mu[e][1]);d.enabled=k};n.prototype.Ye=function(){var d;for(d=0;d<this.Xc;d+=1){var e=this.Ge[d];e.enabled=!0;switch(e.type){case c.toggle:e.Xb&&(e.current=e.Xb(e.current===e.upper,!1,this.caller)?e.upper:e.lower);break;case c.np:e.Xb&&(e.current=e.Xb(e.current,!1,this.caller));break;case c.list:e.Xb&&(e.current=e.Xb(e.current,!1,this.caller))}this.HJ(e)}};n.prototype.qb=function(d,e,l,k,p,r,t,v,x){this.Ge[this.Xc]=new q(this.Xc,d,this.caller,e,l,k,p,r,t,x,v,c.list,this.G,this.border,
!0,"","",-1,[],this);this.Xc+=1;return this.Ge[this.Xc-1]};n.prototype.Gk=function(d,e,l,k,p,r,t,v,x,A,y,D){this.Ge[this.Xc]=new q(this.Xc,d,this.caller,e,l,k,p,r,t,v,x,c.np,this.G,this.border,!0,A,y,D,null,this);this.Xc+=1;return this.Ge[this.Xc-1]};n.prototype.Ja=function(d,e,l,k,p,r){this.Ge[this.Xc]=new q(this.Xc,null,null,d,e,l,k,p,0,0,0,c.label,this.G,this.border,!0,r,"",-1,null,this);this.Xc+=1;return this.Ge[this.Xc-1]};n.prototype.la=function(d,e,l,k,p,r){this.Ge[this.Xc]=new q(this.Xc,d,
this.caller,e,l,k,p,40,0,0,0,c.button,this.G,this.border,!0,r,"",-1,null,this);this.Xc+=1;return this.Ge[this.Xc-1]};n.prototype.HK=function(){this.Ge[this.Xc]=new q(this.Xc,null,null,Menu.Ci,0,-40,100,40,0,100,0,c.Ng,this.G,this.border,!1,"","",0,null,this);this.Xc+=1;return this.Ge[this.Xc-1]};n.prototype.C=function(d,e,l){var k="";d+=String();if(""!==d){this.context.save();this.context.translate(e.x+e.width/2,e.y+e.height/2);this.context.font=(e.fontSize*this.$d|0)+"px "+e.fontFamily;e.Ir===c.vertical&&
this.context.rotate(.5*Math.PI);var p=this.context.measureText(d).width;var r=e.Ir===c.vertical?e.height:e.width;if(p>=r-6){var t=d.length;var v=0;if(t){do k=d.substr(0,v)+"\u2026",p=this.context.measureText(k).width,v+=1;while(v<t&&p<=r-10);k=d.substr(0,v-1)+"\u2026"}d=k}switch(e.textAlign){case c.left:var x=e.width/2-2;break;case c.hG:x=p/2;break;case c.right:x=p/2-(e.width-p)/2+4}this.context.fillStyle=e.Qd;l&&this.context.fillRect(2-x,2,p,2);this.context.fillText(d,2-x+.5,2.5);this.context.fillStyle=
!e.locked&&!this.locked||e.vn?e.je:e.zf;this.context.fillText(d,-x+.5,.5);l&&this.context.fillRect(-x,0,p,2);this.context.restore()}};n.prototype.pb=function(d){this.context.globalAlpha=this.gh;this.C(d.eb,d,!1)};n.prototype.Ya=function(d){this.context.globalAlpha=this.gh;this.C(d.eb,d,!1)};n.prototype.Qb=function(d){var e=(d.current-d.lower)/(d.upper-d.lower);this.context.globalAlpha=d.Be;this.context.fillStyle=d.je;d.orientation===c.Xe?(e*=d.width-3,this.context.fillRect(d.x+(e+1|0),d.y,1,d.height)):
(e*=d.height-3,this.context.fillRect(d.x,d.y+(e+1|0),d.width,1));e=d.eb;d.uF&&(e=-1!==d.fixed?e+d.current.toFixed(d.fixed):e+d.current,e+=d.uD);""!==e&&(this.context.globalAlpha=d.gh,this.C(e,d,!1))};n.prototype.$b=function(d,e){var l=(d.current[0]-d.lower)/(d.upper-d.lower);var k=this.Ka;d.orientation===c.Xe?(l*=d.width-3,l=l+1|0,e&&(this.context.fillStyle=d.gj,this.context.globalAlpha=d.Nl,this.context.fillRect(d.x+l-k,d.y,k,d.height),this.context.fillRect(d.x+l+1,d.y,k,d.height)),!d.locked&&!this.locked||
d.vn?(this.context.fillStyle=d.je,this.context.globalAlpha=d.gh):(this.context.fillStyle=d.zf,this.context.globalAlpha=d.ak),this.context.fillRect(d.x+l,d.y,1,d.height)):(l*=d.height-3,l=l+1|0,e&&(this.context.fillStyle=d.gj,this.context.globalAlpha=d.Nl,this.context.fillRect(d.x,d.y+l-k,d.width,k),this.context.fillRect(d.x,d.y+l+1,d.width,k)),!d.locked&&!this.locked||d.vn?(this.context.fillStyle=d.je,this.context.globalAlpha=d.gh):(this.context.fillStyle=d.zf,this.context.globalAlpha=d.ak),this.context.fillRect(d.x,
d.y+l,d.width,1));e=d.eb;d.uF&&(e=0<=d.fixed?e+d.current[1].toFixed(d.fixed):e+d.current[1]);e+=d.uD;""!==e&&(this.context.globalAlpha=this.gh,this.C(e,d,!1))};n.prototype.ic=function(d){this.context.globalAlpha=this.gh;var e="-"===d.lower&&""===d.upper&&d.current===d.lower;var l=d.eb;d.uF&&!e&&(l+=d.current);l+=d.uD;this.C(l,d,e)};n.prototype.Gb=function(d,e){var l=d.x;var k=d.y;var p=d.width;var r=d.height;var t=d.orientation;var v=d.current;var x=d.lower;var A=x.length;var y=d.orientation===c.Xe?
p/A:r/A;this.context.globalAlpha=d.vp;this.context.fillStyle=d.rk;if(d.upper===c.qm){var D=d.current;0<=D&&D<A&&(d.orientation===c.Xe?this.context.fillRect(l+D*y+1,k+1,y-2,r-2):this.context.fillRect(l+1,k+1+D*y,p-2,y-2))}else if(d.orientation===c.Xe){for(D=0;D<A;D+=1)v[D]&&this.context.fillRect(l+D*y+1,k+1,y-2,r-2);1===A&&(!d.locked&&!this.locked||d.vn?(this.context.strokeStyle=d.ji,this.context.globalAlpha=d.Nk):(this.context.strokeStyle=d.zf,this.context.globalAlpha=d.ak),this.context.beginPath(),
v[0]?(this.context.moveTo(l+y-6+.5,k+5+.5),this.context.lineTo(l+y-2+.5,k+1+.5),this.context.moveTo(l+y-2+.5,k+5+.5),this.context.lineTo(l+y-6+.5,k+1+.5)):(this.context.moveTo(l+y-4+.5,k+5+.5),this.context.lineTo(l+y-4+.5,k+1+.5),this.context.moveTo(l+y-6+.5,k+3+.5),this.context.lineTo(l+y-2+.5,k+3+.5)),this.context.stroke())}else for(D=0;D<A;D+=1)v[D]&&this.context.fillRect(l+1,k+1+D*y,p-2,y-2);d.hw=!1;e?(this.context.globalAlpha=d.Nl,this.context.fillStyle=d.gj,d.orientation===c.Xe?(D=(this.Pf-
l)/p*A|0,0<=D&&D<A&&(d.jg[D]?d.hw=!0:this.context.fillRect(l+D*y+.5,k+.5,y-1,r-1))):(D=(this.lh-k)/r*A|0,0<=D&&D<A&&(d.jg[D]?d.hw=!0:this.context.fillRect(l+.5,k+.5+D*y,p-1,y-1))),d.fn=D):d.fn=-1;this.context.globalAlpha=this.gh;if(d.orientation===c.Xe)for(D=0;D<A;D+=1)d.icon[D]&&this.W.ip(d.icon[D],d.x+y*D,d.y,this.locked||d.locked||d.jg[D]);else for(D=0;D<A;D+=1)d.icon[D]&&this.W.ip(d.icon[D],d.x,d.y+y*D,this.locked||d.locked||d.jg[D]);this.context.globalAlpha=d.gh;this.context.fillStyle=d.je;if(t===
c.Xe)for(D=0;D<A;D+=1)l=x[D],""!==l&&(this.context.save(),this.context.translate((.5+(D-A/2))*y,0),this.C(l,d,!1),this.context.restore());else for(D=0;D<A;D+=1)l=x[D],""!==l&&(this.context.save(),this.context.translate(0,(.5+(D-A/2))*y),this.C(l,d,!1),this.context.restore())};n.prototype.ab=function(d,e,l,k,p){var r=!0;e&&!this.Vc&&p&&(r=!1);r&&(l===k||-1===k&&e)&&(d.type===c.button||d.type===c.toggle)?(this.context.fillStyle=d.gj,this.context.globalAlpha=d.Nl):(this.context.fillStyle=d.Qd,this.context.globalAlpha=
d.Be);switch(d.type){case c.Ng:p=(d.current-d.lower)/(d.upper-d.lower);this.context.fillStyle=d.rk;this.context.globalAlpha=d.vp;d.orientation===c.Xe?(p*=d.width-3,p=p+1|0,this.context.fillRect(d.x,d.y,p,d.height),this.context.fillStyle=d.Qd,this.context.globalAlpha=d.Be,this.context.fillRect(d.x+p,d.y,d.width-p,d.height)):(p*=d.height-3,p=p+1|0,this.context.fillRect(d.x,d.y,d.width,p),this.context.fillStyle=d.Qd,this.context.fillRect(d.x,d.y+p,d.width,d.height-p));break;case c.np:p=(d.current[0]-
d.lower)/(d.upper-d.lower);if(r&&(l===k||-1===k&&e)){var t=this.Ka;if(d.orientation===c.Xe){p*=d.width-3;p=p+1|0;var v=p-t;0<v&&this.context.fillRect(d.x,d.y,v,d.height);v=1+p+t;v<d.width&&this.context.fillRect(d.x+v,d.y,d.width-v,d.height)}else p*=d.height-3,p=p+1|0,v=p-t,0<v&&this.context.fillRect(d.x,d.y,d.width,v),v=1+p+t,v<d.height&&this.context.fillRect(d.x,d.y+v,d.width,d.height-v)}else this.context.fillRect(d.x,d.y,d.width,d.height);break;case c.list:t=d.lower.length;if(d.orientation===c.Xe)for(v=
d.width/t,p=0;p<t;p+=1)this.context.fillStyle=d.uo[p],this.context.fillRect(d.x+p*v+1,d.y+1,v-2,d.height-2);else for(v=d.height/t,p=0;p<t;p+=1)this.context.fillStyle=d.uo[p],this.context.fillRect(d.x+1,d.y+1+p*v,d.width-2,v-2);break;default:this.context.fillRect(d.x,d.y,d.width,d.height)}d.type!==c.list&&d.icon&&(this.context.globalAlpha=d.gh,this.W.ip(d.icon,d.x,d.y,this.locked||d.locked));if(0<d.border)switch(!d.locked&&!this.locked||d.vn?(this.context.strokeStyle=d.ji,this.context.globalAlpha=
d.Nk):(this.context.strokeStyle=d.zf,this.context.globalAlpha=d.ak),this.context.lineWidth=d.border,d.type){case c.label:break;case c.list:t=d.lower.length;if(d.orientation===c.Xe)for(v=d.width/t,p=0;p<t;p+=1)this.locked||d.locked||d.jg[p]?(this.context.strokeStyle=d.zf,this.context.globalAlpha=d.ak):(this.context.strokeStyle=d.ji,this.context.globalAlpha=d.Nk),this.context.strokeRect(d.x+.5+p*v,d.y+.5,v-1,d.height-1);else for(v=d.height/t,p=0;p<t;p+=1)this.locked||d.locked||d.jg[p]?(this.context.strokeStyle=
d.zf,this.context.globalAlpha=d.ak):(this.context.strokeStyle=d.ji,this.context.globalAlpha=d.Nk),this.context.strokeRect(d.x+.5,d.y+.5+p*v,d.width-1,v-1);break;default:this.context.strokeRect(d.x+.5,d.y+.5,d.width-1,d.height-1)}switch(d.type){case c.button:this.Ya(d);break;case c.label:this.pb(d);break;case c.np:this.$b(d,r&&(l===k||-1===k&&e));break;case c.toggle:this.ic(d);break;case c.Ng:this.Qb(d);break;case c.list:this.Gb(d,r&&(l===k||-1===k&&e))}if(l===k)switch(d.type){case c.np:r=this.lh,
d.orientation===c.vertical?(r<d.y?r=d.y:r>d.y+d.height-1&&(r=d.y+d.height-1),p=(r-d.y)/(d.height-1)*(d.upper-d.lower)+d.lower):(r=this.Pf,r<d.x?r=d.x:r>d.x+d.width-1&&(r=d.x+d.width-1),p=(r-d.x)/(d.width-1)*(d.upper-d.lower)+d.lower),d.lower<d.upper?(p<d.lower&&(p=d.lower),p>d.upper&&(p=d.upper)):(p<d.upper&&(p=d.upper),p>d.lower&&(p=d.lower)),d.current[0]=p,d.Xb&&(d.current=d.Xb(d.current,!0,d.caller))}if(e&&!this.Vc&&d.yw)switch(d.type){case c.button:d.Xb&&d.Xb(d.caller);break;case c.toggle:d.current=
d.current===d.upper?d.lower:d.upper;d.Xb&&d.Xb(d.current===d.upper,!0,d.caller);break;case c.list:t=d.lower.length,v=d.orientation===c.Xe?(this.Pf-d.x)/d.width*t|0:(this.lh-d.y)/d.height*t|0,d.upper===c.qm?d.jg[v]||(d.Xb?d.current=d.Xb(v,!0,d.caller):d.current=v):d.jg[v]||(d.current[v]=!d.current[v],d.Xb&&d.Xb(d.current,!0,d.caller))}e&&l===k?(d.yw=this.Vc,d.LB=this.Pf,d.MB=this.lh):(d.yw=!1,d.LB=-1,d.MB=-1)};n.prototype.bv=function(d){this.Y=d};n.prototype.MA=function(){var d,e=!1,l=this.context.canvas.width,
k=this.context.canvas.height,p=-1;var r=!1;this.qn=-1;if(this.l)this.Vc?-2!==this.ul?(this.ea=this.Pf,this.na=this.lh,this.LB=this.Pf,this.MB=this.lh,this.ul=-2):this.Go&&!this.locked&&this.Go(this.Pf,this.lh,this.Vc,this.caller):(-2===this.ul&&(this.Go&&!this.locked&&this.Go(this.Pf,this.lh,this.Vc,this.caller),this.Pf===this.ea&&this.lh===this.na&&this.HF&&(this.A.gs?this.A.gs=!1:this.HF(this.Pf,this.lh,this.Vc,this.caller))),this.Vc||(this.ul=-1));else{var t=this.ul;this.context.textAlign="left";
for(d=0;d<this.Xc;d+=1){var v=this.Ge[d];if(!v.l){v.dL(l,k);var x=!1;v.TN(this.Pf,this.lh)&&(p=d,!v.locked&&!this.locked||v.vn?x=!0:e=!0);x&&!this.Vc&&(this.qn=d);(this.Vc&&-1===t&&x||x&&this.xo)&&v.type!==c.label&&(t=d,this.xo&&(v.yw=!0));d!==t||!v.locked&&!this.locked||v.vn||(t=-1,x=!1);v.enabled&&this.ab(v,x,d,t,this.A.Pj)}}0<=t&&!this.Vc&&(r=!0);this.Vc&&-1===t&&!e&&(t=-2);-2===t&&this.Go&&!this.locked&&this.Go(this.Pf,this.lh,this.Vc,this.caller);this.Vc||(t=-1);this.ul=t;this.context.globalAlpha=
1}0<=p&&!this.Ge[p].locked?this.tv=this.Ge[p].type===c.np?this.Ge[p].orientation===c.Sz||this.Ge[p].orientation===c.Xe?"ew-resize":"ns-resize":"auto":this.tv=this.Y;return r};a.prototype.Gb=function(){this.vc.fillStyle=this.je;var d=this.vc.fillStyle;this.lH=Number("0x"+d.substring(1,3));this.kH=Number("0x"+d.substring(3,5));this.jH=Number("0x"+d.substring(5,7));this.vc.fillStyle=this.rk;d=this.vc.fillStyle;this.xP=Number("0x"+d.substring(1,3));this.wP=Number("0x"+d.substring(3,5));this.vP=Number("0x"+
d.substring(5,7))};a.prototype.bJ=function(){this.Y=[];this.C=this.G=0};a.prototype.LK=function(){var d=0;0<this.C&&(d=this.G/this.C);this.Y[this.Y.length]=d;this.C=this.G=0};a.prototype.HM=function(d){var e=-1;0<=d&&d<this.Y.length&&(e=this.Y[d]);return e};a.prototype.Xt=function(d,e,l,k,p,r,t){this.je=d;this.Qd=e;this.gj=l;this.rk=k;this.zf=p;this.ji=r;this.Ya=t;this.Qc&&this.Qc.Xt(d,e,l,k,p,r);this.notification.Ag=d;this.notification.px=d;this.Gb()};a.prototype.rK=function(d,e,l){d=new n(this,
d,e,l,this.vc,this.Al);d.je=this.je;d.gh=this.gh;d.Qd=this.Qd;d.Be=this.Be;d.gj=this.gj;d.Nl=this.Nl;d.rk=this.rk;d.vp=this.vp;d.zf=this.zf;d.ak=this.ak;d.ji=this.ji;d.Nk=this.Nk;d.border=this.border;return d};a.prototype.iM=function(){var d=this.Qc,e=d.$d,l=this.vc,k="",p="";var r=1;if(-1!==d.ul||-1===d.ul&&-1===d.qn)this.ea=d.ul;if(-1===d.qn||-1!==this.ea&&this.ea===d.qn){if(-1!==d.qn){var t=d.Ge[d.qn];t.id===this.Ka&&t.fn!==this.na&&(this.ea=-1)}50>this.xk&&(this.xk+=1)}else{t=d.Ge[d.qn];t.id!==
this.Ka||t.id===this.Ka&&t.fn!==this.na?(this.Ka=t.id,this.na=t.fn,50>this.xk&&(this.xk+=1)):0<=this.xk&&--this.xk;-1!==this.na?k=t.F[this.na]:Array.isArray(t.F)?k="":k=t.F;var v=k.indexOf("\n");if(""!==k&&-1===this.xk&&!t.hw){this.ea=-1;var x=t.x;var A=t.y;var y=t.width;var D=t.height;-1!==t.fn&&(t.orientation===c.Xe?(x+=y/t.lower.length*t.fn,y/=t.lower.length):(A+=D/t.lower.length*t.fn,D/=t.lower.length));d=18*e;l.font=(d|0)+"px Arial";var b=4*e;var m=l.measureText(k).width;e=Math.round(x+y/2);
A=Math.round(A+D/2);e-=m/2;e<b+1?e=b+1:e+m+b>l.canvas.width&&(e=l.canvas.width-m-b-1);D>y?(-1!==this.ab&&y<this.ab&&(y=this.ab),e>l.canvas.width/2?e=x-m-y/2:e=x+t.width+y/2):(-1!==this.pb&&D<this.pb&&(D=this.pb),A>l.canvas.height/2?A-=D:A+=D);if(m>l.canvas.width){p=(m>>1)+d+b;p>l.canvas.width&&(p=l.canvas.width);for(r=1;l.measureText(k.substr(0,r)).width<p;)r+=1;for(v=r-1;v>r-5;)p=k[v]," "===p||","===p||"/"===p||"|"===p?(r=v+2,v=r-5):--v;p=k.substr(r-1);k=k.substr(0,r-1);m=l.measureText(k).width;
r=l.measureText(p).width;r>m&&(m=r);r=2}else-1!==v&&(p=k.substr(v+1),r=l.measureText(p).width,k=k.substr(0,v),m=l.measureText(k).width,r>m&&(m=r),r=2);v=d*r+2*b;2===r&&A>l.canvas.height/2&&(A-=d+b,v+=b);l.globalAlpha=this.Be;l.fillStyle=this.Qd;l.fillRect((e-b|0)-.5,(A-d/2-b|0)-.5,m+2+2*b,v);l.globalAlpha=this.Nk;l.strokeStyle=this.ji;l.strokeRect((e-b|0)-.5,(A-d/2-b|0)-.5,m+2+2*b,v);l.globalAlpha=this.Be;l.strokeStyle=this.Qd;l.beginPath();l.moveTo((e-b|0)+.5,(A-d/2-b|0)+.5+v);l.lineTo((e-b|0)+.5+
m+2+2*b,(A-d/2-b|0)+.5+v);l.lineTo((e-b|0)+.5+m+2+2*b,(A-d/2-b|0)+.5);l.stroke();l.globalAlpha=1;l.fillStyle=this.Qd;l.fillText(k,e+2,A+2);""!==p&&l.fillText(p,e+2,A+d+b+2);l.fillStyle=this.je;r=k.indexOf("[");v=k.lastIndexOf("]");-1!==r&&-1!==v?(t=k.substr(0,r+1),m=l.measureText(t).width,l.fillText(t,e,A),l.fillStyle=this.Ya,t=k.substr(r+1,v-r-1),l.fillText(t,e+m,A),l.fillStyle=this.je,t=k.substr(v),m=l.measureText(k.substr(0,v)).width,l.fillText(t,e+m,A)):l.fillText(k,e,A);""!==p&&(r=p.indexOf("["),
v=p.lastIndexOf("]"),-1!==r&&-1!==v?(t=p.substr(0,r+1),m=l.measureText(t).width,l.fillText(t,e,A+d+b),l.fillStyle=this.Ya,t=p.substr(r+1,v-r-1),l.fillText(t,e+m,A+d+b),l.fillStyle=this.je,t=p.substr(v),m=l.measureText(p.substr(0,v)).width,l.fillText(t,e+m,A+d+b)):l.fillText(p,e,A+d+b))}}};a.prototype.Fc=function(d){var e,l,k,p=d.vc,r=90,t=1,v=1;d.Bb&&(r=0);d.ty=!1;d.sF=!0;d.et&&(d.Qc=d.et,d.et=null,p.font=d.Al,d.Qc.Ye(),d.Qc.Pu&&d.Qc.Pu(d.Qc.caller));d.Qc&&(t=d.Qc.$d,v=d.Qc.Uh);var x=p.canvas.width-
86*t;r*=v;var A=performance.now();d.pB&&(d.zw=A-1E3/d.Ma);d.$r||d.notification.Fo()||d.io||d.cQ!==d.xk&&-1!==d.xk?(d.Wt(d),d.io&&--d.io,d.pB=!1):d.pB=!0;var y=A-d.zw;d.zw=A;d.Qc.Xb&&d.Qc.Xb(y,d.Qc.caller);A=performance.now()-A;var D=performance.now();d.MA();d.xo=!1;d.iM();d.notification.update();D=performance.now()-D;d.JB[d.lu]=D;for(k=e=0;k<d.hp;k+=1)e+=d.JB[k];e/=d.hp;d.PB[d.lu]=A;for(k=l=0;k<d.hp;k+=1)l+=d.PB[k];l/=d.hp;d.Vo[d.lu]=y;for(k=y=0;k<d.hp;k+=1)y+=d.Vo[k];y/=d.hp;d.lu=(d.lu+1)%d.hp;k=
1E3/y;k>d.Ma&&(k=d.Ma);this.G+=1E3/(A+D);this.C+=1;d.ol&&(p.font=(12*t|0)+"px Arial",p.globalAlpha=.7,p.fillStyle="black",d.Ln?p.fillRect(x,r,88*t|0,83*v|0):p.fillRect(x,r,88*t|0,20*v|0),D=(l+e)/16.666666,1<D&&(D=1),p.fillStyle=.5>D?"rgb("+(510*D|0)+",255,0)":"rgb(255,"+(255*(1-2*(D-.5))|0)+",0)",p.fillRect(x,r,88*D*t|0,20*v|0),e=e.toFixed(1),l=l.toFixed(1),4>k.toFixed(1).length?k=k.toFixed(1):k|=0,p.globalAlpha=1,p.fillStyle="black",A=k+"fps",y=p.measureText(A).width,p.fillText(A,x+36*t-y,r+12*v),
A=(100*D|0)+"%",y=p.measureText(A).width,p.fillText(A,x+84*t-y,r+12*v),d.Ln&&(p.fillText("menu",x+6*t,r+28*v),p.fillText("work",x+6*t,r+44*v),p.fillText("update",x+6*t,r+60*v),p.fillText("focus",x+6*t,r+76*v),A=e+"ms",y=p.measureText(A).width,p.fillText(A,x+84*t-y,r+28*v),A=l+"ms",y=p.measureText(A).width,p.fillText(A,x+84*t-y,r+44*v),A=d.$r?"on":"off",y=p.measureText(A).width,p.fillText(A,x+84*t-y,r+60*v),A=d.hasFocus?"on":"off",y=p.measureText(A).width,p.fillText(A,x+84*t-y,r+76*v)),p.fillStyle=
"white",A=k+"fps",y=p.measureText(A).width,p.fillText(A,x+34*t-y,r+10*v),A=(100*D|0)+"%",y=p.measureText(A).width,p.fillText(A,x+82*t-y,r+10*v),d.Ln&&(p.fillText("menu",x+4*t,r+26*v),p.fillText("work",x+4*t,r+42*v),p.fillText("update",x+4*t,r+58*v),p.fillText("focus",x+4*t,r+74*v),A=e+"ms",y=p.measureText(A).width,p.fillText(A,x+82*t-y,r+26*v),A=l+"ms",y=p.measureText(A).width,p.fillText(A,x+82*t-y,r+42*v),A=d.$r?"on":"off",y=p.measureText(A).width,p.fillText(A,x+82*t-y,r+58*v),A=d.hasFocus?"on":
"off",y=p.measureText(A).width,p.fillText(A,x+82*t-y,r+74*v)),p.globalAlpha=1);d.Qc.tv!==d.Qc.oA&&(d.Qc.oA=d.Qc.tv,d.Tc.style.cursor=d.Qc.oA);d.vD=!0};a.prototype.CK=function(d){d.W=this.W;this.Qc?this.et=d:(this.et=null,this.Qc=d,this.vc.font=this.Al,this.Qc.Ye(),this.Qc.Pu&&this.Qc.Pu(this.Qc.caller),this.Wt(this))};a.prototype.MA=function(){var d;if(this.Qc){var e=this.Qc;this.vc.font=this.Al;e.Pf=this.fk;e.lh=this.gk;e.Vc=this.Vc;e.xo=this.xo;if(e.MA()||this.vg){for(d=0;d<e.Xc;d+=1){var l=e.Ge[d];
e.HJ(l)}this.vg=!1}}};a.prototype.Wt=function(d){d.ty||(requestAnimationFrame?requestAnimationFrame(d.gG):setTimeout(d.gG,16),d.ty=!0)};a.prototype.tq=function(d,e){for(var l=null,k=0;null===l&&k<d.length;)d[k].identifier===e?l=d[k]:k+=1;return l};a.prototype.Ca=function(d,e){var l=e.changedTouches;switch(e.type){case "touchstart":-1===d.oi&&(l=l[0],d.oi=l.identifier,d.At(d,l.pageX,l.pageY));break;case "touchend":l=d.tq(l,d.oi);null!==l&&(d.Ct(d,l.pageX,l.pageY),d.oi=-1);break;case "touchmove":l=
d.tq(l,d.oi);null!==l&&d.Bt(d,l.pageX,l.pageY);break;case "touchcancel":l=d.tq(l,d.oi),null!==l&&d.JI(d)}d.Pj=!0;e.stopPropagation&&e.stopPropagation();e.cancelable&&e.preventDefault()};a.prototype.At=function(d,e,l){d.Qr(d,e,l);d.Vc=!0;d.sF=!1};a.prototype.Ct=function(d,e,l){d.KB=performance.now();d.Qr(d,e,l);d.Vc=!1;d.sF||(d.xo=!0);0<=d.fk&&d.fk<d.Tc.width&&0<=d.gk&&d.gk<d.Tc.height?d.hasFocus||(d.Pj||d.Tc.focus(),d.hasFocus=!0,d.notification.clear(!0,!1),d.rH&&d.rH(d.caller)):d.Pj&&d.notification.clear(!0,
!1)};a.prototype.Bt=function(d,e,l){d.jG(d);d.Qr(d,e,l)};a.prototype.iO=function(d){d.jG(d)};a.prototype.JI=function(d){1<performance.now()-d.KB&&(d.hasFocus||d.notification.clear(!0,!1),d.Tc.blur(),d.hasFocus=!1,d.Vc=!1,d.fk=-1,d.gk=-1,d.gs=!1,d.ty||(d.Wt(d),d.io<d.Gv&&(d.io=d.Gv)))};a.prototype.Qb=function(d,e){if(!d.lp){if(e.pageX||e.pageY){var l=e.pageX;var k=e.pageY}else l=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,k=e.clientY+document.body.scrollTop+document.documentElement.scrollTop;
d.At(d,l,k);e.stopPropagation&&e.stopPropagation();e.preventDefault();d.Pj=!1}};a.prototype.wc=function(d,e){d.KB=performance.now();if(!d.lp){if(e.pageX||e.pageY){var l=e.pageX;var k=e.pageY}else l=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,k=e.clientY+document.body.scrollTop+document.documentElement.scrollTop;d.Ct(d,l,k);e.stopPropagation&&e.stopPropagation();e.preventDefault();d.Pj=!1}};a.prototype.jG=function(d){d.hasFocus||d.gs&&""!==d.notification.el||(d.Wc?d.Yl||
d.notification.notify("Copy",15,3600,15,!0):d.Bb?d.wk?d.notification.notify("Launch",15,3600,15,!0):d.notification.notify("Expand",15,3600,15,!0):d.notification.notify("Click to control",15,3600,15,!0),d.notification.animate=!0,d.gs=!0)};a.prototype.$b=function(d,e){if(!d.lp){if(e.pageX||e.pageY){var l=e.pageX;var k=e.pageY}else l=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,k=e.clientY+document.body.scrollTop+document.documentElement.scrollTop;d.Bt(d,l,k);e.stopPropagation&&
e.stopPropagation();e.preventDefault();d.Pj=!1}};a.prototype.rc=function(d,e){d.lp||(d.iO(d),e.stopPropagation&&e.stopPropagation(),e.preventDefault(),d.Pj=!1)};a.prototype.ic=function(d,e){d.lp||(d.JI(d),e.stopPropagation&&e.stopPropagation(),e.preventDefault(),d.Pj=!1)};a.prototype.Qr=function(d,e,l){var k=this.Tc.getBoundingClientRect();window.scrollX?(e-=k.left+window.scrollX,l-=k.top+window.scrollY):(e-=k.left+window.pageXOffset,l-=k.top+window.pageYOffset);e/=d.Wf;l/=d.Wf;d.fk=e-1|0;d.gk=l-
1|0;d.Wt(d);d.io<d.Gv&&(d.io=d.Gv)};a.prototype.og=function(d){!d&&!this.notification.Fo()||this.$r||this.Wt(this);this.$r=d};window.IconManager=g;window.Menu=c;window.MenuManager=a}(),function(){function w(a,c,d,e,l,k){this.Er=a;this.Fr=c;this.width=d;this.height=e;this.UP=l;this.nM=k}function h(){this.time=0;this.Y=this.Cw=!1;this.Se="none";this.fO="2pca4";this.fw="0123456789abcdef";this.TH=86;this.rc=22;this.wc=6;this.ab=8;this.D="";this.de="0123456789xyz";this.ce="0123";this.ee="0123456789";this.Yg=
this.Vg="0123456";this.Pg="0123456789";this.$g="0123";this.zm=1038;this.no=7157;this.Bm=5454;this.lo=2741;this.ym=3775;this.mo=4420;this.Em="0123";this.Og="0123456omp-";this.sh="01234";this.xf=["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"];this.Ql=[[[6,36,160,192,72,10],[132,96,136,66,12,34],[68,40,130]],[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,232,202,78,46],[172,226,204,106,142,102],[108,170,198]]];this.od=" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" ");
this.nd="  omp omp omp  ".split(" ");this.Bl=[0,2,6,10,13,10,6,2,0];this.Gl=[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]];this.Rl=[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]];this.Ap=new Uint32Array(256);this.XD=new Uint8Array(8192);this.TD=new Uint8Array(8192);this.nk=new Uint8Array(512);this.SD=new Uint8Array(512);this.tm=new Uint16Array(512);this.Dl=this.Ba=
!1;this.ru="l";this.qu="le";this.su="lv";this.ny="li";this.oy="lo";this.my="lb";this.py="lr";this.gw="h";this.jB="ht";this.yy="v";this.Zg=!1;this.YA=0;this.Hl=!1;this.ox=this.nx=0;this.mg=!1;this.ne=this.Fc=this.gd=this.index=0;this.Vf=1;this.Rk=2;this.Mj=3;this.qk=4;this.sk=5;this.Xk=6;this.dj=7;this.Lj=8;this.Vj=9;this.Sm=10;this.Gi=11;this.ii=12;this.yj=13;this.aj=14;this.Rp=15;this.xh=16;this.Ej=17;this.pg=this.qg=-1;this.ho=0;this.Pp=1;this.Qp=2;this.Nr=3;this.Or=4;this.Mr=5;this.Pr=6;this.Bq=
0;this.Oo=1;this.Lb=!1;this.df="num_states";this.Ug="num_neighbors";this.Bi="num_nodes";this.Tg="n_states";this.na=[];this.na[n.xr]="vonneumann";this.na[n.ur]="moore";this.na[n.hm]="hexagonal";this.na[n.wr]="onedimensional";this.pb=[];this.pb[n.xr]=5;this.pb[n.ur]=9;this.pb[n.hm]=7;this.pb[n.wr]=3;this.Ca=[];this.Ca[n.xr]=["none","rotate4","rotate4reflect","reflect_horizontal","permute"];this.Ca[n.ur]="none rotate4 rotate8 rotate4reflect rotate8reflect reflect_horizontal permute".split(" ");this.Ca[n.hm]=
"none rotate2 rotate3 rotate6 rotate6reflect permute".split(" ");this.Ca[n.wr]=["none","reflect","permute"];this.Gb=[];this.Gb[n.xr]=[[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5]],[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5],[0,4,3,2,1,5],[0,3,2,1,4,5],[0,2,1,4,3,5],[0,1,4,3,2,5]],[[0,1,2,3,4,5],[0,1,4,3,2,5]]];this.Gb[n.ur]=[[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,
1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9]],[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9],[0,1,8,7,6,5,4,3,2,9],[0,7,6,5,4,3,2,1,8,9],[0,5,4,3,2,1,8,7,6,9],[0,3,2,1,8,7,6,5,4,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9],[0,8,7,6,5,4,3,2,1,9],[0,7,6,
5,4,3,2,1,8,9],[0,6,5,4,3,2,1,8,7,9],[0,5,4,3,2,1,8,7,6,9],[0,4,3,2,1,8,7,6,5,9],[0,3,2,1,8,7,6,5,4,9],[0,2,1,8,7,6,5,4,3,9],[0,1,8,7,6,5,4,3,2,9]],[[0,1,2,3,4,5,6,7,8,9],[0,1,8,7,6,5,4,3,2,9]]];this.Gb[n.wr]=[[[0,1,2,3],[0,2,1,3]]];this.Gb[n.hm]=[[[0,1,2,3,4,5,6,7],[0,4,5,6,1,2,3,7]],[[0,1,2,3,4,5,6,7],[0,3,4,5,6,1,2,7],[0,5,6,1,2,3,4,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,
2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7],[0,6,5,4,3,2,1,7],[0,5,4,3,2,1,6,7],[0,4,3,2,1,6,5,7],[0,3,2,1,6,5,4,7],[0,2,1,6,5,4,3,7],[0,1,6,5,4,3,2,7]]];this.Mx=""}function g(a,c){this.B=null;this.A=c;this.Xw="";this.qx=!1;c=a.lastIndexOf(".");-1!==c&&(a=a.substr(0,c));this.name=a;this.Xn=this.Kk=0;this.jh=this.sf=this.Ac=-1;this.yq=this.ws=0;this.$v=this.dB=!1;this.eB=!0;this.cq=this.zg=this.H=this.un="";this.S=this.Gq=this.O=this.Bc=this.za=this.L=this.ia=!1;this.hg=this.A.Bq;this.M=
!1;this.Ld=this.A.ho;this.ve=-1;this.Ee=this.Ic=!1;this.kd=-1;this.dk=1;this.Eh=this.WF=this.XF=this.YF=this.ZF=this.yg=this.jf=this.Jf=this.ye=-1;this.iK=this.oa=!1;this.Vd=-1;this.qo=this.oo=this.ff=this.fe=null;this.i=this.ub=-1;this.eg=this.cg=1;this.Dd="";this.dg=-1;this.Mf="";this.Sh=this.If=null;this.height=this.width=0;this.Dh=this.$e=null;this.hk=this.ah=this.Lc=this.title="";this.wd=2;this.qt=0;this.So=this.Zg=!1;this.VD=this.wI="";this.df=-1;this.WD=!1;this.Tg=this.pk=this.im=this.Bi=this.Ug=
-1;this.re=this.ph=null;this.oh=this.gm=0;this.Je=this.jl=this.kl=null;this.vr=[];this.qe=null}var q={rules:[],Jw:[],qp:[],Hv:[],KK:function(a,c,d,e,l){var k,p=this.qp.length,r=!1,t=a.H.toLowerCase();t=t.replace(/ /g,"_");for(k=0;k<p&&!r;){var v=this.qp[k];v.name===t?(r=!0,v.pattern[v.pattern.length]=a,v.eu[v.eu.length]=c,v.ts[v.ts.length]=d,v.Su[v.Su.length]=e,v.view[v.view.length]=l):k+=1}r||(this.qp[p]={name:t,pattern:[a],eu:[c],ts:[d],Su:[e],view:[l]});return r},DM:function(a){var c=0,d=this.Hv.length,
e=!1,l="";a=a.toLowerCase();for(a=a.replace(/ /g,"_");c<d&&!e;)this.Hv[c].name===a?(e=!0,l=this.Hv[c].definition):c+=1;return l},HO:function(a){var c,d=this.qp.length,e=!1,l=a.H.toLowerCase();l=l.replace(/ /g,"_");for(a=0;a<d&&!e;){var k=this.qp[a];if(k.name===l)for(e=!0,k.name="",c=0;c<k.eu.length;c+=1)null!==k.eu[c]&&(this.QH(k.pattern[c]),k.pattern[c].A.D="",k.pattern[c].A.Ba=!0,k.pattern[c].A.Dl=!1,k.eu[c](k.pattern[c],k.Su[c],k.view[c]));else a+=1}},Ix:function(a){var c,d=this.qp.length,e=!1,
l=a.H.toLowerCase();l=l.replace(/ /g,"_");for(a=0;a<d&&!e;){var k=this.qp[a];if(k.name===l)for(e=!0,k.name="",c=0;c<k.ts.length;c+=1)null!==k.ts[c]&&(k.pattern[c].oa=k.pattern[c].iK,k.ts[c](k.pattern[c],k.Su[c],k.view[c]));else a+=1}},add:function(a,c,d,e,l){var k,p=this.rules.length,r=!1,t=a.H.toLowerCase();t=t.replace(/ /g,"_");for(k=0;k<p&&!r;)this.rules[k].name===t?r=!0:k+=1;r||(this.rules[p]=null===a.re?{name:t,LH:!0,wE:a.df,VN:a.Ug,YN:a.Bi,bL:a.im,gP:a.jl,hP:a.kl,jv:a.Je,Fs:a.qe,names:a.vr,
S:a.WD}:{name:t,LH:!1,wE:a.Tg,ap:a.pk,mL:a.oh,Xq:a.re,nK:a.ph,jv:a.Je,jM:a.gm,Fs:a.qe,names:a.vr},this.Jw[p]={fetch:c|0,decode:d|0,size:e},this.Hv[p]={name:t,definition:l},this.HO(a))},QH:function(a){var c,d=this.rules.length,e=null,l=!1,k=a.H.toLowerCase();k=k.replace(/ /g,"_");for(c=0;c<d&&!l;)this.rules[c].name===k?(l=!0,e=this.rules[c]):c+=1;l&&(a.re=null,e.LH?(a.df=e.wE,a.Ug=e.VN,a.Bi=e.YN,a.im=e.bL,a.jl=e.gP,a.kl=e.hP,a.S=e.S):(a.Tg=e.wE,a.pk=e.ap,a.oh=e.mL,a.re=e.Xq,a.ph=e.nK,a.gm=e.jM,a.S=
a.pk===n.hm?!0:!1),a.Je=e.jv,a.qe=e.Fs,a.vr=e.names,a.za=!1);return l}},n={xr:0,ur:1,hm:2,wr:3,UD:-1,iP:0,jP:1,kP:2,mP:3,lP:["circles","diamonds","hexagons","triangles"]};g.prototype.G=function(){var a=!1;this.oa&&0!==this.fe[0]&&(a=!0);return a};g.prototype.kA=function(a){var c="";if(this.cg!==a||this.eg!==a)this.cg!==a&&(c+="C"+this.cg),this.eg!==a&&(c+="E"+this.eg);return c};g.prototype.C=function(a){this.un=a.un;this.H=a.H;this.ia=a.ia;this.L=a.L;this.za=a.za;this.zg=a.zg;this.S=a.S;this.hg=a.hg;
this.M=a.M;this.Kk=a.Kk;this.Xn=a.Xn;this.Ld=a.Ld;this.ve=a.ve;this.Ic=a.Ic;this.Ee=a.Ee;this.kd=a.kd;this.Eh=a.Eh;this.dk=a.dk;this.ye=a.ye;this.Jf=a.Jf;this.jf=a.jf;this.yg=a.yg;this.oa=a.oa;this.Vd=a.Vd;this.ub=a.ub;this.i=a.i;this.wd=a.wd;this.Mf=a.Mf;this.dg=a.dg;this.Dd=a.Dd;a.ff&&(this.ff=new Uint8Array(a.ff.length),this.ff.set(a.ff));a.fe&&(this.fe=new Uint8Array(a.fe.length),this.fe.set(a.fe))};g.prototype.wL=function(a,c){a.ff&&(this.qo=c.T(Uint8,a.ff.length,"HROT.altSurvivals"),this.qo.set(a.ff));
a.fe&&(this.oo=c.T(Uint8,a.fe.length,"HROT.altBirths"),this.oo.set(a.fe));this.ZF=a.ye;this.YF=a.Jf;this.XF=a.jf;this.WF=a.yg};g.prototype.$O=function(){this.zg=this.H=this.un="";this.S=this.za=this.L=this.ia=!1;this.hg=this.A.Bq;this.M=!1;this.Xn=this.Kk=0;this.Ld=this.A.ho;this.ve=-1;this.Ee=this.Ic=!1;this.Eh=this.kd=-1;this.oa=!1;this.i=this.ub=this.Vd=-1;this.wd=2};g.prototype.tN=function(a){return this.Ee!==a.Ee||this.oa!==a.oa?"Alternate is different rule family":(-1===this.i?this.wd:this.i)!==
(-1===a.i?a.wd:a.i)?"Alternate has different number of states":this.L!==a.L||this.ia!==a.ia||this.S!==a.S||this.hg!==a.hg||this.M!==a.M||this.Ld!==a.Ld||this.Ic!==a.Ic||-1===this.ve&&-1!==a.ve||-1!==this.ve&&-1===a.ve||this.Eh!==a.Eh||this.ub!==a.ub?"Alternate has different neighborhood":this.kd!==a.kd||this.Vd!==a.Vd?"Alternate has different range":this.za||a.za?"Alternate can not use none":this.Mf!==a.Mf||this.dg!==a.dg||this.Dd!==a.Dd?"Alternate has different neighbourhood":""};h.prototype.$h=
function(a,c,d){var e,l,k=0,p=0,r=0,t=!1;var v=c.length;for(e=l=0;e<v;){var x=c[e];e+=1;switch(l){case 0:switch(x){case "!":l=1;a.Lc+="#C ";var A=!0;break;case "O":case "o":case "*":case ".":l=2;p=k=r=0;var y=--e}break;case 1:"\r"!==x&&"\n"!==x&&(" "===x?A||(a.title+=x,a.Lc+=x):(A=!1,a.title+=x,a.Lc+=x));"\n"===x&&(l=0,a.Lc+=x,a.title+=" ");break;case 2:switch(x){case "O":case "o":case "*":case ".":p+=1;break;case "\n":r+=1;p>k&&(k=p);p=0;break;case " ":case "\t":break;default:e=v,t=!0}}}if(!t){2===
l&&"\n"!==x&&(r+=1,p>k&&(k=p));a.height=r;a.width=k;a.hk="Cells";a.$e=Array.matrix(Uint16,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap");e=y;for(l=k=0;e<v;)switch(x=c[e],e+=1,x){case "\n":k+=1;l=0;break;case "O":case "o":case "*":a.$e[k][l>>4]|=1<<(~l&15);l+=1;break;case ".":l+=1}this.Ba=!0;this.Ya(a,"",d)}};h.prototype.Yh=function(a,c,d){var e,l;var k=c.length;var p=[];var r=0;var t=!1;var v=l=0;var x=!1;for(e=10;e<k;){var A=c[e];e+=1;switch(A){case "\n":x&&(x=!1,2===y&&t&&(v=-v,t=!1),p[r]=[l,
v],r+=1);var y=v=l=0;break;case "-":t=!0;0===y?y=1:1===y&&(y=2);break;case " ":1===y&&(t&&(l=-l,t=!1),y=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===y&&(y=1),1===y?l=10*l+parseInt(A,10):(v=10*v+parseInt(A,10),x=!0)}}x&&(2===y&&t&&(v=-v),p[r]=[l,v],r+=1);if(r){k=c=p[0][0];y=A=p[0][1];for(e=1;e<r;e+=1)l=p[e][0],v=p[e][1],l<c&&(c=l),l>k&&(k=l),v<A&&(A=v),v>y&&(y=v);a.height=y-A+1;a.width=k-c+1;a.$e=Array.matrix(Uint16,a.height,(a.width-1>>4)+
1,0,d,"Pattern.lifeMap");a.hk="Life 1.06";this.Ya(a,"",d);for(e=0;e<r;e+=1)l=p[e][0]-c,v=p[e][1]-A,a.$e[v][l>>4]|=1<<(~l&15)}};h.prototype.Pe=function(a,c,d,e){var l,k,p=[],r=0,t=c.length;var v="";var x=!1;var A=0,y=0,D=!1,b=!1,m=0,f=0;d=d?10:0;for(this.Ba=!0;d<t&&!b;){var u=c[d];d+=1;switch(A){case 0:switch(u){case "#":A=2;break;case "*":case ".":A=3;var z=k=l=0;var B=--d}break;case 2:switch(u){case "C":case "D":A=1;a.Lc+="#C ";var C=!0;break;case "N":A=0;break;case "R":A=4;break;case "P":A=5;y=
0;D=!1;f=m=0;break;case "\n":A=0;break;default:A=1,C=!0}break;case 1:"\r"!==u&&"\n"!==u&&(" "===u?C||(a.title+=u,a.Lc+=u):(C=!1,a.title+=u,a.Lc+=u));"\n"===u&&(A=0,a.title+=" ",a.Lc+=u);break;case 4:"\n"===u?A=0:(v+=u,x=!0);break;case 5:switch(u){case "\n":A=0;2===y&&D&&(f=-f,D=!1);break;case "-":D=!0;0===y?y=1:1===y&&(y=2);break;case " ":1===y&&(D&&(m=-m,D=!1),y=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===y&&(y=1),1===y?m=10*m+parseInt(u,
10):f=10*f+parseInt(u,10)}break;case 3:switch(u){case "\n":l>k&&(k=l);l=0;z+=1;break;case "#":p[r]=new w(m,f,k,z,B,d-1);r+=1;A=2;break;case "*":case ".":l+=1;break;case " ":case "\t":break;default:b=!0}}}"\n"!==u&&(z+=1);3===A&&(p[r]=new w(m,f,k,z,B,d-1),r+=1);if(r&&!b){m=p[0].Er;f=p[0].Fr;u=m+p[0].width-1;l=f+p[0].height-1;for(d=1;d<r;d+=1)p[d].Er<m&&(m=p[d].Er),p[d].Fr<f&&(f=p[d].Fr),p[d].Er+p[d].width-1>u&&(u=p[d].Er+p[d].width-1),p[d].Fr+p[d].height-1>l&&(l=p[d].Fr+p[d].height-1);a.height=l-f+
1;a.width=u-m+1;a.$e=Array.matrix(Uint16,a.height,(a.width-1>>4)+1,0,e,"Pattern.lifeMap");a.hk="Life 1.05";a.Dh=Array.matrix(Uint8,a.height,a.width,0,e,"Pattern.multiStateMap");x?(this.Re(a,v,!1,e),this.Ba?0<=a.i||a.Bc||(a.Dh=null):(a.i=-1,a.Bc=!1,a.O=!1)):this.Ya(a,"",e);for(d=0;d<r;d+=1)for(e=p[d].UP,v=p[d].nM,l=p[d].Er-m,u=p[d].Fr-f,x=l,k=u;e<=v;)switch(u=c[e],e+=1,u){case "\n":k+=1;x=l;break;case "*":a.$e[k][x>>4]|=1<<(~x&15);a.Dh&&(a.Dh[k][x]=1);x+=1;break;default:x+=1}}};h.prototype.ea=function(a,
c,d,e){var l=0,k,p,r;d&&(l=4);for(p=0;8192>p;p+=8)for(r=0;4>r;r+=1){d=0;for(k=p+r&e;0<k;)d+=k&1,k>>=1;c===d&&(a[p+r+l]=1)}};h.prototype.Qb=function(a,c,d,e){var l=0,k,p,r;d&&(l=16);for(p=0;512>p;p+=32)for(r=0;16>r;r+=1){d=0;for(k=p+r&e;0<k;)d+=k&1,k>>=1;c===d&&(a[p+r+l]=1)}};h.prototype.Ak=function(a){return(a&7)<<6|(a&448)>>6|a&56};h.prototype.wf=function(a){return(a&4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};h.prototype.bm=function(a,c,d){var e;for(e=0;4>e;e+=
1)a[c]=d,c=this.wf(c);c=this.Ak(c);for(e=0;4>e;e+=1)a[c]=d,c=this.wf(c)};h.prototype.Wl=function(a,c,d,e,l,k){var p=d?16:0;if(2>c||4<c)this.Qb(a,c,d,k);else if(d="omp".indexOf(e),-1!==d)for(c=this.Ql[c-2][d],d=0;d<c.length;d+=1)e=c[d]+p,a[e]=l,a[e+256]=l,a[e+1]=l,a[e+257]=l};h.prototype.am=function(a,c,d,e,l){var k=0,p=c-1;0===c||8===c?this.Qb(a,c,d,511):(3<p&&(p=6-p,k=495),c=this.xf[p].indexOf(e),-1!==c&&(k^=this.Rl[p][c],d&&(k|=16),this.bm(a,k,l)))};h.prototype.Mg=function(a,c,d,e){var l=c.length,
k=0,p="",r;for(r=0;r<l;r+=1){var t=c.charCodeAt(r)-48;k|=1<<t;this.Qb(a,t,d,e)}for(r=0;9>r;r+=1)0!==(k&1<<r)&&(p+=String(r));return p};h.prototype.Od=function(a){for(var c=0;a;)c+=1,a&=a-1;return c};h.prototype.Qh=function(a,c){var d="",e=0;if(c[a]){c=c[a];0!==(c&8192)&&(e=1,c&=-8193);var l=this.Od(c);var k=2>a||4<a?0:3;2<=l&&(c=~c&(1<<k)-1)&&(e=1-e);if(!e||c)for(d+=String(a),e&&(d+="-"),a=0;a<k;a+=1)0!==(c&1<<a)&&(d+="omp"[a])}else d+=String(a);return d};h.prototype.Ii=function(a,c){var d="",e=0;
if(c[a]){c=c[a];0!==(c&8192)&&(e=1,c&=-8193);var l=this.Od(c);var k=this.Bl[a];(e||7!==l||13!==k)&&l+e>k>>1&&(c=~c&(1<<k)-1)&&(e=1-e);if(!e||c)for(d+=String(a),e&&(d+="-"),l=0;l<k;l+=1)e=this.Gl[a][l],0!==(c&1<<e)&&(d+=this.xf[3][e])}else d+=String(a);return d};h.prototype.Af=function(a,c,d,e){var l=c.length,k=0,p=[],r="",t;c+=" ";for(t=0;7>t;t+=1)p[t]=0;for(t=0;t<l;t+=1){var v=c.charCodeAt(t)-48;if(0<=v&&8>=v){var x=0!==(k&1<<v);k|=1<<v;var A=c[t+1];var y=this.nd[v].indexOf(A);-1!==y||x||this.Qb(a,
v,d,e);var D=1;"-"===A&&(D=0,t+=1,A=c[t+1],y=this.nd[v].indexOf(A));-1!==y||"0"<=A&&"9">=A||" "===A||(this.D=(d?"S":"B")+v+A+" not valid",t=l);x&&(x=0,0===(p[v]&8192)&&(x=1),x!==D&&(this.D=(d?"S":"B")+v+" can not have minus and non-minus",y=-1,t=l));for(;-1!==y;)0!==(p[v]&1<<y)?(this.D="Duplicate "+v+this.nd[v][y],y=-1,t=l):(this.Wl(a,v,d,A,D,e),p[v]|=1<<y,D||(p[v]|=8192),t+=1,A=c[t+1],y=this.nd[v].indexOf(A))}else this.D="Missing digit prefix"}for(t=0;7>t;t+=1)0!==(k&1<<t)&&(r+=this.Qh(t,p));return r};
h.prototype.Qf=function(a,c,d){var e=c.length,l=0,k=[],p="",r;c+=" ";for(r=0;9>r;r+=1)k[r]=0;for(r=0;r<e;r+=1){var t=c.charCodeAt(r)-48;if(0<=t&&8>=t){var v=0!==(l&1<<t);l|=1<<t;var x=c[r+1];var A=this.od[t].indexOf(x);-1!==A||v||this.Qb(a,t,d,511);var y=1;"-"===x&&(y=0,r+=1,x=c[r+1],A=this.od[t].indexOf(x));-1!==A||"0"<=x&&"9">=x||" "===x||(this.D=(d?"S":"B")+t+x+" not valid",r=e);v&&(v=0,0===(k[t]&8192)&&(v=1),v!==y&&(this.D=(d?"S":"B")+t+" can not have minus and non-minus",A=-1,r=e));for(;-1!==
A;)0!==(k[t]&1<<A)?(this.D="Duplicate "+t+this.od[t][A],A=-1,r=e):(this.am(a,t,d,x,y),k[t]|=1<<A,y||(k[t]|=8192),r+=1,x=c[r+1],A=this.od[t].indexOf(x))}else this.D="Missing digit prefix"}for(r=0;9>r;r+=1)0!==(l&1<<r)&&(p+=this.Ii(r,k));return p};h.prototype.Xh=function(a,c){var d;for(d=0;512>d;d+=1)a[d]=0!==(c&1<<(d&7))?1:0!==(d&16)?1:0};h.prototype.Pd=function(a,c,d){var e=12,l=8191,k=a.Kk,p=a.Xn;switch(a.Ld){case this.Pp:e=3;l=this.zm;break;case this.Qp:e=9;l=this.no;break;case this.Nr:e=6;l=this.Bm;
break;case this.Or:e=6;l=this.lo;break;case this.Mr:e=9;l=this.ym;break;case this.Pr:e=3,l=this.mo}c.fill(0);d&&d.fill(0);if(0!==(k&1))if(0!==(p&1<<e)){k=~k;p=~p;for(a=0;a<=e;a+=1)p&1<<e-a&&this.ea(c,a,!1,l);for(a=0;a<=e;a+=1)k&1<<e-a&&this.ea(c,a,!0,l);d.set(c)}else{for(a=0;a<=e;a+=1)~k&1<<a&&this.ea(d,a,!1,l);for(a=0;a<=e;a+=1)~p&1<<a&&this.ea(d,a,!0,l);for(a=0;a<=e;a+=1)p&1<<e-a&&this.ea(c,a,!1,l);for(a=0;a<=e;a+=1)k&1<<e-a&&this.ea(c,a,!0,l);this.Lb=!0}else{for(a=0;a<=e;a+=1)0!==(k&1<<a)&&this.ea(c,
a,!1,l);for(a=0;a<=e;a+=1)0!==(p&1<<a)&&this.ea(c,a,!0,l);d&&d.set(c)}};h.prototype.Wh=function(a,c,d,e,l){var k=this.de,p="",r="";switch(l){case this.Pp:k=this.ce;break;case this.Qp:k=this.ee;break;case this.Nr:k=this.Vg;break;case this.Or:k=this.Yg;break;case this.Mr:k=this.Pg;break;case this.Pr:k=this.$g}for(l=a.Kk=0;l<c.length;l+=1){var t=k.indexOf(c[l]);a.Kk|=1<<t}for(l=a.Xn=0;l<d.length;l+=1)t=k.indexOf(d[l]),a.Xn|=1<<t;for(l=0;l<k.length;l+=1)0!==(a.Kk&1<<l)&&(p+=k[l]);for(l=0;l<k.length;l+=
1)0!==(a.Xn&1<<l)&&(r+=k[l]);return-1!==e?r+"/"+p+"/"+e:"B"+p+"/S"+r};h.prototype.Vh=function(a,c,d,e,l){var k=0,p=this.tm;var r=(1<<this.ab+1)/6|0;var t=new Uint8Array(512),v=a.ia,x=a.L,A=a.S;var y=a.hg;var D=a.M,b=a.Ld,m=a.Ic,f=a.i;if(a.za)d=this.Se;else if(v||x)for(d=v?"M":"2PCA4,",y=0;16>y;y+=1)d+=l[y],15>y&&(d+=",");else if(D)d=this.Wh(a,c,d,f,b);else{a=511;A?a=y===this.Oo?114:254:m&&(a=186);t.fill(0);l.fill(0);for(y=0;y<t.length;y+=1)p[y]=A?y:(y&448)>>6|y&56|(y&7)<<6;if(""!==e){d="MAP";for(y=
0;y<r;y+=1)d+=e[y],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e[y]),t[k]=c>>5,k+=1,t[k]=c>>4&1,k+=1,t[k]=c>>3&1,k+=1,t[k]=c>>2&1,k+=1,t[k]=c>>1&1,k+=1,t[k]=c&1,k+=1;c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e[y]);t[k]=c>>5;t[k+1]=c>>4&1;d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c&48];for(y=0;512>y;y+=1){e=0;r=this.ab;for(k=8;0<=k;--k)0!==(a&1<<k)&&(0!==(y&1<<k)&&(e|=1<<r),--r);l[p[y]]=t[e]}-1!==f&&(d+=
"/"+f)}else m?(k=this.Mg(l,c,!1,a),l=this.Mg(l,d,!0,a)):A?(k=this.Af(l,c,!1,a),l=this.Af(l,d,!0,a)):(k=this.Qf(l,c,!1),l=this.Qf(l,d,!0)),d=-1!==f?l+"/"+k+"/"+f:"B"+k+"/S"+l}return d};h.prototype.vf=function(a){var c=a,d=0;if(-1!==a.indexOf(" "))for(c="";d<a.length;)" "!==a[d]&&(c+=a[d]),d+=1;return c};h.prototype.Dk=function(a,c,d){for(var e=!0,l=0,k,p=1;p<c.length&&e;)k="0123456789".indexOf(c[p]),-1!==k?l=10*l+k:(this.D="Illegal character in Wolfram rule",e=!1),p+=1;e&&(0>l||254<l||0!==(l&1)?(this.D=
"Wolfram rule number must be even from 0-254",e=!1):(this.Xh(d,l),a.ve=l,a.H="W"+l));return e};h.prototype.Li=function(a,c){if(""===c)if(a.S)a.H+="H",a.hg===this.Oo&&(a.H+="T");else if(a.Ic)a.H+="V";else if(a.M)switch(a.Ld){case this.ho:a.H+=this.ru.toUpperCase();break;case this.Pp:a.H+=this.qu.toUpperCase();break;case this.Qp:a.H+=this.su.toUpperCase();break;case this.Nr:a.H+=this.ny.toUpperCase();break;case this.Or:a.H+=this.oy.toUpperCase();break;case this.Mr:a.H+=this.my.toUpperCase();break;case this.Pr:a.H+=
this.py.toUpperCase()}c=AliasManager.vs(a.H);if(null===c&&a.Ee&&0===a.dk){c="R"+a.kd+",C"+a.i+",M1,S"+a.ye+".."+a.Jf+",B"+a.jf+".."+a.yg+",N";switch(a.Eh){case this.ne:c+="M";break;case this.Vf:c+="N";break;case this.Rk:c+="C";break;case this.Mj:c+="+";break;case this.qk:c+="X";break;case this.sk:c+="*";break;case this.Xk:c+="2";break;case this.dj:c+="H";break;case this.Lj:c+="B";break;case this.Ej:c+="D";break;case this.Vj:c+="#";break;case 10:c+="@"+a.Dd+a.Mf;break;case this.Gi:c+="3";break;case this.ii:c+=
"A";break;case this.yj:c+="L";break;case this.aj:c+="G";break;case 15:c+="W"+a.Dd+a.Mf;break;case this.xh:c+="F"+a.kA(a.kd)}c=AliasManager.vs(c)}a.Bc&&(a.H+="History");a.O&&(a.H+="Super");-1!==a.Ac&&(a.H+=":"+"ptkcs"[a.Ac].toUpperCase(),a.H+=a.sf,a.eB||(a.H+="*"),a.ws&&(a.H+="+"+a.ws),a.dB&&(a.H+="*"),a.jh!==a.sf||a.yq||a.$v)&&(a.H+=","+a.jh,a.yq&&(a.H+="+"+a.yq),a.$v&&(a.H+="*"));null!==c&&(""===c&&(c="Life"),a.Bc&&(c+="History"),a.O&&(c+="Super"),a.zg=c)};h.prototype.Fm=function(a,c){var d=86,e=
a.length;e>=d?this.ab=8:(d=this.rc,e>=d?(this.ab=6,c.S=!0):(d=this.wc,e>=d?(this.ab=4,c.Ic=!0):d=-1));if(0<=d)for(c=0;c<d;c+=1)-1==="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[c])&&(d=-1);return d};h.prototype.C=function(a,c,d,e,l,k){var p=0,r=c.length,t=a.substr(this.index,r),v=k.kd;if(t!==c)","===c[0]&&(","===t[0]&&(t=t.substr(1)),c=c.substr(1)),this.D="LtL expected '"+c.toUpperCase()+"' got '"+t.toUpperCase()+"'",this.index=-1;else if(","===c[0]&&(c=c.substr(1)),
this.index+=r,this.index<a.length?(r=a[this.index],t=r.charCodeAt(0)):(r="",t=-1),"n"===c)switch(r){case "m":this.index+=1;p=this.ne;break;case "n":this.index+=1;p=this.Vf;break;case "c":this.index+=1;p=this.Rk;break;case "+":this.index+=1;p=this.Mj;break;case "x":this.index+=1;p=this.qk;break;case "*":this.index+=1;p=this.sk;break;case "2":this.index+=1;p=this.Xk;break;case "h":this.index+=1;p=this.dj;break;case "b":this.index+=1;p=this.Lj;break;case "d":this.index+=1;p=this.Ej;break;case "#":this.index+=
1;p=this.Vj;break;case "@":this.index+=1;p=this.We(a,v,"LtL",k);-1===p&&(this.index=-1);break;case "3":this.index+=1;p=this.Gi;break;case "a":this.index+=1;p=this.ii;break;case "l":this.index+=1;p=this.yj;break;case "g":this.index+=1;p=this.aj;break;case "w":this.index+=1;p=this.uf(a,v,"LtL",k);-1===p&&(this.index=-1);break;case "f":this.index+=1;p=this.Ve(a,v,"LtL",k);-1===p&&(this.index=-1);break;default:this.D="LtL 'N' [ABCDFGHLMNWX23*+#@] got 'N"+r.toUpperCase()+"'",this.index=-1}else if(48>t||
57<t)this.D="LtL '"+l+c.toUpperCase()+"' needs a number",this.index=-1;else{for(;48<=t&&57>=t;)p=10*p+(t-48),this.index+=1,this.index<a.length?t=a[this.index].charCodeAt(0):t=-1;-1!==d&&p<d&&(this.D="LtL '"+l+c.toUpperCase()+p+"' < "+d,this.index=-1);-1!==e&&p>e&&(this.D="LtL '"+l+c.toUpperCase()+p+"' > "+e,this.index=-1)}return p};h.prototype.Pq=function(a,c,d){var e=0;switch(c){case this.ne:e=(2*a+1)*(2*a+1)-1;break;case this.Vf:e=2*a*(a+1);break;case this.Rk:d=0;var l=a*a+a;for(c=-a;c<=a;c+=1){for(e=
0;(e+1)*(e+1)+c*c<=l;)e+=1;d+=2*e+1}e=d-1;break;case this.Mj:e=4*a;break;case this.qk:e=4*a;break;case this.sk:e=8*a;break;case this.Xk:d=0;l=a*a;for(c=-a;c<=a;c+=1){for(e=0;(e+1)*(e+1)+c*c<=l;)e+=1;d+=2*e+1}e=d-1;break;case this.dj:e=(2*a+1)*(2*a+1)-a*(a+1)-1;break;case this.Lj:e=((2*a+1)*(2*a+1)-1)/2;break;case this.Ej:e=((2*a+1)*(2*a+1)-1)/2;break;case this.Vj:e=8*a;break;case 10:e=d;break;case this.Gi:e=3*a;break;case this.ii:e=6*a;break;case this.yj:e=(4*a+1)*(2*a+1)-2*a*a-1;break;case this.aj:e=
(a+1)*(a+1)*(a+1)*(a+1);break;case 15:e=d;break;case this.xh:e=8}return e};h.prototype.Pi=function(a,c){var d=!1;this.index=0;var e=this.C(c,"r",1,500,"",a);-1!==this.index&&(a.kd=e,e=this.C(c,",c",0,256,"",a),-1!==this.index&&(2>e&&(e=2),a.i=e,e=this.C(c,",m",0,1,"",a),-1!==this.index&&(a.dk=e,e=this.C(c,",s",0,-1,"",a),-1!==this.index&&(a.ye=e,e=this.C(c,"..",a.ye,-1,"S",a),-1!==this.index&&(a.Jf=e,e=this.C(c,",b",0,-1,"",a),-1!==this.index&&(a.jf=e,e=this.C(c,"..",a.jf,-1,"B",a),-1!==this.index&&
(a.yg=e,e=this.C(c,",n",-1,-1,"",a),-1!==this.index&&(a.Eh=e,d=!0))))))));d&&(this.index!==c.length?(d=!1,this.D="LtL invalid characters after rule"):(c=this.Pq(a.kd,a.Eh,a.dg),c+=a.dk,a.jf>c&&(d=!1,this.D="LtL 'B"+a.jf+"..' > "+c),a.yg>c&&(d=!1,this.D="LtL 'B.."+a.yg+"' > "+c),a.ye>c&&(d=!1,this.D="LtL 'S"+a.ye+"..' > "+c),a.Jf>c&&(d=!1,this.D="LtL 'S.."+a.Jf+"' > "+c)));return d};h.prototype.Ri=function(a,c){var d=!1;this.index=0;a.i=2;a.dk=1;a.Eh=this.ne;var e=this.C(c,"",1,500,"",a);-1!==this.index&&
(a.kd=e,e=this.C(c,",",0,-1,"",a),-1!==this.index&&(a.jf=e,e=this.C(c,",",a.jf,-1,"B",a),-1!==this.index&&(a.yg=e,e=this.C(c,",",0,-1,"",a),-1!==this.index&&(a.ye=e,e=this.C(c,",",a.ye,-1,"S",a),-1!==this.index&&(a.Jf=e,d=!0)))));d&&(this.index!==c.length?(d=!1,this.D="LtL invalid characters after rule"):(c=(2*a.kd+1)*(2*a.kd+1),a.jf>c&&(d=!1,this.D="LtL 'B"+a.jf+"..' > "+c),a.yg>c&&(d=!1,this.D="LtL 'B.."+a.yg+"' > "+c),a.ye>c&&(d=!1,this.D="LtL 'S"+a.ye+"..' > "+c),a.Jf>c&&(d=!1,this.D="LtL 'S.."+
a.Jf+"' > "+c)));return d};h.prototype.Qi=function(a,c){var d=!1;this.index=0;-1===a.i&&(a.i=2);a.dk=1;a.Eh=this.ne;var e=this.C(c,"r",1,500,"",a);-1!==this.index&&(a.kd=e,e=this.C(c,"b",0,-1,"",a),-1!==this.index&&(a.jf=e,e=this.C(c,"t",a.jf,-1,"B",a),-1!==this.index&&(a.yg=e,e=this.C(c,"s",0,-1,"",a),-1!==this.index&&(a.ye=e,e=this.C(c,"t",a.ye,-1,"S",a),-1!==this.index&&(a.Jf=e,d=!0)))));d&&(this.index!==c.length?(d=!1,this.D="LtL invalid characters after rule"):(c=(2*a.kd+1)*(2*a.kd+1),a.jf>c&&
(d=!1,this.D="LtL 'B"+a.jf+"' > "+c),a.yg>c&&(d=!1,this.D="LtL 'B..T"+a.yg+"' > "+c),a.ye>c&&(d=!1,this.D="LtL 'S"+a.ye+"..' > "+c),a.Jf>c&&(d=!1,this.D="LtL 'S..T"+a.Jf+"' > "+c)));return d};h.prototype.qf=function(a,c,d,e,l){var k=!1,p,r="HROT.",t,v=0;if(this.index+d>a.length)this.D="HROT '"+c+"' needs "+d+" hex digits";else{for(p=t=0;t<d&&-1!==p;)p="0123456789abcdef".indexOf(a[this.index]),-1!==p&&(this.index+=1,t+=1);if(-1===p)this.D="HROT '"+c+"' expected hex got '"+a[this.index]+"'";else{"B"===
c?r+="births":(r+="survivals",v=1);l=l.T(Uint8,(d<<2)+1+v,r);k=0;l[k]=0;k+=1;--t;"S"===c&&(l[k]=0,k+=1);for(;0<=t;)p="0123456789abcdef".indexOf(a[this.index-d+t]),--t,l[k]=p&1,k+=1,l[k]=p>>1&1,k+=1,l[k]=p>>2&1,k+=1,l[k]=p>>3&1,k+=1;"B"===c?e.fe=l:e.ff=l;k=!0}}return k};h.prototype.Ka=function(a,c){var d=-1;this.index+=1;if(this.index<a.length){var e=a[this.index].charCodeAt(0);if(48>e||57<e)this.D="HROT '"+c+"' needs a number";else for(d=e-48,this.index+=1,e=-1,this.index<a.length&&(e=a[this.index].charCodeAt(0));48<=
e&&57>=e;)d=10*d+(e-48),this.index+=1,this.index<a.length?e=a[this.index].charCodeAt(0):e=-1}else this.D="HROT '"+c+"' needs a number";return d};h.prototype.Ne=function(a,c,d,e,l){var k=!0;l&&"S"===d&&(e+=1);var p=this.Ka(a,d);-1===p&&(this.D="");for(;k&&-1!==p;){var r=-1;this.index<a.length&&"-"===a[this.index]&&(r=this.Ka(a,d),-1===r&&(this.D="HROT '"+d+p+"-' needs a number",k=!1));if(k&&(-1===r&&(r=p),p>r&&(this.D="HROT '"+d+p+"-"+r+"' wrong order",k=!1),k)){"S"===d?(this.gd=r,l&&(p+=1,r+=1)):
this.Fc=r;p>e&&(p=e);for(r>e&&(r=e);p<=r;p+=1)c[p]=1;p=-1;this.index<a.length&&","===a[this.index]&&(p=this.Ka(a,d),-1===p&&(--this.index,this.D=""))}}return k};h.prototype.uf=function(a,c,d,e){var l=this.index,k=a.length,p=(2*c+1)*(2*c+1),r=p+p,t=0,v=[],x=[],A=0,y=15;for(e.Mf="";l<k&&-1!=="0123456789abcdef".indexOf(a[l]);)l+=1;c=l-this.index;if(c===p)for(;this.index<l;)p="0123456789abcdef".indexOf(a[this.index]),0!==(p&8)&&(p=-(p&7)),v[v.length]=p,this.index+=1;else if(c===r)for(;this.index<l;)p=
"0123456789abcdef".indexOf(a[this.index])<<4,this.index+=1,p|="0123456789abcdef".indexOf(a[this.index]),this.index+=1,0!==(p&128)&&(p=-(p&127)),v[v.length]=p;else this.D=d+" 'NW' needs "+String(p)+" or "+String(r)+" hex digits",y=-1;-1!==y&&this.index<k&&("h"===a[this.index]?(e.Mf="H",this.index+=1):"l"===a[this.index]&&(e.Mf="L",this.index+=1));if(-1!==y)if(","===a[this.index]){for(l=this.index+=1;l<k&&-1!=="0123456789abcdef".indexOf(a[l]);)l+=1;t=l-this.index;if(t!==e.i)this.D=d+" 'NW' needs "+
String(e.i)+" state weights",y=-1;else for(l=0;l<e.i;l+=1)p="0123456789abcdef".indexOf(a[this.index]),this.index+=1,x[x.length]=p,p>A&&(A=p)}else A=1;if(-1!==y){for(d=p=0;d<v.length;d+=1)0<v[d]&&(p+=v[d]*A);e.Dd=0<x.length?a.substr(this.index-(c+t+1),c+t+1).toLowerCase():a.substr(this.index-c,c).toLowerCase();e.dg=p;e.If=v;e.Sh=x}-1===y&&(e.Dd="",e.dg=-1,e.If=null,e.Sh=null);return y};h.prototype.rf=function(a,c){for(var d=0,e,l=!1,k=!1;!k&&this.index<c;)e=a.charCodeAt(this.index),48<=e&&57>=e?(l=
!0,d=10*d+(e-48),this.index+=1):k=!0;l||(d=-1);return d};h.prototype.Ve=function(a,c,d,e){var l=a.length,k=-1,p=-1,r=-1;if(this.index>=l)return e.cg=c,e.eg=c,r=this.xh;var t=a[this.index].toUpperCase();for(this.index+=1;"C"===t||"E"===t;){if("C"===t)if(-1===k){if(k=this.rf(a,l),-1===k&&(k=c),1>k||500<k)return this.D=d+" 'NF' invalid corner range",r}else return this.D=d+" 'NF' duplicate 'C'",r;else if(-1===p){if(p=this.rf(a,l),-1===p&&(p=c),1>p||500<p)return this.D=d+" 'NF' invalid edge range",r}else return this.D=
d+" 'NF' duplicate 'E'",r;this.index<l?(t=a[this.index].toUpperCase(),this.index+=1):t=""}""!==t&&--this.index;e.cg=-1===k?c:k;e.eg=-1===p?c:p;return r=this.xh};h.prototype.We=function(a,c,d,e){var l=this.index,k=a.length,p=0;c=((2*c+1)*(2*c+1)-1)/4;var r=0,t=10;for(e.Mf="";l<k&&p<c&&-1!==t;){var v="0123456789abcdef".indexOf(a[l]);0<=v?(l+=1,p+=1,r+=this.Od(v)):t=-1}p!==c&&(t=-1);-1===t?(this.D=d+" 'N@' needs "+String(c)+" hex digits",e.Dd="",e.dg=-1):(e.Dd=a.substr(this.index,p).toLowerCase(),e.dg=
r,this.index+=p,l<k&&("h"===a[l]?(e.Mf="H",this.index+=1):"l"===a[l]&&(e.Mf="L",this.index+=1)));return t};h.prototype.jm=function(a,c){var d=a.kd,e;a.Vd=d;a.ub=a.Eh;d=this.Pq(d,a.Eh,a.dg);d+=a.dk;a.ff=c.T(Uint8,d+2,"HROT.survivals");a.fe=c.T(Uint8,d+1,"HROT.births");for(e=a.ye;e<=a.Jf;e+=1)a.ff[e]=1;for(e=a.jf;e<=a.yg;e+=1)a.fe[e]=1;if(this.Lb){a.qo=c.T(Uint8,d+2,"HROT.altSurvivals");a.oo=c.T(Uint8,d+1,"HROT.altBirths");for(e=a.ZF;e<=a.YF;e+=1)a.qo[e]=1;for(e=a.XF;e<=a.WF;e+=1)a.oo[e]=1}a.oa=!0};
h.prototype.di=function(a,c,d){var e=!1,l=0,k=!0,p=c.indexOf(",n"),r=c.indexOf(",p");this.gd=this.Fc=this.index=0;if("r"!==c[this.index])this.D="HROT expected 'R' got '"+c[this.index].toUpperCase()+"'";else{var t=this.Ka(c,"R");-1!==t&&(1>t?this.D="HROT 'R' < 1":500<t?this.D="HROT 'R' > 500":(a.Vd=t,e=!0))}e&&(e=!1,this.index<c.length?","!==c[this.index]?this.D="HROT expected ',' got "+c[this.index].toUpperCase():(this.index+=1,this.index<c.length?"c"!==c[this.index]?this.D="HROT expected 'C' got "+
c[this.index].toUpperCase():(t=this.Ka(c,"C"),-1!==t&&(0>t?this.D="HROT 'C"+t+"' < 0":256<t?this.D="HROT 'C"+t+"' > 256":(2>t&&(t=2),a.i=t,e=!0))):this.D="HROT expected 'C'"):this.D="HROT expected ','");if(e){t=this.index;this.index=p;k=!0;a.ub=this.ne;if(-1!==this.index&&this.index<c.length&&","===c[this.index]){e=!1;this.index+=1;if(this.index<c.length)if("n"===c[this.index])if(this.index+=1,this.index<c.length)switch(c[this.index]){case "m":a.ub=this.ne;this.index+=1;e=!0;break;case "n":a.ub=this.Vf;
this.index+=1;e=!0;break;case "c":a.ub=this.Rk;this.index+=1;e=!0;break;case "+":a.ub=this.Mj;this.index+=1;e=!0;break;case "x":a.ub=this.qk;this.index+=1;e=!0;break;case "*":a.ub=this.sk;this.index+=1;e=!0;break;case "2":a.ub=this.Xk;this.index+=1;e=!0;break;case "h":a.ub=this.dj;this.index+=1;e=!0;break;case "b":a.ub=this.Lj;this.index+=1;e=!0;break;case "d":a.ub=this.Ej;this.index+=1;e=!0;break;case "#":a.ub=this.Vj;this.index+=1;e=!0;break;case "@":this.index+=1;a.ub=this.We(c,a.Vd,"HROT",a);
-1!==a.ub&&(e=!0);break;case "3":a.ub=this.Gi;this.index+=1;e=!0;break;case "a":a.ub=this.ii;this.index+=1;e=!0;break;case "l":a.ub=this.yj;this.index+=1;e=!0;break;case "g":a.ub=this.aj;k=!1;this.index+=1;e=!0;break;case "w":this.index+=1;a.ub=this.uf(c,a.Vd,"HROT",a);-1!==a.ub&&(k=!1,e=!0);break;case "f":this.index+=1;a.ub=this.Ve(c,a.Vd,"HROT",a);-1!==a.ub&&(e=!0);break;default:this.D="HROT 'N' [ABCDFGHLMNWX23*+#@] got '"+c[this.index].toUpperCase()+"'"}else this.D="HROT 'N' needs a neighborhood";
else this.D="HROT expected 'N' got '"+c[this.index].toUpperCase()+"'";else this.D="HROT expected 'N'";p=this.index}l=this.Pq(a.Vd,a.ub,a.dg);this.index=t}e&&(e=!1,this.index<c.length?","!==c[this.index]?this.D="HROT expected ',' got "+c[this.index].toUpperCase():(this.index+=1,this.index<c.length?"s"!==c[this.index]?this.D="HROT expected 'S' got "+c[this.index].toUpperCase():(a.ff=d.T(Uint8,l+2,"HROT.survivals"),e=this.Ne(c,a.ff,"S",l,k)):this.D="HROT expected 'S'"):this.D="HROT expected ','");e&&
(e=!1,this.index<c.length?","!==c[this.index]?this.D="HROT expected ',' got "+c[this.index].toUpperCase():(this.index+=1,this.index<c.length?"b"!==c[this.index]?this.D="HROT expected 'B' got "+c[this.index].toUpperCase():(a.fe=d.T(Uint8,l+1,"HROT.births"),e=this.Ne(c,a.fe,"B",l,k)):this.D="HROT expected 'B'"):this.D="HROT expected ','");e&&(-1!==p&&(this.index=p),a.qx=!1,-1!==r&&r===this.index&&(a.qx=!0,this.index+=2),this.index!==c.length&&(e=!1,this.D="HROT invalid characters after rule"),this.gd>
l&&(e=!1,this.D="HROT 'S"+this.gd+"' > "+l),e&&this.Fc>l&&(e=!1,this.D="HROT 'B"+this.Fc+"' > "+l));e&&(a.oa=!0);return e};h.prototype.ci=function(a,c,d){var e=!1,l=0;this.index=0;-1===a.i&&(a.i=2);if("r"!==c[this.index])this.D="HROT expected 'R' got '"+c[this.index].toUpperCase()+"'";else{var k=-1;this.index+=1;this.index<c.length&&(k=c[this.index].charCodeAt(0));if(48>k||57<k)this.D="HROT 'R' needs a number";else{var p=k-48;this.index+=1;k=-1;for(this.index<c.length&&(k=c[this.index].charCodeAt(0));48<=
k&&57>=k;)p=10*p+(k-48),this.index+=1,this.index<c.length?k=c[this.index].charCodeAt(0):k=-1;1>p?this.D="HROT 'R' < 1":500<p?this.D="HROT 'R' > 500":(a.Vd=p,e=!0,l=p*(p+1))}}e&&(e=!1,this.index<c.length?"b"!==c[this.index]?this.D="HROT expected 'B' got "+c[this.index].toUpperCase()+"'":(this.index+=1,e=this.qf(c,"B",l,a,d)):this.D="HROT expected 'B'");e&&(e=!1,this.index<c.length?"s"!==c[this.index]?this.D="HROT expected 'S' got "+c[this.index].toUpperCase()+"'":(this.index+=1,e=this.qf(c,"S",l,a,
d)):this.D="HROT expected 'S'");e&&this.index<c.length&&"z"===c[this.index]&&(a.ff[1]=1,this.index+=1);e&&(this.index!==c.length?(e=!1,this.D="HROT invalid characters after rule"):(a.ub=this.ne,a.oa=!0));return e};h.prototype.ze=function(a,c){for(var d=a.length,e=-1,l="",k=0;k<d;)1===a[k]?-1===e&&(e=k):-1!==e&&(""!==l&&(l+=","),l+=e+c,k-1!==e&&(l+="-"+(k-1+c)),e=-1),k+=1;-1!==e&&(""!==l&&(l+=","),l+=e+c,k-1!==e&&(l+="-"+(k-1+c)));return l};h.prototype.Ya=function(a,c,d){var e="",l=!1;var k=AliasManager.aB(c);
null!==k&&(e=AliasManager.vs(k),c=k);k=c.indexOf("|");if(-1===k)(l=this.ae(a,c,d,this.nk))&&a.M&&this.Pd(a,this.XD,this.TD);else if(-1===c.substr(k+1).indexOf("|")){if(l=this.ae(a,c.substr(0,k),d,this.SD)){var p=new g(a.name,this);p.C(a);a.$O();if(l=this.ae(a,c.substr(k+1),d,this.nk))if(this.D=a.tN(p),""===this.D)if(a.oa&&(0!==a.fe[0]||0!==p.fe[0])||!a.M&&(this.nk[0]||this.SD[0])||a.M&&0!==(a.Kk&1)||0!==(p.Kk&1))this.D="Alternate not supported with B0",a.oa&&(a.H=p.un),l=!1;else{a.M&&(this.Pd(p,this.TD,
null),this.Pd(a,this.XD,null));if(""!==e)a.zg=e;else if(""!==a.zg||""!==p.zg)""===a.zg&&(a.zg=a.H),""===p.zg&&(p.zg=p.H),a.zg=p.zg+"|"+a.zg;a.H=p.H+"|"+a.H;e=AliasManager.vs(a.H);null!==e&&(a.zg=e);(a.oa||a.Ee)&&a.wL(p,d);this.Lb=!0}else a.un=p.un,l=!1}}else this.D="Only one alternate allowed";return l};h.prototype.Ui=function(a,c){var d=!0,e=a.length,l=0;if("2pca4"!==a.substr(0,5))this.D="PCA rule must start with 2PCA4",d=!1;else{var k=5;var p=-1;if(","!==a[k])d=!0;else for(k+=1;d&&16>l&&k<e;)if(k<
e){var r=a[k];k+=1;"0"<=r&&"9">=r?(-1===p&&(p=0),p=10*p+r.charCodeAt(0)-48):","===r?15<p?(this.D="Value must be from 0 to 15",d=!1):(c[l]=p,l+=1,p=-1):(this.D="Illegal character found in rule",d=!1)}d&&(-1===p?(this.D=16===l?"Extra characters found after rule":"Need 16 values",d=!1):15<p?(this.D="Value must be from 0 to 15",d=!1):(c[l]=p,16!==l+1&&(this.D="Need 16 values",d=!1)))}return d};h.prototype.Si=function(a,c){var d=!0,e=0,l=a.length,k,p=0;if("m"!==a[e])this.D="Margolus rule must start with M",
d=!1;else{e+=1;"s,d"===a.substr(e,e+2)&&(e+=3);for(k=-1;d&&16>p&&e<l;)if(e<l){var r=a[e];e+=1;"0"<=r&&"9">=r?(-1===k&&(k=0),k=10*k+r.charCodeAt(0)-48):","===r||";"===r?15<k?(this.D="Value must be from 0 to 15",d=!1):(c[p]=k,p+=1,k=-1):(this.D="Illegal character found in rule",d=!1)}d&&(-1===k?(this.D=16===p?"Extra characters found after rule":"Need 16 values",d=!1):15<k?(this.D="Value must be from 0 to 15",d=!1):(c[p]=k,16!==p+1&&(this.D="Need 16 values",d=!1)))}return d};h.prototype.ae=function(a,
c,d,e){var l=!1,k=null,p=null,r=null,t="012345678ceaiknjqrytwz-";var v=this.jB.length;var x=this.gw.length;var A=this.ru.length;var y=this.qu.length,D=this.su.length;var b=this.ny.length;var m=this.oy.length,f=this.my.length,u=this.py.length,z=this.yy.length,B="";e[0]=0;var C=AliasManager.aB(c);null!==C&&(""===c&&(a.H="Life"),c=C);if("map"===c.substr(0,3).toLowerCase()){B=c.substr(3);var E=B.indexOf("/");-1===E?"=="===B.substr(-2)&&(B=B.substr(0,B.length-2)):"=="===B.substr(E-2,2)&&(B=B.substr(0,
E-2)+B.substr(E));c=this.Fm(B,a);if(0<=c)if(l=!0,r=B.substr(c),B=B.substr(0,c),"/"===r[0]){C=1;a.i=0;C<r.length&&("g"===r[C].toLowerCase()||"c"===r[C].toLowerCase())&&(C+=1);for(E=0;C<r.length&&-1!==E;)E="0123456789".indexOf(r[C]),-1!==E?a.i=10*a.i+E:(this.D="Illegal character in generations number",a.i=-1,l=!1),C+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.D="Generations number must be 2-256",a.i=-1,l=!1)}else""!==r&&(C=r.length,this.D="MAP length must be "+this.wc+", "+this.rc+" or 86 not "+(C+c),l=!1);
else this.D=86===B.length||B.length===this.rc||B.length===this.wc?"MAP contains illegal base64 character":"MAP length must be "+this.wc+", "+this.rc+" or 86 not "+B.length}else if(c=c.toLowerCase(),c=this.vf(c),"2pca4"===c.substr(0,5)){if(l=this.Ui(c,e))a.L=!0,a.i=16}else if("m"===c[0]){if(l=this.Si(c,e))a.ia=!0}else{l=!0;if("g"===c[0]){C=1;for(E=a.i=0;C<c.length&&-1!==E;)E="0123456789".indexOf(c[C]),-1!==E&&(a.i=10*a.i+E,C+=1);1<C&&(2>a.i||256<a.i?(this.D="Generations number must be 2-256",a.i=-1,
l=!1):(C<c.length&&"/"===c[C]&&(C+=1),c=c.substr(C),l=!0))}if(l&&(E=c.lastIndexOf("g"),-1!==E&&E!==c.length-1&&!(0<E&&"/"===c[E-1]))){C=E+1;for(E=a.i=0;C<c.length&&-1!==E;)E="0123456789".indexOf(c[C]),-1!==E&&(a.i=10*a.i+E,C+=1);C===c.length?2>a.i||256<a.i?(this.D="Generations number must be 2-256",a.i=-1,l=!1):(c=c.substr(0,c.lastIndexOf("g")),l=!0):a.i=-1}if(l)if(l=!1,"r"===c[0]||"1"<=c[0]&&"9">=c[0]&&-1!==c.indexOf(",")){if(l="r"===c[0]?-1!==c.indexOf(".")?this.Pi(a,c):-1!==c.indexOf("t")&&-1===
c.indexOf("n")?this.Qi(a,c):-1!==c.indexOf(",")?this.di(a,c,d):this.ci(a,c,d):this.Ri(a,c))if(a.oa){a.ub===this.xh&&(a.cg>a.Vd&&(a.Vd=a.cg),a.eg>a.Vd&&(a.Vd=a.eg));r=15===a.ub||a.ub===this.aj?0:-1;a.H="R"+a.Vd+",";a.H+="C"+a.i+",";a.H+="S"+this.ze(a.ff,r)+",";a.H+="B"+this.ze(a.fe,0);if(a.ub!==this.ne)switch(a.H+=",N",a.ub){case this.Vf:a.H+="N";break;case this.Rk:a.H+="C";break;case this.Mj:a.H+="+";break;case this.qk:a.H+="X";break;case this.sk:a.H+="*";break;case this.Xk:a.H+="2";break;case this.dj:a.H+=
"H";break;case this.Lj:a.H+="B";break;case this.Ej:a.H+="D";break;case this.Vj:a.H+="#";break;case 10:a.H+="@"+a.Dd+a.Mf;break;case this.Gi:a.H+="3";break;case this.ii:a.H+="A";break;case this.yj:a.H+="L";break;case this.aj:a.H+="G";break;case 15:a.H+="W"+a.Dd+a.Mf;break;case this.xh:a.H+="F"+a.kA(a.Vd)}a.qx&&(a.H+=",P")}else{a.Eh===this.xh&&(a.cg>a.kd&&(a.kd=a.cg),a.eg>a.kd&&(a.kd=a.eg));a.Ee=!0;a.H="R"+a.kd+",C"+a.i+",M"+a.dk+",S"+a.ye+".."+a.Jf+",B"+a.jf+".."+a.yg+",N";switch(a.Eh){case this.ne:a.H+=
"M";break;case this.Vf:a.H+="N";break;case this.Rk:a.H+="C";break;case this.Mj:a.H+="+";break;case this.qk:a.H+="X";break;case this.sk:a.H+="*";break;case this.Xk:a.H+="2";break;case this.dj:a.H+="H";break;case this.Lj:a.H+="B";break;case this.Ej:a.H+="D";break;case this.Vj:a.H+="#";break;case 10:a.H+="@"+a.Dd+a.Mf;break;case this.Gi:a.H+="3";break;case this.ii:a.H+="A";break;case this.yj:a.H+="L";break;case this.aj:a.H+="G";break;case 15:a.H+="W"+a.Dd+a.Mf;break;case this.xh:a.H+="F"+a.kA(a.kd)}0===
a.dk&&(a.ye+=1,a.Jf+=1)}}else if("w"===c[0])l=this.Dk(a,c,e);else if(d=c.lastIndexOf(this.ru),-1!==d&&d===c.length-A&&(a.M=!0,a.Ld=this.ho,c=c.substr(0,c.length-A),t=this.de),d=c.lastIndexOf(this.qu),-1!==d&&d===c.length-y&&(a.M=!0,a.Ld=this.Pp,c=c.substr(0,c.length-y),t=this.ce),d=c.lastIndexOf(this.su),-1!==d&&d===c.length-D&&(a.M=!0,a.Ld=this.Qp,c=c.substr(0,c.length-D),t=this.ee),d=c.lastIndexOf(this.ny),-1!==d&&d===c.length-b&&(a.M=!0,a.Ld=this.Nr,c=c.substr(0,c.length-b),t=this.Vg),d=c.lastIndexOf(this.oy),
-1!==d&&d===c.length-m&&(a.M=!0,a.Ld=this.Or,c=c.substr(0,c.length-m),t=this.Yg),d=c.lastIndexOf(this.my),-1!==d&&d===c.length-f&&(a.M=!0,a.Ld=this.Mr,c=c.substr(0,c.length-f),t=this.Pg),d=c.lastIndexOf(this.py),-1!==d&&d===c.length-u&&(a.M=!0,a.Ld=this.Pr,c=c.substr(0,c.length-u),t=this.$g),b=c.lastIndexOf(this.jB),-1!==b&&b===c.length-v&&(a.S=!0,a.hg=this.Oo,c=c.substr(0,c.length-v),t=this.Em),b=c.lastIndexOf(this.gw),-1!==b&&b===c.length-x&&(a.S=!0,a.hg=this.Bq,c=c.substr(0,c.length-x),t=this.Og),
b=c.lastIndexOf(this.yy),-1!==b&&b===c.length-z&&(a.Ic=!0,c=c.substr(0,c.length-z),t=this.sh),v=c.indexOf("/"),-1===v&&(v=c.indexOf("_")),-1!==v&&(b=c.lastIndexOf("/"),-1===b&&(b=c.lastIndexOf("_")),b!==v&&(r=c.substring(b+1),c=c.substr(0,b),d=c.lastIndexOf(this.ru),-1!==d&&d===c.length-A&&(a.M=!0,a.Ld=this.ho,c=c.substr(0,c.length-A),t=this.de),d=c.lastIndexOf(this.qu),-1!==d&&d===c.length-y&&(a.M=!0,a.Ld=this.Pp,c=c.substr(0,c.length-y),t=this.ce),d=c.lastIndexOf(this.su),-1!==d&&d===c.length-D&&
(a.M=!0,a.Ld=this.Qp,c=c.substr(0,c.length-D),t=this.ee),b=c.lastIndexOf(this.gw),-1!==b&&b===c.length-x&&(a.S=!0,c=c.substr(0,c.length-x),t=this.Og),b=c.lastIndexOf(this.yy),-1!==b&&b===c.length-z&&(a.Ic=!0,c=c.substr(0,c.length-z),t=this.sh))),c===this.Se)a.za=!0,a.i=256,l=!0;else{x=c.indexOf("b");A=c.indexOf("s");-1===v?0===x||0===A?-1===A?(k=c,p=""):-1===x?(p=c,k=""):x<A&&-1!==A?(k=c.substring(x+1,A),p=c.substring(A+1)):(p=c.substring(A+1,x),k=c.substring(x+1)):this.D="Unsupported rule name":
(-1===x&&-1!==A?x=v:-1!==x&&-1===A&&(A=v),x<A?(k=c.substring(0,v),p=c.substring(v+1)):(k=c.substring(v+1),p=c.substring(0,v)));-1!==x&&k&&"b"===k[0]&&(k=k.substring(1));-1!==A&&p&&"s"===p[0]&&(p=p.substring(1));if(null!==r)if(C=0,-1!==a.i)this.D="Generations defined twice",k=null;else{a.i=0;C<r.length&&("g"===r[C].toLowerCase()||"c"===r[C].toLowerCase())&&(C+=1);for(E=0;C<r.length&&-1!==E;)E="0123456789".indexOf(r[C]),-1!==E?a.i=10*a.i+E:(this.D="Illegal character in generations number",a.i=-1,k=
null),C+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.D="Generations number must be 2-256",a.i=-1,k=null)}if(null!==k&&null!==p){l=!0;for(C=0;C<k.length;)E=t.indexOf(k[C]),-1===E?(this.D="Illegal character in birth specification",l=!1,C=k.length):C+=1;if(l)for(C=0;C<p.length;)E=t.indexOf(p[C]),-1===E?(this.D="Illegal character in survival specification",l=!1,C=p.length):C+=1}}}l&&-1===a.ve&&!1===a.Ee&&!1===a.oa&&(e=this.Vh(a,k,p,B,e),""===this.D?a.H=e:l=!1,2===a.i&&(a.i=-1));l?this.Li(a,B):(a.IQ=!1,a.oa=!1,
a.i=-1,a.za=!0);return l};h.prototype.mq=function(a,c,d,e){var l=0,k=c.length-1,p=!1,r=!0,t,v=0,x=0,A=0,y=0,D=this.Ap;for(t=c[l];!p;){var b=t;t=c[l+1];var m=-1;switch(b){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":y=10*y+parseInt(b,10);break;case "b":m=0;break;case "o":m=1;break;case ".":m=0;break;case "z":m=7;a.Bc=!0;a.Gq=!0;break;case "$":0===y&&(y=1);A+=y;y=0;x>v&&(v=x);x=0;break;case "!":0===y&&(y=1);A+=y;y=0;x>v&&(v=x);p=!0;break;default:r=!1,"A"<=
b&&"X">=b?(r=!0,m=b.charCodeAt(0)-64):"p"<=b&&"y">b?"A"<=t&&"X">=t?(r=!0,m=24*(b.charCodeAt(0)-111)+(t.charCodeAt(0)-64),l+=1,t=c[l+1]):"x"===b&&(r=!0,a.Bc=!0,a.Gq=!0,m=3):"y"===b&&("A"<=t&&"O">=t?(r=!0,m=24*(b.charCodeAt(0)-111)+(t.charCodeAt(0)-64),l+=1,t=c[l+1]):(r=!0,a.Bc=!0,a.Gq=!0,m=5))}if(0<=m)if(0===y&&(y=1),d||(0===D[m]&&(a.qt+=1),D[m]+=y,m>=a.wd&&(a.wd=m+1)),0<m&&d)for(;0<y;){a.Dh[A][x]=-1===a.i?m:2===a.i?1===m?LifeConstants.Qa:0:m<a.i?m:1;if(!a.Bc&&!a.O&&-1===a.i&&1===m||(a.Bc||a.O)&&m&
1||-1!==a.i&&1===m)a.$e[A][x>>4]|=1<<(~x&15);x+=1;--y}else x+=y,y=0;r||(" "===b||"\t"===b||"\n"===b?r=!0:(this.D="Illegal character in pattern: "+b,this.Y=p=a.So=!0));l+=1;l===k&&(p||(0===y&&(y=1),A+=y,y=0,x>v&&(v=x)),p=!0)}d||(0===v&&(A=v=1),a.width=v,a.height=A,16384<v||16384<A?a.Zg=!0:(a.$e=Array.matrix(Uint16,A,(v-1>>4)+1,0,e,"Pattern.lifeMap"),a.Dh=Array.matrix(Uint8,A,v,0,e,"Pattern.multiStateMap")),a.hk="RLE");a.So&&(l=-1);return l};h.prototype.Zl=function(a,c){var d=c.indexOf("\n");-1===d&&
(d=c.length);a.wI=c.substring(0,d).trim()};h.prototype.hd=function(a,c,d){for(var e=!1;c<d&&!e;)" "===a[c]?c+=1:e=!0;return c};h.prototype.Ol=function(a){var c=a.indexOf("\n"),d=0,e=!1,l=!1,k=0;-1===c&&(c=a.length);for(;k<c&&!e;)"="===a[k]?e=!0:" "!==a[k]?e=!0:k+=1;if(e&&"="===a[k]){k=this.hd(a,k+1,c);k<c&&"-"===a[k]&&(l=!0,k+=1);for(e=!1;k<c&&!e;){var p="0123456789".indexOf(a[k]);-1!==p?(d=10*d+p,k+=1):e=!0}this.Hl=!0;l&&(d=-d);this.YA=d}};h.prototype.tf=function(a,c){var d=a.indexOf("\n"),e=0,l=
0,k=!1,p=!1,r=!1,t=0;-1===d&&(d=a.length);if(c){for(;t<d&&!r;)"="===a[t]?r=!0:" "!==a[t]?r=!0:t+=1;r&&"="===a[t]&&(t+=1)}else r=!0;if(r&&(t=this.hd(a,t,d),t<d)){"-"===a[t]&&(k=!0,t+=1);for(r=!1;t<d&&!r;)c="0123456789".indexOf(a[t]),-1!==c?(e=10*e+c,t+=1):r=!0;this.mg=!0;this.nx=k?-e:e;t=this.hd(a,t,d);if(t<d&&","===a[t]&&(t=this.hd(a,t+1,d),t<d)){"-"===a[t]&&(p=!0,t+=1);for(r=!1;t<d&&!r;)c="0123456789".indexOf(a[t]),-1!==c?(l=10*l+c,t+=1):r=!0;this.ox=p?-l:l}}};h.prototype.Ni=function(a){var c=a.indexOf("XRLE");
0===c&&(c=a.indexOf("Pos"),-1!==c&&this.tf(a.substr(c+3),!0),c=a.indexOf("Gen"),-1!==c&&this.Ol(a.substr(c+3)))};h.prototype.Xl=function(a,c){var d=c.indexOf("\n");-1===d&&(d=c.length);a.name=c.substring(0,d).trim()};h.prototype.Nd=function(a,c,d,e){var l=d.indexOf("\n");-1===l&&(l=d.length);" "===d[0]&&(c+=" ");d=""+d.substring(0,l).trim();a.title+=d+" ";e?a.ah+=c+d+"\n":a.Lc+=c+d+"\n";return l+1};h.prototype.G=function(a){var c=-1;a+=" ";var d="0123456789".indexOf(a[this.index]);if(-1!==d)for(c=
0;-1!==d;)c=10*c+d,this.index+=1,d="0123456789".indexOf(a[this.index]);return c};h.prototype.Cj=function(a,c){var d=this.G(c),e=!0;c=c[this.index];a.sf=d;a.jh=d;"*"===c&&(e=!1,this.index+=1);a.eB=e};h.prototype.Bk=function(a,c){var d=this.G(c),e=-1,l=0,k=0;if(-1!==d){var p=c[this.index];if("-"===p||"+"===p)this.index+=1,l=this.G(c),-1===l?d=-1:"-"===p&&(l=-l);if(","===c[this.index])if(this.index+=1,e=this.G(c),-1===e)d=-1;else{if(p=c[this.index],"-"===p||"+"===p)this.index+=1,k=this.G(c),-1===k?d=
-1:"-"===p&&(k=-k)}else e=d}0!==l&&0!==k&&(d=-1);0===d&&0===e&&(d=-1);0===l&&0===k||0!==d&&0!==e||(d=-1);a.sf=d;a.jh=e;a.ws=l;a.yq=k};h.prototype.Oi=function(a,c){var d=this.G(c),e=-1,l=0,k=0,p=!1,r=!1;if(-1!==d){var t=c[this.index];"*"===t&&(p=!0,this.index+=1,t=c[this.index]);if("-"===t||"+"===t)l=this.G(c),-1===l?d=-1:"-"===t&&(l=-l),this.index+=1,t=c[this.index];if(","===t)if(this.index+=1,e=this.G(c),-1===e)d=-1;else{if(t=c[this.index],"*"===t&&(r=!0,this.index+=1,t=c[this.index]),"-"===t||"+"===
t)this.index+=1,k=this.G(c),-1===k?d=-1:"-"===t&&(k=-k)}else e=d}p&&r&&(d=-1);0!==l&&0!==k&&(d=-1);if(p&&0!==k||r&&0!==l)d=-1;if(0===d||0===e)d=-1;p||r||(r=!0);a.sf=d;a.jh=e;a.ws=l;a.yq=k;a.dB=p;a.$v=r};h.prototype.bi=function(a,c){var d=this.G(c),e=-1;-1!==d&&(","===c[this.index]?(this.index+=1,e=this.G(c),-1===e&&(d=-1)):e=d);a.sf=d;a.jh=e};h.prototype.Vi=function(a,c){var d=this.G(c),e=-1;-1!==d&&(","===c[this.index]?(this.index+=1,e=this.G(c),-1===e&&(d=-1)):e=d);0===d&&0===e&&(d=-1);a.sf=d;a.jh=
e};h.prototype.Zh=function(a,c){var d=!1;c=this.vf(c).toLowerCase();if(""!==c){a.Ac="ptkcs".indexOf(c[0]);if(-1!==a.Ac)if(this.index=1,2!==a.Ac&&4!==a.Ac&&-1!==c.indexOf("*"))a.sf=-1;else switch(a.Ac){case 0:this.Vi(a,c);break;case 1:this.Bk(a,c);break;case 2:this.Oi(a,c);break;case 3:this.bi(a,c);break;case 4:this.Cj(a,c);break;default:a.sf=-1}this.index!==c.length&&(a.sf=-1);-1!==a.sf?d=!0:(a.Ac=-1,this.D="Invalid bounded grid definition '"+c.toUpperCase()+"'")}return d};h.prototype.ic=function(a,
c,d,e){var l,k,p=null;if(d[c]===a){for(c+=1;c<e&&" "===d[c];)c+=1;for(c<e&&"="===d[c]&&(c+=1);c<e&&" "===d[c];)c+=1;a=0;var r=l=!1;"-"===d[c]&&(c+=1,r=!0);for(k=d[c].charCodeAt(0);c<e&&48<=k&&57>=k;)a=10*a+(k-48),c+=1,l=!0,c<e&&(k=d[c].charCodeAt(0));for(l&&(p=r?-a:a);c<e&&" "===d[c];)c+=1;for(c<e&&","===d[c]&&(c+=1);c<e&&" "===d[c];)c+=1}return[p,c]};h.prototype.Wi=function(a,c){this.pg=this.qg=-1;var d=this.ic("x",0,a,c);var e=d[1];d[0]&&(this.qg=d[0]);d=this.ic("y",e,a,c);e=d[1];d[0]&&(this.pg=
d[0]);d=this.ic("h",e,a,c);e=d[1];d[0]&&(this.nx=d[0],this.mg=!0);d=this.ic("v",e,a,c);d[0]&&(this.ox=d[0])};h.prototype.Re=function(a,c,d,e){var l=c.indexOf("\n"),k=c.indexOf("rule"),p="";-1===l&&(l=c.length);this.Wi(c,l);-1===k?d?p="":p=c.substring(1,l).trim():(p=c.substring(k+4,l).trim(),"="===p[0]&&(p=p.substring(1).trim()));a.un=p;a.H=p;d=p.indexOf(":");c=p.lastIndexOf(":");-1!==c&&d===c&&null!==AliasManager.aB(a.H)&&(c=-1);-1!==c&&(this.Zh(a,p.substring(c+1))?p=p.substr(0,c).trim():c=-2);k=
p.toLowerCase().lastIndexOf("history");-1!==k&&k===p.length-7&&(a.Bc=!0,p=p.substr(0,p.length-7).trim());k=p.indexOf("|");-1!==k&&"history"===p.toLowerCase().substr(0,k).trim().substr(-7)&&(a.Bc=!0,d=p.substr(0,k).trim(),p=d.substr(0,d.length-7)+p.substr(k));a.Bc||(k=p.toLowerCase().lastIndexOf("super"),-1!==k&&k===p.length-5&&(a.O=!0,p=p.substr(0,p.length-5).trim()),k=p.indexOf("|"),-1!==k&&"super"===p.toLowerCase().substr(0,k).trim().substr(-5)&&(a.O=!0,d=p.substr(0,k).trim(),p=d.substr(0,d.length-
5)+p.substr(k)));-2!==c&&this.Ya(a,p,e)?this.Ba=!0:this.Dl=!0;return l+1};h.prototype.dG=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a};h.prototype.em=function(a,c){var d=a.fe,e=a.ff,l=this.Pq(a.Vd,a.ub,a.dg);var k=new Uint8Array(a.fe.length);var p=new Uint8Array(a.ff.length);if(e[l+1]){for(a=0;a<=l;a++)k[a]=1-e[l-a+1],p[a+1]=1-d[l-a];for(a=0;a<=l;a++)d[a]=k[a],
e[a+1]=p[a+1];this.Lb=!1}else{a.oo=c.T(Uint8,a.fe.length,"HROT.altBirths");a.qo=c.T(Uint8,a.ff.length,"HROT.altSurvivals");k=a.oo;p=a.qo;for(a=0;a<=l;a++)k[a]=e[l-a+1],p[a+1]=d[l-a];for(a=0;a<=l;a++)d[a]=1-d[a],e[a+1]=1-e[a+1];this.Lb=!0}};h.prototype.Qe=function(a,c,d){var e=0,l=c.length,k=!1,p=!1;var r=this.Ap;var t=0,v=4;a.ia=!1;a.za=!1;a.Ac=-1;a.width=0;a.height=0;a.Zg=!1;a.$e=null;a.Dh=null;a.So=!1;a.Bc=!1;a.O=!1;a.Gq=!1;a.S=!1;a.ve=-1;a.Ic=!1;a.i=-1;a.Ee=!1;a.kd=-1;a.dk=1;a.ye=-1;a.Jf=-1;a.jf=
-1;a.yg=-1;a.oa=!1;a.fe=null;a.ff=null;a.Vd=-1;a.title="";a.Lc="";a.ah="";a.wd=2;a.qt=0;r.fill(0);for(c+=" ";e<l&&!a.So;)switch(r=c[e],r){case "#":e+=1;r=c[e];e+=1;switch(r){case "N":this.Xl(a,c.substring(e));break;case "O":this.Zl(a,c.substring(e));break;case "C":this.Ni(c.substring(e));break;case "P":case "R":this.tf(c.substring(e),!1);break;case "\n":--e}e="\n"===r?e+this.Nd(a,"#",c.substring(e),k):e+this.Nd(a,"#"+r,c.substring(e),k);break;case "x":e+=this.Re(a,c.substring(e),!0,d);p=!0;break;
case "\n":e+=1;break;default:k?e+=this.Nd(a,"",c.substring(e),!0):(k=!0,r=this.mq(a,c.substring(e),!1,d),-1!==r&&(e=a.Zg?e+r:e+this.mq(a,c.substring(e),!0,d)))}p||(this.Ya(a,"",d)?this.Ba=!0:this.Dl=!0);a.Ee&&this.jm(a,d);(c=a.G())&&this.em(a,d);!a.oa||a.ub!==this.dj&&a.ub!==this.Gi&&a.ub!==this.ii&&(15!==a.ub&&10!==a.ub||"H"!==a.Mf)||(a.S=!0);!a.oa||a.ub!==this.yj&&(15!==a.ub&&10!==a.ub||"L"!==a.Mf)||(a.M=!0);-1!==a.Ac&&(a.oa&&(v=6*a.Vd),a.Ee&&(v=6*a.kd),a.sf>=16384-v||a.jh>=16384-v)&&(this.D="Bounded grid is too big",
this.Ba=!1,a.Ac=-1);!a.Ee||""!==this.D||(1<a.Ac&&(this.D="LtL only supports Plane or Torus",this.Ba=!1,a.Ac=-1),0!==a.Ac&&1!==a.Ac)||0!==a.sf&&0!==a.jh||(this.D="LtL bounded grid must be finite",this.Ba=!1,a.Ac=-1);a.M&&-1!==a.Ac&&(0!==(a.sf&1)?(this.D="Bounded grid width must be even",this.Ba=!1,a.Ac=-1):0!==(a.jh&1)&&(this.D="Bounded grid height must be even",this.Ba=!1,a.Ac=-1));a.L&&0!==this.nk[0]&&(this.D="PCA first value must be 0",this.nk[0]=0,this.Ba=!1);a.ia&&(15===this.nk[0]&&0!==this.nk[15]?
(this.D="Margolus last value must be 0 when first is 15",this.Ba=!1):0!==this.nk[0]&&15!==this.nk[0]&&(this.D="Margolus first value must be 0 or 15",this.Ba=!1));c&&2<a.i&&(this.D="HROT Generations does not support B0",this.Ba=!1);!a.oa||""!==this.D||(1<a.Ac&&(this.D="HROT only supports Plane or Torus",this.Ba=!1,a.Ac=-1),0!==a.Ac&&1!==a.Ac)||0!==a.sf&&0!==a.jh||(this.D="HROT bounded grid must be finite",this.Ba=!1,a.Ac=-1);a.za&&a.Bc&&""===this.D&&(this.D="[R]History not valid with none rule",this.Ba=
a.Bc=!1);a.za&&a.O&&""===this.D&&(this.D="[R]Super not valid with none rule",this.Ba=a.O=!1);a.M&&a.O&&""===this.D&&(this.D="[R]Super not valid with triangular rule",this.Ba=a.O=!1);a.M&&a.Bc&&""===this.D&&(this.D="[R]History not valid with triangular rule",this.Ba=a.Bc=!1);-1===a.i||!a.Bc||a.Ee||a.oa||(this.D="[R]History not valid with Generations",this.Ba=a.Bc=!1);-1!==a.i&&a.O&&(this.D="[R]Super not valid with Generations",this.Ba=a.O=!1);a.hg===this.Oo&&a.O&&(this.D="[R]Super not valid with Hex Tripod",
this.Ba=a.O=!1);a.hg===this.Oo&&a.Bc&&(this.D="[R]History not valid with Hex Tripod",this.Ba=a.Bc=!1);-1===a.i||!this.nk[0]||a.Ee||a.oa||(this.D="Generations does not support B0",this.Ba=!1);a.Ee&&a.Bc&&(this.D="[R]History not valid with LtL",this.Ba=a.Bc=!1);a.Ee&&a.O&&(this.D="[R]Super not valid with LtL",this.Ba=a.O=!1);a.oa&&a.Bc&&(this.D="[R]History not valid with HROT",this.Ba=a.Bc=!1);a.oa&&a.O&&(this.D="[R]Super not valid with HROT",this.Ba=a.O=!1);a.ia&&a.Bc&&(this.D="[R]History not valid with Margolus",
this.Ba=a.Bc=!1);a.ia&&a.O&&(this.D="[R]Super not valid with Margolus",this.Ba=a.O=!1);a.ia&&-1!==a.Ac&&(-1!==a.jh&&0!==(a.jh&1)&&(this.D="Bounded grid height must be even",a.Ac=-1,this.Ba=!1),-1!==a.sf&&0!==(a.sf&1)&&(this.D="Bounded grid width must be even",a.Ac=-1,this.Ba=!1));a.S&&(t+=1);a.M&&(t+=1);a.Ic&&(t+=1);1<t&&(this.D="Multiple neighbourhoods specified",this.Ba=!1,a.S=!1,a.M=!1,a.Ic=!1);a.O&&(a.i=26);this.Ba&&(a.Gq?8<a.wd&&(this.D="Illegal state in pattern for Niemiec",this.Ba=!1,this.Y=
!0):a.Bc?7<a.wd&&(this.D="Illegal state in pattern for [R]History",this.Ba=!1,this.Y=!0):a.O?26<a.wd&&(this.D="Illegal state in pattern for [R]Super",this.Ba=!1,this.Y=!0):-1!==a.i&&a.wd>a.i&&(this.D=a.Ee?"Illegal state in pattern for LtL":a.oa?"Illegal state in pattern for HROT":a.L?"Illegal state in pattern for PCA":"Illegal state in pattern for Generations",this.Y=!0,this.Ba=!1))};h.prototype.ei=function(a,c){var d=!0,e=!1,l=0,k=0,p=0,r=0,t=0,v=!0,x=n.UD,A=null,y=[],D={},b=null;c.On();var m=c.V();
for(""!==m&&"@"===m[0]&&(m="");d&&""!==m;){for(;d&&!e&&""!==m;){if("/"===m[0])c.On();else if("xpm"===m.toLowerCase())c.On();else if('"'===m[0])m=m.substr(1),c.hn(m)&&(l=c.Rz(m),c.P()&&(k=c.R(),c.P()&&(p=c.R(),m=c.V(),'"'===m[m.length-1]&&(m=m.substr(0,m.length-1),c.hn(m)&&(r=c.Rz(m)))))),0<l&&0<k&&1<=r&&2>=r&&0===k%l?7!==l&&15!==l&&31!==l?e=!1:(e=!0,t=0,A=new Uint16Array(l*k),b=new Uint32Array(p)):d=!1;else switch(m){case "circles":x=n.iP;D={};A=[];b=[];break;case "diamonds":x=n.jP;D={};A=[];b=[];
break;case "hexagons":x=n.kP;D={};A=[];b=[];break;case "triangles":x=n.mP,D={},A=[],b=[]}for(;c.Tq();)c.V();m=c.V();""!==m&&"@"===m[0]&&(m="")}for(;d&&e&&""!==m;){if("/"===m[0])c.On();else{if('"'===m[0])if(d=!1,t<p){var f=m.substr(1);if(f.length===r&&void 0===D[f]&&(m=c.V(),"c"===m&&(m=c.V(),'"'===m[m.length-1]))){d=m.substr(0,m.length-1);d=parseInt(d,16);D[f]=t;b[t]=d;if(d>>16!==(d>>8&255)||d>>16!==(d&255))v=!1;d=!0}}else{if(d=!1,'"'===m[m.length-1]&&m.length-2===l*r){m=m.substr(1,m.length-2);var u=
0;for(d=!0;d&&u<l;)f=m[u*r],1<r&&(f+=m[u*r+1]),void 0===D[f]?d=!1:A[(t-p)*l+u]=D[f],u+=1}}else t===k+p?(e=!1,y[y.length]={Xz:x,width:l,height:k,qI:p,jv:b.slice(),mN:A.slice(),AH:v},D={},A=null,v=!0,x=n.UD):d=!1,c.AJ();t+=1}for(;c.Tq();)c.V();m=c.V();""!==m&&"@"===m[0]&&(m="")}}d?t===k+p?(y[y.length]={Xz:x,width:l,height:k,qI:p,jv:b.slice(),mN:A.slice(),AH:v},a.qe=y):a.qe=null:a.qe=null};h.prototype.Ti=function(a,c){var d=a.wd,e=[],l=0,k,p=!1;c.On();c.P()&&(l=c.R(),0<=l&&l<d&&(p=!0));for(;p;){p=!1;
for(k="";!c.Tq();)""===k?k=c.V():k+=" "+c.V();e[l]=k;c.On();c.P()&&(l=c.R(),0<=l&&l<d&&(p=!0))}a.vr=e};h.prototype.ai=function(a,c){var d=a.wd;a=a.Je;var e=0,l=0,k=0,p=0,r=!1;c.On();c.P()&&(e=c.R(),r=!0);for(;r;){r=!1;c.P()&&(l=c.R(),c.P()&&(k=c.R(),c.P()&&(p=c.R(),r=!0)));if(r)if(c.P()&&c.xM()){var t=c.R();var v=c.R();0<=e&&255>=e&&0<=l&&255>=l&&0<=k&&255>=k&&0<=p&&255>=p&&0<=t&&255>=t&&0<=v&&255>=v?this.Ae(a,e,l,k,p,t,v):r=!1}else 0<=e&&e<d&&0<=l&&255>=l&&0<=k&&255>=k&&0<=p&&255>=p?a[e]=l<<16|k<<
8|p:r=!1;r&&(c.On(),c.P()?e=c.R():r=!1)}};h.prototype.be=function(a,c,d,e,l,k){var p=!1,r=a.length;var t=e.length;var v=t%32;var x=1<<v,A=(t-v)/32;if(null!==k)for(t=0;!p&&t<k.length;){var y=k[t];if(y.Xq===c)for(v=0,p=!0;p&&v<a.length;)0!==this.$b(a[v],y.inputs[v])&&(p=!1),v+=1;t+=1}if(!p){null!==k&&(y={inputs:[],Xq:c},y.inputs=a.slice(),k[k.length]=y);e[e.length]=c;if(A>=d.oh){for(t=0;t<r;t+=1)for(v=0;v<d.Tg;v+=1)l[t][v][l[t][v].length]=0;d.oh+=1}for(t=0;t<r;t+=1)for(c=a[t],v=0;v<c.length;v+=1)l[t][c[v]][A]|=
x}return p};h.prototype.El=function(a){var c=a.length,d=c-2,e=c-1,l=!1;if(1<c){for(;0<=d&&0<=this.$b(a[d],a[d+1]);)--d;if(0<d){for(l=!0;e>=d&&0>=this.$b(a[e],a[d]);)--e;var k=a[d];a[d]=a[e];a[e]=k;var p=(c-(d+1))/2|0;for(e=0;e<p;e+=1)k=a[c-e-1],a[c-e-1]=a[d+1+e],a[d+1+e]=k}}return l};h.prototype.$b=function(a,c){var d=0,e=a.length;if(e===c.length){for(;d<e&&a[d]===c[d];)d+=1;return d===e?0:a[d]-c[d]}return e-c.length};h.prototype.Ml=function(a,c,d,e,l){var k,p,r,t=[],v=[],x=[],A=0;for(k=0;k<d;k+=
1)for(x[k]=[],p=0;p<l.Tg;p+=1)x[k][p]=[];for(k=l.oh=0;k<e.length;k+=1){var y=e[k].inputs;var D=e[k].Xq;if(0===a)this.be(y,D,l,v,x,null);else if(a===c-1){t=y.slice(1).sort(this.$b);for(p=0;p<t.length;p+=1)y[p+1]=t[p];do this.be(y,D,l,v,x,null);while(this.El(y))}else{var b=this.Gb[l.pk][a-1];var m=[];for(p=0;p<b.length;p+=1){for(r=0;r<y.length;r+=1)t[r]=y[b[p][r]];this.be(t,D,l,v,x,m)&&(A+=1)}}}l.ph=[];for(k=0;k<d;k+=1)for(l.ph[k]=[],p=0;p<l.Tg;p+=1)l.ph[k][p]=new Uint32Array(x[k][p].length),l.ph[k][p].set(x[k][p]);
l.re=new Uint8Array(v.length);l.re.set(v);l.gm=A};h.prototype.Dj=function(a,c){var d=-1,e=-1,l=-1,k=0,p,r="",t={},v=0,x=0,A=[],y=null,D;var b=0;for(D=!0;D&&3>b;){var m=c.tH();switch(m.toLowerCase()){case this.Tg:D=!1;":"===c.V()?c.P()?(d=c.R(),2<=d&&256>=d?D=!0:this.D=this.Tg+" must be from 2 to 256"):this.D=this.Tg+" must be numeric":this.D=this.Tg+" missing :";break;case "neighborhood":D=!1;if(":"===c.V()){m=c.V();var f=!1;for(p=0;!f&&p<this.na.length;)m.toLowerCase()===this.na[p]?(e=p,k=this.pb[p],
f=!0,y=new Int32Array(k+1)):p+=1;D=f;f||(this.D="neighborhood invalid")}else this.D="neighborhood missing :";break;case "symmetries":D=!1;if(-1!==e)if(":"===c.V()){m=c.V();f=!1;for(p=0;!f&&p<this.Ca[e].length;)m.toLowerCase()===this.Ca[e][p]?(l=p,f=!0):p+=1;D=f;f||(this.D="symmetries invalid")}else this.D="symmetries missing :";else this.D="symmetries must follow neighborhood";break;default:D=!1}b+=1}if(-1===d||-1===e||-1===l)""===this.D&&(this.D=-1===d?"missing "+this.Tg:-1===e?"missing neighborhood":
"missing symmetries"),D=!1;c.Vx();m=c.V();for(""!==m&&"@"===m[0]&&(m="");D&&""!==m;){if("var"===m.toLowerCase()){D=!1;r=c.V();var u=[];if("="===c.V())for(D=!0;D&&!c.Tq();)if(c.P())p=c.R(),0<=p&&p<=d?u[u.length]=p:(D=!1,this.D="out of range value: "+r+"="+p);else{var z=c.V();if(void 0!==t[z])for(b=0;b<t[z].length;b+=1)u[u.length]=t[z][b];else D=!1,this.D="var unknown assignment: "+r+"="+z}else this.D="missing =: "+r;D&&(t[r]=u,v+=1)}else if(10>=d&&0===v&&c.Tq()){if(u=[],D=!1,m.length===k+1){b=0;for(D=
!0;D&&b<k;)z=m.charCodeAt(b),48<=z&&z<48+d?(u[u.length]=[z-48],b+=1):(this.D="expected only digits: "+m,D=!1);D&&(z=m.charCodeAt(b),48<=z&&z<48+d?(x=z-48,A[A.length]={inputs:u,Xq:x}):(this.D="expected only digits: "+m,D=!1))}}else{D=!1;z=[];z[0]=m;y[0]=c.hn(m)?parseInt(m,10):-1;for(b=1;c.SN();)b<k+1?c.P()?(y[b]=c.R(),z[b]=""):(y[b]=-1,z[b]=c.V()):z[b]=c.V(),b+=1;if(z.length===k+1){m=[];for(r in t){for(b=D=0;b<z.length;b+=1)r===z[b]&&(D+=1);1<D&&(m[m.length]=r)}u=[];var B={};for(b=0;b<m.length;b+=
1)B[m[b]]=0;for(D=!0;;){for(b=0;b<k;b+=1)if(f=!1,p=y[b],-1!==p)p>=d?(this.D="state out of range: "+p,D=!1):u[b]=[p];else{var C=z[b];if(m.length)for(p=0;!f&&p<m.length;)m[p]===C?f=!0:p+=1;0<m.length&&f?u[b]=[t[C][B[C]]]:void 0!==t[C]?u[b]=t[C]:(this.D="unknown variable: "+C,D=!1)}f=!1;p=y[b];if(-1!==p)0>p||p>=d?(this.D="output state out of range: "+p,D=!1):x=p;else{C=z[b];if(0<m.length)for(p=0;!f&&p<m.length;)m[p]===C?f=!0:p+=1;0<m.length&&f?x=t[C][B[C]]:void 0!==t[C]?x=t[C]:(this.D="unknown output variable: "+
C,D=!1)}A[A.length]={inputs:u.slice(),Xq:x};for(b=0;b<m.length;b+=1)if(B[m[b]]<t[m[b]].length-1){B[m[b]]+=1;break}else B[m[b]]=0;if(b>=m.length)break}}}c.Vx();m=c.V();""!==m&&"@"===m[0]&&(c.AJ(),m="")}D&&(null===a.B&&(a.B=new Allocator),a.Tg=d,a.pk=e,a.S=e===n.hm?!0:!1,this.Ml(l,this.Ca[e].length,k,A,a),a.wd=a.Tg,this.D="",this.Ba=!0,this.Dl=!1,a.za=!1,this.Oe(a,a.Tg));return D};h.prototype.Ae=function(a,c,d,e,l,k,p){var r=a.length,t;a[0]=0;for(t=1;t<r;t+=1){var v=2===r?0:(t-1)/(r-2);a[t]=(l*v+c*
(1-v)|0)<<16|(k*v+d*(1-v)|0)<<8|p*v+e*(1-v)|0}};h.prototype.Oe=function(a,c){a.Je=new Uint32Array(c);this.Ae(a.Je,255,0,0,255,255,0)};h.prototype.Tl=function(a){return(new RegExp("neighborhood *: *"+this.na[n.hm])).test(a.source)};h.prototype.Ck=function(a,c){var d,e=-1,l=-1,k=-1,p=null,r=0,t=null,v=0,x=null,A=0,y=null,D=0,b=0,m=0;var f=0;for(d=!0;d&&3>f;){d=c.tH();switch(d.toLowerCase()){case this.df:d=!1;"="===c.V()?c.P()?(e=c.R(),2<=e&&256>=e?d=!0:this.D=this.df+" must be from 2 to 256"):this.D=
this.df+" must be numeric":this.D=this.df+" missing =";break;case this.Ug:d=!1;"="===c.V()?c.P()?(l=c.R(),4===l||8===l?d=!0:this.D=this.Ug+" must be 4 or 8"):this.D=this.Ug+" must be numeric":this.D=this.Ug+" missing =";break;case this.Bi:d=!1;"="===c.V()?c.P()?(k=c.R(),k>=l&&1E8>=k?d=!0:this.D=this.Bi+" out of range"):this.D=this.Bi+" must be numeric":this.D=this.Bi+" missing =";break;default:d=!1}f+=1}if(-1===e||-1===l||-1===k)""===this.D&&(this.D=-1===e?"missing "+this.df:-1===l?"missing "+this.Ug:
"missing "+this.Bi),d=!1;d&&(p=new Uint32Array(k*e),t=new Uint8Array(k*e),x=new Uint32Array(k),y=new Uint32Array(k));for(c.Vx();d&&c.P();){A>k?d=!1:(b=c.R(),m=0,x[A]=1===b?v:r,A+=1,y[D]=b,D+=1);for(;d&&c.P();)f=c.R(),1===b?0>f||f>=e?(this.D="bad state value in tree data: "+f,d=!1):(t[v]=f,v+=1):0>f||f>x.length?(this.D="bad node value in tree data: "+f,d=!1):y[f]!==b-1?(this.D="bad node pointer in tree data: "+b,d=!1):(p[r]=x[f],r+=1),m+=1;d&&m!==e&&(this.D="bad number of values on tree data line",
d=!1);c.Vx()}d&&(r+v!==k*e?(this.D="bad count of values in tree data",d=!1):b!==l+1?(this.D="bad last node (wrong level)",d=!1):a.wd>e&&(d=!1,this.D="illegal state in pattern"));d&&(null===a.B&&(a.B=new Allocator),a.Ug=l,a.df=e,a.Bi=k,a.im=x[x.length-1],a.jl=p.slice(0,r),a.kl=t.slice(0,v),a.WD=this.Tl(c),a.S=a.WD,a.wd=a.df,this.D="",this.Ba=!0,this.Dl=!1,a.za=!1,this.Oe(a,a.df));return d};h.prototype.XG=function(a,c){var d=!1,e=new Script(c,!0);a.A.Mx="";a.A.D="";c=e.uq("@RULE",-1);if(-1!==c&&!e.Tq()){a.VD=
e.V();var l=e.uq("@TREE",-1);-1!==l?(d=this.Ck(a,e))?a.H=a.VD:(""===a.A.D&&(a.A.D="not valid"),a.A.D="@TREE "+a.A.D):(l=e.uq("@TABLE",0),-1!==l?(d=this.Dj(a,e))?a.H=a.VD:(""===a.A.D&&(a.A.D="not valid"),a.A.D="@TABLE "+a.A.D):a.A.D="@TABLE and @TREE not found");l=e.current-1;d&&(d=e.uq("@COLORS",0),-1!==d&&(this.ai(a,e),e.current-1>l&&(l=e.current-1)),d=e.uq("@ICONS",0),-1!==d&&(this.ei(a,e),e.current-1>l&&(l=e.current-1)),d=e.uq("@NAMES",0),-1!==d&&(this.Ti(a,e),e.current-1>l&&(l=e.current-1)));
""===a.A.D&&(a.A.Mx=e.GM(c,l))}};h.prototype.create=function(a,c,d,e,l,k,p){a=new g(a,this);this.Ba=this.Dl=this.Zg=this.Y=this.Cw=!1;this.D="";this.index=0;this.Hl=!1;this.YA=0;this.mg=!1;this.ox=this.nx=0;this.pg=this.qg=-1;this.Lb=!1;if("!"===c.substr(0,1)||"O"===c.substr(0,1)||"."===c.substr(0,1)||"*"===c.substr(0,1)||"o"===c.substr(0,1))this.$h(a,c,d),this.Ba=!0;null===a.$e&&(this.Ba=!1,"#Life 1.05"===c.substr(0,10)?this.Pe(a,c,!0,d):"#Life 1.06"===c.substr(0,10)?(this.Yh(a,c,d),this.Ba=!0):
"#"===c[0]||"x"===c[0]?(this.Qe(a,c,d),null!==a.$e||a.Zg||a.So||(this.Pe(a,c,!1,d),this.Dl=!1,a.Dh=null,a.Bc=!1,a.O=!1,a.wd=2,a.qt=0)):this.Qe(a,c,d));a.Zg&&(this.D="Pattern too big (maximum 16384x16384)",this.Zg=!0,a.So=!1,a.width=1,a.height=1,a.$e=Array.matrix(Uint16,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap"));-1!==a.Ac?(c=a.H.lastIndexOf(":"),a.cq=a.H.substr(c),a.H=a.H.substr(0,c)):a.cq="";null===a.$e&&""===this.D&&(this.D="Invalid pattern",a=null,this.Ba=!1);a&&a.So&&!a.Zg&&(a=null,this.Ba=
!1);a&&(""!==a.Lc&&"\n"!==a.Lc[a.Lc.length-1]&&(a.Lc+="\n"),""!==a.ah&&"\n"!==a.ah[a.ah.length-1]&&(a.ah+="\n"),""!==this.D&&(a.S||a.M)&&null===a.H.match(/[0-9]/)&&(a.S=!1,a.M=!1),""===this.D||this.Zg||this.Y||(a.Xw=this.D,a.un=a.H,-1!==a.Ac?(c=a.H.lastIndexOf(":"),-1!==c&&(a.cq=a.H.substr(c),a.H=a.H.substr(0,c))):a.cq="",a.ia=!1,a.L=!1,a.za=!1,a.Bc=!1,a.O=!1,a.Gq=!1,a.S=!1,a.M=!1,a.ve=-1,a.Ic=!1,a.Ee=!1,a.iK=a.oa,a.oa=!1,q.QH(a)?(e=null===a.re?a.df:a.Tg,a.wd>e?(this.D="Illegal state in pattern",
this.Y=!0):(a.wd=e,this.D="",this.Ba=!0,this.Dl=!1,a.za=!1)):(c=a.ah.indexOf("@RULE"),-1!==c&&(c=a.ah.substr(c),this.XG(a,c)),-1===a.df&&null===a.re&&this.Ik(a,e,l,k,p))));return a};h.prototype.EM=function(a){var c=a.indexOf("@RULE");if(-1===c)a="";else{var d=a.indexOf("\x3c!--",c);a=-1===d?0===c?a:a.substr(c):a.substr(c,d-c);a=a.replace(/<li>/g,"# ");a=a.replace(/<[^<]*>/g,"")}return a};h.prototype.Fk=function(a,c,d){if(4===c.readyState)if(200===c.status){c=a.EM(c.responseText);var e=performance.now()-
this.time;this.time=performance.now();if(""===c)d.A.D="@RULE not found",q.Ix(d);else{a.XG(d,c);var l=performance.now()-this.time;-1!==d.df||null!==d.re?q.add(d,e,l,c.length,a.Mx):q.Ix(d)}}else d.Xw+="\n\nRepository lookup failed with status "+c.status,q.Ix(d)};h.prototype.Ek=function(a){q.Ix(a)};h.prototype.Ik=function(a,c,d,e,l){var k=this,p=null,r=a.H,t="";r=r.replace(/ /g,"_");t="/wiki/Rule:"+r;this.time=performance.now();this.Cw=!0;l?a.B=l.g.B:a.B=null;q.KK(a,c,d,e,l)||(p=new XMLHttpRequest,""!==
DocConfig.OD&&(t=DocConfig.OD+r+DocConfig.kJ),registerEvent(p,"load",function(){k.Fk(k,p,a)},!1),registerEvent(p,"error",function(){k.Ek(a)},!1),p.open("GET",t,!0),p.send(null))};window.PatternConstants=n;window.PatternManager=h;window.Pattern=g;window.RuleTreeCache=q}(),function(){var w={BA:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,
28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,
0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,
255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,
93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,
0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],AA:[],wh:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",
250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",
100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",
233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",
220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",
255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,
222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",
72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",
152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",
250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",
64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},GQ:function(){return this.AA},Ye:function(){var h,g;if(!this.oN)for(this.oN=!0,h=g=0;256>h;h+=1)w.AA[h]=w.BA[g]<<16|w.BA[g+1]<<8|w.BA[g+2],g+=3}};window.ColourManager=w}(),function(){function w(h,g,q,n){this.o=h;this.s=g;this.u=q;this.v=n}w.prototype.set=function(h){this.o=h.o;this.s=h.s;this.u=h.u;
this.v=h.v};window.BoundingBox=w}(),function(){function w(g,q,n){this.index=q;this.ka=g.Ep[q];this.Oa=g.yo[q];this.st=g.kp[q];this.Y=g.Xv[q];this.G=g.gv[q];n?this.C=g.rt[q]:this.C=null;this.N=new BoundingBox(0,0,0,0);this.Pa=new BoundingBox(0,0,0,0);this.X=this.ck=this.lf=this.nH=this.counter=this.$a=this.sb=this.ga=0;this.A=g}function h(g,q){this.B=g;this.Df=[];this.Jj=[];this.Ep=[];this.yo=[];this.kp=[];this.Xv=[];this.gv=[];this.rt=[];this.G=0;this.index=-1;this.GN=51;this.Uz=q;this.C=null}w.prototype.cP=
function(g,q,n){var a=q.length,c=q[0].length,d,e,l=0,k,p=n.Fp;n=n.Gp;var r,t=0,v=this.Y,x=0,A=v[x],y=A.length;Array.mi(this.ka,q);for(d=0;d<a;d+=1){var D=this.ka[d];for(q=r=0;q<c;q+=1)if(k=D[q])for(e=15;0<=e;--e){if(0!==(k&1<<e)){var b=t;var m=r;var f=A[l];l+=1;g[b][m]=f&255;g[b][m+1]=f>>8&255;g[b+1][m]=f>>16&255;g[b+1][m+1]=f>>24;b+=2;f=A[l];l+=1;g[b][m]=f&255;g[b][m+1]=f>>8&255;g[b+1][m]=f>>16&255;g[b+1][m+1]=f>>24;b+=2;f=A[l];l+=1;g[b][m]=f&255;g[b][m+1]=f>>8&255;g[b+1][m]=f>>16&255;g[b+1][m+1]=
f>>24;b+=2;f=A[l];l+=1;g[b][m]=f&255;g[b][m+1]=f>>8&255;g[b+1][m]=f>>16&255;g[b+1][m+1]=f>>24;b+=2;f=A[l];l+=1;g[b][m]=f&255;g[b][m+1]=f>>8&255;g[b+1][m]=f>>16&255;g[b+1][m+1]=f>>24;b+=2;f=A[l];l+=1;g[b][m]=f&255;g[b][m+1]=f>>8&255;g[b+1][m]=f>>16&255;g[b+1][m+1]=f>>24;b+=2;f=A[l];l+=1;g[b][m]=f&255;g[b][m+1]=f>>8&255;g[b+1][m]=f>>16&255;g[b+1][m+1]=f>>24;b+=2;f=A[l];l+=1;g[b][m]=f&255;g[b][m+1]=f>>8&255;g[b+1][m]=f>>16&255;g[b+1][m+1]=f>>24;l>=y&&(x+=1,A=v[x],l=0)}r+=p}else r+=p<<4;t+=n}};w.prototype.rP=
function(g,q,n){var a=q.length,c=q[0].length,d,e=0,l;var k=0;var p=n.Fp,r=n.Gp,t,v=0,x=this.Y,A=0,y=x[A],D=y.length,b=x.length;var m=this.A.Uz;Array.mi(q,this.ka);for(d=0;d<a;d+=1){var f=q[d];for(n=0;n<c;n+=1)(l=f[n])&&(k+=m[l])}if(k)for(d=0;d<a;d+=1){f=q[d];for(n=t=0;n<c;n+=1)if(l=f[n])for(k=15;0<=k;--k){if(0!==(l&1<<k)){var u=v;m=t;y[e]=g[u][m]|g[u][m+1]<<8|g[u+1][m]<<16|g[u+1][m+1]<<24;e+=1;u+=2;y[e]=g[u][m]|g[u][m+1]<<8|g[u+1][m]<<16|g[u+1][m+1]<<24;e+=1;u+=2;y[e]=g[u][m]|g[u][m+1]<<8|g[u+1][m]<<
16|g[u+1][m+1]<<24;e+=1;u+=2;y[e]=g[u][m]|g[u][m+1]<<8|g[u+1][m]<<16|g[u+1][m+1]<<24;e+=1;u+=2;y[e]=g[u][m]|g[u][m+1]<<8|g[u+1][m]<<16|g[u+1][m+1]<<24;e+=1;u+=2;y[e]=g[u][m]|g[u][m+1]<<8|g[u+1][m]<<16|g[u+1][m+1]<<24;e+=1;u+=2;y[e]=g[u][m]|g[u][m+1]<<8|g[u+1][m]<<16|g[u+1][m+1]<<24;e+=1;u+=2;y[e]=g[u][m]|g[u][m+1]<<8|g[u+1][m]<<16|g[u+1][m+1]<<24;e+=1;e>=D&&(A+=1,e=0,A>=b&&(Array.Yp(x,"Snapshot.gridBufferRow"),b+=1));y=x[A]}t+=p}else t+=p<<4;v+=r}};w.prototype.dP=function(g,q,n){var a=q.length,c=
q[0].length,d,e,l,k=0,p,r=n.Fp<<3,t=n.Gp,v,x=0,A=this.C,y=0,D=A[y],b=D.length;Array.mi(this.st,q);for(d=0;d<a;d+=1){var m=q[d];for(n=v=0;n<c;n+=1)if(p=m[n])for(e=15;0<=e;--e){if(0!==(p&1<<e))for(l=v;l<v+r;l+=4){var f=x;var u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=
u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];
k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>
24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;k>=b&&(y+=1,D=A[y],k=0)}v+=r}else v+=r<<4;x+=t}};w.prototype.bP=function(g,q,n){var a=q.length,c=q[0].length,d,e,l,k=0,p,r=n.Fp<<3,t=n.Gp,v,x=0,A=this.G,y=0,D=A[y],b=D.length;Array.mi(this.Oa,q);for(d=0;d<a;d+=1){var m=q[d];for(n=v=0;n<c;n+=1)if(p=m[n])for(e=15;0<=e;--e){if(0!==(p&1<<e))for(l=v;l<v+r;l+=4){var f=x;var u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];
k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>
24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;
g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;f+=1;u=D[k];k+=1;g[f][l]=u&255;g[f][l+1]=u>>8&255;g[f][l+2]=u>>16&255;g[f][l+3]=u>>24;k>=b&&(y+=1,D=A[y],k=0)}v+=r}else v+=r<<4;x+=t}};w.prototype.sP=function(g,q,n){var a=q.length,c=q[0].length,d,e=0,l;var k=0;var p=n.Fp<<3,r=n.Gp,t,v=0,x=this.C,A=0,y=x[A],D=y.length,b=x.length;var m=this.A.Uz;Array.mi(q,this.st);
for(d=0;d<a;d+=1){var f=q[d];for(n=0;n<c;n+=1)(l=f[n])&&(k+=m[l])}if(k)for(d=0;d<a;d+=1){f=q[d];for(n=t=0;n<c;n+=1)if(l=f[n])for(k=15;0<=k;--k){if(0!==(l&1<<k))for(m=t;m<t+p;m+=4){var u=v;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=
1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+
3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;e>=D&&(A+=1,e=0,A>=b&&(Array.Yp(x,"Snapshot.overlayGridBufferRow"),b+=1),y=x[A])}t+=p}else t+=p<<4;v+=r}};w.prototype.pP=function(g,q,n){var a=q.length,c=q[0].length,d,e=0,l;var k=0;var p=n.Fp<<3,r=n.Gp,t,v=0,x=this.G,A=0,y=x[A],D=y.length,b=x.length;var m=this.A.Uz;Array.mi(q,this.Oa);for(d=0;d<
a;d+=1){var f=q[d];for(n=0;n<c;n+=1)(l=f[n])&&(k+=m[l])}if(k)for(d=0;d<a;d+=1){f=q[d];for(n=t=0;n<c;n+=1)if(l=f[n])for(k=15;0<=k;--k){if(0!==(l&1<<k))for(m=t;m<t+p;m+=4){var u=v;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=
g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;
u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;u+=1;y[e]=g[u][m]|g[u][m+1]<<8|g[u][m+2]<<16|g[u][m+3]<<24;e+=1;e>=D&&(A+=1,e=0,A>=b&&(Array.Yp(x,"Snapshot.colourGridBufferRow"),b+=1),y=x[A])}t+=p}else t+=p<<4;v+=r}};h.prototype.bufferSize=function(){for(var g=0,q=0;q<this.Jj.length;)g+=this.Ep[q].length*this.Ep[q][0].length*2,g+=this.yo[q].length*this.yo[q][0].length*2,g+=this.Xv[q].length*this.Xv[q][0].length*4,g+=this.gv[q].length*
this.gv[q][0].length*4,this.rt[q]&&(g+=this.kp[q].length*this.kp[q][0].length*2,g+=this.rt[q].length*this.rt[q][0].length*4),q+=1;return g};h.prototype.sQ=function(){for(var g=0,q=0;q<this.Jj.length;)this.Jj[q]&&(g+=1),q+=1;return g};h.prototype.reset=function(){this.Df=[];this.Jj=[];this.G=0;this.index=-1};h.prototype.QP=function(g){var q=null;if(0<this.Df.length)for(q=this.Df[this.index];q&&q.counter>g;)q=null,0<this.index&&(this.Y(this.Df[this.index].index),this.Df.pop(),--this.index,0<=this.index&&
(q=this.Df[this.index]));return q};h.prototype.Vt=function(g,q,n,a,c,d,e,l,k,p,r,t,v,x,A,y,D,b,m,f){var u=null!==c;if(m)y=this.C;else if(51>this.Df.length)y=this.nA(y,D,!1,u),this.index+=1;else{this.index+=1;if(51<=this.index){this.index=50;this.Y(this.Df[0].index);for(m=0;50>m;m+=1)this.Df[m]=this.Df[m+1];this.Df.pop();this.nA(y,D,!1,u)}y=this.Df[this.index]}y.X=f;y.rP(g,q,b);y.pP(n,a,b);u&&y.sP(c,d,b);y.N.o=e.o;y.N.u=e.u;y.N.s=e.s;y.N.v=e.v;y.Pa.o=l.o;y.Pa.u=l.u;y.Pa.s=l.s;y.Pa.v=l.v;y.ga=k;y.sb=
p;y.$a=r;y.counter=t;y.nH=v;y.lf=x;y.ck=A};h.prototype.Y=function(g){this.Jj[g]=!1};h.prototype.na=function(g,q,n){for(var a=0,c=!1;a<this.G&&!c;)this.Jj[a]?a+=1:c=!0;c?(g=a,this.Jj[a]=!0):(this.Ep[a]=Array.matrix(Uint16,q,g,0,this.B,"Snapshot.tileGrid"+a),this.yo[a]=Array.matrix(Uint16,q,g,0,this.B,"Snapshot.colourTileGrid"+a),this.Xv[a]=Array.matrix(Uint32,1,1024,0,this.B,"Snapshot.gridBuffer"+a),this.gv[a]=Array.matrix(Uint32,1,8192,0,this.B,"Snapshot.colourGridBuffer"+a),n&&(this.kp[a]=Array.matrix(Uint16,
q,g,0,this.B,"Snapshot.overlayTileGrid"+a),this.rt[a]=Array.matrix(Uint32,1,8192,0,this.B,"Snapshot.overlayGridBuffer"+a)),this.Jj[a]=!0,this.G+=1,g=a);return g};h.prototype.nA=function(g,q,n,a){g=this.na(g,q,a);n?this.C=n=new w(this,g,a):(n=new w(this,g,a),this.Df[this.Df.length]=n);return n};h.prototype.ea=function(g,q,n,a,c,d,e,l){var k=g.ka,p=g.Oa,r=g.st,t=g.ka.length,v=0,x=g.index;this.Ep[x]=Array.matrix(Uint16,n,q,0,this.B,"Snapshot.tileGrid"+x);this.yo[x]=Array.matrix(Uint16,n,q,0,this.B,"Snapshot.colourTileGrid"+
x);l&&(this.kp[x]=Array.matrix(Uint16,n,q,0,this.B,"Snapshot.overlayTileGrid"+x));g.ka=this.Ep[x];g.Oa=this.yo[x];l&&(g.st=this.kp[x]);if(0<a||0<c)for(;v<t;)g.ka[v+c].set(k[v],a),g.Oa[v+c].set(p[v],a),l&&g.st[v+c].set(r[v],a),v+=1;g.N.o+=d;g.N.u+=d;g.N.s+=e;g.N.v+=e;g.Pa.o+=d;g.Pa.u+=d;g.Pa.s+=e;g.Pa.v+=e};h.prototype.dJ=function(g,q,n,a,c,d,e){var l;this.C&&this.ea(this.C,g,q,n,a,c,d,e);var k=0;for(l=this.Df.length;k<l;)this.ea(this.Df[k],g,q,n,a,c,d,e),k+=1;for(k=0;k<this.Jj.length;)this.Jj[k]||
(this.Ep[k]=Array.matrix(Uint16,q,g,0,this.B,"Snapshot.tileGrid"+k),this.yo[k]=Array.matrix(Uint16,q,g,0,this.B,"Snapshot.colourTileGrid"+k),e&&(this.kp[k]=Array.matrix(Uint16,q,g,0,this.B,"Snapshot.overlayTileGrid"+k))),k+=1};window.SnapshotManager=h;window.Snapshot=w}(),function(){function w(h,g,q){this.B=h;this.g=g;this.A=q;this.uh=this.Ji=1;this.Jn=2;this.sb=h.T(Uint8,0,"HROT.births");this.Yn=h.T(Uint8,0,"HROT.survivals");this.Wr=h.T(Uint8,0,"HROT.altBirths");this.Xr=h.T(Uint8,0,"HROT.altSurvivals");
this.type=q.ne;this.ap=Array.matrix(Uint8,1,1,0,h,"HROT.neighbourhood");this.ab=h.T(Int16,0,"HROT.neighbourList");this.Rb=Array.matrix(Int32,1,1,0,h,"HROT.counts");this.Y=h.T(Uint32,0,"HROT.widths");this.fv=h.T(Uint8,0,"HROT.colUsed");this.If=h.T(Int8,0,"HROT.weightedNeighbourhood");this.Sh=null;this.cg=this.eg=-1;this.Ya=this.G=this.Lg=this.ea=0;this.Lb=!1;this.Dd="";this.dg=-1;this.M=!1;this.Ca=new Random;this.Ca.Ye(Date.now().toString());this.na=h.T(Float32,0,"HROT.birthChances");this.Ka=h.T(Float32,
0,"HROT.suvivalChances");this.Rr=!1}w.prototype.EP=function(h){this.Ca.Ye(h);this.na=this.B.T(Float32,this.sb.length,"HROT.birthChances");for(h=0;h<this.sb.length;h+=1)this.na[h]=this.Ca.random();this.Ka=this.B.T(Float32,this.Yn.length,"HROT.suvivalChances");for(h=0;h<this.Yn.length;h+=1)this.Ka[h]=this.Ca.random();this.na.fill(this.na[0]);this.Ka.fill(this.Ka[0])};w.prototype.resize=function(h,g){this.Rb=Array.matrix(Int32,g,h,0,this.B,"HROT.counts");this.fv=this.B.T(Uint8,h,"HROT.colUsed")};w.prototype.KP=
function(h,g,q,n,a,c,d,e,l){var k=2*g+1,p=g*g,r=p+g,t,v=q.length>>1;this.type=h;this.uh=g;this.Ji=a&&h!==this.A.Sm&&h!==this.A.Rp?g+g:g;this.Y=this.B.T(Uint32,k,"HROT.widths");this.Dd=q;this.dg=n;this.M=a;this.cg=e;this.eg=l;if(c)for(this.If=this.B.T(Int8,c.length,"HROT.weightedNeighbourhood"),n=0;n<c.length;n+=1)this.If[n]=c[n];else this.If=null;if(d)for(this.Sh=this.B.T(Uint8,d.length,"HROT.weightedStates"),n=0;n<d.length;n+=1)this.Sh[n]=d[n];else this.Sh=null;switch(h){case this.A.ne:for(n=0;n<
k;n+=1)this.Y[n]=g;break;case this.A.Vf:for(n=0;n<g;n+=1)this.Y[n]=n,this.Y[k-n-1]=n;this.Y[n]=g;break;case this.A.Rk:for(n=-g;n<=g;n+=1){for(h=0;(h+1)*(h+1)+n*n<=r;)h+=1;this.Y[n+g]=h}break;case this.A.Xk:for(n=-g;n<=g;n+=1){for(h=0;(h+1)*(h+1)+n*n<=p;)h+=1;this.Y[n+g]=h}break;case this.A.Sm:this.ap=Array.matrix(Uint8,k,k,0,this.B,"HROT.neighbourhood");p=new Uint16Array(k);d=t=a=n=r=c=0;for(e=this.ap[r];r<k;)for(h="0123456789abcdef".indexOf(q[c]),c===v&&(e[n]=1,n+=1,a+=1,t+=1),c+=1,l=3;0<=l;--l)0!==
(h&1<<l)&&(e[n]=1,a+=1,t+=1),n+=1,n===k&&(p[d]=t,t=0,d+=1,n=0,r+=1,r<k&&(e=this.ap[r]));q=new Uint32Array(a);for(r=a=0;r<k;r+=1)for(e=this.ap[r],n=0;n<k;n+=1)0<e[n]&&(q[a]=r<<16|n,a+=1);for(n=k=0;n<p.length;n+=1)0<p[n]&&(k+=p[n]+2);this.ab=this.B.T(Int16,k,"HROT.neighbourList");for(n=a=c=0;n<p.length;n+=1)if(0<p[n]){d=q[c];this.ab[a]=g-(d>>16);this.ab[a+1]=p[n];a+=2;for(r=0;r<p[n];r+=1)this.ab[a+r]=g-(q[c]&65535),c+=1;a+=p[n]}}};w.prototype.C=function(h,g,q){return 0>h||0>h+g||g-h>=this.Lg?0:0>g&&
h+g<this.G?this.Rb[h+g][0]:g>=this.Lg&&g-h>=this.Lg-this.G?this.Rb[h+this.Lg-1-g][this.Lg-1]:h<this.G?q[g]:h-this.G+1+g<=this.Ya?this.Rb[this.G-1][h-this.G+1+g]:g-(h-this.G+1)>=this.Ya?this.Rb[this.G-1][g-(h-this.G+1)]:this.Rb[this.G-1][this.Ya+(h+g+this.G+this.Ya+1)%2]};w.prototype.ic=function(h,g,q,n){var a=this.g.U,c=null,d=this.Ji,e=this.uh,l;for(l=0;l<e;l+=1){c=a[g+l];var k=a[n+l+1];k.set(c.slice(h,q+1),h)}for(l=0;l<e;l+=1)c=a[n-l],k=a[g-l-1],k.set(c.slice(h,q+1),h);if(copyWithin)for(l=g;l<=
n;l+=1)c=a[l],c.copyWithin(q+1,h,h+d+1),c.copyWithin(h-d-1,q-d,q+1);else for(l=g;l<=n;l+=1)for(k=0;k<d;k+=1)c[q+k+1]=c[h+k],c[h-k-1]=c[q-k];for(l=0;l<e;l+=1)c=a[g+l],k=a[n+l+1],k.set(c.slice(h,h+d+1),q+1),k.set(c.slice(q-d,q+1),h-d-1);for(l=0;l<e;l+=1)c=a[n-l],k=a[g-l-1],k.set(c.slice(h,h+d+1),q+1),k.set(c.slice(q-d,q+1),h-d-1)};w.prototype.pb=function(h,g,q,n){var a=this.g.U,c=this.Ji,d=this.uh,e;for(e=0;e<d;e+=1)a[n+e+1].fill(0,h,q+1);for(e=0;e<d;e+=1)a[g-e-1].fill(0,h,q+1);for(e=g;e<=n;e+=1){var l=
a[e];l.fill(0,q+1,q+c+2);l.fill(0,h-c-1,h)}for(e=0;e<d;e+=1)l=a[n+e+1],l.fill(0,q+1,q+c+2),l.fill(0,h-c-1,h);for(e=0;e<d;e+=1)l=a[g-e-1],l.fill(0,q+1,q+c+2),l.fill(0,h-c-1,h)};w.prototype.$b=function(h,g,q,n,a){var c,d,e=this.g.U,l=this.g.ya,k=this.g.width,p=0,r=this.g.height,t=0,v=k,x=p,A=r,y=t,D=this.g.N,b=this.g.Pa,m=this.Ji,f=this.uh,u=a?this.Wr:this.sb,z=a?this.Xr:this.Yn,B=this.Rb;var C=this.Jn-1;var E=LifeConstants.Qa,G=LifeConstants.zl,F=this.g.fq,I=this.Rr,L=this.Ca,M=this.na,H=this.Ka;var K=
this.g.i+this.g.K-1;var J=this.g.K,S=0<this.g.K?1:0;var pa=c=a=0;if(1===C)for(C=g-f;C<=n+f;C+=1){var oa=e[C];var O=B[C];var ba=l[C>>4];var R=d=!1;for(g=h-m;g<=q+m;g+=1){var Z=oa[g];var fa=O[g];K=0;Z<E?0<=fa&&1===u[fa]&&(I?L.random()>=M[fa]&&(c+=1,K=128):(c+=1,K=128)):0<=fa&&0===z[fa]?I?L.random()>=H[fa]?pa+=1:K=128:pa+=1:K=128;Z=F[Z+K];oa[g]=Z;Z>G&&(d=!0,ba[g>>8]|=1<<(~(g>>4)&15),g<k&&(k=g),g>p&&(p=g),Z>=E&&(a+=1,g<v&&(v=g),g>x&&(x=g),R=!0))}d&&(C<r&&(r=C),C>t&&(t=C));R&&(C<A&&(A=C),C>y&&(y=C))}else for(C=
g-f;C<=n+f;C+=1){oa=e[C];O=B[C];ba=l[C>>4];R=d=!1;for(g=h-m;g<=q+m;g+=1){Z=oa[g];fa=O[g];if(Z<=J)0<=fa&&1===u[fa]?I?L.random()>=M[fa]?(Z=K,c+=1):Z>S&&--Z:(Z=K,c+=1):Z>S&&--Z;else if(Z===K){if(0>fa||0===z[fa])I?L.random()>=H[0>fa?0:fa]&&(--Z,pa+=1):(--Z,pa+=1)}else Z>S&&--Z;oa[g]=Z;0<Z&&(d=!0,ba[g>>8]|=1<<(~(g>>4)&15),g<k&&(k=g),g>p&&(p=g),Z===K&&(a+=1,g<v&&(v=g),g>x&&(x=g),R=!0))}d&&(C<r&&(r=C),C>t&&(t=C));R&&(C<A&&(A=C),C>y&&(y=C))}this.g.ga=a;this.g.sb=c;this.g.$a=pa;0<a?(D.o=k,D.u=p,D.s=r,D.v=
t,b.o=v,b.u=x,b.s=A,b.v=y):this.g.X=0};w.prototype.Af=function(h,g,q,n,a){var c,d=this.g.i+this.g.K,e=this.g.K,l=this.If,k=this.g.U,p=this.Rb,r=this.Sh,t=r[0],v=l[0],x=l[1],A=l[2],y=l[3],D=l[4],b=l[5],m=l[6],f=l[7];l=l[8];for(h-=a;h<=g+a;h+=1){var u=p[h];var z=q-a;var B=z-1;for(c=z+1;z<=n+a;){var C=0;var E=k[h-1];var G=E[B];G>e?C+=v*r[d-G]:0<t&&(C+=v*t);G=E[z];G>e?C+=x*r[d-G]:0<t&&(C+=x*t);G=E[c];G>e?C+=A*r[d-G]:0<t&&(C+=A*t);E=k[h];G=E[B];G>e?C+=y*r[d-G]:0<t&&(C+=y*t);G=E[z];G>e?C+=D*r[d-G]:0<t&&
(C+=D*t);G=E[c];G>e?C+=b*r[d-G]:0<t&&(C+=b*t);E=k[h+1];G=E[B];G>e?C+=m*r[d-G]:0<t&&(C+=m*t);G=E[z];G>e?C+=f*r[d-G]:0<t&&(C+=f*t);G=E[c];G>e?C+=l*r[d-G]:0<t&&(C+=l*t);u[z]=C;z+=1;B+=1;c+=1}}};w.prototype.xf=function(h,g,q,n,a){var c,d=LifeConstants.Qa,e=this.If,l=this.g.U,k=this.Rb,p=e[0],r=e[1],t=e[2],v=e[3],x=e[4],A=e[5],y=e[6],D=e[7];e=e[8];for(h-=a;h<=g+a;h+=1){var b=k[h];var m=q-a;var f=m-1;for(c=m+1;m<=n+a;){var u=0;var z=l[h-1];z[f]>=d&&(u+=p);z[m]>=d&&(u+=r);z[c]>=d&&(u+=t);z=l[h];z[f]>=d&&
(u+=v);z[m]>=d&&(u+=x);z[c]>=d&&(u+=A);z=l[h+1];z[f]>=d&&(u+=y);z[m]>=d&&(u+=D);z[c]>=d&&(u+=e);b[m]=u;m+=1;f+=1;c+=1}}};w.prototype.od=function(h,g,q,n,a,c){var d=this.Rb,e,l=LifeConstants.Qa,k=this.cg,p=this.eg,r=this.g.U;for(e=g-c;e<=n+c;e+=1){var t=d[e];for(g=h-a;g<=q+a;){var v=0;var x=r[e-k];x[g-k]>=l&&(v+=1);x[g+k]>=l&&(v+=1);x=r[e+k];x[g-k]>=l&&(v+=1);x[g+k]>=l&&(v+=1);r[e-p][g]>=l&&(v+=1);r[e+p][g]>=l&&(v+=1);x=r[e];x[g-p]>=l&&(v+=1);x[g+p]>=l&&(v+=1);x[g]>=l&&(v+=1);t[g]=v;g+=1}}};w.prototype.Fc=
function(h,g,q,n,a,c){var d=this.Rb,e,l,k=LifeConstants.Qa,p=this.g.U;for(e=g-c;e<=n+c;e+=1){var r=d[e];for(g=h-a;g<=q+a;){var t=0;for(l=-c;0>l;l+=1){var v=p[e+l];v[g]>=k&&(t+=1);v[g+l]>=k&&(t+=1)}v=p[e];for(l=-a;l<=a;l+=1)v[g+l]>=k&&(t+=1);for(l=1;l<=a;l+=1)v=p[e+l],v[g]>=k&&(t+=1),v[g+l]>=k&&(t+=1);r[g]=t;g+=1}}};w.prototype.uf=function(h,g,q,n,a,c){var d=this.Rb,e,l,k=LifeConstants.Qa,p=this.g.U;for(e=g-c;e<=n+c;e+=1){var r=d[e];for(g=h-a;g<=q+a;){var t=0;for(l=-c;0>l;l+=1){var v=p[e+l];v[g]>=
k&&(t+=1)}v=p[e];for(l=-a;0>=l;l+=1)v[g+l]>=k&&(t+=1);for(l=1;l<=a;l+=1)p[e+l][g+l]>=k&&(t+=1);r[g]=t;g+=1}}};w.prototype.wf=function(h,g,q,n,a,c){var d=this.Rb,e,l,k,p=LifeConstants.Qa,r=this.g.U;if(null===this.Sh)if(1!==a||1!==c||this.M)for(e=g-c;e<=n+c;e+=1){var t=d[e];for(g=h-a;g<=q+a;){if(this.M&&0!==(g+e&1)){var v=-(a+a+1);var x=this.If.length+v;v+=v}else v=x=0;var A=0;for(k=-c;k<=c;k+=1){var y=r[e+k];for(l=-a;l<=a;l+=1)y[g+l]>=p&&(A+=this.If[x]),x+=1;x+=v}t[g]=A;g+=1}}else this.xf(g,n,h,q,
a);else{var D=this.Sh[0];var b=this.Sh[1];for(e=g-c;e<=n+c;e+=1)for(t=d[e],g=h-a;g<=q+a;){this.M&&0!==(g+e&1)?(v=-(a+a+1),x=this.If.length+v,v+=v):v=x=0;A=0;for(k=-c;k<=c;k+=1){y=r[e+k];for(l=-a;l<=a;l+=1)A=y[g+l]>=p?A+this.If[x]*b:A+this.If[x]*D,x+=1;x+=v}t[g]=A;g+=1}}};w.prototype.ae=function(h,g,q,n,a,c){var d=this.Rb,e,l,k,p,r=LifeConstants.Qa,t=this.ab,v=this.g.U;for(e=g-c;e<=n+c;e+=1){var x=d[e];for(g=h-a;g<=q+a;){for(l=p=0;l<t.length;){var A=t[l];this.M&&0===(g+e&1)&&(A=-A);l+=1;var y=v[e+
A];A=t[l];for(k=l+=1;k<l+A;k+=1)y[g+t[k]]>=r&&(p+=1);l+=A}x[g]=p;g+=1}}};w.prototype.Ae=function(h,g,q,n,a,c){var d=this.Rb,e,l,k,p,r,t=LifeConstants.Qa,v=this.g.U;for(e=g-c;e<=n+c;e+=1){var x=d[e];g=h-a;var A=r=p=0;for(k=-c;k<=c;k+=1){var y=v[e+k];if(1===k)for(l=-a;l<=a;l+=1)y[g+l]>=t&&(r+=1);else if(-1===k)for(l=-a;l<=a;l+=1)y[g+l]>=t&&(A+=1);else y[g-1]>=t&&(p+=1),y[g+1]>=t&&(p+=1)}v[e][g]>=t&&(p+=1);x[g]=p+r+A;for(g+=1;g<=q+a;){p=0;for(k=-c;k<=c;k+=1)y=v[e+k],1===k?(y[g-a-1]>=t&&--r,y[g+a]>=t&&
(r+=1)):-1===k?(y[g-a-1]>=t&&--A,y[g+a]>=t&&(A+=1)):(y[g-1]>=t&&(p+=1),y[g+1]>=t&&(p+=1));v[e][g]>=t&&(p+=1);x[g]=p+r+A;g+=1}}};w.prototype.Gb=function(h,g,q,n,a,c,d){var e=this.Rb,l,k,p,r=LifeConstants.Qa,t=this.g.U;for(l=g-c;l<=n+c;l+=1){var v=e[l];g=h-a;var x=0;var A=d;for(p=-c;p<=c;p+=1){var y=t[l+p];for(k=-a+A;k<=a-A;k+=2)y[g+k]>=r&&(x+=1);A=1-A}1===d&&t[l][g]>=r&&(x+=1);v[g]=x;g+=1;if(g<=q+a){var D=0;A=d;for(p=-c;p<=c;p+=1){y=t[l+p];for(k=-a+A;k<=a-A;k+=2)y[g+k]>=r&&(D+=1);A=1-A}1===d&&t[l][g]>=
r&&(D+=1);v[g]=D;for(g+=1;g<=q+a;){A=d;for(p=-c;p<=c;p+=1)y=t[l+p],y[g-a+A-2]>=r&&--x,y[g+a-A]>=r&&(x+=1),A=1-A;1===d&&(t[l][g-2]>=r&&--x,t[l][g]>=r&&(x+=1));v[g]=x;g+=1;if(g<=q+a){A=d;for(p=-c;p<=c;p+=1)y=t[l+p],y[g-a+A-2]>=r&&--D,y[g+a-A]>=r&&(D+=1),A=1-A;1===d&&(t[l][g-2]>=r&&--D,t[l][g]>=r&&(D+=1));v[g]=D;g+=1}}}}};w.prototype.hd=function(h,g,q,n,a,c){this.Gb(h,g,q,n,a,c,1)};w.prototype.rc=function(h,g,q,n,a,c){this.Gb(h,g,q,n,a,c,0)};w.prototype.Pe=function(h,g,q,n,a,c){var d=this.Rb,e,l,k,p=
LifeConstants.Qa,r=this.g.U;for(e=g-c;e<=n+c;e+=1){var t=d[e];g=h-a;var v=0;for(k=-c;0>k;k+=1){var x=r[e+k];for(l=-a;l<=a+k;l+=1)x[g+l]>=p&&(v+=1)}for(k=0;k<=c;k+=1)for(x=r[e+k],l=-a+k;l<=a;l+=1)x[g+l]>=p&&(v+=1);t[g]=v;for(g+=1;g<=q+a;){for(k=-c;0>k;k+=1)x=r[e+k],x[g-a-1]>=p&&--v,x[g+a+k]>=p&&(v+=1);for(k=0;k<=c;k+=1)x=r[e+k],x[g-a+k-1]>=p&&--v,x[g+a]>=p&&(v+=1);t[g]=v;g+=1}}};w.prototype.Qe=function(h,g,q,n,a,c){var d=this.Rb,e,l,k=LifeConstants.Qa,p=this.g.U;for(e=g-c;e<=n+c;e+=1){var r=d[e];for(g=
h-a;g<=q+a;){var t=0;for(l=1;l<=c;l+=1){var v=p[e+l];v[g-l]>=k&&(t+=1);v[g+l]>=k&&(t+=1);v=p[e-l];v[g-l]>=k&&(t+=1);v[g+l]>=k&&(t+=1)}v=p[e];v[g]>=k&&(t+=1);r[g]=t;g+=1}}};w.prototype.We=function(h,g,q,n,a,c){var d=this.Rb,e,l,k=LifeConstants.Qa,p=this.g.U;for(e=g-c;e<=n+c;e+=1){var r=d[e];for(g=h-a;g<=q+a;){var t=0;for(l=1;l<=c;l+=1){var v=p[e+l];v[g-l]>=k&&(t+=1);v[g+l]>=k&&(t+=1);v[g]>=k&&(t+=1);v=p[e-l];v[g-l]>=k&&(t+=1);v[g+l]>=k&&(t+=1);v[g]>=k&&(t+=1)}v=p[e];for(l=-a;l<=a;l+=1)v[g+l]>=k&&(t+=
1);r[g]=t;g+=1}}};w.prototype.Od=function(h,g,q,n,a,c){var d=this.Rb,e,l,k,p=LifeConstants.Qa,r=this.g.U;for(e=g-c;e<=n+c;e+=1){var t=d[e];g=h-a;var v=k=0;for(l=1;l<=c;l+=1){var x=r[e+l];x[g]>=p&&(k+=1);x=r[e-l];x[g]>=p&&(k+=1)}x=r[e];for(l=-a;l<=a;l+=1)x[g+l]>=p&&(v+=1);t[g]=k+v;for(g+=1;g<=q+a;){k=0;for(l=1;l<=c;l+=1)r[e+l][g]>=p&&(k+=1),r[e-l][g]>=p&&(k+=1);x=r[e];x[g-a-1]>=p&&--v;x[g+a]>=p&&(v+=1);t[g]=k+v;g+=1}}};w.prototype.rf=function(h,g,q,n,a,c){var d=this.Rb,e,l,k=LifeConstants.Qa,p=this.g.U;
for(e=g-c;e<=n+c;e+=1){var r=d[e];g=h-a;var t=0;var v=g+e&1;if(0===v){var x=c+1;for(v=-c;0>v;v+=1){var A=p[e+v];for(l=-x;l<x;l+=2)A[g+l]>=k&&(t+=1),A[g+l+1]>=k&&(t+=1);A[g+l]>=k&&(t+=1);x+=1}v=0}else{x=c;for(v=-c;0>=v;v+=1){A=p[e+v];for(l=-x;l<x;l+=2)A[g+l]>=k&&(t+=1),A[g+l+1]>=k&&(t+=1);A[g+l]>=k&&(t+=1);x+=1}v=1}for(;v<=c;v+=1){--x;A=p[e+v];for(l=-x;l<x;l+=2)A[g+l]>=k&&(t+=1),A[g+l+1]>=k&&(t+=1);A[g+l]>=k&&(t+=1)}r[g]=t;for(g+=1;g<=q+a;){v=g+e&1;if(0===v){x=c+1;l=c;for(v=-c;0>v;v+=1)A=p[e+v],A[g+
l]>=k&&(t+=1),l+=1,A[g+l]>=k&&(t+=1),x+=1;--x;A=p[e];A[g-l-1]>=k&&--t;A[g+l]>=k&&(t+=1);l+=1;for(v=1;v<=c;v+=1)--x,--l,A=p[e+v],A[g-l-1]>=k&&--t,A[g-l]>=k&&--t}else{x=c;l=c+1;for(v=-c;0>v;v+=1)A=p[e+v],A[g-l-1]>=k&&--t,A[g-l]>=k&&--t,x+=1,l+=1;--l;A=p[e];A[g-l-1]>=k&&--t;A[g+l]>=k&&(t+=1);x+=1;for(v=1;v<=c;v+=1)--x,--l,A=p[e+v],A[g+l]>=k&&(t+=1),A[g+l+1]>=k&&(t+=1)}r[g]=t;g+=1}}};w.prototype.ce=function(h,g,q,n,a,c){var d=this.Rb,e,l,k,p,r=LifeConstants.Qa,t=this.g.U;for(e=g-c;e<=n+c;e+=1){var v=
d[e];for(g=h-a;g<=q+a;){var x=0;for(k=-c;0>k;k+=1){var A=p=k+c+1;var y=t[e+k];for(l=-a;0>=l;l+=1)y[g+l]>=r&&(x+=A),A+=p;A-=p+p;for(l=1;l<=a;l+=1)y[g+l]>=r&&(x+=A),A-=p;A=p=k+c+1;y=t[e-k];for(l=-a;0>=l;l+=1)y[g+l]>=r&&(x+=A),A+=p;A-=p+p;for(l=1;l<=a;l+=1)y[g+l]>=r&&(x+=A),A-=p}A=p=a+1;y=t[e];for(l=-a;0>=l;l+=1)y[g+l]>=r&&(x+=A),A+=p;A-=p+p;for(l=1;l<=a;l+=1)y[g+l]>=r&&(x+=A),A-=p;v[g]=x;g+=1}}};w.prototype.Se=function(h,g,q,n,a,c){var d=this.Rb,e,l,k,p=LifeConstants.Qa,r=this.Y,t=this.g.U;for(e=g-
c;e<=n+c;e+=1){var v=d[e];g=h-a;var x=0;for(k=-c;k<=c;k+=1){var A=r[k+c];var y=t[e+k];for(l=-A;l<A;l+=2)y[g+l]>=p&&(x+=1),y[g+l+1]>=p&&(x+=1);y[g+l]>=p&&(x+=1)}v[g]=x;for(g+=1;g<=q+a;){for(k=-c;k<=c;k+=1)A=r[k+c],y=t[e+k],y[g-A-1]>=p&&--x,y[g+A]>=p&&(x+=1);v[g]=x;g+=1}}};w.prototype.ee=function(h){var g,q,n=this.g.N.o,a=this.g.N.u,c=this.g.N.s,d=this.g.N.v,e=this.Ji,l=this.uh,k=h?this.Wr:this.sb,p=h?this.Xr:this.Yn,r=e+e,t=l+l;var v=e+1;var x=l+1;var A=this.Rb,y=this.type,D=this.Jn-1,b=this.g.width,
m=0,f=this.g.height,u=0,z=b,B=m,C=f,E=u,G=this.g.U,F=this.g.ya;var I=this.g.Ea;var L=this.g.Aa,M=0,H=0,K=0,J=0,S=0,pa=0,oa=0,O=LifeConstants.Qa,ba=LifeConstants.zl,R=this.g.fq,Z=this.fv,fa=this.Rr,ka=this.Ca,aa=this.na,ha=this.Ka;-1!==this.g.sa&&(M=Math.round((this.g.width-I)/2),K=Math.round((this.g.height-L)/2),H=M+I-1,J=K+L-1,1===k[0]&&(n=M+e,a=H-e,d=J-l,c=K+l),1===this.g.sa&&(n-M<e&&(a=H),H-a<e&&(n=M),J-d<l&&(c=K),c-K<l&&(d=J),this.ic(M,K,H,J)),0===this.g.sa&&1===D&&this.g.KA(G,0),n-M<e&&(n=M+
e),H-a<e&&(a=H-e),J-d<l&&(d=J-l),c-K<l&&(c=K+l),y===this.A.ne?(n-=r,c-=t,a+=r,d+=t):y===this.A.Vf&&6<e&&(n-=e,c-=l,a+=e,d+=l));if(y===this.A.ne){n-=r;c-=t;a+=r;d+=t;for(q=c;q<c+t;q+=1)A[q].fill(0,n,a+1);for(q=c+t;q<=d;q+=1)A[q].fill(0,n,n+r+1);var Y=A[c+t-1];for(q=c+t;q<=d;q+=1){var ra=A[q];D=G[q];I=0;for(g=n+r;g+8<=a;)D[g]>=O&&(I+=1),ra[g]=Y[g]+I,g+=1,D[g]>=O&&(I+=1),ra[g]=Y[g]+I,g+=1,D[g]>=O&&(I+=1),ra[g]=Y[g]+I,g+=1,D[g]>=O&&(I+=1),ra[g]=Y[g]+I,g+=1,D[g]>=O&&(I+=1),ra[g]=Y[g]+I,g+=1,D[g]>=O&&(I+=
1),ra[g]=Y[g]+I,g+=1,D[g]>=O&&(I+=1),ra[g]=Y[g]+I,g+=1,D[g]>=O&&(I+=1),ra[g]=Y[g]+I,g+=1;for(;g<=a;)D[g]>=O&&(I+=1),ra[g]=Y[g]+I,g+=1;Y=ra}n+=e;c+=l;a-=e;d-=l;-1!==this.g.sa&&(n+=r,c+=t,a-=r,d-=t);t=G[c][n];I=A[c+l][n+e];var la=0;t<O?1===k[I]&&(fa?ka.random()>=aa[I]&&(pa+=1,la=128):(pa+=1,la=128)):0===p[I]?fa?ka.random()>=ha[I]?oa+=1:la=128:oa+=1:la=128;t=R[t+la];G[c][n]=t;t>ba&&(Z[n]|=1,u=f=c,F[c>>4][n>>8]|=1<<(~(n>>4)&15),t>=O&&(S+=1,Z[n]|=2,E=C=c));var U=L=!1;ra=A[c+l];Y=A[c+l];D=G[c];r=F[c>>4];
for(g=n+1;g<=a;g+=1)t=D[g],I=ra[g+e]-Y[g-v],la=0,t<O?1===k[I]&&(fa?ka.random()>=aa[I]&&(pa+=1,la=128):(pa+=1,la=128)):0===p[I]?fa?ka.random()>=ha[I]?oa+=1:la=128:oa+=1:la=128,t=R[t+la],D[g]=t,t>ba&&(Z[g]|=1,L=!0,r[g>>8]|=1<<(~(g>>4)&15),t>=O&&(S+=1,Z[g]|=2,U=!0));L&&(u=f=c);U&&(E=C=c);r=D=!1;ra=n+e;for(q=c+1;q<=d;q+=1)t=G[q][n],I=A[q+l][ra]-A[q-x][ra],la=0,t<O?1===k[I]&&(fa?ka.random()>=aa[I]&&(pa+=1,la=128):(pa+=1,la=128)):0===p[I]?fa?ka.random()>=ha[I]?oa+=1:la=128:oa+=1:la=128,t=R[t+la],G[q][n]=
t,t>ba&&(q<f&&(f=q),q>u&&(u=q),D=!0,F[q>>4][n>>8]|=1<<(~(n>>4)&15),t>=O&&(S+=1,q<C&&(C=q),q>E&&(E=q),r=!0));D&&(Z[n]|=1);r&&(Z[n]|=2);for(q=c+1;q<=d;q+=1){D=G[q];r=F[q>>4];Y=A[q+l];var P=A[q-x];ra=n+1+e;var X=n+1-v;U=L=!1;for(g=n+1;g<=a;g+=1)t=D[g],I=Y[ra]+P[X]-Y[X]-P[ra],la=0,t<O?1===k[I]&&(fa?ka.random()>=aa[I]&&(la=128,pa+=1):(la=128,pa+=1)):0===p[I]?fa?ka.random()>=ha[I]?oa+=1:la=128:oa+=1:la=128,t=R[t+la],D[g]=t,t>ba&&(L=!0,r[g>>8]|=1<<(~(g>>4)&15),Z[g]|=1,t>=O&&(S+=1,U=!0,Z[g]|=2)),ra+=1,X+=
1;L&&(q<f&&(f=q),q>u&&(u=q));U&&(q<C&&(C=q),q>E&&(E=q))}for(g=n;g<=a;g+=1)Z[g]&&(g<b&&(b=g),g>m&&(m=g),0!==(Z[g]&2)&&(g<z&&(z=g),g>B&&(B=g)),Z[g]=0);this.g.ga=S;this.g.sb=pa;this.g.$a=oa;0<S?(this.g.N.o=b,this.g.N.u=m,this.g.N.s=f,this.g.N.v=u,this.g.Pa.o=z,this.g.Pa.u=B,this.g.Pa.s=C,this.g.Pa.v=E):this.g.X=0}else if(y===this.A.Vf&&6<e){n-=e;a+=e;c-=l;d+=l;-1===this.g.sa&&(n-=e,a+=e,c-=l,d+=l);this.ea=d-c+1;this.Lg=a-n+1;this.G=this.ea+(this.Lg-1)/2|0;this.Ya=this.Lg/2|0;for(v=0;v<this.G;v+=1)for(ra=
A[v],D=G[v+c],Z=v-1,I=Z-1,q=A[Z],r=A[I],x=0;x<=this.Lg;x+=1)ra[x]=this.C(Z,x-1,q)+this.C(Z,x+1,q)-this.C(I,x,r),v<this.ea&&D[x+n]>=O&&(ra[x]+=1);for(v=l;v<=this.ea-l;v+=1){Z=v-1;q=A[Z];X=v+l;var ea=A[X];ra=X-1;var ma=A[ra];g=v-l-1;var W=A[g];Y=g-1;var N=A[Y];P=v+c;D=G[P];r=F[P>>4];U=L=!1;for(x=e;x<=this.Lg-e;x+=1){I=x+e;t=x-e;I=this.C(X,x,ea)-this.C(Z,I+1,q)-this.C(Z,t-1,q)+this.C(Y,x,N)+this.C(ra,x,ma)-this.C(Z,I,q)-this.C(Z,t,q)+this.C(g,x,W);var Q=x+n;t=D[Q];la=0;t<O?1===k[I]&&(fa?ka.random()>=
aa[I]&&(la=128,pa+=1):(la=128,pa+=1)):0===p[I]?fa?ka.random()>=ha[I]?oa+=1:la=128:oa+=1:la=128;t=R[t+la];D[Q]=t;t>ba&&(Q<b&&(b=Q),Q>m&&(m=Q),L=!0,r[Q>>8]|=1<<(~(Q>>4)&15),t>=O&&(S+=1,U=!0,Q<z&&(z=Q),Q>B&&(B=Q)))}L&&(P<f&&(f=P),P>u&&(u=P));U&&(P<C&&(C=P),P>E&&(E=P))}this.g.ga=S;this.g.sb=pa;this.g.$a=oa;0<S?(this.g.N.o=b,this.g.N.u=m,this.g.N.s=f,this.g.N.v=u,this.g.Pa.o=z,this.g.Pa.u=B,this.g.Pa.s=C,this.g.Pa.v=E):this.g.X=0}else switch(y){case this.A.xh:this.od(n,c,a,d,e,l);break;case this.A.ii:this.Fc(n,
c,a,d,e,l);break;case this.A.Gi:this.uf(n,c,a,d,e,l);break;case this.A.Rp:this.wf(n,c,a,d,e,l);break;case this.A.Sm:this.ae(n,c,a,d,e,l);break;case this.A.Vj:this.Ae(n,c,a,d,e,l);break;case this.A.Lj:this.hd(n,c,a,d,e,l);break;case this.A.Ej:this.rc(n,c,a,d,e,l);break;case this.A.dj:this.Pe(n,c,a,d,e,l);break;case this.A.qk:this.Qe(n,c,a,d,e,l);break;case this.A.sk:this.We(n,c,a,d,e,l);break;case this.A.Mj:this.Od(n,c,a,d,e,l);break;case this.A.yj:this.rf(n,c,a,d,e,l);break;case this.A.aj:this.ce(n,
c,a,d,e,l);break;default:this.Se(n,c,a,d,e,l)}-1!==this.g.sa&&(n<M+e&&(n=M+e),a>H-e&&(a=H-e),c<K+l&&(c=K+l),d>J-l&&(d=J-l));y===this.A.ne||y===this.A.Vf&&6<e||this.$b(n,c,a,d,h);1===this.g.sa&&this.pb(M,K,H,J)};w.prototype.Nd=function(h,g,q,n,a,c){var d=this.Rb,e,l=this.g.i+this.g.K-1,k=this.cg,p=this.eg,r=this.g.U;for(e=g-c;e<=n+c;e+=1){var t=d[e];for(g=h-a;g<=q+a;){var v=0;var x=r[e-k];x[g-k]===l&&(v+=1);x[g+k]===l&&(v+=1);x=r[e+k];x[g-k]===l&&(v+=1);x[g+k]===l&&(v+=1);r[e-p][g]===l&&(v+=1);r[e+
p][g]===l&&(v+=1);x=r[e];x[g-p]===l&&(v+=1);x[g+p]===l&&(v+=1);x[g]===l&&(v+=1);t[g]=v;g+=1}}};w.prototype.gd=function(h,g,q,n,a,c){var d=this.Rb,e,l,k=this.g.i+this.g.K-1,p=this.g.U;for(e=g-c;e<=n+c;e+=1){var r=d[e];for(g=h-a;g<=q+a;){var t=0;for(l=-c;0>l;l+=1){var v=p[e+l];v[g]===k&&(t+=1);v[g+l]===k&&(t+=1)}v=p[e];for(l=-a;l<=a;l+=1)v[g+l]===k&&(t+=1);for(l=1;l<=a;l+=1)v=p[e+l],v[g]===k&&(t+=1),v[g+l]===k&&(t+=1);r[g]=t;g+=1}}};w.prototype.vf=function(h,g,q,n,a,c){var d=this.Rb,e,l,k=this.g.i+
this.g.K-1,p=this.g.U;for(e=g-c;e<=n+c;e+=1){var r=d[e];for(g=h-a;g<=q+a;){var t=0;for(l=-c;0>l;l+=1){var v=p[e+l];v[g]===k&&(t+=1)}v=p[e];for(l=-a;0>=l;l+=1)v[g+l]===k&&(t+=1);for(l=1;l<=a;l+=1)p[e+l][g+l]===k&&(t+=1);r[g]=t;g+=1}}};w.prototype.Qf=function(h,g,q,n,a,c){var d=this.Rb,e,l,k,p=this.g.i+this.g.K-1,r=this.g.U;if(null===this.Sh)for(e=g-c;e<=n+c;e+=1){var t=d[e];for(g=h-a;g<=q+a;){if(this.M&&0!==(g+e&1)){var v=-(a+a+1);var x=this.If.length+v;v+=v}else v=x=0;var A=0;for(k=-c;k<=c;k+=1){var y=
r[e+k];for(l=-a;l<=a;l+=1)y[g+l]===p&&(A+=this.If[x]),x+=1;x+=v}t[g]=A;g+=1}}else if(1!==a||1!==c||this.M){var D=this.Sh[0];var b=this.Sh[1];for(e=g-c;e<=n+c;e+=1)for(t=d[e],g=h-a;g<=q+a;){this.M&&0!==(g+e&1)?(v=-(a+a+1),x=this.If.length+v,v+=v):v=x=0;A=0;for(k=-c;k<=c;k+=1){y=r[e+k];for(l=-a;l<=a;l+=1)A=y[g+l]===p?A+this.If[x]*b:A+this.If[x]*D,x+=1;x+=v}t[g]=A;g+=1}}else this.Af(g,n,h,q,a)};w.prototype.be=function(h,g,q,n,a,c){var d=this.Rb,e,l,k,p,r=this.g.i+this.g.K-1,t=this.ab,v=this.g.U;for(e=
g-c;e<=n+c;e+=1){var x=d[e];for(g=h-a;g<=q+a;){for(l=p=0;l<t.length;){var A=t[l];this.M&&0===(g+e&1)&&(A=-A);l+=1;var y=v[e+A];A=t[l];for(k=l+=1;k<l+A;k+=1)y[g+t[k]]===r&&(p+=1);l+=A}x[g]=p;g+=1}}};w.prototype.Oe=function(h,g,q,n,a,c){var d=this.Rb,e,l,k,p,r,t=this.g.i+this.g.K-1,v=this.g.U;for(e=g-c;e<=n+c;e+=1){var x=d[e];g=h-a;var A=r=p=0;for(k=-c;k<=c;k+=1){var y=v[e+k];if(1===k)for(l=-a;l<=a;l+=1)y[g+l]===t&&(r+=1);else if(-1===k)for(l=-a;l<=a;l+=1)y[g+l]===t&&(A+=1);else y[g-1]===t&&(p+=1),
y[g+1]===t&&(p+=1)}v[e][g]===t&&(p+=1);x[g]=p+r+A;for(g+=1;g<=q+a;){p=0;for(k=-c;k<=c;k+=1)y=v[e+k],1===k?(y[g-a-1]===t&&--r,y[g+a]===t&&(r+=1)):-1===k?(y[g-a-1]===t&&--A,y[g+a]===t&&(A+=1)):(y[g-1]===t&&(p+=1),y[g+1]===t&&(p+=1));v[e][g]===t&&(p+=1);x[g]=p+r+A;g+=1}}};w.prototype.Qb=function(h,g,q,n,a,c,d){var e=this.Rb,l,k,p,r=this.g.i+this.g.K-1,t=this.g.U;for(l=g-c;l<=n+c;l+=1){var v=e[l];g=h-a;var x=0;var A=d;for(p=-c;p<=c;p+=1){var y=t[l+p];for(k=-a+A;k<=a-A;k+=2)y[g+k]===r&&(x+=1);A=1-A}1===
d&&t[l][g]===r&&(x+=1);v[g]=x;g+=1;if(g<=q+a){var D=0;A=d;for(p=-c;p<=c;p+=1){y=t[l+p];for(k=-a+A;k<=a-A;k+=2)y[g+k]===r&&(D+=1);A=1-A}1===d&&t[l][g]===r&&(D+=1);v[g]=D;for(g+=1;g<=q+a;){A=d;for(p=-c;p<=c;p+=1)y=t[l+p],y[g-a+A-2]===r&&--x,y[g+a-A]===r&&(x+=1),A=1-A;1===d&&(t[l][g-2]===r&&--x,t[l][g]===r&&(x+=1));v[g]=x;g+=1;if(g<=q+a){A=d;for(p=-c;p<=c;p+=1)y=t[l+p],y[g-a+A-2]===r&&--D,y[g+a-A]===r&&(D+=1),A=1-A;1===d&&(t[l][g-2]===r&&--D,t[l][g]===r&&(D+=1));v[g]=D;g+=1}}}}};w.prototype.nd=function(h,
g,q,n,a,c){this.Qb(h,g,q,n,a,c,1)};w.prototype.wc=function(h,g,q,n,a,c){this.Qb(h,g,q,n,a,c,0)};w.prototype.Ne=function(h,g,q,n,a,c){var d=this.Rb,e,l,k,p=this.g.i+this.g.K-1,r=this.g.U;for(e=g-c;e<=n+c;e+=1){var t=d[e];g=h-a;var v=0;for(k=-c;0>k;k+=1){var x=r[e+k];for(l=-a;l<=a+k;l+=1)x[g+l]===p&&(v+=1)}for(k=0;k<=c;k+=1)for(x=r[e+k],l=-a+k;l<=a;l+=1)x[g+l]===p&&(v+=1);t[g]=v;for(g+=1;g<=q+a;){for(k=-c;0>k;k+=1)x=r[e+k],x[g-a-1]===p&&--v,x[g+a+k]===p&&(v+=1);for(k=0;k<=c;k+=1)x=r[e+k],x[g-a+k-1]===
p&&--v,x[g+a]===p&&(v+=1);t[g]=v;g+=1}}};w.prototype.Re=function(h,g,q,n,a,c){var d=this.Rb,e,l,k=this.g.i+this.g.K-1,p=this.g.U;for(e=g-c;e<=n+c;e+=1){var r=d[e];for(g=h-a;g<=q+a;){var t=0;for(l=1;l<=c;l+=1){var v=p[e+l];v[g-l]===k&&(t+=1);v[g+l]===k&&(t+=1);v=p[e-l];v[g-l]===k&&(t+=1);v[g+l]===k&&(t+=1)}v=p[e];v[g]===k&&(t+=1);r[g]=t;g+=1}}};w.prototype.qf=function(h,g,q,n,a,c){var d=this.Rb,e,l,k=this.g.i+this.g.K-1,p=this.g.U;for(e=g-c;e<=n+c;e+=1){var r=d[e];for(g=h-a;g<=q+a;){var t=0;for(l=
1;l<=c;l+=1){var v=p[e+l];v[g-l]===k&&(t+=1);v[g+l]===k&&(t+=1);v[g]===k&&(t+=1);v=p[e-l];v[g-l]===k&&(t+=1);v[g+l]===k&&(t+=1);v[g]===k&&(t+=1)}v=p[e];for(l=-a;l<=a;l+=1)v[g+l]===k&&(t+=1);r[g]=t;g+=1}}};w.prototype.Pd=function(h,g,q,n,a,c){var d=this.Rb,e,l,k,p=this.g.i+this.g.K-1,r=this.g.U;for(e=g-c;e<=n+c;e+=1){var t=d[e];g=h-a;var v=k=0;for(l=1;l<=c;l+=1){var x=r[e+l];x[g]===p&&(k+=1);x=r[e-l];x[g]===p&&(k+=1)}x=r[e];for(l=-a;l<=a;l+=1)x[g+l]===p&&(v+=1);t[g]=k+v;for(g+=1;g<=q+a;){k=0;for(l=
1;l<=c;l+=1)r[e+l][g]===p&&(k+=1),r[e-l][g]===p&&(k+=1);x=r[e];x[g-a-1]===p&&--v;x[g+a]===p&&(v+=1);t[g]=k+v;g+=1}}};w.prototype.tf=function(h,g,q,n,a,c){var d=this.Rb,e,l,k=this.g.i+this.g.K-1,p=this.g.U;for(e=g-c;e<=n+c;e+=1){var r=d[e];g=h-a;var t=0;var v=g+e&1;if(0===v){var x=c+1;for(v=-c;0>v;v+=1){var A=p[e+v];for(l=-x;l<x;l+=2)A[g+l]===k&&(t+=1),A[g+l+1]===k&&(t+=1);A[g+l]===k&&(t+=1);x+=1}v=0}else{x=c;for(v=-c;0>=v;v+=1){A=p[e+v];for(l=-x;l<x;l+=2)A[g+l]===k&&(t+=1),A[g+l+1]===k&&(t+=1);A[g+
l]===k&&(t+=1);x+=1}v=1}for(;v<=c;v+=1){--x;A=p[e+v];for(l=-x;l<x;l+=2)A[g+l]===k&&(t+=1),A[g+l+1]===k&&(t+=1);A[g+l]===k&&(t+=1)}r[g]=t;for(g+=1;g<=q+a;){v=g+e&1;if(0===v){x=c+1;l=c;for(v=-c;0>v;v+=1)A=p[e+v],A[g+l]===k&&(t+=1),l+=1,A[g+l]===k&&(t+=1),x+=1;--x;A=p[e];A[g-l-1]===k&&--t;A[g+l]===k&&(t+=1);l+=1;for(v=1;v<=c;v+=1)--x,--l,A=p[e+v],A[g-l-1]===k&&--t,A[g-l]===k&&--t}else{x=c;l=c+1;for(v=-c;0>v;v+=1)A=p[e+v],A[g-l-1]===k&&--t,A[g-l]===k&&--t,x+=1,l+=1;--l;A=p[e];A[g-l-1]===k&&--t;A[g+l]===
k&&(t+=1);x+=1;for(v=1;v<=c;v+=1)--x,--l,A=p[e+v],A[g+l]===k&&(t+=1),A[g+l+1]===k&&(t+=1)}r[g]=t;g+=1}}};w.prototype.de=function(h,g,q,n,a,c){var d=this.Rb,e,l,k,p,r=this.g.i+this.g.K-1,t=this.g.U;for(e=g-c;e<=n+c;e+=1){var v=d[e];for(g=h-a;g<=q+a;){var x=0;for(k=-c;0>k;k+=1){var A=p=k+c+1;var y=t[e+k];for(l=-a;0>=l;l+=1)y[g+l]===r&&(x+=A),A+=p;A-=p+p;for(l=1;l<=a;l+=1)y[g+l]===r&&(x+=A),A-=p;A=p=k+c+1;y=t[e-k];for(l=-a;0>=l;l+=1)y[g+l]===r&&(x+=A),A+=p;A-=p+p;for(l=1;l<=a;l+=1)y[g+l]===r&&(x+=A),
A-=p}A=p=a+1;y=t[e];for(l=-a;0>=l;l+=1)y[g+l]===r&&(x+=A),A+=p;A-=p+p;for(l=1;l<=a;l+=1)y[g+l]===r&&(x+=A),A-=p;v[g]=x;g+=1}}};w.prototype.Ve=function(h,g,q,n,a,c){var d=this.Rb,e,l,k,p=this.g.i+this.g.K-1,r=this.Y,t=this.g.U;for(e=g-c;e<=n+c;e+=1){var v=d[e];g=h-a;var x=0;for(k=-c;k<=c;k+=1){var A=r[k+c];var y=t[e+k];for(l=-A;l<A;l+=2)y[g+l]===p&&(x+=1),y[g+l+1]===p&&(x+=1);y[g+l]===p&&(x+=1)}v[g]=x;for(g+=1;g<=q+a;){for(k=-c;k<=c;k+=1)A=r[k+c],y=t[e+k],y[g-A-1]===p&&--x,y[g+A]===p&&(x+=1);v[g]=
x;g+=1}}};w.prototype.ze=function(h){var g,q,n=this.g.N.o,a=this.g.N.u,c=this.g.N.s,d=this.g.N.v,e=this.Ji,l=this.uh,k=h?this.Wr:this.sb,p=h?this.Xr:this.Yn,r=e+e,t=l+l;var v=e+1;var x=l+1;var A=this.Rb,y=this.type,D=this.g.width,b=0,m=this.g.height,f=0,u=D,z=b,B=m,C=f,E=this.g.U,G=this.g.ya;var F=this.g.Ea;var I=this.g.Aa;var L=0,M=0,H=0,K=0,J=0,S=0,pa=0,oa;var O=this.Rr;var ba=this.Ca;var R=this.na;var Z=this.Ka;var fa=this.g.i+this.g.K-1,ka=this.g.K,aa=0<this.g.K?1:0;-1!==this.g.sa&&(L=Math.round((this.g.width-
F)/2),H=Math.round((this.g.height-I)/2),M=L+F-1,K=H+I-1,1===k[0]&&(n=L+e,a=M-e,d=K-l,c=H+l),1===this.g.sa&&(n-L<e&&(a=M),M-a<e&&(n=L),K-d<l&&(c=H),c-H<l&&(d=K),this.ic(L,H,M,K)),n-L<e&&(n=L+e),M-a<e&&(a=M-e),K-d<l&&(d=K-l),c-H<l&&(c=H+l),y===this.A.ne?(n-=r,c-=t,a+=r,d+=t):y===this.A.Vf&&6<e&&(n-=e,c-=l,a+=e,d+=l));if(y===this.A.ne){n-=r;c-=t;a+=r;d+=t;for(q=c;q<c+t;q+=1)A[q].fill(0,n,a+1);for(q=c+t;q<=d;q+=1)A[q].fill(0,n,n+r);for(q=c+t;q<=d;q+=1){var ha=A[q-1];var Y=A[q];F=E[q];I=0;for(g=n+r;g<=
a;g+=1)F[g]===fa&&(I+=1),Y[g]=ha[g]+I}n+=e;c+=l;a-=e;d-=l;-1!==this.g.sa&&(n+=r,c+=t,a-=r,d-=t);t=E[c][n];I=A[c+l][n+e];t<=ka?1===k[I]?O?ba.random()>=R[I]?(t=fa,S+=1):t>aa&&--t:(t=fa,S+=1):t>aa&&--t:t===fa?0===p[I]&&(O?ba.random()>=Z[I]&&(--t,pa+=1):(--t,pa+=1)):t>aa&&--t;E[c][n]=t;0<t&&(b=D=n,f=m=c,G[c>>4][n>>8]|=1<<(~(n>>4)&15),t===fa&&(J+=1,z=u=n,C=B=c));var ra=oa=!1;Y=A[c+l];ha=A[c+l];F=E[c];r=G[c>>4];for(g=n+1;g<=a;g+=1)t=F[g],I=Y[g+e]-ha[g-v],t<=ka?1===k[I]?O?ba.random()>=R[I]?(t=fa,S+=1):t>
aa&&--t:(t=fa,S+=1):t>aa&&--t:t===fa?0===p[I]&&(O?ba.random()>=Z[I]&&(--t,pa+=1):(--t,pa+=1)):t>aa&&--t,F[g]=t,0<t&&(g<D&&(D=g),g>b&&(b=g),oa=!0,r[g>>8]|=1<<(~(g>>4)&15),t===fa&&(J+=1,g<u&&(u=g),g>z&&(z=g),ra=!0));oa&&(f=m=c);ra&&(C=B=c);r=F=!1;Y=n+e;for(q=c+1;q<=d;q+=1)t=E[q][n],I=A[q+l][Y]-A[q-x][Y],t<=ka?1===k[I]?O?ba.random()>=R[I]?(t=fa,S+=1):t>aa&&--t:(t=fa,S+=1):t>aa&&--t:t===fa?0===p[I]&&(O?ba.random()>=Z[I]&&(--t,pa+=1):(--t,pa+=1)):t>aa&&--t,E[q][n]=t,0<t&&(q<m&&(m=q),q>f&&(f=q),F=!0,G[q>>
4][n>>8]|=1<<(~(n>>4)&15),t===fa&&(J+=1,q<B&&(B=q),q>C&&(C=q),r=!0));F&&(n<D&&(D=n),n>b&&(b=n));r&&(n<u&&(u=n),n>z&&(z=n));for(q=c+1;q<=d;q+=1){F=E[q];r=G[q>>4];ha=A[q+l];var la=A[q-x];ra=oa=!1;Y=n+1+e;var U=n+1-v;for(g=n+1;g<=a;g+=1)t=F[g],I=ha[Y]+la[U]-ha[U]-la[Y],t<=ka?1===k[I]?O?ba.random()>=R[I]?(t=fa,S+=1):t>aa&&--t:(t=fa,S+=1):t>aa&&--t:t===fa?0===p[I]&&(O&&ba.random()>=Z[I]&&(--t,pa+=1),--t,pa+=1):t>aa&&--t,F[g]=t,0<t&&(r[g>>8]|=1<<(~(g>>4)&15),g<D&&(D=g),g>b&&(b=g),oa=!0,t===fa&&(J+=1,ra=
!0,g<u&&(u=g),g>z&&(z=g))),Y+=1,U+=1;oa&&(q<m&&(m=q),q>f&&(f=q));ra&&(q<B&&(B=q),q>C&&(C=q))}this.g.ga=J;this.g.sb=S;this.g.$a=pa;0<J?(this.g.N.o=D,this.g.N.u=b,this.g.N.s=m,this.g.N.v=f,this.g.Pa.o=u,this.g.Pa.u=z,this.g.Pa.s=B,this.g.Pa.v=C):this.g.X=0}else if(y===this.A.Vf&&6<e){n-=e;a+=e;c-=l;d+=l;-1===this.g.sa&&(n-=e,a+=e,c-=l,d+=l);this.ea=d-c+1;this.Lg=a-n+1;this.G=this.ea+(this.Lg-1)/2|0;this.Ya=this.Lg/2|0;for(v=0;v<this.G;v+=1)for(Y=A[v],F=E[v+c],O=v-1,I=O-1,ba=A[O],r=A[I],x=0;x<=this.Lg;x+=
1)Y[x]=this.C(O,x-1,ba)+this.C(O,x+1,ba)-this.C(I,x,r),v<this.ea&&F[x+n]===fa&&(Y[x]+=1);for(v=l;v<=this.ea-l;v+=1){O=v-1;ba=A[O];g=v+l;ha=A[g];R=g-1;la=A[R];Z=v-l-1;U=A[Z];q=Z-1;var P=A[q];Y=v+c;F=E[Y];r=G[Y>>4];ra=oa=!1;for(x=e;x<=this.Lg-e;x+=1){I=x+e;t=x-e;I=this.C(g,x,ha)-this.C(O,I+1,ba)-this.C(O,t-1,ba)+this.C(q,x,P)+this.C(R,x,la)-this.C(O,I,ba)-this.C(O,t,ba)+this.C(Z,x,U);var X=x+n;t=F[X];t<=ka?1===k[I]?(t=fa,S+=1):t>aa&&--t:t===fa?0===p[I]&&(--t,pa+=1):t>aa&&--t;F[X]=t;0<t&&(r[X>>8]|=1<<
(~(X>>4)&15),X<D&&(D=X),X>b&&(b=X),oa=!0,t===fa&&(J+=1,ra=!0,X<u&&(u=X),X>z&&(z=X)))}oa&&(Y<m&&(m=Y),Y>f&&(f=Y));ra&&(Y<B&&(B=Y),Y>C&&(C=Y))}this.g.ga=J;this.g.sb=S;this.g.$a=pa;0<J?(this.g.N.o=D,this.g.N.u=b,this.g.N.s=m,this.g.N.v=f,this.g.Pa.o=u,this.g.Pa.u=z,this.g.Pa.s=B,this.g.Pa.v=C):this.g.X=0}else switch(y){case this.A.xh:this.Nd(n,c,a,d,e,l);break;case this.A.ii:this.gd(n,c,a,d,e,l);break;case this.A.Gi:this.vf(n,c,a,d,e,l);break;case this.A.Rp:this.Qf(n,c,a,d,e,l);break;case this.A.Sm:this.be(n,
c,a,d,e,l);break;case this.A.Vj:this.Oe(n,c,a,d,e,l);break;case this.A.Lj:this.nd(n,c,a,d,e,l);break;case this.A.Ej:this.wc(n,c,a,d,e,l);break;case this.A.dj:this.Ne(n,c,a,d,e,l);break;case this.A.qk:this.Re(n,c,a,d,e,l);break;case this.A.sk:this.qf(n,c,a,d,e,l);break;case this.A.Mj:this.Pd(n,c,a,d,e,l);break;case this.A.yj:this.tf(n,c,a,d,e,l);break;case this.A.aj:this.de(n,c,a,d,e,l);break;default:this.Ve(n,c,a,d,e,l)}-1!==this.g.sa&&(n<L+e&&(n=L+e),a>M-e&&(a=M-e),c<H+l&&(c=H+l),d>K-l&&(d=K-l));
y===this.A.ne||y===this.A.Vf&&6<e||this.$b(n,c,a,d,h);1===this.g.sa&&this.pb(L,H,M,K)};w.prototype.WN=function(h){var g=!1;this.Lb&&1===(h&1)&&(g=!0);2===this.Jn?this.ee(g):this.ze(g)};window.HROT=w}(),function(){function w(a,c,d,e,l,k,p,r){this.name=a;this.Kl=!1;this.xq=10;this.ti=this.si=0;this.wb=e;this.Hb=d;this.tb=c;this.bh=l;this.jc=k;this.Sc=p;this.zj=r;this.Ym=!1;-1===this.jc.da.red&&(this.Ym=!0);128<=(this.wb.red+this.wb.green+this.wb.blue)/3?(this.si=ViewConstants.DH,this.ti=ViewConstants.CH):
(this.si=ViewConstants.Zv,this.ti=ViewConstants.Yv)}function h(a,c,d){this.red=a;this.green=c;this.blue=d}function g(a,c){this.ba=a;this.da=c}function q(a,c,d,e,l,k,p){this.A=k;this.view=p;new Image;this.Kj=document.createElement("canvas");this.Kj.width=1;this.Kj.height=1;this.Li=this.Kj.getContext("2d");this.Bk=new Image;this.Ni=[];this.El=0;this.Dj=8;this.Xp="";this.eq=null;this.Qe=this.ic=0;this.pe=null;this.tD=this.kx=0;this.xu=!0;this.B=new Allocator;this.bi=[];this.Zc=!1;this.Ek=!0;this.Hh=
!1;this.Iw=this.Up=this.Wp=this.Vp=this.Ik=this.Wi=this.Vi=this.od=null;this.zb=new Random;this.zb.Ye(Date.now().toString());this.ca=!1;this.Ug=8;this.df=2;this.Bi=0;this.im=-1;this.Je=this.kl=this.jl=null;this.ph=[];this.re=null;this.gm=this.pk=this.oh=0;this.Af=this.$b=this.Pi=this.Oi=this.Ui=this.bj=this.vf=this.qe=null;this.Ya=this.Yg=0;this.Vg=this.Sk=null;this.Mg=!0;this.Ri=new BoundingBox(0,0,0,0);this.Zh=this.xf=-1;this.Au=this.$z=0;this.aA=!1;this.Gm=!0;this.vh=this.Wg=this.Lb=this.Ad=this.zd=
!1;this.ot=0;this.Zl=[];this.am=[];this.bm=[];this.em=[];this.Rl=[];this.Tl=[];this.Wl=[];this.Xl=[];this.Bm=[];this.lo=[];this.mo=[];this.no=[];this.jm=[];this.tm=[];this.ym=[];this.zm=[];this.Ii=[];this.ah=this.Lc="";this.Qb=255;this.Sb=null;this.xg=this.B.T(Uint8,65536,"Life.bitCounts16");this.gB();this.Lu=this.B.T(Uint8,65536,"Life.firstBit16");this.yB();this.Wh=this.Qh=this.wc=null;this.dc=this.kc=this.hd=this.ai=0;this.Dc=1;this.X=0;this.Aa=this.Ea=this.sa=-1;this.wo=this.vo=0;this.Wz=this.Zu=
!1;this.$u=!0;this.Rt=ViewConstants.YG;this.Pe=[];this.Ne=[];this.Pe[0]=this.B.T(Int32,n.Fx,"Life.boundaryX0");this.Ne[0]=this.B.T(Int32,n.Fx,"Life.boundaryY0");this.Cj=0;this.vl=4294967295;this.Jm=4286611584;this.fE="rgb(0,255,0)";this.uC="rgb(255,0,0)";this.Ru="rgb(255,255,0)";this.gE="rgb(255,128,0)";this.L=this.ia=this.za=!1;this.ve=-1;this.M=!1;this.Ld=this.A.ho;this.S=!1;this.hg=this.A.Bq;this.Ic=this.ax=this.Tb=!1;this.i=-1;this.O=this.ta=!1;this.Xi=this.K=0;this.Eg=this.oa=!1;this.rh=new SnapshotManager(this.B,
this.xg);this.bp=n.au;this.pd=this.tc=this.xj=!1;this.me=this.ig=this.Pa=this.QB=this.N=null;this.width=e;this.height=l;this.Fp=2;this.Gp=16;this.ra=this.width>>4;this.va=this.height>>4;this.yu=null;this.J=c;this.I=d;this.$a=this.sb=this.ga=0;this.Qa=n.Qa;this.$f=n.$f;this.mf=n.mf;this.zl=n.zl;this.zw=this.wb=0;this.aa=1;this.bg=-1;this.Mm=1;this.Nm=30;this.Sa=this.angle=this.counter=this.ck=this.lf=0;this.zoom=6;this.xa=this.Da=0;this.Ze=.1;this.mb=0;this.qa=1;this.Ue=this.Te=0;this.C=.1;this.Fd=
littleEndian;this.Kb=[];this.$g=this.Re=this.ce=this.Qf=this.Ae=this.Nd=this.rc=this.ei=this.tf=this.Se=this.sh=this.We=this.Oe=this.Fc=null;this.Bf=-1;this.Ti=this.gd=this.Ed=this.Ml=null;this.context=a;this.Nb=this.Pb=0;this.cc=this.kb=this.Fh=this.grid=this.te=this.wa=this.ka=null;this.Bl=this.B.T(Uint32,this.J,"Life.blankPixelRow");this.Lf=this.B.T(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.cs=this.B.T(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.Bd=this.B.T(Uint16,this.ra>>4,"Life.blankTileRow");
this.zc=this.B.T(Uint8,this.width,"Life.blankColourRow");this.Xg=this.tk=this.uj=this.Ef=this.ya=this.Oa=this.al=this.jp=this.fd=this.mc=this.ge=this.wl=this.Jb=this.Ga=this.U=null;this.Xa=this.B.T(Uint8,256,"Life.redChannel");this.Va=this.B.T(Uint8,256,"Life.greenChannel");this.Ua=this.B.T(Uint8,256,"Life.blueChannel");this.cf=this.B.T(Uint32,256,"Life.pixelColours");this.ze=null;this.iw=0;this.ee=this.cd=this.wf=this.de=this.Si=this.Yh=this.Pg=this.Xh=null;this.fq=this.B.T(Uint16,2*(this.$f+1)<<
8,"Life.colourLookup");this.Bu=this.B.T(Uint8,2048,"Life.colourReset");this.le=ViewConstants.Zv;this.cn=-1;this.Hg=ViewConstants.Yv;this.Og=-1;this.gg=10;this.Ll=!0;this.RL=10;this.ab=this.na=null;this.ja=8192;this.bN=[0,0,48];this.aN=[255,255,255];this.$M=[255,255,255];this.cN=[0,255,0];this.dN=[255,0,0];this.Sj=[0,0,48];this.Rj=[255,255,255];this.Qj=[255,255,255];this.Tj=[0,255,0];this.Uj=[255,0,0];this.pa=new HROT(this.B,this,k);this.coords=this.B.T(Float32,1,"Life.coords");this.Ka=this.B.T(Uint32,
1,"Life.cellColours");this.pb=0}var n={dC:0,fC:1,eC:2,RN:3,an:5E4,Ok:0,kf:1,Ce:2,MN:0,Pw:0,Ow:1,$B:2,aC:3,nI:4,bC:5,cC:6,ON:6,NN:7,PN:8,FN:20,QN:"RotCCW RotCW FlipX FlipY FlipXY RotCWFlipX RotCWFlipY FlipXorY RotCWorCCW".split(" "),Vl:1048576,HN:65535,fG:"Buffer Full",kv:[[0,0,0],[0,255,0],[0,0,160],[255,216,255],[255,0,0],[255,255,0],[96,96,96],[255,105,180],[128,0,128],[0,191,255],[0,64,128],[64,224,208],[0,128,64],[255,255,255],[255,99,71],[250,128,114],[219,112,147],[255,165,0],[245,222,179],
[0,255,255],[192,192,192],[192,255,128],[255,182,193],[0,255,127],[1,1,1],[255,0,127]],Qw:"dead;on;off;marked on trail;marked off trail;marked on alt;boundary;marked on no-trail;marked off no-trail;on trail 1;off trail 1;on trail;off trail 2;on no-trail 1;off disappearing;on no-trail 2;off vanishing;on no-trail 3;off cycling 1;on no-trail 4;off cycling 2;on no-trail 5;off cycling 3;on no-trail 6;hidden;on no-trail 7".split(";"),gq:[[0,0,0],[255,0,0],[0,255,0],[128,128,0],[16,16,255],[128,0,128],[0,
128,128],[96,96,96],[255,255,0],[255,128,0],[128,255,0],[170,170,0],[144,144,144],[170,85,85],[85,128,43],[128,128,64],[0,0,0],[255,0,0],[0,255,0],[128,128,0]],OM:[[1,1,1],[1,0,0],[0,1,0]],PM:[[0,1,0],[1,1,0],[1,0,1]],QM:[[1,1,0],[1,0,1],[1,0,0]],RM:[[0,1,1],[1,1,0],[0,0,1]],KM:[[1,1,1],[0,0,1],[0,1,0]],LM:[[0,1,0],[0,1,1],[1,0,1]],MM:[[0,1,1],[1,0,1],[0,0,1]],NM:[[1,1,0],[0,1,1],[1,0,0]],WM:[[0,1,0],[1,0,0],[1,1,1]],XM:[[1,0,1],[1,1,0],[0,1,0]],YM:[[1,0,0],[1,0,1],[1,1,0]],ZM:[[0,0,1],[1,1,0],[0,
1,1]],SM:[[0,1,0],[0,0,1],[1,1,1]],TM:[[1,0,1],[0,1,1],[0,1,0]],UM:[[0,0,1],[1,0,1],[0,1,1]],VM:[[1,0,0],[0,1,1],[1,1,0]],Mc:4096,Zi:16,Fx:4096,gN:512,bw:262144,dn:65536,No:65536,FH:8192,EH:131072,au:64,fI:524288,jk:12,Qa:64,$f:127,mf:63,zl:1,Yb:1,ob:2,Db:4,Wb:8,hc:16,Cb:32,ac:64,bc:128};w.prototype.set=function(a){this.Kl=a.Kl;this.xq=a.xq;this.si=a.si;this.ti=a.ti;this.wb.set(a.wb);this.Hb.set(a.Hb);this.tb.set(a.tb);this.bh.set(a.bh);this.jc.set(a.jc);this.Sc.set(a.Sc);this.zj.set(a.zj);this.jc.set(a.jc);
this.Ym=a.Ym};w.prototype.wp=function(a,c,d){this.Kl=!0;this.xq=a;this.si=c.red<<16|c.green<<8|c.blue;this.ti=d.red<<16|d.green<<8|d.blue};w.prototype.AP=function(a,c){this.si=-1!==a?a:128<=(this.wb.red+this.wb.green+this.wb.blue)/3?ViewConstants.DH:ViewConstants.Zv;this.ti=-1!==c?c:128<=(this.wb.red+this.wb.green+this.wb.blue)/3?ViewConstants.CH:ViewConstants.Yv};w.prototype.fN=function(a){var c=!0;a||this.Hb.ba.uB(this.Hb.da)&&this.tb.ba.uB(this.tb.da)&&this.tb.ba.uB(this.wb)&&(c=!1);return c};
h.prototype.set=function(a){this.red=a.red;this.green=a.green;this.blue=a.blue};h.prototype.uB=function(a){var c=!1;this.red===a.red&&this.green===a.green&&this.blue===a.blue&&(c=!0);return c};g.prototype.set=function(a){this.ba.set(a.ba);this.da.set(a.da)};q.prototype.rB=function(){var a=ViewConstants.Ob,c=this.J+a+a<<1;a=this.I+a+a<<1;this.Hh?(null===this.od&&(this.od=document.createElement("canvas")),this.od.width=c,this.od.height=a,this.Vi=this.od.getContext("2d",{alpha:!1}),this.Wi=this.Vi.getImageData(0,
0,this.od.width,this.od.height),this.Ik=new Uint32Array(this.Wi.data.buffer)):this.Ik=this.Wi=this.Vi=null};q.prototype.JH=function(){var a,c,d,e=this.J,l=20*this.I,k=-l,p=this.zb;this.Vp=new Uint16Array(n.an);this.Wp=new Float32Array(n.an);this.Up=new Float32Array(n.an);this.Iw=new Uint32Array(n.an);var r=this.Vp;var t=this.Wp;var v=this.Up;for(a=0;a<n.an;a+=1){r[a]=p.random()*e|0;for(c=d=0;10>c;c+=1)d+=p.random()*l;t[a]=-d/10;t[a]>k&&(k=t[a]);v[a]=p.random()/5+.8;if(a<n.an-4&&.2>p.random()){c=r[a];
d=t[a];var x=v[a];a+=1;r[a]=c;t[a]=d-2;v[a]=x;a+=1;r[a]=c;t[a]=d+2;v[a]=x;1<c&&(a+=1,r[a]=c-2,t[a]=d,v[a]=x);c<e-2&&(a+=1,r[a]=c+2,t[a]=d,v[a]=x)}}for(a=0;a<n.an;a+=1)t[a]-=k};q.prototype.ae=function(){var a,c=0,d=this.J,e=this.I,l=this.cf[0],k=this.Ed,p=this.zb,r=this.Vp,t=this.Wp,v=this.Up,x=this.Iw;for(a=0;a<n.an;a+=1){var A=r[a];var y=t[a];var D=v[a];var b=A;var m=y;if(0<=y&&y<e-1)if((y|0)===(y+D|0))m=y+D,k[(m|0)*d+b]=-1;else{if(k[(y+D|0)*d+A]===l)m=y+D;else{var f=p.random();if(.05>f){var u=1;
.025>f&&(u=-1);0<=A+u&&A+u<d&&k[(y+D|0)*d+A+u]===l&&k[(y|0)*d+A+u]===l&&(b=A+u,m=y+D)}}k[(m|0)*d+b]=-1}else 0>y&&(m=y+D);m>=e-1&&(x[c]=a,c+=1);r[a]=b;t[a]=m}if(5<c)for(a=0;a<c;a+=1).25>p.random()&&(f=x[a],m=-(p.random()*e),b=p.random()*d|0,r[f]=b,t[f]=m,D=v[f],a<c-4&&.2>p.random()&&(a+=1,f=x[a],r[f]=b,t[f]=m-2,v[f]=D,a+=1,f=x[a],r[f]=b,t[f]=m+2,v[f]=D,1<b&&(a+=1,f=x[a],r[f]=b-2,t[f]=m,v[f]=D),b<d-2&&(a+=1,f=x[a],r[f]=b+2,t[f]=m,v[f]=D)))};q.prototype.wO=function(a){this.qe=a};q.prototype.Ps=function(a){this.Ya=
0;if(a){if(null===this.vf){this.vf=this.B.T(Int32,n.Vl,"Life.hashList");this.bj=this.B.T(Uint32,n.Vl,"Life.genList");this.Ui=this.B.T(Uint32,n.Vl,"Life.popList");this.Oi=this.B.T(Uint32,n.Vl,"Life.bornList");this.Pi=this.B.T(Uint32,n.Vl,"Life.diedList");this.$b=this.B.T(Uint32,2*n.Vl,"Life.boxList");this.Af=this.B.T(Int32,n.Vl,"Life.nextList");this.Sk=Array.matrix(Uint8,this.height,this.width,n.Ok,this.B,"Life.countList");if(2<this.i||this.ca)this.Vg=Array.matrix(Uint8,this.height,this.width,0,this.B,
"Life.initList");this.Mg=!0;this.Ri.o=this.width;this.Ri.s=this.height;this.Ri.u=0;this.Ri.v=0;this.Yg=this.Zh=this.xf=-1;this.Af.fill(-1)}}else this.Vg=this.Sk=this.Af=this.$b=this.Pi=this.Oi=this.Ui=this.bj=this.vf=null,this.Yg=this.Zh=this.xf=-1};q.prototype.qM=function(a,c,d){c="Spaceship ("+(c+","+d)+")c";1<a&&(c+="/"+a);return c};q.prototype.Ql=function(a,c){var d=31415962,e=a.o,l=a.s,k=a.u-e+1;a=a.v-l+1;var p=k-1,r=a-1,t=a,v=2>=this.i&&!this.ca,x,A,y=0,D=0,b=0,m=0,f=this.U,u=n.Qa;(this.L||
this.ca||this.O)&&0!==(this.counter&1)&&(f=this.Ga);if(c===n.Pw||c===n.Ow||c===n.bC||c===n.cC){var z=k;k=t;t=z}for(A=0;A<t;A+=1)for(x=0;x<k;x+=1){switch(c){case n.Pw:y=b;D=r-m;break;case n.nI:y=p-x;D=r-A;break;case n.Ow:y=p-b;D=m;break;case n.$B:y=p-x;D=A;break;case n.aC:y=x;D=r-A;break;case n.bC:y=b;D=m;break;case n.cC:y=p-b,D=r-m}if(v)f[D+l][y+e]>=u&&(d=1000003*d^A,d=1000003*d^x);else if(z=f[D+l][y+e],z>this.K){z-=this.K;if(this.L)switch(c){case n.Pw:z=z<<1&15|(z&8)>>3;break;case n.nI:z=z&12|z&
3;break;case n.Ow:z=z>>1&15|(z&1)<<3;break;case n.$B:z=z&5|(z&2)<<2|(z&8)>>2;break;case n.aC:z=z&10|(z&1)<<2|(z&4)>>2;break;case n.bC:z=(z&8)>>3|(z&4)>>1|(z&2)<<1|(z&1)<<3;break;case n.cC:z=(z&4)<<1|(z&8)>>1|(z&1)<<1|(z&2)>>1}d=1000003*d^A;d=1000003*d^x;d=1000003*d^z}m+=1;m===a&&(m=0,b+=1)}return d|0};q.prototype.zu=function(a,c){for(var d,e=n.MN,l=-1,k,p;e<=n.ON&&-1===l;){k=this.Ql(a,e);if(c)for(d=this.Yg;-1!==d&&-1===l;)k===this.vf[d]&&this.bj[d]!==this.counter?(l=d,c&&(this.Zh=e,e===n.$B&&(p=this.Ql(a,
n.aC),p===k&&(this.Zh=n.NN)),e===n.Pw&&(p=this.Ql(a,n.Ow),p===k&&(this.Zh=n.PN)))):d=this.Af[d];else k===this.Au&&(l=1);e+=1}return l};q.prototype.Mu=function(a,c){var d=31415962,e=a.o,l=a.s,k=a.u;a=a.v;var p=2>=this.i&&!this.ca,r=this.U,t=this.Sk,v=this.Vg,x=n.Qa;var A=this.Ri;var y=this.oa?this.Pa:this.N;var D=this.QB;(this.L||this.ca||this.O)&&0!==(this.counter&1)&&(r=this.Ga);e<A.o&&(A.o=e);l<A.s&&(A.s=l);k>A.u&&(A.u=k);a>A.v&&(A.v=a);var b=e;var m=l;e<y.o&&(e=y.o);l<y.s&&(l=y.s);k>y.u&&(k=y.u);
a>y.v&&(a=y.v);D.o<e&&(e=D.o);D.s<l&&(l=D.s);D.u>k&&(k=D.u);D.v>a&&(a=D.v);D.set(y);for(D=l;D<=a;D+=1){var f=D-m;A=r[D];if(p)for(y=e;y<=k;y+=1)A[y]>=x&&(d=1000003*d^f,d=1000003*d^y-b);else if(this.O)for(y=e;y<=k;y+=1)1===(A[y]&1)&&(d=1000003*d^f,d=1000003*d^y-b);else for(y=e;y<=k;y+=1){var u=A[y];u>this.K&&(u-=this.K,d=1000003*d^f,d=1000003*d^y-b,d=1000003*d^u)}}if(!c){for(D=l;D<=a;D+=1)if(A=r[D],c=t[D],p)if(this.Mg)for(y=e;y<=k;y+=1)A[y]>=x&&(c[y]=n.kf);else for(y=e;y<=k;y+=1)A[y]>=x?c[y]===n.Ok&&
(c[y]=n.Ce):c[y]===n.kf&&(c[y]=n.Ce);else if(this.L)if(this.Mg)for(y=e;y<=k;y+=1)u=A[y],u>this.K?u-=this.K:u=0,l=0,0!==(u&1)&&(l=n.kf),b=0,0!==(u&2)&&(b=n.kf),m=0,0!==(u&4)&&(m=n.kf),f=0,0!==(u&8)&&(f=n.kf),c[y]=l|b<<2|m<<4|f<<6;else for(y=e;y<=k;y+=1)f=c[y],u=A[y],u>this.K?u-=this.K:u=0,l=f&3,0!==(u&1)?l===n.Ok&&(l=n.Ce):l===n.kf&&(l=n.Ce),b=f>>2&3,0!==(u&2)?b===n.Ok&&(b=n.Ce):b===n.kf&&(b=n.Ce),m=f>>4&3,0!==(u&4)?m===n.Ok&&(m=n.Ce):m===n.kf&&(m=n.Ce),f=f>>6&3,0!==(u&8)?f===n.Ok&&(f=n.Ce):f===n.kf&&
(f=n.Ce),c[y]=l|b<<2|m<<4|f<<6;else if(this.O)for(u=v[D],y=e;y<=k;y+=1)this.Mg?(u[y]=A[y]&1,A[y]&1&&(c[y]=n.kf)):A[y]&1?c[y]===n.Ok?c[y]=n.Ce:(A[y]&1)!==u[y]&&(c[y]=n.Ce):c[y]===n.kf&&(c[y]=n.Ce);else for(u=v[D],y=e;y<=k;y+=1)this.Mg?(u[y]=A[y],A[y]>this.K&&(c[y]=n.kf)):A[y]>this.K?c[y]===n.Ok?c[y]=n.Ce:A[y]!==u[y]&&(c[y]=n.Ce):c[y]===n.kf&&(c[y]=n.Ce);this.Mg=!1}return d|0};q.prototype.Qi=function(a,c){for(var d;0!==c;)d=c,c=a%c,a=d;return a};q.prototype.Yz=function(a,c){var d="Oblique";if(a>c){var e=
a;a=c;c=e}e=this.Qi(a,c);a/=e;c/=e;switch(10*a+c){case 12:d+=" Knightwise";break;case 13:d+=" Camelwise";break;case 14:d+=" Giraffewise";break;case 15:d+=" Ibiswise";break;case 16:d+=" Flamingowise";break;case 23:d+=" Zebrawise";break;case 34:d+=" Antelopewise"}return d};q.prototype.zA=function(a,c){var d=new BoundingBox(0,0,0,0),e,l,k=16384,p=-16384,r=16384,t=-16384;for(e=l=0;e<a;e+=1)if(!this.Lb||0===(c+e&1)){var v=this.$b[c+l<<1];var x=v>>16;var A=v&65535;v=this.$b[(c+l<<1)+1];var y=v>>16;v&=65535;
y<k&&(k=y);v<r&&(r=v);y+x-1>p&&(p=y+x-1);v+A-1>t&&(t=v+A-1);l+=1}d.o=k;d.s=r;d.u=p;d.v=t;return d};q.prototype.Le=function(a,c){return a===Math.floor(a)?String(a):a.toFixed(c)};q.prototype.lz=function(){var a,c,d=[],e=!1;var l=this.view.m.$d;var k=this.J-120*l;var p=this.I-90*l;l=this.Dj=8;k/=(this.ic+2)*l;p/=(this.Qe+2)*l;1<=(k>p?p:k)?e=!0:l=this.Dj=2;var r=0;for(k=2;k<this.pe.length-1;k++)0<this.pe[k]&&(r+=1);this.El=r;p=0;for(k=2;k<this.pe.length-1;k++)if(0<this.pe[k]){var t=Math.floor(p/r*360);
d[k]=p&1?"hsl("+t+",100%,70%)":"hsl("+t+",100%,40%)";p+=1}d[0]="rgb(238,238,238)";d[1]="rgb(96,96,96)";d[this.pe.length-1]="rgb(153,153,153)";for(k=0;k<this.pe.length;k+=1)this.Li.fillStyle=d[k],r=this.Li.fillStyle,p=parseInt(r.substring(1,3),16),t=parseInt(r.substring(3,5),16),r=parseInt(r.substring(5,7),16),this.Ni[k]=-16777216|r<<16|t<<8|p;this.Bk.width=l*(this.ic+2);this.Bk.height=l*(this.Qe+2);this.Kj.width=l*(this.ic+2);this.Kj.height=l*(this.Qe+2);this.Li.fillStyle="rgb(238,238,238)";this.Li.fillRect(0,
0,this.Kj.width,this.Kj.height);d=this.Li.getImageData(0,0,this.Kj.width,this.Kj.height);t=new Uint32Array(d.data.buffer);for(p=0;p<this.Qe;p+=1)for(k=0;k<this.ic;k+=1)for(r=this.eq[p*this.ic+k],r=this.Ni[r],c=0;c<l;c+=1){var v=((p+1)*l+c)*(this.ic+2)*l+(k+1)*l;for(a=0;a<l;a+=1)t[v+a]=r}if(e){for(p=-1;p<=this.Qe;p+=1)for(v=(p+1)*l*(this.ic+2)*l,k=0;k<(this.ic+2)*l;k+=1)t[v+k]=-1;for(k=-1;k<=this.ic;k+=1)for(p=0;p<(this.Qe+2)*l;p+=1)t[p*(this.ic+2)*l+(k+2)*l]=-1}for(k=0;k<this.pe.length;k+=1)r=this.Ni[k],
p=r&255,t=r>>8&255,r=r>>16&255,this.Ni[k]=p<<16|t<<8|r;this.Li.putImageData(d,0,0);this.Bk.src=this.Kj.toDataURL("image/png")};q.prototype.uf=function(a,c,d,e,l){var k=this.context;var p=k.measureText(a).width;k.fillText(a,d+c-p+l,e+l);return d+c};q.prototype.eM=function(){var a,c=2,d=this.view.m.$d,e=95*d,l=80*d,k=18*d,p=10*d;var r=this.El;var t=this.J-4*l+4>>1,v=this.context;0===this.pe[this.pe.length-1]&&--r;0===this.pe[1]&&--r;v.fillStyle="black";v.globalAlpha=.5;v.fillRect(t,e-(k>>1),4*l+4,(r+
3)*k);v.font=(15*d|0)+"px Arial";v.globalAlpha=1;v.fillStyle="black";for(a=0;2>a;a+=1){var x=t;x=this.uf("Period",l,x,e,c);x=this.uf("Count",l,x,e,c);x=this.uf("% Total",l,x,e,c);this.uf("% Rotor",l,x,e,c);e+=k;for(r=this.pe.length-1;0<r;--r){var A=this.pe[r];0<A&&(x=t,x=this.uf(String(r),l,x,e,c),x=this.uf(String(A),l,x,e,c),x=this.uf((100*A/this.kx).toFixed(2)+"%",l,x,e,c),1<r&&this.uf((100*A/this.tD).toFixed(2)+"%",l,x,e,c),e+=k)}e=95*d;c=0;v.fillStyle="white"}c=22*d>>1;for(r=this.pe.length-1;0<
r;--r)A=this.pe[r],0<A&&(v.fillStyle="black",v.fillRect(t+(p>>1)+2,e+c+2,p,p),v.fillStyle="#"+("000000"+this.Ni[r].toString(16)).slice(-6),v.fillRect(t+(p>>1),e+c,p,p),e+=k)};q.prototype.dM=function(){var a=this.view.m.$d;var c=this.I-90*a;var d=this.El;var e=this.Dj,l=this.context;a=(this.J-120*a)/((this.ic+2)*e);c/=(this.Qe+2)*e;var k=a>c?c:a;1<=k&&(k|=0);a=(this.ic+2)*e*k;c=(this.Qe+2)*e*k;l.save();e=(this.J-a)/2;var p=(this.I-c)/2;l.translate(e,p);l.scale(k,k);l.imageSmoothingEnabled=1>k?!0:!1;
l.drawImage(this.Bk,0,0);l.imageSmoothingEnabled=!1;l.restore();e=55;l.font="11px Arial";0===this.pe[this.pe.length-1]&&--d;0===this.pe[1]&&--d;l.lineWidth=2;l.strokeStyle="white";p=(this.I-15*(d+2))/2;l.strokeRect(e-50-1,p-1,50,15*(d+2)+2);l.fillStyle="rgb(238,238,238)";l.fillRect(e-50,p,48,15*(d+2));c=0;for(a=this.pe.length-1;0<a;--a)d=this.pe[a],0<d&&(l.fillStyle="black",l.fillRect(e-50+2,p+15*c+2,10,10),l.fillStyle="#"+("000000"+this.Ni[a].toString(16)).slice(-6),l.fillRect(e-50,p+15*c,10,10),
l.fillStyle="white",l.fillText(String(a),e-50+18,p+15*c+9),l.fillStyle="black",l.fillText(String(a),e-50+16,p+15*c+7),c+=1)};q.prototype.wF=function(a,c,d,e){var l,k=!1,p=null,r=null,t,v,x=new Uint8Array(a),A=new Uint16Array(a+1),y=null,D=this.Qa,b=0,m=0,f=0,u=null;a<=n.HN&&2>=this.i&&!this.ca&&!this.ia&&(u=this.zA(a,c),b=u.u-u.o+1,m=u.v-u.s+1,p=Array.matrix(Uint8,a,(b*m>>3)+1,0,this.B,"Life.strictFrames"),y=new Uint16Array(b*m),r=new Uint8Array((b*m>>3)+1),k=!0);this.Mg=!0;this.Sk.Ha.fill(n.Ok);
for(l=0;l<2*a;l+=1)if(this.He(!1,e.oe,e.Hc,e.Ub,e),this.he(),e.xi(),!this.Lb||0===(this.counter&1)){if(k&&l<a){var z=p[l];var B=0;for(v=u.s;v<=u.v;v+=1){var C=this.U[v];for(t=u.o;t<=u.u;t+=1)C[t]>=D&&(z[B>>3]|=1<<(B&7)),B+=1}for(t=0;t<r.length;t+=1)r[t]|=z[t]}this.Mu(d,!1);this.Oi[c+l]=this.sb;this.Pi[c+l]=this.$a}if(k){for(v=0;v<m;v+=1)for(e=v*b,t=0;t<b;t+=1){k=!1;c=e+t;d=1<<(c&7);if(r[c>>3]&d)for(l=0;l<a;l+=1)if(B=p[l][c>>3]&d)x[l]+=1,k=!0;k&&(y[c]=a,f+=1)}for(B=1;B<=a/2;B+=1)if(!(a%B))for(v=0;v<
m;v+=1)for(e=v*b,t=0;t<b;t+=1)if(c=e+t,y[c]===a){r=!0;d=1<<(c&7);for(l=0;l<=a-B-1;l+=1)if((p[l][c>>3]&d)!==(p[l+B][c>>3]&d)){r=!1;break}r&&(y[c]=B)}for(v=0;v<m;v+=1)for(e=v*b,t=0;t<b;t+=1)(l=y[e+t])&&(A[l]+=1);l=A[a]/f;this.Xp=this.Le(l,2);this.pe=A;this.kx=f;this.eq=y;this.ic=b;this.Qe=m;this.lz()}};q.prototype.XA=function(a,c,d,e,l,k,p,r,t){var v="",x=String(this.counter-e),A="",y="",D=this.ga,b=D,m=16384,f=0,u=16384,z=0,B=this.Ya,C=c,E=16384,G=0,F=0,I,L=I="",M="",H=this.Sk,K=0,J=0,S="",pa=this.xf,
oa="",O="";var ba=this.oa?this.Pa:this.N;0<e&&(x+=" and "+this.counter);l=Math.abs(l);k=Math.abs(k);if(0<l||0<k){var R="Spaceship";0===l||0===k?y="0":(l>k?(y=l,A=k):(y=k,A=l),v=this.Qi(y,A),y=String(y/v),1!==A/v&&(y+="/"+String(A/v)));l===k||0===l||0===k?(A=l===k&&0!==l?"Diagonal":"Orthogonal",0===l&&(l=k),1<l?1===e?v=l+"c":(v=this.Qi(l,e),ba=l/v,a=e/v,1!==v?(v=1===ba?"c":ba+"c",1<a&&(v+="/"+a),v+=" | "+l+"c/"+e):v=l+"c/"+e):(v="c",1<e&&(v+="/"+e))):(v=this.Qi(l,this.Qi(k,e)),ba=l/v,A=k/v,a=e/v,1!==
v?(v=ba>A?"("+ba+","+A+")c":"("+A+","+ba+")c",1<a&&(v+="/"+a),v=l>k?v+(" | ("+l+","+k+")c"):v+(" | ("+k+","+l+")c")):v=l>k?"("+l+","+k+")c":"("+k+","+l+")c",1<e&&(v+="/"+e),A=this.Yz(l,k))}else 1===e||this.Lb&&2===e?R="Still Life":(R="Oscillator",t||this.wF(e,c,ba,a));for(k=0;c<B;)l=this.Ui[c],k+=l,l<D&&(D=l),l>b&&(b=l),c+=1;D=D===b?String(D):String(D)+" | "+String(b)+" | "+this.Le(k/(B-C),1);c=C;if("Spaceship"===R)for(;c<B;)l=this.$b[c<<1],b=l>>16,k=l&65535,b>p&&(p=b),k>r&&(r=k),c+=1;else{for(;c<
B;)l=this.$b[c<<1],b=l>>16,k=l&65535,l=this.$b[(c<<1)+1],p=l>>16,r=l&65535,p<m&&(m=p),r<u&&(u=r),p+b-1>f&&(f=p+b-1),r+k-1>z&&(z=r+k-1),c+=1;p=f-m+1;r=z-u+1}p=String(p+" x "+r+" = "+p*r);if(0<e){I=0;for(c=C;c<B;)F=this.Oi[c]+this.Pi[c],F<E&&(E=F),F>G&&(G=F),I+=F,c+=1;E===G?(F=E,I=String(F.toFixed(1))):(F=I/(B-C),I=this.Le(E,1)+" | "+this.Le(G,1)+" | "+this.Le(F,1))}if("Oscillator"===R&&!t){for(C=u;C<=z;C+=1)if(c=H[C],this.L)for(B=m;B<=f;B+=1)u=c[B],(u&3)===n.Ce?K+=1:(u&3)===n.kf&&(J+=1),u>>=2,(u&3)===
n.Ce?K+=1:(u&3)===n.kf&&(J+=1),u>>=2,(u&3)===n.Ce?K+=1:(u&3)===n.kf&&(J+=1),u>>=2,(u&3)===n.Ce?K+=1:(u&3)===n.kf&&(J+=1);else for(B=m;B<=f;B+=1)c[B]===n.Ce?K+=1:c[B]===n.kf&&(J+=1);L=this.Le(K/(K+J),2);M=this.Xp;this.tD=K}"Oscillator"!==R||t||(O=this.Le(F/(K+J),2)+" | "+this.Le(F/K,2));t||(S=String(K+" | "+J+" | "+(K+J)));t||this.S||this.M||(oa=0>=pa?String(e):0===e%pa?String(pa)+" ("+n.QN[this.Zh]+")":String(e));return[d,R,A,v,p,x,D,y,e,I,L,M,oa,S,O]};q.prototype.bO=function(a,c){var d=this.oa?this.Pa:
this.N,e=d.o,l=d.s,k=d.u-e+1,p=d.v-l+1,r=k<<16|p,t=e<<16|l,v=!1,x,A=0,y=0;var D=[];this.Xp="";this.eq=null;this.oa&&(this.Lb=this.pa.Lb);if((this.ia||this.Lb)&&0!==(this.counter&1))return D;if(this.Ya<n.Vl)if(0===this.ga)D=["Empty Pattern","Empty"];else{var b=this.Mu(d,!0);var m=!1;var f=this.Yg;for(x=-1;-1!==f&&!m;){var u=this.vf[f];b>u?(x=f,f=this.Af[f]):b<this.vf[f]?m=!0:b===this.vf[f]&&(u=f<<1,this.ga===this.Ui[f]&&r===this.$b[u]?(D=this.counter-this.bj[f],this.$b[u+1]===t?1===D||(this.Lb||this.ia)&&
2===D?(u="Still Life",D=1):u="Oscillator period "+D:(A=e-(this.$b[u+1]>>16),y=l-(this.$b[u+1]&65535),u=this.qM(D,A,y)),v=m=!0,D=this.XA(c,f,u,D,A,y,k,p,a)):(x=f,f=this.Af[f]))}v||(this.vf[this.Ya]=b,this.bj[this.Ya]=this.counter,this.Ui[this.Ya]=this.ga,this.Oi[this.Ya]=this.sb,this.Pi[this.Ya]=this.$a,this.$b[this.Ya<<1]=r,this.$b[(this.Ya<<1)+1]=e<<16|l,this.Af[this.Ya]=-1,-1===this.Yg?this.Yg=0:-1===x?this.Yg=this.Ya:this.Af[x]=this.Ya,-1!==this.xf||a||this.S||this.M?-1===this.xf||this.aA||this.counter!==
this.$z||(a=this.zu(d,!1),-1!==a?this.aA=!0:this.xf=-1):(a=this.zu(d,!0),-1!==a&&(this.xf=this.counter-this.bj[a],this.$z=this.counter+this.xf,this.Au=b)),this.Ya+=1,this.Ya===n.Vl&&(this.Ya=0,D=[n.fG]))}return D};q.prototype.Ey=function(a,c,d,e,l,k,p){var r=this.J/2,t=this.I/2,v=0,x=this.width/2-.25,A=this.height/2,y=this.coords,D=this.Ka,b=this.height/2-this.xa-this.dc+.5,m=this.width/2-this.Da-this.kc+.5,f=this.zoom*this.Dc;if(a>d){var u=d;d=a;a=u}c>e&&(u=e,e=c,c=u);a+=l;d+=l;c+=k;e+=k;D.length!==
n.Mc&&(this.coords=this.B.T(Float32,12*n.Mc,"Life.coords"),this.Ka=this.B.T(Uint32,n.Mc,"Life.cellColours"),y=this.coords,D=this.Ka);this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(k=l=0;c<=e;c+=1)if(u=(c-A+b)*f+t,u>=-f&&u<this.I+f){var z=c-A;var B=m-x;for(u=a;u<=d;u+=1){if(0<p[v]){var C=(u+B)*f+r;if(C>=-f&&C<this.J+2*f){D[l]=(0<<n.Zi)+k;C=u-x;var E=u+c&1;y[k]=C-1;y[k+1]=z+E;y[k+2]=C+1;y[k+3]=z+E;y[k+4]=C;y[k+5]=z+1-E;k+=6;l+=1;l===n.Mc&&(this.pb=l,this.be(!0,
!1,!0),k=l=0)}}v+=1}}else v+=d-a+1;this.pb=l;0<l&&this.be(!0,!1,!0)};q.prototype.Ku=function(a,c,d,e,l,k){var p=this.J/2,r=this.I/2,t=this.width/2-.25,v=this.height/2,x=this.coords,A=this.Ka,y=this.height/2-this.xa-this.dc+.5,D=this.width/2-this.Da-this.kc+.5,b=this.zoom*this.Dc;if(a>d){var m=d;d=a;a=m}c>e&&(m=e,e=c,c=m);a+=l;d+=l;c+=k;e+=k;A.length!==n.Mc&&(this.coords=this.B.T(Float32,12*n.Mc,"Life.coords"),this.Ka=this.B.T(Uint32,n.Mc,"Life.cellColours"),x=this.coords,A=this.Ka);this.context.lineWidth=
1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(k=l=0;c<=e;c+=1)if(m=(c-v+y)*b+r,m>=-b&&m<this.I+b){var f=c-v;var u=D-t;for(m=a;m<=d;m+=1){var z=(m+u)*b+p;if(z>=-b&&z<this.J+2*b){A[l]=(0<<n.Zi)+k;z=m-t;var B=m+c&1;x[k]=z-1;x[k+1]=f+B;x[k+2]=z+1;x[k+3]=f+B;x[k+4]=z;x[k+5]=f+1-B;k+=6;l+=1;l===n.Mc&&(this.pb=l,this.be(!0,!1,!0),k=l=0)}}}this.pb=l;0<l&&this.be(!0,!1,!0)};q.prototype.gH=function(){var a=this.U,c=this.mc,d=null,e=this.me,l=this.J/2,k=this.I/2,p,r,t=this.width/2-.25,v=
this.height/2,x=ViewConstants.fb[3]+128,A=ViewConstants.fb[4]+128,y=ViewConstants.fb[5]+128,D=ViewConstants.fb[6]+128,b=this.Qa,m=this.coords,f=this.Ka,u=e.o,z=e.u;var B=e.s;var C=e.v,E=this.height/2-this.xa-this.dc+.5,G=this.width/2-this.Da-this.kc+.5,F=this.zoom*this.Dc,I=!this.tc&&!this.pd;(this.O||this.ca)&&0!==(this.counter&1)&&(a=this.Ga);f.length!==n.Mc&&(this.coords=this.B.T(Float32,12*n.Mc,"Life.coords"),this.Ka=this.B.T(Uint32,n.Mc,"Life.cellColours"),m=this.coords,f=this.Ka);-1!==this.sa&&
(0!==this.Ea?(u=Math.round((this.width-this.Ea)/2)-1,z=u+this.Ea-1+2):(u=0,z=this.width-1),0!==this.Aa?(B=Math.round((this.height-this.Aa)/2)-1,C=B+this.Aa-1+2):(B=0,C=this.height-1));this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(r=e=0;B<=C;B+=1){var L=(B-v+E)*F+k;if(L>=-F&&L<this.I+F){L=a[B];c&&(d=c[B]);var M=B-v;var H=G-t;for(p=u;p<=z;p+=1){var K=(p+H)*F+l;if(K>=-F&&K<this.J+2*F){K=L[p];if(d){var J=d[p];if(J===A||J===D)K=K>b?x:J;else if(J===x||J===y)K=
K<b?A:J}0<K&&(f[e]=(K<<n.Zi)+r,K=p-t,J=p+B&1,m[r]=K-1,m[r+1]=M+J,m[r+2]=K+1,m[r+3]=M+J,m[r+4]=K,m[r+5]=M+1-J,r+=6,e+=1);e===n.Mc&&(this.pb=e,this.be(!0,I,!1),this.pd&&!this.tc&&(this.context.strokeStyle="rgb("+this.Xa[0]+","+this.Ua[0]+","+this.Va[0]+")",this.be(!1,!1,!1)),r=e=0)}}}}this.pb=e;0<e&&(this.be(!0,I,!1),this.pd&&!this.tc&&(this.context.strokeStyle="rgb("+this.Xa[0]+","+this.Ua[0]+","+this.Va[0]+")",this.be(!1,!1,!1)),r=0);if(this.tc){this.context.strokeStyle="rgb("+(this.le>>16)+","+(this.le>>
8&255)+","+(this.le&255)+")";this.context.lineWidth=1;C=k/F-E+v|0;e=0;for(B=-k/F-E+v|0;B<=C;B+=1)if(L=(B-v+E)*F+k,L>=-F&&L<this.I+F)for(M=B-v,H=G-t,u=-l/F-H-F|0,z=l/F-H+F|0,p=u;p<=z;p+=1)K=(p+H)*F+l,K>=-F&&K<this.J+F&&(K=p-t,J=p+B&1,m[r]=K-1,m[r+1]=M+J,m[r+2]=K+1,m[r+3]=M+J,m[r+4]=K,m[r+5]=M+1-J,r+=6,e+=1),e===n.Mc&&(this.pb=e,this.be(!1,!1,!1),r=e=0);this.pb=e;0<e&&this.be(!1,!1,!1)}};q.prototype.be=function(a,c,d){var e,l=this.context,k=this.width/2-this.Da-this.kc,p=this.height/2-this.xa-this.dc,
r=this.zoom*this.Dc,t=this.zoom*this.Dc*ViewConstants.se,v=this.J/2,x=this.I/2,A=0,y=0,D=-1,b=this.coords,m=this.pb,f=this.Ka,u=(1<<n.Zi)-1;if(a&&!d&&f.sort){y=(n.Mc<<n.Zi)+256;for(e=m;e<n.Mc;e+=1)f[e]=y;f.sort()}l.beginPath();a||(D=y=A=0);for(e=0;e<m;e+=1){a&&(y=f[e],A=y&u,y>>=n.Zi);var z=b[A];var B=b[A+1];A+=2;var C=(B+p)*t+x;var E=(z+k)*r+v;var G=(b[A+1]-B)*t;var F=(b[A]-z)*r;A+=2;y!==D&&(D=y,0<e&&(a?(c&&l.stroke(),l.fill()):l.stroke(),l.beginPath()),a&&!d&&(l.fillStyle=this.Ii[y],c&&(l.strokeStyle=
this.Ii[y])));l.moveTo(E|0,C|0);l.lineTo(F+E|0,G+C|0);l.lineTo(F+E|0,C|0);G=(b[A+1]-B)*t;F=(b[A]-z)*r;l.lineTo(F+E|0,G+C|0);A+=2}a?(c&&l.stroke(),l.fill()):l.stroke()};q.prototype.Bz=function(a,c,d,e,l,k,p){var r=0,t=this.width/2-.25,v=this.height/2,x=Math.PI/3,A=.5/Math.cos(x/2)*1.16,y=ViewConstants.se/4/Math.cos(x/2)*1.16,D=[],b=[],m=this.coords,f=this.Ka,u=this.J/2,z=this.I/2,B=this.width/2-this.Da-this.kc,C=this.height/2-this.xa-this.dc,E=this.qa;B=B+C/2+-(this.height>>2)+.5;C+=.5;if(a>d){var G=
d;d=a;a=G}c>e&&(G=e,e=c,c=G);a+=l;d+=l;c+=k;e+=k;f.length!==n.Mc&&(this.coords=this.B.T(Float32,12*n.Mc,"Life.coords"),this.Ka=this.B.T(Uint32,n.Mc,"Life.cellColours"),m=this.coords,f=this.Ka);k=x/2;for(l=0;5>=l;l+=1)D[l]=Math.cos(k)*y,b[l]=Math.sin(k)*A,D[l]+=b[l]/2,k+=x;x=D[0];A=b[0];y=D[1];G=b[1];var F=D[2];var I=b[2];var L=D[3];var M=b[3];var H=D[4];var K=b[4];D=D[5];b=b[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(k=l=0;c<=e;c+=1){var J=c-v;var S=
(J+C)*E+z;if(S>=-E&&S<this.I+E)for(S=a;S<=d;S+=1){if(0<p[r]){var pa=S-t;var oa=(pa+B-(J+C)/2)*E+u;oa>=-E&&oa<this.J+E&&(f[l]=(0<<n.Zi)+k,m[k]=x+pa,m[k+1]=A+J,m[k+2]=y+pa,m[k+3]=G+J,m[k+4]=F+pa,m[k+5]=I+J,m[k+6]=L+pa,m[k+7]=M+J,m[k+8]=H+pa,m[k+9]=K+J,m[k+10]=D+pa,m[k+11]=b+J,k+=12,l+=1,l===n.Mc&&(this.pb=l,this.Pd(!0,!1,!1,!0),k=l=0))}r+=1}else r+=d-a+1}this.pb=l;0<l&&this.Pd(!0,!1,!1,!0)};q.prototype.Ju=function(a,c,d,e,l,k){var p=this.width/2-.25,r=this.height/2,t=Math.PI/3,v=.5/Math.cos(t/2)*1.16,
x=ViewConstants.se/4/Math.cos(t/2)*1.16,A=[],y=[],D=this.coords,b=this.Ka,m=this.J/2,f=this.I/2,u=this.width/2-this.Da-this.kc,z=this.height/2-this.xa-this.dc,B=this.qa;u=u+z/2+-(this.height>>2)+.5;z+=.5;if(a>d){var C=d;d=a;a=C}c>e&&(C=e,e=c,c=C);a+=l;d+=l;c+=k;e+=k;b.length!==n.Mc&&(this.coords=this.B.T(Float32,12*n.Mc,"Life.coords"),this.Ka=this.B.T(Uint32,n.Mc,"Life.cellColours"),D=this.coords,b=this.Ka);k=t/2;for(l=0;5>=l;l+=1)A[l]=Math.cos(k)*x,y[l]=Math.sin(k)*v,A[l]+=y[l]/2,k+=t;t=A[0];v=y[0];
x=A[1];C=y[1];var E=A[2];var G=y[2];var F=A[3];var I=y[3];var L=A[4];var M=y[4];A=A[5];y=y[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(k=l=0;c<=e;c+=1){var H=c-r;var K=(H+z)*B+f;if(K>=-B&&K<this.I+B)for(K=a;K<=d;K+=1){var J=K-p;var S=(J+u-(H+z)/2)*B+m;S>=-B&&S<this.J+B&&(b[l]=(0<<n.Zi)+k,D[k]=t+J,D[k+1]=v+H,D[k+2]=x+J,D[k+3]=C+H,D[k+4]=E+J,D[k+5]=G+H,D[k+6]=F+J,D[k+7]=I+H,D[k+8]=L+J,D[k+9]=M+H,D[k+10]=A+J,D[k+11]=y+H,k+=12,l+=1,l===n.Mc&&(this.pb=l,this.Pd(!0,
!1,!1,!0),k=l=0))}}this.pb=l;0<l&&this.Pd(!0,!1,!1,!0)};q.prototype.fH=function(){var a=this.U,c=this.mc,d=null,e=this.me,l=this.J/2,k=this.I/2,p,r=this.width/2-.25,t=this.height/2,v=Math.PI/3,x=.5/Math.cos(v/2)*1.16,A=ViewConstants.se/4/Math.cos(v/2)*1.16,y=[],D=[],b=ViewConstants.fb[3]+128,m=ViewConstants.fb[4]+128,f=ViewConstants.fb[5]+128,u=ViewConstants.fb[6]+128,z=this.Qa,B=this.coords,C=this.Ka,E=e.o,G=e.u;var F=e.s;var I=e.v,L=this.height/2-this.xa-this.dc+.5,M=this.width/2-this.Da-this.kc+
.5-(this.height>>2)+L/2,H=this.zoom*this.Dc,K=!this.tc&&!this.pd;(this.O||this.ca)&&0!==(this.counter&1)&&(a=this.Ga);C.length!==n.Mc&&(this.coords=this.B.T(Float32,12*n.Mc,"Life.coords"),this.Ka=this.B.T(Uint32,n.Mc,"Life.cellColours"),B=this.coords,C=this.Ka);-1!==this.sa&&(0!==this.Ea?(E=Math.round((this.width-this.Ea)/2)-1,G=E+this.Ea-1+2):(E=0,G=this.width-1),0!==this.Aa?(F=Math.round((this.height-this.Aa)/2)-1,I=F+this.Aa-1+2):(F=0,I=this.height-1));var J=v/2;for(e=0;5>=e;e+=1)y[e]=Math.cos(J)*
A,D[e]=Math.sin(J)*x,y[e]+=D[e]/2,J+=v;v=y[0];x=D[0];A=y[1];var S=D[1];var pa=y[2];var oa=D[2];var O=y[3];var ba=D[3];var R=y[4];var Z=D[4];y=y[5];D=D[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(J=e=0;F<=I;F+=1){var fa=(F+L-t)*H+k;if(fa>=-H&&fa<this.I+H){fa=a[F];c&&(d=c[F]);var ka=F-t;var aa=M-r-(ka+L)/2;for(p=E;p<=G;p+=1){var ha=(p+aa)*H+l;if(ha>=-H&&ha<this.J+H){ha=fa[p];if(d){var Y=d[p];if(Y===m||Y===u)ha=ha>z?b:Y;else if(Y===b||Y===f)ha=ha<z?m:Y}0<
ha&&(C[e]=(ha<<n.Zi)+J,ha=p-r,B[J]=v+ha,B[J+1]=x+ka,B[J+2]=A+ha,B[J+3]=S+ka,B[J+4]=pa+ha,B[J+5]=oa+ka,B[J+6]=O+ha,B[J+7]=ba+ka,B[J+8]=R+ha,B[J+9]=Z+ka,B[J+10]=y+ha,B[J+11]=D+ka,J+=12,e+=1);e===n.Mc&&(this.pb=e,this.Pd(!0,K,!1,!1),this.pd&&!this.tc&&(this.context.strokeStyle="rgb("+this.Xa[0]+","+this.Ua[0]+","+this.Va[0]+")",this.Pd(!1,!1,!1,!1)),J=e=0)}}}}this.pb=e;0<e&&(this.Pd(!0,K,!1,!1),this.pd&&!this.tc&&(this.context.strokeStyle="rgb("+this.Xa[0]+","+this.Ua[0]+","+this.Va[0]+")",this.Pd(!1,
!1,!1,!1)),J=0);if(this.tc){this.context.strokeStyle="rgb("+(this.le>>16)+","+(this.le>>8&255)+","+(this.le&255)+")";this.context.lineWidth=1;e=0;I=k/H-L+t|0;for(F=-k/H-L+t|0;F<=I;F+=1)if(fa=(F+L-t)*H+k,fa>=-H&&fa<this.I+H)for(ka=F-t,aa=M-r-(ka+L)/2,E=-l/H-aa-H|0,G=l/H-aa+H|0,p=E;p<=G;p+=1)ha=(p+aa)*H+l,ha>=-H&&ha<this.J+H&&(ha=p-r,B[J]=v+ha,B[J+1]=x+ka,B[J+2]=A+ha,B[J+3]=S+ka,B[J+4]=pa+ha,B[J+5]=oa+ka,B[J+6]=O+ha,B[J+7]=ba+ka,J+=8,e+=1),e===n.Mc&&(this.pb=e,this.Pd(!1,!1,!0,!1),J=e=0);this.pb=e;
0<e&&this.Pd(!1,!1,!0,!1)}};q.prototype.Pd=function(a,c,d,e){var l=this.context,k=this.width/2-this.Da-this.kc,p=this.height/2-this.xa-this.dc,r=this.zoom*this.Dc,t=this.J/2,v=this.I/2,x=0,A=0,y=12,D=0,b=-1,m=this.coords,f=this.pb,u=this.Ka,z=(1<<n.Zi)-1;k=k+p/2+-(this.height>>2)+.5;p+=.5;a&&!e&&u.sort&&(D=(n.Mc<<n.Zi)+256,u.fill(D,f),u.sort());l.beginPath();a||(A=y=d?8:12,b=D=x=0);for(d=0;d<f;d+=1){a&&(D=u[d],x=D&z,A=x+y,D>>=n.Zi);var B=m[x];var C=m[x+1];var E=C+p;var G=B+k-E/2;x+=2;E=E*r+v;G=G*
r+t;var F=(m[x+1]-C)*r;var I=(m[x]-B)*r-F/2;x+=2;D!==b&&(b=D,0<d&&(a?(c&&l.stroke(),l.fill()):l.stroke(),l.beginPath()),a&&!e&&(l.fillStyle=this.Ii[D],c&&(l.strokeStyle=this.Ii[D])));l.moveTo(G,E);for(l.lineTo(I+G,F+E);x<A;)F=(m[x+1]-C)*r,I=(m[x]-B)*r-F/2,x+=2,l.lineTo(I+G,F+E);A+=y}a?(c&&l.stroke(),l.fill()):l.stroke()};q.prototype.Uu=function(a,c,d,e,l,k,p){var r="",t=c.ta?c.me:c.N,v=t.o,x=t.u,A=t.v,y=t.s,D=x-v+1,b=A-y+1;t=0;var m=[],f=this.U,u=null;var z=(c.width>>1)-(a.Ra>>1);var B=(c.height>>
1)-(a.Wa>>1),C=a.Vb;2>e&&(e=2);2>l&&(l=2);e===l&&this.ta&&(l=e=7);a.yb&&(v=C.o+z,y=C.s+B,x=C.u+z,A=C.v+B,v>x&&(z=v,v=x,x=z),y>A&&(z=y,y=A,A=z),D=x-v+1,b=A-y+1);c.M&&(0<v&&0!==(v&1)&&(--v,D+=1),0<y&&0!==(y&1)&&(--y,b+=1));c.ia&&(0<v&&0===(v&1)&&(--v,D+=1),0<y&&0===(y&1)&&(--y,b+=1));if(0===k.length)for(z=0;z<e;z+=1)k[z]=z;if(2>=l)m[0]="b",m[1]="o";else for(m[0]=".",z=0;z<l-1;z+=1)m[z+1]=24<=z?String.fromCharCode(112+(z/24|0)-1)+String.fromCharCode(65+z%24):String.fromCharCode(65+z);d&&(r+=c.Lc);z=
p&&""!==a.Yc?a.Yc:a.vb;"Conway's Life"===z&&(z="Life");"B3/S23History"===z&&(z="LifeHistory");r=r+("x = "+D+", y = "+b+", rule = "+z)+a.Dn;r+="\n";for(a=r.length;y<=A;){z=v;2>=e&&!this.ca?(u=f[y],D=u[z],l=D<=this.mf||D===this.Qb?0:1):l=c.getState(z,y,!1);p=1;for(z+=1;z<=x+1;)z>x?D=-1:2>=e&&!this.ca?(D=u[z],D=D<=this.mf||D===this.Qb?0:1):D=c.getState(z,y,!1),D!==l?((-1!==D||0!==l)&&0<t&&(1<t&&(r+=t),r+="$",69<=r.length-a&&(r+="\n",a=r.length),t=0),0<l?(1<p&&(r+=p),r+=m[k[l]]):z<=x&&(1<p&&(r+=p),r+=
m[k[l]]),69<=r.length-a&&(r+="\n",a=r.length),p=1,l=D):p+=1,z+=1;t+=1;y+=1}r+="!\n";d&&(r+=c.ah);return r};q.prototype.cL=function(a,c,d,e){var l=this.kb,k=this.ka,p=this.U,r=this.Oa,t=this.ya,v=this.te,x=this.N,A=this.me,y,D=!0,b=this.M?1:0,m=this.M?14:15;if(a!==(a&this.Pb)||c!==(c&this.Nb)){D=!1;var f=this.width<this.ja&&a!==(a&this.Pb);for(y=this.height<this.ja&&c!==(c&this.Nb);f||y;)(f||y)&&this.zs(f,y),f&&(a+=this.width>>2),y&&(c+=this.height>>2),f=this.width<this.ja&&a!==(a&this.Pb),y=this.height<
this.ja&&c!==(c&this.Nb);a===(a&this.Pb)&&c===(c&this.Nb)&&(D=!0,l=this.kb,k=this.ka,p=this.U,r=this.Oa,t=this.ya,v=this.te)}if(D)if(0!==(this.counter&1)&&(l=this.cc,k=this.wa),f=1<<(~a&15),y=1<<(~(a>>4)&15),1===(d&1)?(this.X=1,0===(l[c][a>>4]&f)&&(this.ga+=1),p[c][a]=this.Zc?(a+c&127)+64:this.Qa,r[c>>4][a>>8]|=y,t[c>>4][a>>8]|=y,l[c][a>>4]|=f,k[c>>4][a>>8]|=y,v[c>>4][a>>8]&=~y,e=a&15,0<a&&e<=b?(a-=e+1,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=e+1):a<this.width-1&&e>=m&&(a+=16-e,k[c>>4][a>>8]|=1<<(~(a>>4)&
15),a-=16-e),0<c&&0===(c&15)?(--c,k[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&e<=b?(a-=e+1,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=e+1):a<this.width-1&&e>=m&&(a+=16-e,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-e),c+=1):c<this.height-1&&15===(c&15)&&(c+=1,k[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&e<=b?(a-=e+1,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=e+1):a<this.width-1&&e>=m&&(a+=16-e,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-e),--c)):(0!==(l[c][a>>4]&f)&&--this.ga,p[c][a]=e?this.wb:this.mf,r[c>>4][a>>8]|=y,t[c>>4][a>>8]|=y,l[c][a>>4]&=
~f),0<d)1===this.ga?(x.o=a,x.u=a,x.s=c,x.v=c):(a<x.o&&(x.o=a),a>x.u&&(x.u=a),c<x.s&&(x.s=c),c>x.v&&(x.v=c)),a<A.o&&(A.o=a),a>A.u&&(A.u=a),c<A.s&&(A.s=c),c>A.v&&(A.v=c);else if(a===x.o||a===x.u||c===x.v||c===x.s)this.Wg=!0;return 0};q.prototype.fL=function(a,c,d,e){var l=this.kb,k=this.ka,p=this.U,r=this.Oa,t=this.ya,v=this.te,x=this.mc,A=this.N,y=this.me,D,b=!0,m=0,f=this.M?1:0,u=this.M?14:15;if(a!==(a&this.Pb)||c!==(c&this.Nb)){b=!1;var z=this.width<this.ja&&a!==(a&this.Pb);for(D=this.height<this.ja&&
c!==(c&this.Nb);z||D;)(z||D)&&this.zs(z,D),z&&(a+=this.width>>2),D&&(c+=this.height>>2),z=this.width<this.ja&&a!==(a&this.Pb),D=this.height<this.ja&&c!==(c&this.Nb);a===(a&this.Pb)&&c===(c&this.Nb)&&(b=!0,l=this.kb,k=this.ka,p=this.U,r=this.Oa,t=this.ya,x=this.mc,v=this.te)}if(b){0!==(this.counter&1)&&(l=this.cc,k=this.wa);z=1<<(~a&15);D=1<<(~(a>>4)&15);1===(d&1)?(this.X=1,0===(l[c][a>>4]&z)&&(this.ga+=1),p[c][a]=this.Qa,r[c>>4][a>>8]|=D,t[c>>4][a>>8]|=D,l[c][a>>4]|=z,k[c>>4][a>>8]|=D,v[c>>4][a>>
8]&=~D,e=a&15,0<a&&e<=f?(a-=e+1,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=e+1):a<this.width-1&&e>=u&&(a+=16-e,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-e),0<c&&0===(c&15)?(--c,k[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&e<=f?(a-=e+1,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=e+1):a<this.width-1&&e>=u&&(a+=16-e,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-e),c+=1):c<this.height-1&&15===(c&15)&&(c+=1,k[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&e<=f?(a-=e+1,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=e+1):a<this.width-1&&e>=u&&(a+=16-e,k[c>>4][a>>8]|=1<<
(~(a>>4)&15),a-=16-e),--c)):(0!==(l[c][a>>4]&z)&&--this.ga,p[c][a]=e?this.wb:this.mf,r[c>>4][a>>8]|=D,t[c>>4][a>>8]|=D,l[c][a>>4]&=~z);if(x){k=x[c][a];0<k&&(k=ViewConstants.fb.indexOf(k-128));if(6===d&&6!==k||6!==d&&6===k)m=1;2===d&&(p[c][a]=n.zl);x[c][a]=0===d?0:ViewConstants.fb[d]+128}if(0<d)1===this.ga?(A.o=a,A.u=a,A.s=c,A.v=c):(a<A.o&&(A.o=a),a>A.u&&(A.u=a),c<A.s&&(A.s=c),c>A.v&&(A.v=c)),a<y.o&&(y.o=a),a>y.u&&(y.u=a),c<y.s&&(y.s=c),c>y.v&&(y.v=c);else if(a===A.o||a===A.u||c===A.v||c===A.s)this.Wg=
!0}return m};q.prototype.Bw=function(a,c,d,e){var l=this.kb,k=this.ka,p=this.U,r=this.Oa,t=this.ya,v=this.te,x=this.mc,A=this.N,y=this.Pa,D=this.me,b=0,m,f=this.ia?-1:0;var u=Math.round((this.width-this.Ea)/2)+f;var z=Math.round((this.height-this.Aa)/2)+f,B=u+this.Ea-1,C=z+this.Aa-1,E=!0;f=0;var G=this.M?1:0,F=this.M?14:15;(this.L||this.ca||this.O)&&0!==(this.counter&1)&&(p=this.Ga);-1!==this.sa&&(0===this.Ea&&(u=0,B=this.width-1),0===this.Aa&&(z=0,C=this.height-1));if(a!==(a&this.Pb)||c!==(c&this.Nb)){E=
!1;var I=this.width<this.ja&&a!==(a&this.Pb);for(m=this.height<this.ja&&c!==(c&this.Nb);I||m;)(I||m)&&this.zs(I,m),I&&(a+=this.width>>2),m&&(c+=this.height>>2),I=this.width<this.ja&&a!==(a&this.Pb),m=this.height<this.ja&&c!==(c&this.Nb);a===(a&this.Pb)&&c===(c&this.Nb)&&(E=!0,l=this.kb,k=this.ka,p=this.U,r=this.Oa,t=this.ya,x=this.mc,v=this.te)}if(E&&(-1===this.sa||a>=u&&a<=B&&c>=z&&c<=C)){if(this.L||this.ca)l=p[c][a],p[c][a]=e&&0===d?0:this.K+d,t[c>>4][a>>8]=65535,this.ca&&(0!==(this.counter&1)&&
(k=this.wa),b=1<<(~(a>>4)&15),k[c>>4][a>>8]|=b,v[c>>4][a>>8]&=~b),0===d?l>this.K&&(this.L?this.ga-=this.xg[l-this.K]:--this.ga):(this.X=1,this.L?(l<=this.K||(this.ga-=this.xg[l-this.K]),this.ga+=this.xg[d]):(k[c>>4][a>>8]|=b,v[c>>4][a>>8]&=~b,0===l&&(this.ga+=1),r=a&15,0<a&&r<=G?(a-=r+1,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=r+1):a<this.width-1&&r>=F&&(a+=16-r,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-r),0<c&&0===(c&15)?(--c,k[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&r<=G?(a-=r+1,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=
r+1):a<this.width-1&&r>=F&&(a+=16-r,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-r),c+=1):c<this.height-1&&15===(c&15)&&(c+=1,k[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&r<=G?(a-=r+1,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=r+1):a<this.width-1&&r>=F&&(a+=16-r,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-r),--c)));else if(0!==(this.counter&1)&&(l=this.cc,k=this.wa),u=1<<(~a&15),b=1<<(~(a>>4)&15),this.oa)l=p[c][a],2===this.i?(k=this.Qa,1===d&&(d=this.Qa,this.X=1)):(k=this.i-1+this.K,0<d&&(d=this.K+d,this.X=1)),p[c][a]=d,r[c>>4][a>>
8]|=b,t[c>>4][a>>8]|=b,l!==k&&d===k?this.ga+=1:l===k&&d!==k&&--this.ga;else{(I=2>=this.i||this.O?1===(d&1):d===this.i-1)?(this.X=1,0===(l[c][a>>4]&u)&&(this.ga+=1),p[c][a]=this.Qa,r[c>>4][a>>8]|=b,t[c>>4][a>>8]|=b,l[c][a>>4]|=u,k[c>>4][a>>8]|=b,v[c>>4][a>>8]&=~b,r=a&15,0<a&&r<=G?(a-=r+1,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=r+1):a<this.width-1&&r>=F&&(a+=16-r,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-r),0<c&&0===(c&15)?(--c,k[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&r<=G?(a-=r+1,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=
r+1):a<this.width-1&&r>=F&&(a+=16-r,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-r),c+=1):c<this.height-1&&15===(c&15)&&(c+=1,k[c>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&r<=G?(a-=r+1,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a+=r+1):a<this.width-1&&r>=F&&(a+=16-r,k[c>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-r),--c)):(0!==(l[c][a>>4]&u)&&--this.ga,p[c][a]=e?this.wb:this.mf,r[c>>4][a>>8]|=b,t[c>>4][a>>8]|=b,l[c][a>>4]&=~u);if(this.ta&&x){l=x[c][a];0<l&&(l=ViewConstants.fb.indexOf(l-128));if(6===d&&6!==l||6!==d&&6===l)f=1;2===d?p[c][a]=
n.zl:x[c][a]=0===d?0:ViewConstants.fb[d]+128}2<this.i&&(0<d&&(d=this.K+d),p[c][a]=d,this.O&&(v[c>>4][a>>8]&=~b))}if(0<d)1===this.ga&&(this.Wg=!0),a<A.o&&(A.o=a),a>A.u&&(A.u=a),c<A.s&&(A.s=c),c>A.v&&(A.v=c),a<D.o&&(D.o=a),a>D.u&&(D.u=a),c<D.s&&(D.s=c),c>D.v&&(D.v=c),this.oa&&d===this.i-1+this.K&&(1===this.ga?(y.o=a,y.u=a,y.s=c,y.v=c):(a<y.o&&(y.o=a),a>y.u&&(y.u=a),c<y.s&&(y.s=c),c>y.v&&(y.v=c)));else if(a===A.o||a===A.u||c===A.v||c===A.s)this.Wg=!0}return f};q.prototype.getState=function(a,c,d){switch(this.Rw){case n.dC:return this.Nu(a,
c,d);case n.fC:return this.Nu(a,c,!0);case n.eC:return this.NA(a,c,d);default:return this.UA(a,c,d)}};q.prototype.qj=function(a,c,d,e){switch(this.Rw){case n.dC:return this.cL(a,c,d,e);case n.fC:return this.Bw(a,c,d,e);case n.eC:return this.fL(a,c,d,e);default:return this.Bw(a,c,d,e)}};q.prototype.NP=function(){this.Rw=-1!==this.i||-1!==this.sa||this.za?this.ca&&2===this.i?n.fC:n.RN:this.ta?n.eC:n.dC};q.prototype.NK=function(a){var c=1<<n.jk;a?(this.wc=Array.matrix(Uint32,1,c,0,this.B,"Life.popGraphData"),
this.Qh=Array.matrix(Uint32,1,c,0,this.B,"Life.birthGraphData"),this.Wh=Array.matrix(Uint32,1,c,0,this.B,"Life.deathGraphData"),this.ai=c):(this.wc=Array.matrix(Uint32,0,0,0,this.B,"Life.popGraphData"),this.Qh=Array.matrix(Uint32,0,0,0,this.B,"Life.birthGraphData"),this.Wh=Array.matrix(Uint32,0,0,0,this.B,"Life.deathGraphData"),this.ai=0)};q.prototype.Nu=function(a,c,d){var e=0,l=this.U;a===(a&this.Pb)&&c===(c&this.Nb)&&(this.ca&&0!==(this.counter&1)&&(l=this.Ga),a=l[c][a],d?e=a:e=a<=this.mf?0:1);
return e};q.prototype.NA=function(a,c,d){var e=0,l=ViewConstants.fb[3]+128,k=ViewConstants.fb[4]+128,p=ViewConstants.fb[5]+128,r=ViewConstants.fb[6]+128;a===(a&this.Pb)&&c===(c&this.Nb)&&(e=this.U[c][a],d||(this.mc?(a=this.mc[c][a],a===k||a===r?(e>=this.Qa&&(a=l),e=ViewConstants.fb.indexOf(a-128)):a===l||a===p?(e<this.Qa&&(a=k),e=ViewConstants.fb.indexOf(a-128)):e=e===this.wb?0:e<=this.mf?2:1):e=e<=this.mf?0:1));return e};q.prototype.UA=function(a,c,d){var e=0,l=ViewConstants.fb[3]+128,k=ViewConstants.fb[4]+
128,p=ViewConstants.fb[5]+128,r=ViewConstants.fb[6]+128,t=this.ia?-1:0,v=Math.round((this.width-this.Ea)/2)+t;t=Math.round((this.height-this.Aa)/2)+t;var x=v+this.Ea-1,A=t+this.Aa-1,y=this.U;(this.L||this.ca||this.O)&&0!==(this.counter&1)&&(y=this.Ga);a===(a&this.Pb)&&c===(c&this.Nb)&&(e=y[c][a],d||2<this.i?2<this.i&&0<e&&!this.za&&(e<=this.K?e=0:(-1!==this.sa&&(0===this.Ea&&(v=0,x=this.width-1),0===this.Aa&&(t=0,A=this.height-1)),e=-1===this.sa||e!==this.Qb||a>=v&&a<=x&&c>=t&&c<=A?this.L||this.ca||
this.O?e-this.K:this.i+this.K-e:0)):this.mc?-1===this.sa||e!==this.Qb||a>=v&&a<=x&&c>=t&&c<=A?(a=this.mc[c][a],a===k||a===r?(e>=this.Qa&&(a=l),e=ViewConstants.fb.indexOf(a-128)):a===l||a===p?(e<this.Qa&&(a=k),e=ViewConstants.fb.indexOf(a-128)):e=e===this.wb?0:e<=this.mf?2:1):e=0:e=e<=this.mf||e===this.Qb?0:1);return e};q.prototype.xm=function(a){var c,d,e,l=a.length,k=a[0].length,p=this.xg,r=0;for(c=0;c<l;c+=1){var t=a[c];for(d=0;d<k;d+=1)(e=t[d])&&(r+=p[e])}return r};q.prototype.Ck=function(a,c){var d=
a.Fg,e=d.length,l=!1;if(this.ia||this.L)for(this.zd=this.Ad=!1,a=0;!l&&a<e;){var k=d[a];k.ri<c?("reverse playback"===k.action&&(this.zd=!this.zd),a+=1):k.ri>c?l=!0:"reverse playback"===k.action?l=this.Ad=!0:a+=1}};q.prototype.Tt=function(a,c,d,e){var l=this.rh.Df.length,k=null;a<this.counter&&(k=this.rh.QP(a),l!==this.rh.Df.length&&(this.bp-=n.au*(l-this.rh.Df.length)));k&&(this.cw(k,e),e.xi());for(;this.counter<a-1;)this.X?(this.Ck(e,this.counter),this.L&&(1===(this.counter&1)?this.U.Ha.fill(0):
this.Ga.Ha.fill(0)),this.He(!1,!0,d,e.Ub,e),e.Mb+=e.Ma,0===this.X&&2<this.i||this.he(),0===this.X&&2>=this.i&&(this.X=1,this.Ck(e,this.counter),this.L&&(1===(this.counter&1)?this.U.Ha.fill(0):this.Ga.Ha.fill(0)),this.He(!1,!1,d,e.Ub,e),this.X=0,--this.counter,e.Mb-=e.Ma)):(this.counter+=1,e.Mb+=e.Ma,this.he()),e.xi();this.counter<a?(this.X?(this.Ck(e,this.counter),this.L&&(1===(this.counter&1)?this.U.Ha.fill(0):this.Ga.Ha.fill(0)),this.He(c,!0,d,e.Ub,e),e.Mb+=e.Ma,0===this.X&&2<this.i||this.he(),
0===this.X&&2>=this.i&&(this.X=1,this.Ck(e,this.counter),this.L&&(1===(this.counter&1)?this.U.Ha.fill(0):this.Ga.Ha.fill(0)),this.He(!1,!1,d,e.Ub,e),this.X=0,--this.counter,e.Mb-=e.Ma)):(this.counter+=1,e.Mb+=e.Ma,this.he()),e.xi()):-1===this.i&&0<this.counter&&this.he();e.$j&&(this.X=1)};q.prototype.cw=function(a,c){var d=this.U,e=this.mc;this.counter=a.counter;c.Mb=a.nH;this.lf=a.lf;this.ck=a.ck;if(0!==(this.counter&1)){c=this.Fh;var l=this.grid;var k=this.wa;var p=this.ka}else c=this.grid,l=this.Fh,
k=this.ka,p=this.wa;c.Ha.fill(0);l.Ha.fill(0);this.U.Ha.fill(0);(this.L||this.ca||this.O)&&this.Ga.Ha.fill(0);this.Jb.Ha.fill(0);this.te.Ha.fill(0);a.cP(c,k,this);a.bP(d,this.Oa,this);(this.L||this.ca||this.O)&&Array.mi(d,this.Ga);this.Eg?(e.Ha.fill(0),this.fd.Ha.fill(0),a.dP(e,this.ya,this),this.Tf()):Array.mi(this.ya,this.Oa);Array.mi(k,p);Array.mi(c,l);this.N.o=a.N.o;this.N.s=a.N.s;this.N.u=a.N.u;this.N.v=a.N.v;this.Pa.o=a.Pa.o;this.Pa.s=a.Pa.s;this.Pa.u=a.Pa.u;this.Pa.v=a.Pa.v;this.ga=a.ga;this.sb=
a.sb;this.$a=a.$a;this.X=a.X};q.prototype.Vt=function(a){if(0!==(this.counter&1)){var c=this.Fh;var d=this.wa}else c=this.grid,d=this.ka;this.uw(!1,c,d,a)};q.prototype.St=function(a,c){this.cw(this.yu,a);this.rh.reset();this.bp=n.au;c||this.Vt(a)};q.prototype.uw=function(a,c,d,e){var l=this.U;(this.L||this.ca||this.O)&&0!==(this.counter&1)&&(l=this.Ga);this.rh.Vt(c,d,l,this.ya,this.mc,this.ya,this.N,this.Pa,this.ga,this.sb,this.$a,this.counter,e.Mb,this.lf,this.ck,(this.ra-1>>4)+1,this.va,this,a,
this.X)};q.prototype.qP=function(a,c){this.rh.reset();this.yu=this.rh.nA((this.ra-1>>4)+1,this.va,!0,this.Eg);this.uw(!0,this.grid,this.ka,c);a||this.Vt(c)};q.prototype.WO=function(a,c){var d=this.mc,e=this.Ef;this.width=a;this.height=c;this.oa&&this.pa.resize(this.width,this.height);this.grid=Array.matrix(Uint8,this.height,(this.width-1>>3)+1,0,this.B,"Life.grid");this.Fh=Array.matrix(Uint8,this.height,(this.width-1>>3)+1,0,this.B,"Life.nextGrid");this.kb=Array.Gd(Uint16,this.grid,"Life.grid16");
this.cc=Array.Gd(Uint16,this.Fh,"Life.nextGrid16");e&&(this.Ef=Array.matrix(Uint16,this.height,(this.width-1>>4)+1,0,this.B,"Life.state6Mask"),this.tk=Array.matrix(Uint16,this.height,(this.width-1>>4)+1,0,this.B,"Life.state6Alive"),this.uj=Array.matrix(Uint16,this.height,(this.width-1>>4)+1,0,this.B,"Life.state6Cells"));this.ra=this.width>>4;this.va=this.height>>4;e&&(this.Xg=Array.matrix(Uint16,this.va,(this.ra-1>>4)+1,0,this.B,"Life.state6TileGrid"));this.ka=Array.matrix(Uint16,this.va,(this.ra-
1>>4)+1,0,this.B,"Life.tileGrid");this.wa=Array.matrix(Uint16,this.va,(this.ra-1>>4)+1,0,this.B,"Life.nextTileGrid");this.te=Array.matrix(Uint16,this.va,(this.ra-1>>4)+1,0,this.B,"Life.staticTileGrid");this.Oa=Array.matrix(Uint16,this.va,(this.ra-1>>4)+1,0,this.B,"Life.colourTileGrid");this.ya=Array.matrix(Uint16,this.va,(this.ra-1>>4)+1,0,this.B,"Life.colourTileHistoryGrid");this.Lf=this.B.T(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.cs=this.B.T(Uint16,(this.width-1>>4)+1,"Life.blankRow16");
this.Bd=this.B.T(Uint16,this.ra>>4,"Life.blankTileRow");this.zc=this.B.T(Uint8,this.width,"Life.blankColourRow");this.na=this.B.T(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.ab=this.B.T(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.U=Array.matrix(Uint8,this.height,this.width,this.wb,this.B,"Life.colourGrid");this.L||this.ca||this.O?(this.Ga=Array.matrix(Uint8,this.height,this.width,this.wb,this.B,"Life.nextColourGrid"),this.$h=Array.Gd(Uint16,this.Ga,"Life.nextColourGrid16"),
this.Ca=Array.Gd(Uint32,this.Ga,"Life.nextColourGrid32")):this.Ca=this.$h=this.Ga=null;this.Jb=Array.matrix(Uint8,this.height,this.width,this.wb,this.B,"Life.smallColourGrid");this.wl=Array.Gd(Uint16,this.U,"Life.colourGrid16");this.ge=Array.Gd(Uint32,this.U,"Life.colourGrid32");d&&(this.mc=Array.matrix(Uint8,this.height,this.width,this.wb,this.B,"Life.overlayGrid"),this.fd=Array.matrix(Uint8,this.height,this.width,this.wb,this.B,"Life.smallOverlayGrid"),this.jp=Array.Gd(Uint16,this.mc,"Life.overlayGrid16"),
this.al=Array.Gd(Uint32,this.mc,"Life.overlayGrid32"));this.Pb=this.width-1;this.Nb=this.height-1;this.rh.dJ((this.ra-1>>4)+1,this.va,0,0,0,0,this.Eg)};q.prototype.OK=function(){this.height=this.width=1024;this.grid=Array.matrix(Uint8,this.height,(this.width-1>>3)+1,0,this.B,"Life.grid");this.Fh=Array.matrix(Uint8,this.height,(this.width-1>>3)+1,0,this.B,"Life.nextGrid");this.kb=Array.Gd(Uint16,this.grid,"Life.grid16");this.cc=Array.Gd(Uint16,this.Fh,"Life.nextGrid16");this.ra=this.width>>4;this.va=
this.height>>4;this.Xg&&this.BG();this.ka=Array.matrix(Uint16,this.va,(this.ra-1>>4)+1,0,this.B,"Life.tileGrid");this.wa=Array.matrix(Uint16,this.va,(this.ra-1>>4)+1,0,this.B,"Life.nextTileGrid");this.te=Array.matrix(Uint16,this.va,(this.ra-1>>4)+1,0,this.B,"Life.staticTileGrid");this.Oa=Array.matrix(Uint16,this.va,(this.ra-1>>4)+1,0,this.B,"Life.colourTileGrid");this.ya=Array.matrix(Uint16,this.va,(this.ra-1>>4)+1,0,this.B,"Life.colourTileHistoryGrid");this.Lf=this.B.T(Uint8,(this.width-1>>3)+1,
"Life.blankRow");this.cs=this.B.T(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.Bd=this.B.T(Uint16,this.ra>>4,"Life.blankTileRow");this.zc=this.B.T(Uint8,this.width,"Life.blankColourRow");this.na=this.B.T(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.ab=this.B.T(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.U=Array.matrix(Uint8,this.height,this.width,this.wb,this.B,"Life.colourGrid");this.wl=Array.Gd(Uint16,this.U,"Life.colourGrid16");this.ge=Array.Gd(Uint32,this.U,"Life.colourGrid32");
this.L||this.ca||this.O?(this.Ga=Array.matrix(Uint8,this.height,this.width,this.wb,this.B,"Life.nextColourGrid"),this.$h=Array.Gd(Uint16,this.Ga,"Life.nextColourGrid16"),this.Ca=Array.Gd(Uint32,this.Ga,"Life.nextColourGrid32")):this.Ca=this.$h=this.Ga=null;this.Jb=Array.matrix(Uint8,this.height,this.width,this.wb,this.B,"Life.smallColourGrid");this.mc&&this.vG();this.Pb=this.width-1;this.Nb=this.height-1};q.prototype.zs=function(a,c){var d=this.height,e=this.grid,l=this.Fh,k=this.U,p=this.Ga,r=this.Jb,
t=this.mc,v=this.fd,x=this.Ef,A=this.tk,y=this.uj,D=this.Sk,b=this.Vg,m=this.Xg,f=this.ka,u=this.wa,z=this.te,B=this.Oa,C=this.ya,E=this.va,G=0,F=0,I=0,L=0,M;if(this.width<this.ja||d<this.ja){a&&(G=this.width>>1,this.width*=2);c&&(F=this.height>>1,this.height*=2);this.oa&&this.pa.resize(this.width,this.height);this.grid=Array.matrix(Uint8,this.height,(this.width-1>>3)+1,0,this.B,"Life.grid");this.Fh=Array.matrix(Uint8,this.height,(this.width-1>>3)+1,0,this.B,"Life.nextGrid");this.kb=Array.Gd(Uint16,
this.grid,"Life.grid16");this.cc=Array.Gd(Uint16,this.Fh,"Life.nextGrid16");x&&(this.Ef=Array.matrix(Uint16,this.height,(this.width-1>>4)+1,0,this.B,"Life.state6Mask"),this.tk=Array.matrix(Uint16,this.height,(this.width-1>>4)+1,0,this.B,"Life.state6Alive"),this.uj=Array.matrix(Uint16,this.height,(this.width-1>>4)+1,0,this.B,"Life.state6Cells"));this.ra=this.width>>4;this.va=this.height>>4;x&&(this.Xg=Array.matrix(Uint16,this.va,(this.ra-1>>4)+1,0,this.B,"Life.state6TileGrid"));this.ka=Array.matrix(Uint16,
this.va,(this.ra-1>>4)+1,0,this.B,"Life.tileGrid");this.wa=Array.matrix(Uint16,this.va,(this.ra-1>>4)+1,0,this.B,"Life.nextTileGrid");this.te=Array.matrix(Uint16,this.va,(this.ra-1>>4)+1,0,this.B,"Life.staticTileGrid");this.Oa=Array.matrix(Uint16,this.va,(this.ra-1>>4)+1,0,this.B,"Life.colourTileGrid");this.ya=Array.matrix(Uint16,this.va,(this.ra-1>>4)+1,0,this.B,"Life.colourTileHistoryGrid");this.Lf=this.B.T(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.cs=this.B.T(Uint16,(this.width-1>>4)+1,"Life.blankRow16");
this.Bd=this.B.T(Uint16,this.ra>>4,"Life.blankTileRow");this.zc=this.B.T(Uint8,this.width,"Life.blankColourRow");this.na=this.B.T(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.ab=this.B.T(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");D&&(this.Sk=Array.matrix(Uint8,this.height,this.width,n.Ok,this.B,"Life.countList"));b&&(this.Vg=Array.matrix(Uint8,this.height,this.width,0,this.B,"Life.initList"));this.U=Array.matrix(Uint8,this.height,this.width,this.wb,this.B,"Life.colourGrid");this.Jb=
Array.matrix(Uint8,this.height,this.width,this.wb,this.B,"Life.smallColourGrid");this.wl=Array.Gd(Uint16,this.U,"Life.colourGrid16");this.ge=Array.Gd(Uint32,this.U,"Life.colourGrid32");this.L||this.ca||this.O?(this.Ga=Array.matrix(Uint8,this.height,this.width,this.wb,this.B,"Life.nextColourGrid"),this.$h=Array.Gd(Uint16,this.Ga,"Life.nextColourGrid16"),this.Ca=Array.Gd(Uint32,this.Ga,"Life.nextColourGrid32")):this.Ca=this.$h=this.Ga=null;t&&(this.mc=Array.matrix(Uint8,this.height,this.width,this.wb,
this.B,"Life.overlayGrid"),this.fd=Array.matrix(Uint8,this.height,this.width,this.wb,this.B,"Life.smallOverlayGrid"),this.jp=Array.Gd(Uint16,this.mc,"Life.overlayGrid16"),this.al=Array.Gd(Uint32,this.mc,"Life.overlayGrid32"));this.Pb=this.width-1;this.Nb=this.height-1;for(M=0;M<d;M+=1)this.grid[M+F].set(e[M],G>>3),this.Fh[M+F].set(l[M],G>>3),this.U[M+F].set(k[M],G),this.Jb[M+F].set(r[M],G),(this.L||this.ca||this.O)&&this.Ga[M+F].set(p[M],G),this.Sk&&this.Sk[M+F].set(D[M],G),this.Vg&&this.Vg[M+F].set(b[M],
G),t&&v&&(this.mc[M+F].set(t[M],G),this.fd[M+F].set(v[M],G)),x&&A&&y&&(this.Ef[M+F].set(x[M],G>>4),this.tk[M+F].set(A[M],G>>4),this.uj[M+F].set(y[M],G>>4));c&&(L=E>>1);a&&(I=this.ka[0].length>>2);for(M=0;M<E;M+=1)m&&this.Xg[M+L].set(m[M],I),this.ka[M+L].set(f[M],I),this.wa[M+L].set(u[M],I),this.te[M+L].set(z[M],I),this.Oa[M+L].set(B[M],I),this.ya[M+L].set(C[M],I);this.rh.dJ((this.ra-1>>4)+1,this.va,I,L,G,F,this.Eg);this.Da+=G;this.xa+=F;this.S&&(this.Da-=F/2|0);this.N.o+=G;this.N.u+=G;this.N.v+=F;
this.N.s+=F;this.Pa.o+=G;this.Pa.u+=G;this.Pa.v+=F;this.Pa.s+=F;this.ig.o+=G;this.ig.u+=G;this.ig.v+=F;this.ig.s+=F;this.me.o+=G;this.me.u+=G;this.me.v+=F;this.me.s+=F;if(0<this.Ya)for(M=0;M<this.Ya;M+=1)c=this.$b[(M<<1)+1],a=(c>>16)+G,c=(c&65535)+F,this.$b[(M<<1)+1]=a<<16|c}};q.prototype.sC=function(a,c,d){var e=this.width,l=this.height,k=!1,p=!1,r=!1;(e<this.ja||l<this.ja)&&this.X&&(e<this.ja&&(c.o<=d||c.u>=e-d)&&(k=!0),l<this.ja&&(c.s<=d||c.v>=l-d)&&(p=!0),k||p)&&(this.zs(k,p),r=!0,k&&(a.ad+=this.width>>
2,a.dd+=this.width>>2),p&&(a.nf+=this.height>>2,a.Cf+=this.height>>2),a.g.S&&p&&(a.ad-=this.height>>3,a.dd-=this.height>>3),k&&(a.ec+=this.width>>2),p&&(a.fc+=this.height>>2),k&&(c.o+=this.width>>2,c.u+=this.width>>2),p&&(c.s+=this.height>>2,c.v+=this.height>>2));return r};q.prototype.gL=function(a,c,d){for(;this.sC(a,c,d););};q.prototype.yB=function(){var a,c=this.Lu;for(a=0;65536>a;a+=1){var d=a;var e=0;65535<d&&(d>>=16,e+=16);255<d&&(d>>=8,e+=8);15<d&&(d>>=4,e+=4);3<d&&(d>>=2,e+=2);e+=d>>1;c[a]=
e}};q.prototype.gB=function(){var a,c,d=this.xg;for(a=0;65536>a;a+=1){var e=a;for(c=0;e;c+=1)e&=e-1;d[a]=c}};q.prototype.vB=function(){var a,c,d=this.Bu,e=this.Qa;for(a=0;256>a;a+=1)for(c=0;8>c;c+=1)d[(a<<3)+c]=a&1<<7-c?e:0};q.prototype.YO=function(a,c){var d,e=0,l=this.xg,k=0;var p=this.N;var r=p.o,t=p.u,v=p.v;p=p.s;this.oa&&(k=this.pa.Jn+this.K-1);if(this.oa||this.L||this.ca||this.za)for(;p<=v;p+=1){var x=c[p];for(d=r;d<=t;d+=1)a=x[d],0<a&&(this.L?e+=l[a-this.K]:this.oa?a===k&&(e+=1):e+=1)}else for(r>>=
4,t>>=4;p<=v;p+=1)for(x=a[p],d=r;d<=t;d+=1)c=l[x[d]],e+=c;this.ga=e;this.$a=this.sb=0};q.prototype.cJ=function(a,c){var d=this.context,e=!1;var l=this.Fd?4278190080:255;if(this.J!==a||this.I!==c)e=!0;this.J=a;this.I=c;this.Ti=this.Ml=this.Ed=this.gd=null;this.gd=d.createImageData(d.canvas.width,d.canvas.height);this.B.YD(Uint32,d.canvas.width*d.canvas.height,"Life.imageData");this.gd.data.buffer?this.Ed=new Uint32Array(this.gd.data.buffer):(this.Ed=new Uint32Array(this.gd.data.length>>2),this.Ml=
new Uint8Array(this.Ed.buffer));if(e){this.Bl=this.B.T(Uint32,a,"Life.blankPixelRow");for(c=0;c<a;c+=1)this.Bl[c]=l;this.mF(l);this.rB()}};q.prototype.AL=function(a,c,d){var e,l,k=this.U,p=a.width,r=a.height,t=this.Pb,v=this.Nb,x=this.zl,A=ViewConstants.fb[2];for(l=0;l<r;l+=1){var y=a.Dh[l];var D=k[l+d&v];for(e=0;e<p;e+=1)y[e]===A&&(D[e+c&t]=x)}};q.prototype.yM=function(){this.al=this.jp=this.fd=this.mc=null};q.prototype.vG=function(){this.mc=Array.matrix(Uint8,this.height,this.width,this.wb,this.B,
"Life.overlayGrid");this.fd=Array.matrix(Uint8,this.height,this.width,this.wb,this.B,"Life.smallOverlayGrid");Array.SB(this.fd,1,"Life.smallOverlayGrid4");Array.SB(this.fd,3,"Life.smallOverlayGrid8");Array.SB(this.fd,7,"Life.smallOverlayGrid16");this.jp=Array.Gd(Uint16,this.mc,"Life.overlayGrid16");this.al=Array.Gd(Uint32,this.mc,"Life.overlayGrid32")};q.prototype.zM=function(){this.Xg=this.uj=this.tk=this.Ef=null};q.prototype.BG=function(){this.Ef=Array.matrix(Uint16,this.height,(this.width-1>>4)+
1,0,this.B,"Life.state6Mask");this.tk=Array.matrix(Uint16,this.height,(this.width-1>>4)+1,0,this.B,"Life.state6Alive");this.uj=Array.matrix(Uint16,this.height,(this.width-1>>4)+1,0,this.B,"Life.state6Cells");this.Xg=Array.matrix(Uint16,this.va,(this.ra-1>>4)+1,0,this.B,"Life.state6TileGrid")};q.prototype.Tf=function(){var a,c,d=this.Pb,e=this.Nb,l=this.Xg,k=this.O?6:ViewConstants.fb[6]+128,p=this.O?this.U:this.mc;this.Ef.Ha.fill(0);this.uj.Ha.fill(0);this.tk.Ha.fill(0);this.Xg.Ha.fill(0);for(c=1;c<
this.height-1;c+=1){var r=p[c];var t=this.Ef[c-1&e];var v=this.Ef[c&e];var x=this.Ef[c+1&e];var A=this.uj[c&e];var y=l[(c-1&e)>>4];var D=l[(c&e)>>4];var b=l[(c+1&e)>>4];for(a=1;a<=this.width-1;a+=1)if(r[a]===k){var m=a&d;A[m>>4]|=1<<(~m&15);t[m>>4]|=1<<(~m&15);y[m>>8]|=1<<(~(m>>4)&15);v[m>>4]|=1<<(~m&15);D[m>>8]|=1<<(~(m>>4)&15);x[m>>4]|=1<<(~m&15);b[m>>8]|=1<<(~(m>>4)&15);m=a-1&d;this.Ic||(t[m>>4]|=1<<(~m&15),y[m>>8]|=1<<(~(m>>4)&15));v[m>>4]|=1<<(~m&15);D[m>>8]|=1<<(~(m>>4)&15);this.S||this.Ic||
(x[m>>4]|=1<<(~m&15),b[m>>8]|=1<<(~(m>>4)&15));m=a+1&d;this.S||this.Ic||(t[m>>4]|=1<<(~m&15),y[m>>8]|=1<<(~(m>>4)&15));v[m>>4]|=1<<(~m&15);D[m>>8]|=1<<(~(m>>4)&15);this.Ic||(x[m>>4]|=1<<(~m&15),b[m>>8]|=1<<(~(m>>4)&15))}}};q.prototype.sO=function(a,c,d){var e,l,k=a.width,p=a.height,r=this.Pb,t=this.Nb,v=this.Xg;for(l=0;l<p;l+=1){var x=a.Dh[l];var A=this.Ef[l-1+d&t];var y=this.Ef[l+d&t];var D=this.Ef[l+1+d&t];var b=this.uj[l+d&t];var m=v[(l-1+d&t)>>4];var f=v[(l+d&t)>>4];var u=v[(l+1+d&t)>>4];for(e=
0;e<k;e+=1)if(6===x[e]){var z=e+c&r;b[z>>4]|=1<<(~z&15);A[z>>4]|=1<<(~z&15);m[z>>8]|=1<<(~(z>>4)&15);y[z>>4]|=1<<(~z&15);f[z>>8]|=1<<(~(z>>4)&15);D[z>>4]|=1<<(~z&15);u[z>>8]|=1<<(~(z>>4)&15);z=e-1+c&r;this.Ic||(A[z>>4]|=1<<(~z&15),m[z>>8]|=1<<(~(z>>4)&15));y[z>>4]|=1<<(~z&15);f[z>>8]|=1<<(~(z>>4)&15);this.S||this.Ic||(D[z>>4]|=1<<(~z&15),u[z>>8]|=1<<(~(z>>4)&15));z=e+1+c&r;this.S||this.Ic||(A[z>>4]|=1<<(~z&15),m[z>>8]|=1<<(~(z>>4)&15));y[z>>4]|=1<<(~z&15);f[z>>8]|=1<<(~(z>>4)&15);this.Ic||(D[z>>4]|=
1<<(~z&15),u[z>>8]|=1<<(~(z>>4)&15))}}};q.prototype.Jx=function(a){this.Zc?this.MK(a):this.lK(a)};q.prototype.MK=function(a){var c,d=this.U;var e=this.N;var l=e.o>>4,k=e.u>>4,p=e.v;for(c=e.s;c<=p;c+=1){var r=a[c];var t=d[c];var v=l<<4;for(e=l;e<=k;e+=1){var x=r[e]>>8;t[v]=x&128?(c+v&127)+64:0;v+=1;t[v]=x&64?(c+v&127)+64:0;v+=1;t[v]=x&32?(c+v&127)+64:0;v+=1;t[v]=x&16?(c+v&127)+64:0;v+=1;t[v]=x&8?(c+v&127)+64:0;v+=1;t[v]=x&4?(c+v&127)+64:0;v+=1;t[v]=x&2?(c+v&127)+64:0;v+=1;t[v]=x&1?(c+v&127)+64:0;v+=
1;x=r[e]&255;t[v]=x&128?(c+v&127)+64:0;v+=1;t[v]=x&64?(c+v&127)+64:0;v+=1;t[v]=x&32?(c+v&127)+64:0;v+=1;t[v]=x&16?(c+v&127)+64:0;v+=1;t[v]=x&8?(c+v&127)+64:0;v+=1;t[v]=x&4?(c+v&127)+64:0;v+=1;t[v]=x&2?(c+v&127)+64:0;v+=1;t[v]=x&1?(c+v&127)+64:0;v+=1}}};q.prototype.lK=function(a){var c,d=this.U,e=this.Bu;var l=this.N;var k=l.o>>4,p=l.u>>4,r=l.v;l=l.s;if(!this.L&&!this.ca)for(c=l;c<=r;c+=1){var t=a[c];var v=d[c];var x=k<<4;for(l=k;l<=p;l+=1){var A=t[l]>>8<<3;v[x]=e[A];x+=1;v[x]=e[A+1];x+=1;v[x]=e[A+
2];x+=1;v[x]=e[A+3];x+=1;v[x]=e[A+4];x+=1;v[x]=e[A+5];x+=1;v[x]=e[A+6];x+=1;v[x]=e[A+7];x+=1;A=(t[l]&255)<<3;v[x]=e[A];x+=1;v[x]=e[A+1];x+=1;v[x]=e[A+2];x+=1;v[x]=e[A+3];x+=1;v[x]=e[A+4];x+=1;v[x]=e[A+5];x+=1;v[x]=e[A+6];x+=1;v[x]=e[A+7];x+=1}}};q.prototype.Gb=function(a){var c=[],d,e;for(e=0;7>e;e+=1){var l=[];for(d=0;7>d;d+=1)l[d]=0;c[e]=l}for(e=0;3>e;e+=1)for(d=0;3>d;d+=1)c[e+2][d+2]=a[e][d];return c};q.prototype.fz=function(){this.Zl=this.Gb(n.OM);this.am=this.Gb(n.PM);this.bm=this.Gb(n.QM);this.em=
this.Gb(n.RM);this.Rl=this.Gb(n.KM);this.Tl=this.Gb(n.LM);this.Wl=this.Gb(n.MM);this.Xl=this.Gb(n.NM);this.Bm=this.Gb(n.WM);this.lo=this.Gb(n.XM);this.mo=this.Gb(n.YM);this.no=this.Gb(n.ZM);this.jm=this.Gb(n.SM);this.tm=this.Gb(n.TM);this.ym=this.Gb(n.UM);this.zm=this.Gb(n.VM)};q.prototype.nN=function(a,c,d){var e=this.wb,l=this.Lf,k=this.zc,p=this.Bl,r=this.Bd;var t=this.Fd?4278190080:255;this.Eg=!1;this.Pb=this.width-1;this.Nb=this.height-1;this.N=new BoundingBox(0,0,this.width-1,this.height-1);
this.QB=new BoundingBox(0,0,this.width-1,this.height-1);this.Pa=new BoundingBox(0,0,this.width-1,this.height-1);this.ig=new BoundingBox(0,0,this.width-1,this.height-1);this.me=new BoundingBox(0,0,this.width-1,this.height-1);new BoundingBox(0,0,this.width-1,this.height-1);this.context=a;this.vB();this.cJ(c,d);l.fill(0);k.fill(e);r.fill(0);p.fill(t);this.fz()};q.prototype.FL=function(){var a=0;this.Kb[a]=new w("Mono",new g(new h(0,0,0),new h(0,0,0)),new g(new h(255,255,255),new h(255,255,255)),new h(0,
0,0),new h(255,255,255),new g(new h(0,0,0),new h(-1,-1,-1)),new g(new h(0,0,0),new h(0,0,0)),new h(0,0,0));a+=1;this.Kb[a]=new w("Blues",new g(new h(0,0,47),new h(0,0,255)),new g(new h(0,255,255),new h(255,255,255)),new h(0,0,0),new h(0,255,255),new g(new h(0,0,255),new h(-1,-1,-1)),new g(new h(0,0,47),new h(0,0,128)),new h(0,0,0));a+=1;this.Kb[a]=new w("Fire",new g(new h(32,0,0),new h(160,0,0)),new g(new h(255,144,0),new h(255,255,0)),new h(0,0,0),new h(255,144,0),new g(new h(240,0,0),new h(-1,-1,
-1)),new g(new h(32,0,0),new h(160,0,0)),new h(0,0,0));a+=1;this.Kb[a]=new w("Poison",new g(new h(0,24,0),new h(0,128,0)),new g(new h(0,255,255),new h(255,255,255)),new h(0,0,0),new h(0,255,255),new g(new h(0,192,0),new h(-1,-1,-1)),new g(new h(0,24,0),new h(0,128,0)),new h(0,0,0));a+=1;this.Kb[a]=new w("Yellow",new g(new h(0,47,0),new h(128,0,128)),new g(new h(255,255,0),new h(255,255,255)),new h(0,32,128),new h(255,255,0),new g(new h(192,64,64),new h(-1,-1,-1)),new g(new h(0,47,0),new h(128,0,128)),
new h(0,32,128));a+=1;this.Kb[a]=new w("Gray",new g(new h(16,16,16),new h(104,104,104)),new g(new h(176,176,176),new h(240,240,240)),new h(0,0,0),new h(240,240,240),new g(new h(160,160,160),new h(-1,-1,-1)),new g(new h(16,16,16),new h(104,104,104)),new h(0,0,0));a+=1;this.Kb[a]=new w("Inverse",new g(new h(255,255,255),new h(255,255,255)),new g(new h(0,0,0),new h(0,0,0)),new h(255,255,255),new h(0,0,0),new g(new h(255,255,255),new h(-1,-1,-1)),new g(new h(255,255,255),new h(255,255,255)),new h(255,
255,255));a+=1;this.Kb[a]=new w("Day",new g(new h(240,240,240),new h(0,255,255)),new g(new h(0,0,255),new h(0,0,0)),new h(255,255,255),new h(0,0,255),new g(new h(0,255,255),new h(-1,-1,-1)),new g(new h(240,240,240),new h(0,192,192)),new h(255,255,255));a+=1;this.Kb[a]=new w("Occupied",new g(new h(240,240,240),new h(240,240,240)),new g(new h(240,240,240),new h(240,240,240)),new h(0,0,0),new h(240,240,240),new g(new h(240,240,240),new h(240,240,240)),new g(new h(240,240,240),new h(240,240,240)),new h(0,
0,0));a+=1;this.Kb[a]=new w("Red",new g(new h(160,0,0),new h(160,0,0)),new g(new h(240,240,240),new h(240,240,240)),new h(0,0,0),new h(255,255,255),new g(new h(160,160,160),new h(160,160,160)),new g(new h(160,0,0),new h(160,0,0)),new h(0,0,0));a+=1;this.Kb[a]=new w("LifeHistory",new g(new h(0,0,96),new h(0,0,160)),new g(new h(0,240,0),new h(16,255,16)),new h(0,0,0),new h(16,255,16),new g(new h(0,128,160),new h(-1,-1,-1)),new g(new h(0,0,96),new h(0,0,160)),new h(0,0,0));a+=1;this.Kb[a]=new w("Generations",
new g(new h(64,0,0),new h(255,0,0)),new g(new h(255,255,0),new h(255,255,255)),new h(0,0,0),new h(255,255,0),new g(new h(255,0,0),new h(-1,-1,-1)),new g(new h(64,0,0),new h(128,0,0)),new h(0,0,0));a+=1;this.Kb[a]=new w("Golly",new g(new h(48,48,48),new h(48,48,48)),new g(new h(255,255,255),new h(255,255,255)),new h(48,48,48),new h(255,255,0),new g(new h(255,0,0),new h(-1,-1,-1)),new g(new h(48,48,48),new h(48,48,48)),new h(48,48,48));this.Kb[a].wp(10,new h(80,80,80),new h(112,112,112));a+=1;this.Kb[a]=
new w("MCell",new g(new h(0,0,0),new h(0,0,0)),new g(new h(255,255,0),new h(255,255,0)),new h(0,0,0),new h(255,255,0),new g(new h(0,255,0),new h(255,255,0)),new g(new h(0,0,0),new h(0,0,0)),new h(0,0,0));this.Kb[a].wp(5,new h(64,0,0),new h(99,3,1));a+=1;this.Kb[a]=new w("Catagolue",new g(new h(160,221,204),new h(160,221,204)),new g(new h(0,0,0),new h(0,0,0)),new h(192,255,238),new h(0,0,0),new g(new h(96,192,139),new h(2,129,2)),new g(new h(160,221,204),new h(160,221,204)),new h(192,255,238));this.Kb[a].wp(0,
new h(160,221,204),new h(160,221,204));a+=1;this.Kb[a]=new w("Caterer",new g(new h(54,57,62),new h(54,57,62)),new g(new h(255,255,255),new h(255,255,255)),new h(54,57,62),new h(255,170,0),new g(new h(255,85,0),new h(-1,-1,-1)),new g(new h(54,57,62),new h(54,57,62)),new h(54,57,62));this.Kb[a].wp(0,new h(0,0,0),new h(0,0,0));a+=1;this.Kb[a]=new w("Life32",new g(new h(255,255,255),new h(255,255,255)),new g(new h(0,0,128),new h(0,0,128)),new h(255,255,255),new h(0,0,128),new g(new h(0,0,64),new h(-1,
-1,-1)),new g(new h(255,255,255),new h(255,255,255)),new h(255,255,255));this.Kb[a].wp(5,new h(192,192,192),new h(128,128,128));a+=1;this.Kb[a]=new w("Margolus",new g(new h(0,0,47),new h(0,0,128)),new g(new h(255,255,0),new h(255,255,255)),new h(0,0,0),new h(255,255,0),new g(new h(64,64,128),new h(-1,-1,-1)),new g(new h(0,0,47),new h(0,0,128)),new h(0,0,0));this.Kb[a].wp(2,new h(32,32,255),new h(64,64,128));a+=1;this.Kb[a]=new w("PCA",new g(new h(24,24,24),new h(64,64,64)),new g(new h(176,176,176),
new h(240,240,240)),new h(0,0,0),new h(240,240,240),new g(new h(160,160,160),new h(-1,-1,-1)),new g(new h(24,24,24),new h(64,64,64)),new h(0,0,0));a+=1;this.Kb[a]=new w("Book",new g(new h(255,220,192),new h(192,220,255)),new g(new h(0,0,0),new h(0,0,0)),new h(255,255,255),new h(0,0,0),new g(new h(24,24,24),new h(128,128,128)),new g(new h(255,220,192),new h(192,220,255)),new h(255,255,255));this.Kb[a].wp(0,new h(192,192,192),new h(209,209,209));this.Kb[a+1]=new w(Keywords.Jr,new g(new h(0,0,0),new h(0,
0,0)),new g(new h(0,0,0),new h(0,0,0)),new h(0,0,0),new h(0,0,0),new g(new h(0,0,0),new h(0,0,0)),new g(new h(0,0,0),new h(0,0,0)),new h(0,0,0));this.Bf=this.Kb.length-1;this.Oe=new g(new h(0,0,0),new h(0,0,0));this.Fc=new g(new h(0,0,0),new h(0,0,0));this.We=new h(0,0,0);this.sh=new h(0,0,0);this.Se=new g(new h(0,0,0),new h(0,0,0));this.tf=new g(new h(0,0,0),new h(0,0,0));this.ei=new h(0,0,0);this.Nd=new g(new h(0,0,0),new h(0,0,0));this.rc=new g(new h(0,0,0),new h(0,0,0));this.Ae=new h(0,0,0);this.Qf=
new h(0,0,0);this.ce=new g(new h(0,0,0),new h(0,0,0));this.Re=new g(new h(0,0,0),new h(0,0,0));this.$g=new h(0,0,0)};q.prototype.IP=function(a,c,d){var e=this.Kb[a],l=this.xj;this.bg=a;this.Oe.set(this.Nd);this.Fc.set(this.rc);this.We.set(this.Ae);this.sh.set(this.Qf);this.tf.set(this.Re);this.Se.set(this.ce);this.ei.set(this.$g);this.Nd.set(e.Hb);this.rc.set(e.tb);this.Ae.set(e.wb);this.Qf.set(e.bh);this.Re.set(e.Sc);this.ce.set(e.jc);this.$g.set(e.zj);this.Mm=c;this.xj=e.fN(this.ta);l&&!this.xj&&
!this.oa&&2>=this.i&&(this.Zc||this.nG());this.le=e.si;this.Hg=e.ti;a!==this.Bf&&this.ia?this.gg=2:this.gg=e.xq;this.Fd?(this.cn=-16777216|(this.le&255)<<16|(this.le>>8&255)<<8|this.le>>16,this.Og=-16777216|(this.Hg&255)<<16|(this.Hg>>8&255)<<8|this.Hg>>16):(this.cn=this.le>>16<<24|(this.le>>8&255)<<16|(this.le&255)<<8|255,this.Og=this.Hg>>16<<24|(this.Hg>>8&255)<<16|(this.Hg&255)<<8|255);d.mG()};q.prototype.lA=function(){this.Zc?this.mz():this.nz()};q.prototype.mz=function(){var a=this.fq,c;for(c=
0;512>c;c+=1){var d=c&128;var e=c&256;var l=c&127;var k=0;0!==d&&(k=(l+1&127)+64<<8);0!==e&&(k|=(l&127)+64);a[c]=k}};q.prototype.nz=function(){var a=this.fq,c=this.$f,d=this.Qa,e=this.zl,l=this.mf,k,p=new Uint8Array(256);p[0]=0;p[c+1]=d;for(k=1;k<c+1;k+=1)p[k]=Math.min(Math.max(k-1,e),l),p[k+c+1]=Math.max(Math.min(k+1,c),d);if(0===this.K)for(k=d;k<=c;k+=1)p[k]=0;else this.K<l&&(p[l-this.K]=1);for(k=0;65536>k;k+=1)a[k]=p[k>>8]<<8|p[k&255]};q.prototype.DO=function(){var a;for(a=0;a<this.Kb.length;a+=
1){var c=this.Kb[a];if(c.Ym)if(2>=this.i)c.jc.da.set(c.bh);else{var d=1/(this.i-2);c.jc.da.red=c.jc.ba.red*d+c.bh.red*(1-d)|0;c.jc.da.green=c.jc.ba.green*d+c.bh.green*(1-d)|0;c.jc.da.blue=c.jc.ba.blue*d+c.bh.blue*(1-d)|0}}};q.prototype.mA=function(){var a;var c=(this.Mm-1)/this.Nm;if(!this.za)if(this.O)for(a=0;a<n.kv.length;a+=1){if(this.Xa[a+this.K]=n.kv[a][0],this.Va[a+this.K]=n.kv[a][1],this.Ua[a+this.K]=n.kv[a][2],this.Sb&&this.Sb.length>=a){var d=this.Sb[a];-1!==d&&(this.Xa[a+this.K]=d>>16,this.Va[a+
this.K]=d>>8&255,this.Ua[a+this.K]=d&255)}}else if(2<this.i||this.ca){a=0;this.ca?(this.Xa[a]=this.Je[a]>>16,this.Va[a]=this.Je[a]>>8&255,this.Ua[a]=this.Je[a]&255):(this.Xa[a]=this.ei.red*c+this.$g.red*(1-c),this.Va[a]=this.ei.green*c+this.$g.green*(1-c),this.Ua[a]=this.ei.blue*c+this.$g.blue*(1-c));for(a=1;a<this.i-1;a+=1){d=3>=this.i?0:(a-1)/(this.i-3);if(this.L&&18<=this.bg)this.Xa[a+this.K]=n.gq[a][0],this.Va[a+this.K]=n.gq[a][1],this.Ua[a+this.K]=n.gq[a][2];else if(this.ca)this.Xa[a]=this.Je[a]>>
16,this.Va[a]=this.Je[a]>>8&255,this.Ua[a]=this.Je[a]&255;else{var e=this.Se.da.red*d+this.Se.ba.red*(1-d);var l=this.ce.da.red*d+this.ce.ba.red*(1-d);this.Xa[a+this.K]=e*c+l*(1-c);e=this.Se.da.green*d+this.Se.ba.green*(1-d);l=this.ce.da.green*d+this.ce.ba.green*(1-d);this.Va[a+this.K]=e*c+l*(1-c);e=this.Se.da.blue*d+this.Se.ba.blue*(1-d);l=this.ce.da.blue*d+this.ce.ba.blue*(1-d);this.Ua[a+this.K]=e*c+l*(1-c)}this.Sb&&this.Sb.length>a&&(d=this.L||this.ca?this.Sb[a]:this.Sb[this.i-a],-1!==d&&(this.Xa[a+
this.K]=d>>16,this.Va[a+this.K]=d>>8&255,this.Ua[a+this.K]=d&255))}a=this.i-1;this.L&&18<=this.bg?(this.Xa[a+this.K]=n.gq[a][0],this.Va[a+this.K]=n.gq[a][1],this.Ua[a+this.K]=n.gq[a][2]):this.ca?(this.Xa[a]=this.Je[a]>>16,this.Va[a]=this.Je[a]>>8&255,this.Ua[a]=this.Je[a]&255):(this.Xa[a+this.K]=this.sh.red*c+this.Qf.red*(1-c),this.Va[a+this.K]=this.sh.green*c+this.Qf.green*(1-c),this.Ua[a+this.K]=this.sh.blue*c+this.Qf.blue*(1-c));this.Sb&&this.Sb.length>a&&(d=this.L||this.ca?this.Sb[a]:this.Sb[this.i-
a],-1!==d&&(this.Xa[a+this.K]=d>>16,this.Va[a+this.K]=d>>8&255,this.Ua[a+this.K]=d&255));for(a=0;a<this.K;a+=1)d=1<this.K?1-a/(this.K-1):1,e=this.tf.ba.red*d+this.tf.da.red*(1-d),l=this.Re.ba.red*d+this.Re.da.red*(1-d),this.Xa[a+1]=e*c+l*(1-c),e=this.tf.ba.green*d+this.tf.da.green*(1-d),l=this.Re.ba.green*d+this.Re.da.green*(1-d),this.Va[a+1]=e*c+l*(1-c),e=this.tf.ba.blue*d+this.tf.da.blue*(1-d),l=this.Re.ba.blue*d+this.Re.da.blue*(1-d),this.Ua[a+1]=e*c+l*(1-c);this.Sb&&0<this.Sb.length&&(d=this.Sb[0],
-1!==d&&(this.Xa[0]=d>>16,this.Va[0]=d>>8&255,this.Ua[0]=d&255))}else{a=0;this.Xa[a]=this.We.red*c+this.Ae.red*(1-c);this.Va[a]=this.We.green*c+this.Ae.green*(1-c);this.Ua[a]=this.We.blue*c+this.Ae.blue*(1-c);if(0===this.K)for(a=1;a<=this.mf;a+=1)this.Xa[a]=this.We.red*c+this.Ae.red*(1-c),this.Va[a]=this.We.green*c+this.Ae.green*(1-c),this.Ua[a]=this.We.blue*c+this.Ae.blue*(1-c);else{var k=this.mf-this.K+1;for(a=1;a<k;a+=1)this.Xa[a]=this.Fc.ba.red*c+this.rc.ba.red*(1-c),this.Va[a]=this.Fc.ba.green*
c+this.rc.ba.green*(1-c),this.Ua[a]=this.Fc.ba.blue*c+this.rc.ba.blue*(1-c);for(a=k;a<=this.mf;a+=1)d=this.mf===k?1:1-(a-k)/(this.mf-k),e=this.Fc.ba.red*d+this.Fc.da.red*(1-d),l=this.rc.ba.red*d+this.rc.da.red*(1-d),this.Xa[a]=e*c+l*(1-c),e=this.Fc.ba.green*d+this.Fc.da.green*(1-d),l=this.rc.ba.green*d+this.rc.da.green*(1-d),this.Va[a]=e*c+l*(1-c),e=this.Fc.ba.blue*d+this.Fc.da.blue*(1-d),l=this.rc.ba.blue*d+this.rc.da.blue*(1-d),this.Ua[a]=e*c+l*(1-c)}for(a=this.Qa;a<=this.$f;a+=1)d=0===this.Xi?
1:a<this.Qa+this.Xi?1-(a-this.Qa)/this.Xi:0,e=this.Oe.ba.red*d+this.Oe.da.red*(1-d),l=this.Nd.ba.red*d+this.Nd.da.red*(1-d),this.Xa[a]=e*c+l*(1-c),e=this.Oe.ba.green*d+this.Oe.da.green*(1-d),l=this.Nd.ba.green*d+this.Nd.da.green*(1-d),this.Va[a]=e*c+l*(1-c),e=this.Oe.ba.blue*d+this.Oe.da.blue*(1-d),l=this.Nd.ba.blue*d+this.Nd.da.blue*(1-d),this.Ua[a]=e*c+l*(1-c)}};q.prototype.uG=function(a,c){var d=this.Xa,e=this.Va,l=this.Ua,k;for(k=0;k<a.length;k+=1){var p=c&&-1!==c[k]?c[k]:a[k];d[k]=p>>16;e[k]=
p>>8&255;l[k]=p&255}this.Mm=0};q.prototype.GL=function(a,c){var d=this.Xa,e=this.Va,l=this.Ua,k=ViewConstants.fb,p;for(p=0;p<a.length;p+=1)c&&-1!==c[p]?(d[128+k[p]]=c[p]>>16,e[128+k[p]]=c[p]>>8&255,l[128+k[p]]=c[p]&255):(d[128+k[p]]=a[p]>>16,e[128+k[p]]=a[p]>>8&255,l[128+k[p]]=a[p]&255)};q.prototype.ie=function(a){this.Zc?this.qz(a):this.pz(a)};q.prototype.qz=function(a){var c=this.cf,d,e=255,l=15,k=15,p=0,r=0,t=[[0,1,0],[-1,0,0],[0,0,1],[0,-1,0],[1,0,0],[0,0,-1]],v=this.Xa,x=this.Va,A=this.Ua,y=
this.Ii,D=this.S&&!this.Tb||this.M&&!this.Tb,b=this.le,m=this.Hg;for(d=1;240>=d;d+=1)c[d]=this.Fd?-16777216|k*a<<16|l*a<<8|e*a:e*a<<24|l*a<<16|k*a<<8|255,e+=6*t[r][0],l+=6*t[r][1],k+=6*t[r][2],p+=1,40===p&&(p=0,r+=1);for(d=0;128>d;d+=1)p=240*(d+1)/128|0,c[d]=c[p];for(d=127;0<=d;--d)c[d+64]=c[d],D&&(this.Fd?(e=c[d]&255,l=c[d]>>8&255,k=c[d]>>16&255):(e=c[d]>>24,l=c[d]>>16&255,k=c[d]>>8&255),y[d+64]="#"+(16777216+((e<<16)+(l<<8)+k)).toString(16).substr(1));c[0]=this.Fd?-16777216|A[0]*a<<16|x[0]*a<<8|
v[0]*a:v[0]*a<<24|x[0]*a<<16|A[0]*a<<8|255;this.Fd?(this.cn=-16777216|(b&255)<<16|(b>>8&255)<<8|b>>16,this.Og=-16777216|(m&255)<<16|(m>>8&255)<<8|m>>16):(this.cn=b>>16<<24|(b>>8&255)<<16|(b&255)<<8|255,this.Og=m>>16<<24|(m>>8&255)<<16|(m&255)<<8|255);-1!==this.sa&&(d=this.Qb,c[d]=this.Fd?-16777216|A[d]*a<<16|x[d]*a<<8|v[d]*a:v[d]*a<<24|x[d]*a<<16|A[d]*a<<8|255)};q.prototype.pz=function(a){var c=this.Xa,d=this.Va,e=this.Ua,l=this.cf,k=this.le,p=this.Hg,r=this.Ii,t=this.S&&!this.Tb||this.M&&!this.Tb,
v;if(2<this.i)if(this.Fd)for(v=0;v<=this.i+this.K;v+=1)l[v]=-16777216|e[v]*a<<16|d[v]*a<<8|c[v]*a,t&&(r[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+e[v])).toString(16).substr(1));else for(v=0;v<=this.i+this.K;v+=1)l[v]=c[v]*a<<24|d[v]*a<<16|e[v]*a<<8|255,t&&(r[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+e[v])).toString(16).substr(1));else if(this.Fd){for(v=0;v<this.Qa;v+=1)l[v]=-16777216|e[v]<<16|d[v]<<8|c[v],t&&(r[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+e[v])).toString(16).substr(1));for(v=this.Qa;v<=this.$f;v+=
1)l[v]=-16777216|e[v]*a<<16|d[v]*a<<8|c[v]*a,t&&(r[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+e[v])).toString(16).substr(1));for(v=this.$f+1;256>v;v+=1)l[v]=-16777216|e[v]*a<<16|d[v]*a<<8|c[v]*a,t&&(r[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+e[v])).toString(16).substr(1))}else{for(v=0;v<this.Qa;v+=1)l[v]=c[v]<<24|d[v]<<16|e[v]<<8|255,t&&(r[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+e[v])).toString(16).substr(1));for(v=this.Qa;v<=this.$f;v+=1)l[v]=c[v]*a<<24|d[v]*a<<16|e[v]*a<<8|255,t&&(r[v]="#"+(16777216+((c[v]<<
16)+(d[v]<<8)+e[v])).toString(16).substr(1));for(v=this.$f+1;256>v;v+=1)l[v]=c[v]*a<<24|d[v]*a<<16|e[v]*a<<8|255,t&&(r[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+e[v])).toString(16).substr(1))}this.Fd?(this.cn=-16777216|(k&255)<<16|(k>>8&255)<<8|k>>16,this.Og=-16777216|(p&255)<<16|(p>>8&255)<<8|p>>16):(this.cn=k>>16<<24|(k>>8&255)<<16|(k&255)<<8|255,this.Og=p>>16<<24|(p>>8&255)<<16|(p&255)<<8|255);-1!==this.sa&&(v=this.Qb,l[v]=this.Fd?-16777216|e[v]*a<<16|d[v]*a<<8|c[v]*a:c[v]*a<<24|d[v]*a<<16|e[v]*a<<
8|255,t&&(r[v]="#"+(16777216+((c[v]<<16)+(d[v]<<8)+e[v])).toString(16).substr(1)))};q.prototype.yP=function(){var a=this.Xa,c=this.Va,d=this.Ua;this.Qb=-1!==this.sa&&256===this.i+this.K?2:255;-1!==this.sa&&256>this.i+this.K&&(this.Fd?(a[this.Qb]=this.Jm&255,c[this.Qb]=this.Jm>>8&255,d[this.Qb]=this.Jm>>16&255):(a[this.Qb]=this.Jm>>24,c[this.Qb]=this.Jm>>16&255,d[this.Qb]=this.Jm>>8&255))};q.prototype.fs=function(a){var c=this.Fh,d=this.U,e=this.Ga,l=this.Jb,k=this.mc,p=this.fd,r=this.ka,t=this.Oa,
v=this.ya,x=this.wa,A=this.te,y=this.wb;this.grid.Ha.fill(0);c.Ha.fill(0);a||(d.Ha.fill(y),e&&e.Ha.fill(y),l.Ha.fill(y),k&&(k.Ha.fill(y),p.Ha.fill(y)));r.Ha.fill(0);x.Ha.fill(0);A.Ha.fill(0);a||(t.Ha.fill(0),v.Ha.fill(0))};q.prototype.Gl=function(a,c){var d=n.FH,e;for(e=0;e<d;e+=1)a[e]=c[e]};q.prototype.Dk=function(a,c){var d=n.bw,e;for(e=0;e<d;e+=1){var l=c[e>>9&448|e>>6&56|e>>3&7]<<3;l|=c[e>>8&448|e>>5&56|e>>2&7]<<2;l|=c[e>>7&448|e>>4&56|e>>1&7]<<1;l|=c[e>>6&448|e>>3&56|e&7];a[e]=l}};q.prototype.Vh=
function(a,c,d){if(d){var e=new Uint8Array(16);for(d=0;16>d;d+=1){var l=c[d];e[l]=d}for(d=0;d<n.No;d+=1)l=(e[d>>12]&1)<<2,l|=(e[d>>8&15]&2)<<2,l|=(e[d>>4&15]&4)>>2,l|=(e[d&15]&8)>>2,a[d]=l}else for(d=0;d<n.No;d+=1)l=(d>>12&1)<<2,l|=(d>>8&2)<<2,l|=(d>>4&4)>>2,l|=(d&8)>>2,a[d]=c[l]};q.prototype.rf=function(a,c){var d,e,l,k;for(d=0;d<n.dn;d+=1){var p=d>>8;var r=d&255;var t=192;var v=6;for(e=k=l=0;4>e;e+=1){var x=0===v?(r&t)<<2|p&t:(r&t)>>v-2|(p&t)>>v;x=(x&8)>>1|(x&4)<<1|(x&2)>>1|(x&1)<<1;x=c[x];x=(x&
8)>>1|(x&4)<<1|(x&2)>>1|(x&1)<<1;l<<=2;k<<=2;l|=x>>2&3;k|=x&3;t>>=2;v-=2}a[d]=k<<8|l}};q.prototype.nd=function(a,c){var d,e=0,l=!0,k=new Uint8Array(16);for(d=0;l&&16>d;){var p=1<<a[d];0!==(e&p)?l=!1:(e|=p,d+=1)}if(l){for(d=0;16>d;d+=1)e=a[d],k[e]=d;c&&a.set(k)}return l};q.prototype.Hu=function(a,c){var d;for(d=0;16>d;d+=1)c[d]=a[15-d];for(d=0;16>d;d+=1)a[d]=15-a[d]};q.prototype.rz=function(){var a=this.df,c,d,e,l,k,p=this.im,r=this.jl,t=this.kl;for(c=0;1<<c<a;)c+=1;var v=(this.Ug+1)*c;if(v<=n.FN){this.ze=
this.B.T(Uint8,1<<v,"Life.ruleTreeLookup");v=this.iw=c;var x=v+c;var A=x+c;var y=A+c;if(4===this.Ug)for(c=0;c<a;c+=1)for(e=0;e<a;e+=1)for(k=0;k<a;k+=1)for(l=0;l<a;l+=1)for(d=0;d<a;d+=1){var D=c<<v|e<<x|k<<A|l<<y|d;this.ze[D]=t[r[r[r[r[p+c]+l]+e]+d]+k]}else this.ze=null}else this.ze=null};q.prototype.iQ=function(a){var c=this.M?this.A.XD:this.A.nk,d=this.M?this.A.TD:this.A.SD,e=this.A.Lb,l=this.M?n.FH:n.gN,k=!1,p=null,r=c.length;this.Lb=e;if(this.ca)this.ze=null,this.rz();else if(this.Lb&&this.oa){var t=
0;var v=!0;for(r=this.pa.sb.length;t<r&&v;)this.pa.sb[t]!==this.pa.Wr[t]?v=!1:t+=1;if(v){t=0;for(r=this.pa.Yn.length;t<r&&v;)this.pa.Yn[t]!==this.pa.Xr[t]?v=!1:t+=1;v&&(this.Lb=!1,t=a.vb.indexOf("|"),-1!==t&&(a.vb=a.vb.substr(0,t)),t=a.Yc.indexOf("|"),-1!==t&&(a.Yc=a.Yc.substr(0,t)))}}else{if(this.Lb){if(this.ia||this.L)r=16;t=0;for(v=!0;t<r&&v;)c[t]!==d[t]?v=!1:t+=1;v&&(this.Lb=!1,t=a.vb.indexOf("|"),-1!==t&&(a.vb=a.vb.substr(0,t)),t=a.Yc.indexOf("|"),-1!==t&&(a.Yc=a.Yc.substr(0,t)));if(this.Lb&&
(this.ia||this.L))for(t=0;t<r;t+=1)a=c[t],c[t]=d[t],d[t]=a}this.ee=this.cd=this.wf=this.de=this.Si=this.Yh=this.Pg=this.Xh=null;if(this.L)this.de=this.B.T(Uint16,n.No,"Life.PCALookup1"),e?(this.wf=this.B.T(Uint16,n.No,"Life.PCALookup2"),this.Vh(this.wf,c,!1),this.Vh(this.de,d,!1),this.nd(c,!1)&&this.nd(d,!1)&&(this.cd=this.B.T(Uint16,n.No,"Life.PCAReverseLookup1"),this.ee=this.B.T(Uint16,n.No,"Life.PCAReverseLookup2"),this.nd(d,!1),this.Vh(this.cd,d,!0),this.nd(c,!1),this.Vh(this.ee,c,!0))):(this.Vh(this.de,
c,!1),this.nd(c,!1)&&(this.cd=this.B.T(Uint16,n.No,"Life.PCAsReverseLookup1"),this.Vh(this.cd,c,!0)));else if(this.ia){this.de=this.B.T(Uint16,n.dn,"Life.margolusLookup1");if(15===c[0]&&0===c[15]){e=this.Lb=!0;p=new Uint8Array(16);for(t=0;16>t;t+=1)p[t]=c[t];this.Hu(c,d)}e?(this.wf=this.B.T(Uint16,n.dn,"Life.margolusLookup2"),this.rf(this.wf,c),this.rf(this.de,d),p&&this.nd(p,!0)?(this.cd=this.B.T(Uint16,n.dn,"Life.margolusReverseLookup1"),this.ee=this.B.T(Uint16,n.dn,"Life.margolusReverseLookup2"),
this.Hu(p,d),this.rf(this.cd,d),this.rf(this.ee,p)):this.nd(c,!1)&&this.nd(d,!1)&&(this.cd=this.B.T(Uint16,n.dn,"Life.margolusReverseLookup1"),this.ee=this.B.T(Uint16,n.dn,"Life.margolusReverseLookup2"),this.nd(c,!0),this.rf(this.cd,c),this.nd(d,!0),this.rf(this.ee,d))):(this.rf(this.de,c),this.nd(c,!0)&&(this.cd=this.B.T(Uint16,n.dn,"Life.margolusReverseLookup1"),this.rf(this.cd,c)))}else if(this.M)this.Yh=this.B.T(Uint8,n.EH,"Life.indexLookupTri1"),e?(this.Si=this.B.T(Uint8,n.EH,"Life.indexLookupTri2"),
this.Gl(this.Si,c),this.Gl(this.Yh,d)):this.Gl(this.Yh,c);else{this.Xh=this.B.T(Uint8,n.bw,"Life.indexLookup63");if(-1===this.ve&&c[0]){if(!c[l-1]){for(t=0;t<l/2;t+=1)a=c[t],c[t]=c[l-t-1],c[l-t-1]=a;k=!0;this.Pg=this.B.T(Uint8,n.bw,"Life.indexLookup632");this.Dk(this.Pg,c)}for(t=0;t<l/2;t+=1)a=c[t],c[t]=1-c[l-t-1],c[l-t-1]=1-a}this.Lb?(this.Pg=this.B.T(Uint8,n.bw,"Life.indexLookup632"),this.Dk(this.Pg,c),this.Dk(this.Xh,d)):(this.Dk(this.Xh,c),k&&(this.Lb=!0))}}};q.prototype.G=function(a){var c=0;
0!==(a&32768)?c=0:0!==(a&16384)?c=1:0!==(a&8192)?c=2:0!==(a&4096)?c=3:0!==(a&2048)?c=4:0!==(a&1024)?c=5:0!==(a&512)?c=6:0!==(a&256)?c=7:0!==(a&128)?c=8:0!==(a&64)?c=9:0!==(a&32)?c=10:0!==(a&16)?c=11:0!==(a&8)?c=12:0!==(a&4)?c=13:0!==(a&2)?c=14:0!==(a&1)&&(c=15);return c};q.prototype.Y=function(a){var c=0;0!==(a&1)?c=15:0!==(a&2)?c=14:0!==(a&4)?c=13:0!==(a&8)?c=12:0!==(a&16)?c=11:0!==(a&32)?c=10:0!==(a&64)?c=9:0!==(a&128)?c=8:0!==(a&256)?c=7:0!==(a&512)?c=6:0!==(a&1024)?c=5:0!==(a&2048)?c=4:0!==(a&
4096)?c=3:0!==(a&8192)?c=2:0!==(a&16384)&&(c=1);return c};q.prototype.oz=function(a){var c=this.mc,d=this.ka,e=this.width,l=this.height,k,p=this.N.v,r=this.N.s,t=this.N.o,v=this.N.u,x,A;for(x=0;x<l;x+=1){var y=c[x];var D=d[x>>4];for(A=k=0;A<e;A+=1)0!==y[A]&&(D[A>>8]|=1<<(~(A>>4)&15),k|=y[A],A<t&&(t=A),A>v&&(v=A));k&&(x<r&&(r=x),x>p&&(p=x))}a||(this.N.v=p,this.N.s=r,this.N.o=t,this.N.u=v)};q.prototype.NL=function(){var a,c,d,e=this.kb,l=this.wa,k=this.ka,p,r=this.M?49152:32768,t=this.M?3:1,v=this.va,
x=this.ra>>4,A=this.Bd;var y=0;var D=y+16;k.Ha.fill(0);for(c=0;c<v;c+=1){var b=0;var m=l[c];var f=k[c];var u=0<c?k[c-1]:A;var z=c<v-1?k[c+1]:A;m[0]&=32767;m[x-1]&=65534;for(d=0;d<x;d+=1)if(p=m[d]){var B=f[d];var C=u[d];var E=z[d];for(a=15;0<=a;--a){if(0!==(p&1<<a)){var G=!1;var F=0;var I=y;var L=e[I];if(L=L[b])G=!0,0!==(L&r)&&(F|=n.Yb,F|=n.ac),0!==(L&t)&&(F|=n.ob,F|=n.bc),F|=n.Wb;for(I+=1;I<D-1;){L=e[I];if(L=L[b])G=!0,0!==(L&r)&&(F|=n.Yb),0!==(L&t)&&(F|=n.ob);I+=1}L=e[I];if(L=L[b])G=!0,0!==(L&r)&&
(F|=n.Yb,F|=n.hc),0!==(L&t)&&(F|=n.ob,F|=n.Cb),F|=n.Db;G&&(B|=1<<a,F&&(0!==(F&n.Yb)&&(15>a?B|=1<<a+1:0<d&&(f[d-1]|=1)),0!==(F&n.ob)&&(0<a?B|=1<<a-1:d<x-1&&(f[d+1]|=32768)),0!==(F&n.Wb)&&(C|=1<<a),0!==(F&n.Db)&&(E|=1<<a),0!==(F&n.ac)&&(15>a?C|=1<<a+1:0<d&&(u[d-1]|=1)),0!==(F&n.bc)&&(0<a?C|=1<<a-1:d<x-1&&(u[d+1]|=32768)),0!==(F&n.hc)&&(15>a?E|=1<<a+1:0<d&&(z[d-1]|=1)),0!==(F&n.Cb)&&(0<a?E|=1<<a-1:d<x-1&&(z[d+1]|=32768))))}b+=1}f[d]|=B;0<c&&(u[d]|=C);c<v-1&&(z[d]|=E)}else b+=16;y+=16;D+=16}A.fill(0)};
q.prototype.lM=function(){var a,c,d,e=this.kb,l=this.wa,k=this.U,p=this.ka,r,t=this.va,v=this.ra>>4,x=this.Bd;var A=0;var y=A+16;p.Ha.fill(0);for(c=0;c<t;c+=1){var D=0;var b=l[c];var m=p[c];var f=0<c?p[c-1]:x;var u=c<t-1?p[c+1]:x;b[0]&=32767;b[v-1]&=65534;for(d=0;d<v;d+=1)if(r=b[d]){var z=m[d];var B=f[d];var C=u[d];for(a=15;0<=a;--a){if(0!==(r&1<<a)){var E=!1;var G=0;var F=A;var I=e[F];var L=k[F];I=I[D];var M=D<<4;0<L[M]&&(I|=32768);M+=1;0<L[M]&&(I|=16384);M+=1;0<L[M]&&(I|=8192);M+=1;0<L[M]&&(I|=
4096);M+=1;0<L[M]&&(I|=2048);M+=1;0<L[M]&&(I|=1024);M+=1;0<L[M]&&(I|=512);M+=1;0<L[M]&&(I|=256);M+=1;0<L[M]&&(I|=128);M+=1;0<L[M]&&(I|=64);M+=1;0<L[M]&&(I|=32);M+=1;0<L[M]&&(I|=16);M+=1;0<L[M]&&(I|=8);M+=1;0<L[M]&&(I|=4);M+=1;0<L[M]&&(I|=2);M+=1;0<L[M]&&(I|=1);I&&(E=!0,0!==(I&32768)&&(G|=n.Yb,G|=n.ac),0!==(I&1)&&(G|=n.ob,G|=n.bc),G|=n.Wb);for(F+=1;F<y-1;)I=e[F],L=k[F],I=I[D],M=D<<4,0<L[M]&&(I|=32768),M+=1,0<L[M]&&(I|=16384),M+=1,0<L[M]&&(I|=8192),M+=1,0<L[M]&&(I|=4096),M+=1,0<L[M]&&(I|=2048),M+=1,
0<L[M]&&(I|=1024),M+=1,0<L[M]&&(I|=512),M+=1,0<L[M]&&(I|=256),M+=1,0<L[M]&&(I|=128),M+=1,0<L[M]&&(I|=64),M+=1,0<L[M]&&(I|=32),M+=1,0<L[M]&&(I|=16),M+=1,0<L[M]&&(I|=8),M+=1,0<L[M]&&(I|=4),M+=1,0<L[M]&&(I|=2),M+=1,0<L[M]&&(I|=1),I&&(E=!0,0!==(I&32768)&&(G|=n.Yb),0!==(I&1)&&(G|=n.ob)),F+=1;I=e[F];L=k[F];I=I[D];M=D<<4;0<L[M]&&(I|=32768);M+=1;0<L[M]&&(I|=16384);M+=1;0<L[M]&&(I|=8192);M+=1;0<L[M]&&(I|=4096);M+=1;0<L[M]&&(I|=2048);M+=1;0<L[M]&&(I|=1024);M+=1;0<L[M]&&(I|=512);M+=1;0<L[M]&&(I|=256);M+=1;0<
L[M]&&(I|=128);M+=1;0<L[M]&&(I|=64);M+=1;0<L[M]&&(I|=32);M+=1;0<L[M]&&(I|=16);M+=1;0<L[M]&&(I|=8);M+=1;0<L[M]&&(I|=4);M+=1;0<L[M]&&(I|=2);M+=1;0<L[M]&&(I|=1);I&&(E=!0,0!==(I&32768)&&(G|=n.Yb,G|=n.hc),0!==(I&1)&&(G|=n.ob,G|=n.Cb),G|=n.Db);E&&(z|=1<<a,G&&(0!==(G&n.Yb)&&(15>a?z|=1<<a+1:0<d&&(m[d-1]|=1)),0!==(G&n.ob)&&(0<a?z|=1<<a-1:d<v-1&&(m[d+1]|=32768)),0!==(G&n.Wb)&&(B|=1<<a),0!==(G&n.Db)&&(C|=1<<a),0!==(G&n.ac)&&(15>a?B|=1<<a+1:0<d&&(f[d-1]|=1)),0!==(G&n.bc)&&(0<a?B|=1<<a-1:d<v-1&&(f[d+1]|=32768)),
0!==(G&n.hc)&&(15>a?C|=1<<a+1:0<d&&(u[d-1]|=1)),0!==(G&n.Cb)&&(0<a?C|=1<<a-1:d<v-1&&(u[d+1]|=32768))))}D+=1}m[d]|=z;0<c&&(f[d]|=B);c<t-1&&(u[d]|=C)}else D+=16;A+=16;y+=16}x.fill(0)};q.prototype.CM=function(a){var c,d,e=n.Qa,l=this.height,k=this.width,p=this.U,r=this.height,t=-1,v=this.width,x=-1;this.L&&0!==(this.counter&1)&&(p=this.Ga);for(d=0;d<l;d+=1){var A=p[d];var y=!1;for(c=0;c<k;c+=1){var D=A[c];D>=e&&255>D&&(y=!0,c<v&&(v=c),c>x&&(x=c))}y&&(d<r&&(r=d),d>t&&(t=d))}if(0>t||r>=l||v>=k||0>x)r=
t=l>>1,x=v=k>>1;t>l-1&&(t=l-1);0>r&&(r=0);0>v&&(v=0);x>k-1&&(x=k-1);a.v=t;a.s=r;a.o=v;a.u=x};q.prototype.zh=function(){var a,c,d=this.width>>4,e=this.height,l=this.width,k=this.mc;var p=this.U;var r=this.N,t=this.Pa,v=this.ig,x=this.height,A=-1,y=this.width,D=-1,b=this.height,m=-1,f=this.width,u=-1,z,B=this.na;if(this.Wg){this.Wg=!1;(this.L||this.ca||this.O)&&0!==(this.counter&1)&&(p=this.Ga);var C=0!==(this.counter&1)?this.cc:this.kb;if(k)for(c=0;c<e;c+=1){var E=k[c];for(a=z=0;a<l;a+=1){var G=E[a];
z|=G;G&&(a<f&&(f=a),a>u&&(u=a))}z&&(c<b&&(b=c),c>m&&(m=c))}B.fill(0);if(-1!==this.i)for(c=0;c<e;c+=1){d=p[c];for(a=z=0;a<l;a+=1)G=d[a],z|=G,G&&(a<y&&(y=a),a>D&&(D=a));z&&(c<x&&(x=c),c>A&&(A=c))}else{for(c=0;c<e;c+=1){p=C[c];for(a=z=0;a<d;a+=1)G=p[a],z|=G,B[a]|=G;z&&(c<x&&(x=c),c>A&&(A=c))}for(a=0;a<d;a+=1)B[a]&&(a<y&&(y=a),a>D&&(D=a));y=(y<<4)+this.G(B[y]);D=(D<<4)+this.Y(B[D])}if(0>A||x>=e||y>=l||0>D)x=A=e>>1,D=y=l>>1;k&&(m>A&&(A=m),b<x&&(x=b),f<y&&(y=f),u>D&&(D=u));A>this.height-1&&(A=this.height-
1);0>x&&(x=0);0>y&&(y=0);D>this.width-1&&(D=this.width-1);r.v=A;r.s=x;r.o=y;r.u=D;t.v=A;t.s=x;t.o=y;t.u=D;v.v=A;v.s=x;v.o=y;v.u=D}};q.prototype.PD=function(a){var c,d,e=this.width>>4,l=this.height,k=this.width,p=this.mc;var r=this.U;var t=this.N,v=this.Pa,x=this.ig,A=this.height,y=-1,D=this.width,b=-1,m=this.height,f=-1,u=this.width,z=-1,B,C=this.na,E=this.Oa,G=this.ya;if(0!==(this.counter&1)){var F=this.cc;var I=this.wa;var L=this.ka}else F=this.kb,I=this.ka,L=this.wa;if(p&&!a)for(d=0;d<l;d+=1){var M=
p[d];for(c=B=0;c<k;c+=1){var H=M[c];B|=H;H&&(c<u&&(u=c),c>z&&(z=c))}B&&(d<m&&(m=d),d>f&&(f=d))}C.fill(0);L.Ha.fill(0);if(-1!==this.i)for(d=0;d<l;d+=1){e=r[d];for(c=B=0;c<k;c+=1)H=e[c],B|=H,H&&(c<D&&(D=c),c>b&&(b=c));B&&(d<A&&(A=d),d>y&&(y=d))}else{for(d=0;d<l;d+=1){r=F[d];for(c=B=0;c<e;c+=1)H=r[c],B|=H,C[c]|=H;B&&(d<A&&(A=d),d>y&&(y=d))}for(c=0;c<e;c+=1)C[c]&&(c<D&&(D=c),c>b&&(b=c));D=(D<<4)+this.G(C[D]);b=(b<<4)+this.Y(C[b])}if(0>y||A>=l||D>=k||0>b)A=y=l>>1,b=D=k>>1,f=y,m=A,u=D,z=b;p&&!a&&(f<y&&
(y=f),m>A&&(A=m),u<D&&(D=u),z>b&&(b=z));y>this.height-1&&(y=this.height-1);0>A&&(A=0);0>D&&(D=0);b>this.width-1&&(b=this.width-1);t.v=y;t.s=A;t.o=D;t.u=b;v.v=y;v.s=A;v.o=D;v.u=b;x.v=y;x.s=A;x.o=D;x.u=b;0<D&&--D;0<A&&--A;b<this.width-1&&(b+=1);y<this.height-1&&(y+=1);H=y>>4;D>>=8;b>>=8;for(d=A>>4;d<=H;d+=1)for(A=L[d],c=D;c<=b;c+=1)A[c]=-1;-1!==this.i?this.lM():this.NL();p&&(this.oz(a),x.v=t.v,x.s=t.s,x.o=t.o,x.u=t.u);Array.mi(I,L);Array.mi(I,E);Array.mi(I,G)};q.prototype.wD=function(a,c){var d=this.ia?
-1:0;var e=Math.round((this.width-this.Ea)/2)+d,l=Math.round((this.height-this.Aa)/2)+d,k=e+this.Ea-1,p=l+this.Aa-1,r=e-a>>4,t=k+a>>4,v=e-a>>4,x=k+a>>4,A=~(1<<(~(e-a)&15)),y=~(1<<(~(k+a)&15)),D=this.xg,b=0;if(!this.L||this.ca){d=0!==(this.counter&1)?this.cc:this.kb;var m=d[p+a];var f=d[l-a];if(0===this.Ea)for(t=this.width>>4,r=0;r<t;r+=1)b+=D[f[r]],f[r]=0,b+=D[m[r]],m[r]=0;else if(0===this.Aa)for(l=0,p=this.height,t=0;t<p;t+=1)m=d[t],m[v]&~A&&(b+=1),m[v]&=A,m[x]&~y&&(b+=1),m[x]&=y;else{for(;r<=t;r+=
1)b+=D[f[r]],f[r]=0,b+=D[m[r]],m[r]=0;for(t=l-a+1;t<=p+a-1;t+=1)m=d[t],m[v]&~A&&(b+=1),m[v]&=A,m[x]&~y&&(b+=1),m[x]&=y}c&&(this.ga-=b)}if(-1!==this.i)if(d=this.U,(this.L||this.ca||this.O)&&0!==(this.counter&1)&&(d=this.Ga),e-=a,k+=a,p+=a,l-=a,m=d[p],f=d[l],0===this.Ea)f.fill(0),m.fill(0);else if(0===this.Aa)for(t=0;t<this.height;t+=1)d[t][e]=0,d[t][k]=0;else for(f.fill(0,e,k+1),m.fill(0,e,k+1),t=l+1;t<=p-1;t+=1)d[t][e]=0,d[t][k]=0};q.prototype.Iu=function(a,c,d){var e,l;this.ot+=1;for(l=0;l<a.length;l+=
1){var k=a[l];for(e=0;e<k.length;e+=1)1===k[e]&&(this.qj(c+e,d+l,0,!1),this.$a+=1)}};q.prototype.ea=function(a,c,d,e,l){var k,p,r=e+e,t=l+l,v=r+e,x=t+l,A=v+e,y=x+l,D=this.U;var b=this.N.o;var m=this.N.u;var f=this.N.s;var u=this.N.v;var z=this.Qa;c-=2;d-=2;var B=0;for(k=!0;k&&B<a.length;){var C=0;for(p=a[B];k&&C<p.length;){var E=p[C];var G=D[d+B][c+C];G<z&&0===E||G>=z&&1===E||(k=!1);C+=1}B+=1}if(k){C=c+3+e+e;B=d+3+l+l;p=0>e?b-1:m+1;var F=0>l?f-1:u+1;for(k=!1;!k&&C!==p&&B!==F;){var I=D[B];G=I[C];f=
D[B+l][C];u=I[C+e];b=D[B+t][C];m=I[C+r];z=D[B+x][C];E=I[C+v];var L=D[B+y][C];var M=I[C+A];var H=D[B+y+l][C];var K=I[C+A+e];var J=D[B+y+l][C];var S=I[C+A+e];var pa=D[B+y+t][C];var oa=I[C+A+r];var O=D[B+y+x][C];I=I[C+A+v];(G|f|u|b|m|z|E|L|M|H|K|J|S|pa|oa|O|I)&64?k=!0:(C+=e,B+=l)}k?this.bi[this.bi.length]={JM:a,x:c,y:d,DQ:C,EQ:B}:this.Iu(a,c,d)}return k};q.prototype.fD=function(){var a,c=this.bi.length,d;if(1<c)for(a=0;a<c;a+=1){var e=this.bi[a];var l=e.DQ;var k=e.EQ;var p=0;for(d=!1;!d&&p<c;){if(p!==
a){var r=this.bi[p];r.x>=l-3&&r.x<=l+3&&r.y>=k-3&&r.y<=k+3&&(this.Iu(e.JM,e.x,e.y),d=!0)}p+=1}}};q.prototype.JD=function(){var a,c=this.N.o,d=this.N.u,e=this.N.s,l=this.N.v,k=this.U,p=k[l],r=k[e],t=this.Qa;if(-1===this.sa){this.bi=[];64>c&&(c=64);d>this.width-64&&(d=this.width-64);64>e&&(e=64);l>this.height-64&&(l=this.height-64);for(a=c;a<=d;a+=1)r[a]>=t&&(this.ea(this.Zl,a,e,-1,1)||this.ea(this.am,a-1,e,-1,1)||this.ea(this.bm,a,e,-1,1)||this.ea(this.em,a-1,e,-1,1)||this.ea(this.Rl,a,e,1,1)||this.ea(this.Tl,
a-1,e,1,1)||this.ea(this.Wl,a-1,e,1,1)||this.ea(this.Xl,a,e,1,1)),p[a]>=t&&(this.ea(this.Bm,a,l-2,-1,-1)||this.ea(this.lo,a-1,l-2,-1,-1)||this.ea(this.mo,a,l-2,-1,-1)||this.ea(this.no,a-1,l-2,-1,-1)||this.ea(this.jm,a,l-2,1,-1)||this.ea(this.tm,a-1,l-2,1,-1)||this.ea(this.ym,a-1,l-2,1,-1)||this.ea(this.zm,a,l-2,1,-1));for(a=e;a<=l;a+=1)e=k[a],e[c]>=t&&(this.ea(this.Zl,c,a,1,-1)||this.ea(this.am,c,a-1,1,-1)||this.ea(this.bm,c,a,1,-1)||this.ea(this.em,c,a-1,1,-1)||this.ea(this.Bm,c,a-1,1,1)||this.ea(this.lo,
c,a,1,1)||this.ea(this.mo,c,a,1,1)||this.ea(this.no,c,a-1,1,1)),e[d]>=t&&(this.ea(this.Rl,d-2,a,-1,-1)||this.ea(this.Tl,d-2,a-1,-1,-1)||this.ea(this.Wl,d-2,a,-1,-1)||this.ea(this.Xl,d-2,a-1,-1,-1)||this.ea(this.jm,d-2,a-1,-1,1)||this.ea(this.tm,d-2,a,-1,1)||this.ea(this.ym,d-2,a,-1,1)||this.ea(this.zm,d-2,a-1,-1,1));this.fD();this.zh()}};q.prototype.hE=function(){var a,c,d=this.ia?-1:0,e=this.Ea,l=this.Aa;for(c=0;1>=c;c+=1){var k=Math.round((this.width-e)/2-1)+d+c>>4;var p=Math.round((this.width+
e)/2)+d-c>>4;var r=Math.round((this.height-l)/2-1+c)+d>>4;var t=Math.round((this.height+l)/2)+d-c>>4;0===l&&(r=0,t=(this.height>>4)-1);0===e&&(k=0,p=(this.width>>4)-1);0>k&&(k=0);0>r&&(r=0);p>=this.width>>4&&(p=(this.width>>4)-1);t>=this.height>>4&&(t=(this.height>>4)-1);for(a=k;a<=p;a+=1){var v=-1;this.ka[r][a>>4]|=v;this.wa[r][a>>4]|=v;this.Oa[r][a>>4]|=v;this.ya[r][a>>4]|=v;this.ka[t][a>>4]|=v;this.wa[t][a>>4]|=v;this.Oa[t][a>>4]|=v;this.ya[t][a>>4]|=v}for(a=r;a<=t;a+=1)v=1<<(~k&15),this.ka[a][k>>
4]|=v,this.wa[a][k>>4]|=v,this.Oa[a][k>>4]|=v,this.ya[a][k>>4]|=v,v=1<<(~p&15),this.ka[a][p>>4]|=v,this.wa[a][p>>4]|=v,this.Oa[a][p>>4]|=v,this.ya[a][p>>4]|=v}};q.prototype.qK=function(a){var c=this.Ea,d=this.Aa,e=this.ia?-1:0,l=Math.round((this.width-c)/2)+e;e=Math.round((this.height-d)/2)+e;var k=l+c-1,p=e+d-1,r=this.vo,t=this.wo,v=this.ya,x=this.te,A;0===this.Ea&&(l=0,k=this.width-1,c=this.width);0===this.Aa&&(e=0,p=this.height-1,d=this.height);if(0!==this.Aa)for(A=0;A<c;A+=1){var y=l+A;var D=
l+(A+r+c)%c;var b=a[p][y];0!==b&&(a[e-1][D]=b,v[e-1>>4][D>>8]|=1<<(~(D>>4)&15),x[e-1>>4][D>>8]&=~(1<<(~(D>>4)&15)),15===(e-1&15)&&(v[(e-1>>4)+1][D>>8]|=1<<(~(D>>4)&15),x[(e-1>>4)+1][D>>8]&=~(1<<(~(D>>4)&15))));D=l+(A-r+c)%c;b=a[e][y];0!==b&&(a[p+1][D]=b,v[p+1>>4][D>>8]|=1<<(~(D>>4)&15),x[p+1>>4][D>>8]&=~(1<<(~(D>>4)&15)),0===(p+1&15)&&(v[(p+1>>4)-1][D>>8]|=1<<(~(D>>4)&15),x[(p+1>>4)-1][D>>8]&=~(1<<(~(D>>4)&15))))}if(0!==this.Ea)for(A=0;A<d;A+=1)y=e+A,D=e+(A-t+d)%d,b=a[y][l],0!==b&&(a[D][k+1]=b,v[D>>
4][k+1>>8]|=1<<(~(k+1>>4)&15),x[D>>4][k+1>>8]&=~(1<<(~(k+1>>4)&15)),0===(k+1&15)&&(v[D>>4][k-15>>8]|=1<<(~(k-15>>4)&15),x[D>>4][k-15>>8]&=~(1<<(~(k-15>>4)&15)))),D=e+(A+t+d)%d,b=a[y][k],0!==b&&(a[D][l-1]=b,v[D>>4][l-1>>8]|=1<<(~(l-1>>4)&15),x[D>>4][l-1>>8]&=~(1<<(~(l-1>>4)&15)),15===(l-1&15)&&(v[D>>4][l+15>>8]|=1<<(~(l+15>>4)&15),x[D>>4][l+15>>8]&=~(1<<(~(l+15>>4)&15))));0!==this.Ea&&0!==this.Aa&&(b=a[e+(d-1+t+d)%d][l+(-r+c)%c],a[e-1][k+1]=b,b=a[e+(d-1-t+d)%d][l+(c-1-r+c)%c],a[e-1][l-1]=b,b=a[e+(t+
d)%d][l+(r+c)%c],a[p+1][k+1]=b,b=a[e+(-t+d)%d][l+(c-1+r+c)%c],a[p+1][l-1]=b)};q.prototype.kz=function(a){var c=this.ya,d=this.te,e=this.Ea,l=this.Aa,k=this.ia?-1:0,p=Math.round((this.width-e)/2)+k;k=Math.round((this.height-l)/2)+k;var r=p+e-1,t=k+l-1,v=this.vo,x=this.wo,A=this.Zu,y=this.Wz,D;for(D=0;D<e;D+=1){var b=p+D;var m=A?r-(D+v+e)%e:p+(D+v+e)%e;var f=a[t][b];0!==f&&(a[k-1][m]=f,c[k-1>>4][m>>8]|=1<<(~(m>>4)&15),d[k-1>>4][m>>8]&=~(1<<(~(m>>4)&15)),15===(k-1&15)&&(c[(k-1>>4)+1][m>>8]|=1<<(~(m>>
4)&15),d[(k-1>>4)+1][m>>8]&=~(1<<(~(m>>4)&15))));m=A?r-(D-v+e)%e:p+(D-v+e)%e;f=a[k][b];0!==f&&(a[t+1][m]=f,c[t+1>>4][m>>8]|=1<<(~(m>>4)&15),d[t+1>>4][m>>8]&=~(1<<(~(m>>4)&15)),0===(t+1&15)&&(c[(t+1>>4)-1][m>>8]|=1<<(~(m>>4)&15),d[(t+1>>4)-1][m>>8]&=~(1<<(~(m>>4)&15))))}for(D=0;D<l;D+=1)b=k+D,m=y?t-(D-x+l)%l:k+(D-x+l)%l,f=a[b][p],0!==f&&(a[m][r+1]=f,c[m>>4][r+1>>8]|=1<<(~(r+1>>4)&15),d[m>>4][r+1>>8]&=~(1<<(~(r+1>>4)&15)),0===(r+1&15)&&(c[m>>4][r-15>>8]|=1<<(~(r-15>>4)&15),d[m>>4][r-15>>8]&=~(1<<(~(r-
15>>4)&15)))),m=y?t-(D+x+l)%l:k+(D+x+l)%l,f=a[b][r],0!==f&&(a[m][p-1]=f,c[m>>4][p-1>>8]|=1<<(~(p-1>>4)&15),d[m>>4][p-1>>8]&=~(1<<(~(p-1>>4)&15)),15===(p-1&15)&&(c[m>>4][p+15>>8]|=1<<(~(p+15>>4)&15),d[m>>4][p+15>>8]&=~(1<<(~(p+15>>4)&15))));f=a[y?t-(l-1+x+l)%l:k+(l-1+x+l)%l][A?r-(-v+e)%e:p+(-v+e)%e];a[k-1][r+1]=f;f=a[y?t-(l-1+x+l)%l:k+(l-1+x+l)%l][A?r-(e-1-v+e)%e:p+(e-1-v+e)%e];a[k-1][p-1]=f;f=a[y?t-(x+l)%l:k+(x+l)%l][A?r-(v+e)%e:p+(v+e)%e];a[t+1][r+1]=f;f=a[y?t-(x+l)%l:k+(x+l)%l][A?r-(e-1+v+e)%e:
p+(e-1+v+e)%e];a[t+1][p-1]=f};q.prototype.iz=function(a){var c=this.Oa,d=this.te,e=this.Ea,l=this.Aa,k=this.ia?-1:0,p=Math.round((this.width-e)/2)+k;k=Math.round((this.height-l)/2)+k;var r=p+e-1,t=k+l-1,v;for(v=0;v<e;v+=1){var x=p+v;var A=r-v;var y=a[t][x];0!==y&&(a[k-1][A]=y,c[k-1>>4][A>>8]|=1<<(~(A>>4)&15),d[k-1>>4][A>>8]&=~(1<<(~(A>>4)&15)),15===(k-1&15)&&(c[(k-1>>4)+1][A>>8]|=1<<(~(A>>4)&15),d[(k-1>>4)+1][A>>8]&=~(1<<(~(A>>4)&15))));y=a[k][x];0!==y&&(a[t+1][A]=y,c[t+1>>4][A>>8]|=1<<(~(A>>4)&15),
d[t+1>>4][A>>8]&=~(1<<(~(A>>4)&15)),0===(t+1&15)&&(c[(t+1>>4)-1][A>>8]|=1<<(~(A>>4)&15),d[(t+1>>4)-1][A>>8]&=~(1<<(~(A>>4)&15))))}for(v=0;v<=l;v+=1)x=k+v,A=t-v,y=a[x][p],0!==y&&(a[A][r+1]=y,c[A>>4][r+1>>8]|=1<<(~(r+1>>4)&15),d[A>>4][r+1>>8]&=~(1<<(~(r+1>>4)&15)),0===(r+1&15)&&(c[A>>4][r-15>>8]|=1<<(~(r-15>>4)&15),d[A>>4][r-15>>8]&=~(1<<(~(r-15>>4)&15)))),y=a[x][r],0!==y&&(a[A][p-1]=y,c[A>>4][p-1>>8]|=1<<(~(p-1>>4)&15),d[A>>4][p-1>>8]&=~(1<<(~(p-1>>4)&15)),15===(p-1&15)&&(c[A>>4][p+15>>8]|=1<<(~(p+
15>>4)&15),d[A>>4][p+15>>8]&=~(1<<(~(p+15>>4)&15))));y=a[t][p];a[t+1][p-1]=y;y=a[t][r];a[t+1][r+1]=y;y=a[k][p];a[k-1][p-1]=y;y=a[k][r];a[k-1][r+1]=y};q.prototype.pK=function(a){var c=this.Oa,d=this.te,e=this.Ea,l=this.Aa,k=this.ia?-1:0,p=Math.round((this.width-e)/2)+k;k=Math.round((this.height-l)/2)+k;var r=p+e-1;l=k+l-1;var t;if(this.$u)for(t=0;t<e;t+=1){var v=k+t;var x=p+t;var A=a[v][p];0!==A&&(a[k-1][x]=A,c[k-1>>4][x>>8]|=1<<(~(x>>4)&15),d[k-1>>4][x>>8]&=~(1<<(~(x>>4)&15)),15===(k-1&15)&&(c[(k-
1>>4)+1][x>>8]|=1<<(~(x>>4)&15),d[(k-1>>4)+1][x>>8]&=~(1<<(~(x>>4)&15))));A=a[v][r];0!==A&&(a[l+1][x]=A,c[l+1>>4][x>>8]|=1<<(~(x>>4)&15),d[l+1>>4][x>>8]&=~(1<<(~(x>>4)&15)),0===(l+1&15)&&(c[(l+1>>4)-1][x>>8]|=1<<(~(x>>4)&15),d[(l+1>>4)-1][x>>8]&=~(1<<(~(x>>4)&15))));A=a[k][x];0!==A&&(a[v][p-1]=A,c[v>>4][p-1>>8]|=1<<(~(p-1>>4)&15),d[v>>4][p-1>>8]&=~(1<<(~(p-1>>4)&15)),15===(p-1&15)&&(c[v>>4][p+15>>8]|=1<<(~(p+15>>4)&15),d[v>>4][p+15>>8]&=~(1<<(~(p+15>>4)&15))));A=a[l][x];0!==A&&(a[v][r+1]=A,c[v>>4][r+
1>>8]|=1<<(~(r+1>>4)&15),d[v>>4][r+1>>8]&=~(1<<(~(r+1>>4)&15)),0===(r+1&15)&&(c[v>>4][r-15>>8]|=1<<(~(r-15>>4)&15),d[v>>4][r-15>>8]&=~(1<<(~(r-15>>4)&15))))}else for(t=0;t<e;t+=1)v=k+t,x=p+(e-t-1),A=a[v][r],0!==A&&(a[k-1][x]=A,c[k-1>>4][x>>8]|=1<<(~(x>>4)&15),d[k-1>>4][x>>8]&=~(1<<(~(x>>4)&15)),15===(k-1&15)&&(c[(k-1>>4)+1][x>>8]|=1<<(~(x>>4)&15),d[(k-1>>4)+1][x>>8]&=~(1<<(~(x>>4)&15)))),A=a[v][p],0!==A&&(a[l+1][x]=A,c[l+1>>4][x>>8]|=1<<(~(x>>4)&15),d[l+1>>4][x>>8]&=~(1<<(~(x>>4)&15)),0===(l+1&15)&&
(c[(l+1>>4)-1][x>>8]|=1<<(~(x>>4)&15),d[(l+1>>4)-1][x>>8]&=~(1<<(~(x>>4)&15)))),A=a[k][x],0!==A&&(a[v][r+1]=A,c[v>>4][p-1>>8]|=1<<(~(p-1>>4)&15),d[v>>4][p-1>>8]&=~(1<<(~(p-1>>4)&15)),0===(r+1&15)&&(c[v>>4][p+15>>8]|=1<<(~(p+15>>4)&15),d[v>>4][p+15>>8]&=~(1<<(~(p+15>>4)&15)),c[v>>4][r-15>>8]|=1<<(~(r-15>>4)&15),d[v>>4][r-15>>8]&=~(1<<(~(r-15>>4)&15)))),A=a[l][x],0!==A&&(a[v][p-1]=A,c[v>>4][r+1>>8]|=1<<(~(r+1>>4)&15),d[v>>4][r+1>>8]&=~(1<<(~(r+1>>4)&15)),15===(p+15&15)&&(c[v>>4][p+15>>8]|=1<<(~(p+15>>
4)&15),d[v>>4][p+15>>8]&=~(1<<(~(p+15>>4)&15))));A=a[l][p];a[l+1][p-1]=A;A=a[l][r];a[l+1][r+1]=A;A=a[k][p];a[k-1][p-1]=A;A=a[k][r];a[k-1][r+1]=A};q.prototype.Ov=function(){var a=this.Oa,c=this.Ea,d=this.Aa;var e=this.ia?-1:0;var l=Math.round((this.width-c)/2)+e,k=Math.round((this.height-d)/2)+e,p=l+c-1,r=k+d-1,t=this.vo,v=this.wo,x=this.M&&0<l&&p<this.width-1,A;if(0!==(this.counter&1)){e=this.cc;var y=this.wa}else e=this.kb,y=this.ka;0===this.Ea&&(l=0,p=this.width-1,c=this.width);0===this.Aa&&(k=
0,r=this.height-1,d=this.height);if(0!==this.Aa)for(A=0;A<c;A+=1){var D=l+A;var b=l+(A+t+c)%c;0!==(e[r][D>>4]&1<<(~D&15))&&(e[k-1][b>>4]|=1<<(~b&15),y[k-1>>4][b>>8]|=1<<(~(b>>4)&15),a[k-1>>4][b>>8]|=1<<(~(b>>4)&15),15===(k-1&15)&&(y[(k-1>>4)+1][b>>8]|=1<<(~(b>>4)&15),a[(k-1>>4)+1][b>>8]|=1<<(~(b>>4)&15)));b=l+(A-t+c)%c;0!==(e[k][D>>4]&1<<(~D&15))&&(e[r+1][b>>4]|=1<<(~b&15),y[r+1>>4][b>>8]|=1<<(~(b>>4)&15),a[r+1>>4][b>>8]|=1<<(~(b>>4)&15),0===(r+1&15)&&(y[(r+1>>4)-1][b>>8]|=1<<(~(b>>4)&15),a[(r+1>>
4)-1][b>>8]|=1<<(~(b>>4)&15)))}if(0!==this.Ea)for(A=0;A<d;A+=1)D=k+A,b=k+(A-v+d)%d,0!==(e[D][l>>4]&1<<(~l&15))&&(e[b][p+1>>4]|=1<<(~(p+1)&15),y[b>>4][p+1>>8]|=1<<(~(p+1>>4)&15),a[b>>4][p+1>>8]|=1<<(~(p+1>>4)&15),0===(p+1&15)&&(y[b>>4][p-15>>8]|=1<<(~(p-15>>4)&15),a[b>>4][p-15>>8]|=1<<(~(p-15>>4)&15))),x&&(l+=1,p+=1,0!==(e[D][l>>4]&1<<(~l&15))&&(e[b][p+1>>4]|=1<<(~(p+1)&15),y[b>>4][p+1>>8]|=1<<(~(p+1>>4)&15),a[b>>4][p+1>>8]|=1<<(~(p+1>>4)&15),0===(p+1&15)&&(y[b>>4][p-15>>8]|=1<<(~(p-15>>4)&15),a[b>>
4][p-15>>8]|=1<<(~(p-15>>4)&15))),--l,--p),b=k+(A+v+d)%d,0!==(e[D][p>>4]&1<<(~p&15))&&(e[b][l-1>>4]|=1<<(~(l-1)&15),y[b>>4][l-1>>8]|=1<<(~(l-1>>4)&15),a[b>>4][l-1>>8]|=1<<(~(l-1>>4)&15),15===(l-1&15)&&(y[b>>4][l+15>>8]|=1<<(~(l+15>>4)&15),a[b>>4][l+15>>8]|=1<<(~(l+15>>4)&15))),x&&(--l,--p,0!==(e[D][p>>4]&1<<(~p&15))&&(e[b][l-1>>4]|=1<<(~(l-1)&15),y[b>>4][l-1>>8]|=1<<(~(l-1>>4)&15),a[b>>4][l-1>>8]|=1<<(~(l-1>>4)&15),15===(l-1&15)&&(y[b>>4][l+15>>8]|=1<<(~(l+15>>4)&15),a[b>>4][l+15>>8]|=1<<(~(l+15>>
4)&15))),l+=1,p+=1);0!==this.Ea&&0!==this.Aa&&(D=l+(-t+c)%c,e[k-1][p+1>>4]=0!==(e[k+(d-1+v+d)%d][D>>4]&1<<(~D&15))?e[k-1][p+1>>4]|1<<(~(p+1)&15):e[k-1][p+1>>4]&~(1<<(~(p+1)&15)),D=l+(c-1-t+c)%c,e[k-1][l-1>>4]=0!==(e[k+(d-1-v+d)%d][D>>4]&1<<(~D&15))?e[k-1][l-1>>4]|1<<(~(l-1)&15):e[k-1][l-1>>4]&~(1<<(~(l-1)&15)),D=l+(t+c)%c,e[r+1][p+1>>4]=0!==(e[k+(v+d)%d][D>>4]&1<<(~D&15))?e[r+1][p+1>>4]|1<<(~(p+1)&15):e[r+1][p+1>>4]&~(1<<(~(p+1)&15)),D=l+(c-1+t+c)%c,e[r+1][l-1>>4]=0!==(e[k+(-v+d)%d][D>>4]&1<<(~D&
15))?e[r+1][l-1>>4]|1<<(~(l-1)&15):e[r+1][l-1>>4]&~(1<<(~(l-1)&15)),x&&(l+=1,p+=1,D=l+(-t+c)%c,e[k-1][p+1>>4]=0!==(e[k+(d-1+v+d)%d][D>>4]&1<<(~D&15))?e[k-1][p+1>>4]|1<<(~(p+1)&15):e[k-1][p+1>>4]&~(1<<(~(p+1)&15)),D=l+(c-1-t+c)%c,e[k-1][l-1>>4]=0!==(e[k+(d-1-v+d)%d][D>>4]&1<<(~D&15))?e[k-1][l-1>>4]|1<<(~(l-1)&15):e[k-1][l-1>>4]&~(1<<(~(l-1)&15)),D=l+(t+c)%c,e[r+1][p+1>>4]=0!==(e[k+(v+d)%d][D>>4]&1<<(~D&15))?e[r+1][p+1>>4]|1<<(~(p+1)&15):e[r+1][p+1>>4]&~(1<<(~(p+1)&15)),D=l+(c-1+t+c)%c,e[r+1][l-1>>
4]=0!==(e[k+(-v+d)%d][D>>4]&1<<(~D&15))?e[r+1][l-1>>4]|1<<(~(l-1)&15):e[r+1][l-1>>4]&~(1<<(~(l-1)&15)),l-=2,p-=2,D=l+(-t+c)%c,e[k-1][p+1>>4]=0!==(e[k+(d-1+v+d)%d][D>>4]&1<<(~D&15))?e[k-1][p+1>>4]|1<<(~(p+1)&15):e[k-1][p+1>>4]&~(1<<(~(p+1)&15)),D=l+(c-1-t+c)%c,e[k-1][l-1>>4]=0!==(e[k+(d-1-v+d)%d][D>>4]&1<<(~D&15))?e[k-1][l-1>>4]|1<<(~(l-1)&15):e[k-1][l-1>>4]&~(1<<(~(l-1)&15)),D=l+(t+c)%c,e[r+1][p+1>>4]=0!==(e[k+(v+d)%d][D>>4]&1<<(~D&15))?e[r+1][p+1>>4]|1<<(~(p+1)&15):e[r+1][p+1>>4]&~(1<<(~(p+1)&15)),
D=l+(c-1+t+c)%c,e[r+1][l-1>>4]=0!==(e[k+(-v+d)%d][D>>4]&1<<(~D&15))?e[r+1][l-1>>4]|1<<(~(l-1)&15):e[r+1][l-1>>4]&~(1<<(~(l-1)&15))))};q.prototype.cv=function(){var a=this.Oa,c=this.Ea,d=this.Aa;var e=this.ia?-1:0;var l=Math.round((this.width-c)/2)+e,k=Math.round((this.height-d)/2)+e,p=l+c-1,r=k+d-1,t=this.vo,v=this.wo,x=this.Zu,A=this.Wz,y;if(0!==(this.counter&1)){e=this.cc;var D=this.wa}else e=this.kb,D=this.ka;for(y=0;y<c;y+=1){var b=l+y;var m=x?p-(y+t+c)%c:l+(y+t+c)%c;0!==(e[r][b>>4]&1<<(~b&15))&&
(e[k-1][m>>4]|=1<<(~m&15),D[k-1>>4][m>>8]|=1<<(~(m>>4)&15),a[k-1>>4][m>>8]|=1<<(~(m>>4)&15),15===(k-1&15)&&(D[(k-1>>4)+1][m>>8]|=1<<(~(m>>4)&15),a[(k-1>>4)+1][m>>8]|=1<<(~(m>>4)&15)));m=x?p-(y-t+c)%c:l+(y-t+c)%c;0!==(e[k][b>>4]&1<<(~b&15))&&(e[r+1][m>>4]|=1<<(~m&15),D[r+1>>4][m>>8]|=1<<(~(m>>4)&15),a[r+1>>4][m>>8]|=1<<(~(m>>4)&15),0===(r+1&15)&&(D[(r+1>>4)-1][m>>8]|=1<<(~(m>>4)&15),a[(r+1>>4)-1][m>>8]|=1<<(~(m>>4)&15)))}for(y=0;y<d;y+=1)b=k+y,m=A?r-(y-v+d)%d:k+(y-v+d)%d,0!==(e[b][l>>4]&1<<(~l&15))&&
(e[m][p+1>>4]|=1<<(~(p+1)&15),D[m>>4][p+1>>8]|=1<<(~(p+1>>4)&15),a[m>>4][p+1>>8]|=1<<(~(p+1>>4)&15),0===(p+1&15)&&(D[m>>4][p-15>>8]|=1<<(~(p-15>>4)&15),a[m>>4][p-15>>8]|=1<<(~(p-15>>4)&15))),m=A?r-(y+v+d)%d:k+(y+v+d)%d,0!==(e[b][p>>4]&1<<(~p&15))&&(e[m][l-1>>4]|=1<<(~(l-1)&15),D[m>>4][l-1>>8]|=1<<(~(l-1>>4)&15),a[m>>4][l-1>>8]|=1<<(~(l-1>>4)&15),15===(l-1&15)&&(D[m>>4][l+15>>8]|=1<<(~(l+15>>4)&15),a[m>>4][l+15>>8]|=1<<(~(l+15>>4)&15)));b=x?p-(-t+c)%c:l+(-t+c)%c;0!==(e[A?r-(d-1+v+d)%d:k+(d-1+v+d)%
d][b>>4]&1<<(~b&15))&&(e[k-1][p+1>>4]|=1<<(~(p+1)&15));b=x?p-(c-1-t+c)%c:l+(c-1-t+c)%c;0!==(e[A?r-(d-1+v+d)%d:k+(d-1+v+d)%d][b>>4]&1<<(~b&15))&&(e[k-1][l-1>>4]|=1<<(~(l-1)&15));b=x?p-(t+c)%c:l+(t+c)%c;0!==(e[A?r-(v+d)%d:k+(v+d)%d][b>>4]&1<<(~b&15))&&(e[r+1][p+1>>4]|=1<<(~(p+1)&15));b=x?p-(c-1+t+c)%c:l+(c-1+t+c)%c;0!==(e[A?r-(v+d)%d:k+(v+d)%d][b>>4]&1<<(~b&15))&&(e[r+1][l-1>>4]|=1<<(~(l-1)&15))};q.prototype.Yu=function(){var a=this.Oa,c=this.Ea,d=this.Aa;var e=this.ia?-1:0;var l=Math.round((this.width-
c)/2)+e,k=Math.round((this.height-d)/2)+e,p=l+c-1,r=k+d-1,t;if(0!==(this.counter&1)){e=this.cc;var v=this.wa}else e=this.kb,v=this.ka;for(t=0;t<c;t+=1){var x=l+t;var A=p-t;0!==(e[r][x>>4]&1<<(~x&15))&&(e[k-1][A>>4]|=1<<(~A&15),v[k-1>>4][A>>8]|=1<<(~(A>>4)&15),a[k-1>>4][A>>8]|=1<<(~(A>>4)&15),15===(k-1&15)&&(v[(k-1>>4)+1][A>>8]|=1<<(~(A>>4)&15),a[(k-1>>4)+1][A>>8]|=1<<(~(A>>4)&15)));0!==(e[k][x>>4]&1<<(~x&15))&&(e[r+1][A>>4]|=1<<(~A&15),v[r+1>>4][A>>8]|=1<<(~(A>>4)&15),a[r+1>>4][A>>8]|=1<<(~(A>>4)&
15),0===(r+1&15)&&(v[(r+1>>4)-1][A>>8]|=1<<(~(A>>4)&15),a[(r+1>>4)-1][A>>8]|=1<<(~(A>>4)&15)))}for(t=0;t<=d;t+=1)x=k+t,A=r-t,0!==(e[x][l>>4]&1<<(~l&15))&&(e[A][p+1>>4]|=1<<(~(p+1)&15),v[A>>4][p+1>>8]|=1<<(~(p+1>>4)&15),a[A>>4][p+1>>8]|=1<<(~(p+1>>4)&15),0===(p+1&15)&&(v[A>>4][p-15>>8]|=1<<(~(p-15>>4)&15),a[A>>4][p-15>>8]|=1<<(~(p-15>>4)&15))),0!==(e[x][p>>4]&1<<(~p&15))&&(e[A][l-1>>4]|=1<<(~(l-1)&15),v[A>>4][l-1>>8]|=1<<(~(l-1>>4)&15),a[A>>4][l-1>>8]|=1<<(~(l-1>>4)&15),15===(l-1&15)&&(v[A>>4][l+15>>
8]|=1<<(~(l+15>>4)&15),a[A>>4][l+15>>8]|=1<<(~(l+15>>4)&15)));0!==(e[r][l>>4]&1<<(~l&15))&&(e[r+1][l-1>>4]|=1<<(~(l-1)&15));0!==(e[r][p>>4]&1<<(~p&15))&&(e[r+1][p+1>>4]|=1<<(~(p+1)&15));0!==(e[k][l>>4]&1<<(~l&15))&&(e[k-1][l-1>>4]|=1<<(~(l-1)&15));0!==(e[k][p>>4]&1<<(~p&15))&&(e[k-1][p+1>>4]|=1<<(~(p+1)&15))};q.prototype.Ev=function(){var a=this.Oa,c=this.Ea;var d=this.Aa;var e=this.ia?-1:0,l=Math.round((this.width-c)/2)+e;e=Math.round((this.height-d)/2)+e;var k=l+c-1,p=e+d-1,r;if(0!==(this.counter&
1)){d=this.cc;var t=this.wa}else d=this.kb,t=this.ka;if(this.$u)for(r=0;r<c;r+=1){var v=e+r;var x=l+r;0!==(d[v][l>>4]&1<<(~l&15))&&(d[e-1][x>>4]|=1<<(~x&15),t[e-1>>4][x>>8]|=1<<(~(x>>4)&15),a[e-1>>4][x>>8]|=1<<(~(x>>4)&15),15===(e-1&15)&&(t[(e-1>>4)+1][x>>8]|=1<<(~(x>>4)&15),a[(e-1>>4)+1][x>>8]|=1<<(~(x>>4)&15)));0!==(d[v][k>>4]&1<<(~k&15))&&(d[p+1][x>>4]|=1<<(~x&15),t[p+1>>4][x>>8]|=1<<(~(x>>4)&15),a[p+1>>4][x>>8]|=1<<(~(x>>4)&15),0===(p+1&15)&&(t[(p+1>>4)-1][x>>8]|=1<<(~(x>>4)&15),a[(p+1>>4)-1][x>>
8]|=1<<(~(x>>4)&15)));0!==(d[e][x>>4]&1<<(~x&15))&&(d[v][l-1>>4]|=1<<(~(l-1)&15),t[v>>4][l-1>>8]|=1<<(~(l-1>>4)&15),a[v>>4][l-1>>8]|=1<<(~(l-1>>4)&15),15===(l-1&15)&&(t[v>>4][l+15>>8]|=1<<(~(l+15>>4)&15),a[v>>4][l+15>>8]|=1<<(~(l+15>>4)&15)));0!==(d[p][x>>4]&1<<(~x&15))&&(d[v][k+1>>4]|=1<<(~(k+1)&15),t[v>>4][k+1>>8]|=1<<(~(k+1>>4)&15),a[v>>4][k+1>>8]|=1<<(~(k+1>>4)&15),0===(k+1&15)&&(t[v>>4][k-15>>8]|=1<<(~(k-15>>4)&15),a[v>>4][k-15>>8]|=1<<(~(k-15>>4)&15)))}else for(r=0;r<c;r+=1)v=e+r,x=l+(c-r-1),
0!==(d[v][k>>4]&1<<(~k&15))&&(d[e-1][x>>4]|=1<<(~x&15),t[e-1>>4][x>>8]|=1<<(~(x>>4)&15),a[e-1>>4][x>>8]|=1<<(~(x>>4)&15),15===(e-1&15)&&(t[(e-1>>4)+1][x>>8]|=1<<(~(x>>4)&15),a[(e-1>>4)+1][x>>8]|=1<<(~(x>>4)&15))),0!==(d[v][l>>4]&1<<(~l&15))&&(d[p+1][x>>4]|=1<<(~x&15),t[p+1>>4][x>>8]|=1<<(~(x>>4)&15),a[p+1>>4][x>>8]|=1<<(~(x>>4)&15),0===(p+1&15)&&(t[(p+1>>4)-1][x>>8]|=1<<(~(x>>4)&15),a[(p+1>>4)-1][x>>8]|=1<<(~(x>>4)&15))),0!==(d[e][x>>4]&1<<(~x&15))&&(d[v][k+1>>4]|=1<<(~(k+1)&15),t[v>>4][k+1>>8]|=
1<<(~(k+1>>4)&15),a[v>>4][k+1>>8]|=1<<(~(k+1>>4)&15),15===(k+1&15)&&(t[v>>4][k-15>>8]|=1<<(~(k-15>>4)&15),a[v>>4][k-15>>8]|=1<<(~(k-15>>4)&15))),0!==(d[p][x>>4]&1<<(~x&15))&&(d[v][l-1>>4]|=1<<(~(l-1)&15),t[v>>4][l-1>>8]|=1<<(~(l-1>>4)&15),a[v>>4][l-1>>8]|=1<<(~(l-1>>4)&15),0===(l-1&15)&&(t[v>>4][l+15>>8]|=1<<(~(l+15>>4)&15),a[v>>4][l+15>>8]|=1<<(~(l+15>>4)&15)));0!==(d[p][l>>4]&1<<(~l&15))&&(d[p+1][l-1>>4]|=1<<(~(l-1)&15));0!==(d[p][k>>4]&1<<(~k&15))&&(d[p+1][k+1>>4]|=1<<(~(k+1)&15));0!==(d[e][l>>
4]&1<<(~l&15))&&(d[e-1][l-1>>4]|=1<<(~(l-1)&15));0!==(d[e][k>>4]&1<<(~k&15))&&(d[e-1][k+1>>4]|=1<<(~(k+1)&15))};q.prototype.ez=function(a){var c,d=1;0!==this.sa&&(d=2);this.M&&(d+=1);for(c=1;c<=d+1;c+=1)this.wD(c,a)};q.prototype.gz=function(){var a=this.U;if(this.L||this.ca||this.O)0!==(this.counter&1)&&(a=this.Ga),this.KA(a,0);this.hE();switch(this.sa){case 1:this.L||this.ca||this.O?(this.qK(a),this.O&&this.Ov()):this.Ov();break;case 2:this.L||this.ca||this.O?(this.kz(a),this.O&&this.cv()):this.cv();
break;case 3:this.L||this.ca||this.O?(this.iz(a),this.O&&this.Yu()):this.Yu();break;case 4:this.L||this.ca||this.O?(this.pK(a),this.O&&this.Ev()):this.Ev()}this.hE()};q.prototype.He=function(a,c,d,e,l){this.za?(this.X=1,this.counter+=1):this.oK(a,c,d,e,l)};q.prototype.oK=function(a,c,d,e,l){var k=!1,p=this.N,r=this.me;if(!d||e)a=!0;this.counter===this.bp-1&&(k=!0,c||(a=!0));-1===this.sa||this.oa||this.gz();this.Ef&&this.hN();this.X&&(this.ca?null===this.re?this.MF():this.dE():this.L?this.KD():this.oa?
this.pa.WN(this.counter):a&&2>this.i||this.O?this.ia?this.hC():this.M?this.$y():this.Yy():this.ia?this.tC():this.M?this.xD():this.gD());this.counter+=1;if(this.ia||this.L)this.zd?--this.lf:this.lf+=1,this.lf>this.ck&&(this.ck=this.lf);-1===this.i||this.oa||this.L||this.ca||this.O||this.VB();this.O&&(this.Ny(),0<this.ga&&(this.X=1));this.Ef&&this.BM();-1===this.sa||this.oa||this.ez(a);if(this.width===this.ja||this.height===this.ja)if(d=this.oa?2*this.pa.Ji:16,p.o<=d||p.u>=this.ja-d||p.s<=d||p.v>=this.ja-
d)this.oa?(this.BE(),0===this.ga&&(this.X=0)):this.bE();k&&(this.bp+=n.au,c||(this.he(),this.Vt(l)));p.o<r.o&&(r.o=p.o);p.u>r.u&&(r.u=p.u);p.s<r.s&&(r.s=p.s);p.v>r.v&&(r.v=p.v);this.counter<n.fI&&(a?(this.tw(this.ga,this.sb,this.$a),this.ga>this.hd&&(this.hd=this.ga),this.sb>this.hd&&(this.hd=this.sb),this.$a>this.hd&&(this.hd=this.$a)):this.tw(0,0,0))};q.prototype.tw=function(a,c,d){var e=this.counter>>n.jk,l=this.counter&(1<<n.jk)-1;this.wc&&0<this.wc.length&&(this.counter>=this.ai&&(Array.Yp(this.wc,
"Life.popGraphData"),Array.Yp(this.Qh,"Life.birthGraphData"),Array.Yp(this.Wh,"Life.deathGraphData"),this.ai+=1<<n.jk),this.wc[e][l]=a,this.Qh[e][l]=c,this.Wh[e][l]=d)};q.prototype.Fm=function(a,c,d,e,l,k,p,r){var t,v=1,x,A=(1<<n.jk)-1,y=n.fI;this.counter>d&&(v=d/this.counter);if(r){a.strokeStyle=c;a.beginPath();var D=e-p[0]/this.hd*e|0;a.moveTo(0+k+.5,D+l+k+.5)}else a.fillStyle=c;p.length<<n.jk<y&&(y=p.length<<n.jk);var b=0;for(c=t=1;c<d;c+=1){if(t<y){var m=t>>n.jk;D=t&A;var f=x=p[m][D];b+=v;for(t+=
1;0===(b|0)&&t<y;)m=t>>n.jk,D=t&A,m=p[m][D],t+=1,m>f&&(f=m),m<x&&(x=m),b+=v;--b}else f=x=0;c<=this.counter&&(m=0+k+1+c,D=e-x/this.hd*e|0,r?(a.lineTo(m+.5,D+l+k+.5),x!==f&&(D=e-f/this.hd*e|0,a.lineTo(m+.5,D+l+k+.5))):0<x&&0<f&&(x!==f&&(D=e-f/this.hd*e|0),a.fillRect(m+.5,D+l+k+.5,1,1)))}r&&a.stroke()};q.prototype.Mv=function(a,c,d,e,l){var k=this.context,p=l.m.$d;l=40*l.m.Uh;var r=40*p,t=this.J-r,v=this.I-l-r,x="rgb("+this.Sj[0]+","+this.Sj[1]+","+this.Sj[2]+")",A="rgb("+this.Rj[0]+","+this.Rj[1]+","+
this.Rj[2]+")",y="rgb("+this.Qj[0]+","+this.Qj[1]+","+this.Qj[2]+")",D="rgb("+this.Tj[0]+","+this.Tj[1]+","+this.Tj[2]+")",b="rgb("+this.Uj[0]+","+this.Uj[1]+","+this.Uj[2]+")";if(this.wc&&0<this.wc.length){d?(v=this.I,l=0):e&&(v=this.I,l=0,t=this.J,r=0);var m=t-r;k.save();k.fillStyle=x;k.globalAlpha=c;k.fillRect(0,l,t+r,v);k.globalAlpha=1;d&&(v-=r);if(!e){k.font=(16*p|0)+"px Arial";k.textAlign="center";k.fillStyle="black";for(c=2;0<=c;c-=2)k.save(),k.translate(this.J/2,v+r/2-(6*p|0)),k.fillText("Generation",
c,c),k.restore(),k.save(),k.translate(r/2+(6*p|0),this.I/2),k.rotate(-90*Math.PI/180),320>this.I?k.fillText("Pop",c,c):k.fillText("Population",c,c),k.restore(),k.fillStyle=A;k.fillStyle="black";for(c=2;0<=c;c-=2)k.save(),k.translate(r-r/2+(6*p|0),l+r),k.rotate(-90*Math.PI/180),k.fillText(String(this.hd),c,c),k.restore(),k.save(),k.translate(r-r/2+(6*p|0),v),k.rotate(-90*Math.PI/180),k.fillText("0",c,c),k.restore(),k.save(),k.translate(r,v+r/2-(6*p|0)),k.fillText("0",c,c),k.restore(),k.save(),k.translate(t,
v+r/2-(6*p|0)),k.fillText(String(this.counter>m?this.counter:m|0),c,c),k.restore(),k.fillStyle=A}-1===this.sa&&(this.Fm(k,b,m,v-l-r,l,r,this.Wh,a),this.Fm(k,D,m,v-l-r,l,r,this.Qh,a));this.Fm(k,y,m,v-l-r,l,r,this.wc,a);k.strokeStyle=A;k.lineWidth=1;k.beginPath();k.moveTo(r+.5,l+r+.5);k.lineTo(r+.5,v+.5);k.lineTo(t+.5,v+.5);k.lineTo(t+.5,v+2.5);k.moveTo(r+.5,v+.5);k.lineTo(r+.5,v+2.5);k.moveTo(r+.5,v+.5);k.lineTo(r+.5-2,v+.5);k.moveTo(r+.5,l+r+.5);k.lineTo(r+.5-2,l+r+.5);k.stroke();k.restore()}};q.prototype.$I=
function(){var a=(1<<n.jk)-1,c;if(this.wc&&0<this.wc.length){for(c=0;c<this.ai;c+=1){var d=c>>n.jk;var e=c&a;this.wc[d][e]=0;this.Qh[d][e]=0;this.Wh[d][e]=0}this.wc[0][0]=this.ga}this.hd=this.ga};q.prototype.Kx=function(){var a=this.N,c=this.me;c.o=a.o;c.u=a.u;c.v=a.v;c.s=a.s};q.prototype.hN=function(){var a,c,d,e,l=this.Ef,k=this.tk,p=this.uj,r=this.Xg,t=this.va,v=this.ra>>4,x;var A=0;var y=0!==(this.counter&1)?this.cc:this.kb;for(a=0;a<t;a+=1){var D=0;var b=r[a];for(c=0;c<v;c+=1)if(x=b[c])for(d=
15;0<=d;--d){if(0!==(x&1<<d))for(e=A;e<A+16;e+=1)k[e][D]=(y[e][D]|p[e][D])&l[e][D];D+=1}else D+=16;A+=16}};q.prototype.BM=function(){var a,c,d,e,l,k=this.xg,p=this.tk,r=this.Xg,t=this.va,v=this.ra>>4,x;var A=0!==(this.counter&1)?this.cc:this.kb;for(a=l=0;a<t;a+=1){var y=0;var D=r[a];for(c=0;c<v;c+=1)if(x=D[c])for(d=15;0<=d;--d){if(0!==(x&1<<d))for(e=l;e<l+16;e+=1){var b=A[e][y];var m=b&~p[e][y];m!==b&&(A[e][y]=m,b=k[b]-k[m],this.ga-=b,this.$a+=b)}y+=1}else y+=16;l+=16}};q.prototype.Em=function(a,
c,d){var e,l,k=this.Cj,p=0,r=this.Pe[p],t=this.Ne[p],v=0,x=n.Fx,A=x-1,y=0,D=x,b=this.Rt,m=this.Pb,f=this.Nb,u;r[v]=a;t[v]=c;v+=1;d[c][a>>4]&=~(1<<(~a&15));for(u=1;0<v;)for(--v,v<y&&(--p,y-=x,D-=x,r=this.Pe[p],t=this.Ne[p]),a=r[v&A],c=t[v&A],l=c-b;l<=c+b;){for(e=a-b;e<=a+b;)e===(e&m)&&l===(l&f)&&0!==(d[l][e>>4]&1<<(~e&15))&&(d[l][e>>4]&=~(1<<(~e&15)),u+=1,v===D&&(p+=1,y+=x,D+=x,p>k&&(this.Pe[p]=this.B.T(Int32,x,"Life.boundaryX"+p),this.Ne[p]=this.B.T(Int32,x,"Life.boundaryY"+p),this.Cj=k+=1),r=this.Pe[p],
t=this.Ne[p]),r[v&A]=e,t[v&A]=l,v+=1),e+=1;l+=1}this.ga-=u;this.$a+=u};q.prototype.Sv=function(a,c,d){for(var e=d[c][a],l=15;0<=l;)0!==(e&1<<l)&&this.Em((a<<4)+(~l&15),c,d),--l};q.prototype.sK=function(a,c){this.Em(0,a,c)};q.prototype.tK=function(a,c,d){this.Em((a<<4)+15,c,d)};q.prototype.bE=function(){var a;var c=0!==(this.counter&1)?this.cc:this.kb;var d=c.length;var e=c[0].length;var l=c[0];var k=c[d-1];for(a=0;a<e;)l[a]&&this.Sv(a,0,c),k[a]&&this.Sv(a,d-1,c),a+=1;for(a=0;a<d;)0!==(c[a][0]&32768)&&
this.sK(a,c),0!==(c[a][e-1]&1)&&this.tK(e-1,a,c),a+=1};q.prototype.Fk=function(a,c){var d,e=this.U,l,k=this.Cj,p=0,r=this.Pe[p],t=this.Ne[p],v=0,x=n.Fx,A=x-1,y=0,D=x,b=this.Pb,m=this.Nb,f=2<this.i?1:n.Qa,u=2<this.i?0:n.mf,z=this.Rt,B;r[v]=a;t[v]=c;v+=1;e[c][a]=0;for(B=1;0<v;)for(--v,v<y&&(--p,y-=x,D-=x,r=this.Pe[p],t=this.Ne[p]),a=r[v&A],c=t[v&A],d=c-z;d<=c+z;){var C=a-z;for(l=e[d];C<=a+z;)C===(C&b)&&d===(d&m)&&l[C]>=f&&(l[C]=u,B+=1,v===D&&(p+=1,y+=x,D+=x,p>k&&(this.Pe[p]=this.B.T(Int32,x,"Life.boundaryX"+
p),this.Ne[p]=this.B.T(Int32,x,"Life.boundaryY"+p),this.Cj=k+=1),r=this.Pe[p],t=this.Ne[p]),r[v&A]=C,t[v&A]=d,v+=1),C+=1;d+=1}this.ga-=B;this.$a+=B};q.prototype.BE=function(){var a=this.U,c=a.length,d=a[0].length,e=this.N,l=e.o,k=e.u,p=e.s,r=e.v,t=2*this.pa.Ji+1,v=2*this.pa.uh+1,x=2<this.i?1:n.Qa,A,y;if(c-r<=v){for(y=c-v;y<=r;y+=1){var D=a[y];for(A=l;A<=k;A+=1)D[A]>=x&&this.Fk(A,y)}e.v=c-v}if(p<=v){for(y=p;y<=v;y+=1)for(D=a[y],A=l;A<=k;A+=1)D[A]>=x&&this.Fk(A,y);e.s=v}if(l<=t){for(y=p;y<=r;y+=1)for(D=
a[y],A=l;A<=t;A+=1)D[A]>=x&&this.Fk(A,y);e.o=t}if(d-k<=t){for(y=p;y<=r;y+=1)for(D=a[y],A=d-t;A<=k;A+=1)D[A]>=x&&this.Fk(A,y);e.u=d-t}};q.prototype.$y=function(){var a=this.Yh,c,d,e,l,k,p=this.na,r,t=this.height,v=this.width,x=v>>4,A=this.N,y=t,D=-1,b=v,m=-1,f=this.va,u=this.ra>>4,z=this.Bd;var B=0;var C=f,E=this.xg,G=0,F=0,I=0;if(0!==(this.counter&1)){var L=this.cc;var M=this.kb;var H=this.wa;var K=this.ka;this.Lb&&(a=this.Si)}else L=this.kb,M=this.cc,H=this.ka,K=this.wa;p.fill(0);0>B&&(B=0);C>f&&
(C=f);var J=B<<4;var S=J+16;K.Ha.fill(0);for(d=B;d<C;d+=1){var pa=0;var oa=H[d];var O=K[d];var ba=0<d?K[d-1]:z;var R=d<f-1?K[d+1]:z;for(e=0;e<u;e+=1)if(l=oa[e]){var Z=O[e];var fa=ba[e];var ka=R[e];for(c=15;0<=c;--c){if(0!==(l&1<<c)){var aa=r=0;var ha=J;var Y=0===ha?this.Lf:L[ha-1];var ra=L[ha];B=L[ha+1];var la=k=ra[pa];Y=Y[pa-1]<<18|Y[pa]<<2|Y[pa+1]>>14;var U=ra[pa-1]<<18|k<<2|ra[pa+1]>>14;var P=B[pa-1]<<18|B[pa]<<2|B[pa+1]>>14;var X=a[Y>>7&7936|P>>11&224|U>>15&31]<<15;X|=a[P>>6&7936|Y>>10&224|U>>
14&31]<<14;X|=a[Y>>5&7936|P>>9&224|U>>13&31]<<13;X|=a[P>>4&7936|Y>>8&224|U>>12&31]<<12;X|=a[Y>>3&7936|P>>7&224|U>>11&31]<<11;X|=a[P>>2&7936|Y>>6&224|U>>10&31]<<10;X|=a[Y>>1&7936|P>>5&224|U>>9&31]<<9;X|=a[P>>0&7936|Y>>4&224|U>>8&31]<<8;X|=a[Y<<1&7936|P>>3&224|U>>7&31]<<7;X|=a[P<<2&7936|Y>>2&224|U>>6&31]<<6;X|=a[Y<<3&7936|P>>1&224|U>>5&31]<<5;X|=a[P<<4&7936|Y>>0&224|U>>4&31]<<4;X|=a[Y<<5&7936|P<<1&224|U>>3&31]<<3;X|=a[P<<6&7936|Y<<2&224|U>>2&31]<<2;X|=a[Y<<7&7936|P<<3&224|U>>1&31]<<1;X|=a[P<<8&7936|
Y<<4&224|U>>0&31]<<0;M[ha][pa]=X;G+=E[X];F+=E[X&~k];I+=E[k&~X];X&&(r|=X,ha<y&&(y=ha),ha>D&&(D=ha),0!==(X&49152)&&(aa|=n.ac),0!==(X&3)&&(aa|=n.bc),aa|=n.Wb);for(ha+=1;ha<S-1;){k=B[pa];la|=k;B=L[ha+1];Y=U;U=P;P=B[pa-1]<<18|B[pa]<<2|B[pa+1]>>14;0!==(ha&1)&&(ra=Y,Y=P,P=ra);X=a[Y>>7&7936|P>>11&224|U>>15&31]<<15;X|=a[P>>6&7936|Y>>10&224|U>>14&31]<<14;X|=a[Y>>5&7936|P>>9&224|U>>13&31]<<13;X|=a[P>>4&7936|Y>>8&224|U>>12&31]<<12;X|=a[Y>>3&7936|P>>7&224|U>>11&31]<<11;X|=a[P>>2&7936|Y>>6&224|U>>10&31]<<10;X|=
a[Y>>1&7936|P>>5&224|U>>9&31]<<9;X|=a[P>>0&7936|Y>>4&224|U>>8&31]<<8;X|=a[Y<<1&7936|P>>3&224|U>>7&31]<<7;X|=a[P<<2&7936|Y>>2&224|U>>6&31]<<6;X|=a[Y<<3&7936|P>>1&224|U>>5&31]<<5;X|=a[P<<4&7936|Y>>0&224|U>>4&31]<<4;X|=a[Y<<5&7936|P<<1&224|U>>3&31]<<3;X|=a[P<<6&7936|Y<<2&224|U>>2&31]<<2;X|=a[Y<<7&7936|P<<3&224|U>>1&31]<<1;X|=a[P<<8&7936|Y<<4&224|U>>0&31]<<0;G+=E[X];F+=E[X&~k];I+=E[k&~X];0!==(ha&1)&&(P=ra=Y);if(M[ha][pa]=X)r|=X,ha<y&&(y=ha),ha>D&&(D=ha);ha+=1}k=B[pa];la|=k;B=ha===this.height-1?this.Lf:
L[ha+1];Y=U;U=P;P=B[pa-1]<<18|B[pa]<<2|B[pa+1]>>14;0!==(ha&1)&&(ra=Y,Y=P,P=ra);X=a[Y>>7&7936|P>>11&224|U>>15&31]<<15;X|=a[P>>6&7936|Y>>10&224|U>>14&31]<<14;X|=a[Y>>5&7936|P>>9&224|U>>13&31]<<13;X|=a[P>>4&7936|Y>>8&224|U>>12&31]<<12;X|=a[Y>>3&7936|P>>7&224|U>>11&31]<<11;X|=a[P>>2&7936|Y>>6&224|U>>10&31]<<10;X|=a[Y>>1&7936|P>>5&224|U>>9&31]<<9;X|=a[P>>0&7936|Y>>4&224|U>>8&31]<<8;X|=a[Y<<1&7936|P>>3&224|U>>7&31]<<7;X|=a[P<<2&7936|Y>>2&224|U>>6&31]<<6;X|=a[Y<<3&7936|P>>1&224|U>>5&31]<<5;X|=a[P<<4&7936|
Y>>0&224|U>>4&31]<<4;X|=a[Y<<5&7936|P<<1&224|U>>3&31]<<3;X|=a[P<<6&7936|Y<<2&224|U>>2&31]<<2;X|=a[Y<<7&7936|P<<3&224|U>>1&31]<<1;X|=a[P<<8&7936|Y<<4&224|U>>0&31]<<0;G+=E[X];F+=E[X&~k];I+=E[k&~X];if(M[ha][pa]=X)r|=X,ha<y&&(y=ha),ha>D&&(D=ha),0!==(X&49152)&&(aa|=n.hc),0!==(X&3)&&(aa|=n.Cb),aa|=n.Db;r&&(0!==(r&49152)&&(aa|=n.Yb),0!==(r&3)&&(aa|=n.ob));p[pa]|=r;if(r||la)Z|=1<<c,aa&&(0!==(aa&n.Yb)&&(15>c?Z|=1<<c+1:0<e&&0<pa&&(O[e-1]|=1)),0!==(aa&n.ob)&&(0<c?Z|=1<<c-1:e<u-1&&pa<x-1&&(O[e+1]|=32768)),0!==
(aa&n.Wb)&&(fa|=1<<c),0!==(aa&n.Db)&&(ka|=1<<c),0!==(aa&n.ac)&&(15>c?fa|=1<<c+1:0<e&&0<pa&&(ba[e-1]|=1)),0!==(aa&n.bc)&&(0<c?fa|=1<<c-1:e<u-1&&pa<x-1&&(ba[e+1]|=32768)),0!==(aa&n.hc)&&(15>c?ka|=1<<c+1:0<e&&0<pa&&(R[e-1]|=1)),0!==(aa&n.Cb)&&(0<c?ka|=1<<c-1:e<u-1&&pa<x-1&&(R[e+1]|=32768)))}pa+=1}O[e]|=Z;0<d&&(ba[e]|=fa);d<f-1&&(R[e]|=ka)}else pa+=16;J+=16;S+=16}for(e=0;e<x;e+=1)p[e]&&(e<b&&(b=e),e>m&&(m=e));b=(b<<4)+this.G(p[b]);m=(m<<4)+this.Y(p[m]);0>D&&(D=t-1);y>=t&&(y=0);b>=v&&(b=0);0>m&&(m=v-1);
D>t-1&&(D=t-1);0>y&&(y=0);0>b&&(b=0);m>v-1&&(m=v-1);A.v=D;A.s=y;A.o=b;A.u=m;z.fill(0);this.ga=G;this.sb=F;this.$a=I};q.prototype.hC=function(){var a=this.de,c,d,e,l,k=this.na,p,r=this.height,t=this.width,v=t>>4,x=this.N,A=r,y=-1,D=t,b=-1,m=this.va,f=this.ra>>4,u=this.Bd,z=this.xg,B=0,C=0,E=0,G=this.counter&1;this.Ad&&(this.zd=!this.zd,this.Ad=!1);if(0!==G){var F=this.cc;var I=this.kb;var L=this.wa;var M=this.ka;this.zd&&(a=this.cd)}else F=this.kb,I=this.cc,L=this.ka,M=this.wa,this.Lb&&(a=this.wf),
this.zd&&(a=this.Lb?this.ee:this.cd);this.zd&&(G=1-G);k.fill(0);var H=1-G;var K=H+16;M.Ha.fill(0);for(d=0;d<L.length;d+=1){var J=0;var S=L[d];var pa=M[d];var oa=0<d?M[d-1]:u;var O=d<m-1?M[d+1]:u;for(e=0;e<f;e+=1)if(l=S[e]){var ba=pa[e];var R=oa[e];var Z=O[e];for(c=15;0<=c;--c){var fa=0===c&&e===f-1?!0:!1;if(0!==(l&1<<c)){var ka=p=0;if(0!==G){var aa=H;var ha=F[aa][J];var Y=F[aa+1][J];var ra=ha|Y;var la=a[ha&65280|Y>>8];var U=la&65280;var P=(la&255)<<8;la=a[(ha&255)<<8|Y&255];U|=la>>8;P|=la&255;I[aa][J]=
U;I[aa+1][J]=P;B+=z[U];C+=z[U&~ha];E+=z[ha&~U];B+=z[P];C+=z[P&~Y];E+=z[Y&~P];if(la=U|P)p|=la,U&&(aa<A&&(A=aa),aa>y&&(y=aa)),P&&(aa+1<A&&(A=aa+1),aa+1>y&&(y=aa+1)),0!==(la&49152)&&(ka|=n.ac),0!==(la&3)&&(ka|=n.bc),ka|=n.Wb;for(aa+=2;aa<K-2;){ha=F[aa][J];Y=F[aa+1][J];ra|=ha|Y;la=a[ha&65280|Y>>8];U=la&65280;P=(la&255)<<8;la=a[(ha&255)<<8|Y&255];U|=la>>8;P|=la&255;I[aa][J]=U;I[aa+1][J]=P;B+=z[U];C+=z[U&~ha];E+=z[ha&~U];B+=z[P];C+=z[P&~Y];E+=z[Y&~P];if(la=U|P)p|=la,U&&(aa<A&&(A=aa),aa>y&&(y=aa)),P&&(aa+
1<A&&(A=aa+1),aa+1>y&&(y=aa+1));aa+=2}ha=F[aa][J];Y=F[aa+1][J];ra|=ha|Y;la=a[ha&65280|Y>>8];U=la&65280;P=(la&255)<<8;la=a[(ha&255)<<8|Y&255];U|=la>>8;P|=la&255;I[aa][J]=U;I[aa+1][J]=P;B+=z[U];C+=z[U&~ha];E+=z[ha&~U];B+=z[P];C+=z[P&~Y];E+=z[Y&~P];if(la=U|P)p|=la,U&&(aa<A&&(A=aa),aa>y&&(y=aa)),P&&(aa+1<A&&(A=aa+1),aa+1>y&&(y=aa+1)),la&&(0!==(la&49152)&&(ka|=n.hc),0!==(la&3)&&(ka|=n.Cb),ka|=n.Db);p&&(0!==(p&49152)&&(ka|=n.Yb),0!==(p&3)&&(ka|=n.ob),k[J]|=p);if(p||ra)ka|=n.Cb,ka|=n.ob}else{aa=H;fa?(ha=
F[aa][J]<<1&65535,Y=F[aa+1][J]<<1&65535):(ha=(F[aa][J]<<1|F[aa][J+1]>>15)&65535,Y=(F[aa+1][J]<<1|F[aa+1][J+1]>>15)&65535);ra=ha|Y;la=a[ha&65280|Y>>8];U=la&65280;P=(la&255)<<8;la=a[(ha&255)<<8|Y&255];U|=la>>8;P|=la&255;fa?(I[aa][J]=I[aa][J]&32768|U>>1,I[aa+1][J]=I[aa+1][J]&32768|P>>1):(I[aa][J]=I[aa][J]&32768|U>>1,I[aa][J+1]=I[aa][J+1]&32767|(U&1)<<15,I[aa+1][J]=I[aa+1][J]&32768|P>>1,I[aa+1][J+1]=I[aa+1][J+1]&32767|(P&1)<<15);B+=z[U];C+=z[U&~ha];E+=z[ha&~U];B+=z[P];C+=z[P&~Y];E+=z[Y&~P];if(la=U|P)p|=
la,U&&(aa<A&&(A=aa),aa>y&&(y=aa)),U&&(aa+1<A&&(A=aa+1),aa+1>y&&(y=aa+1));for(aa+=2;aa<K-2;){fa?(ha=F[aa][J]<<1&65535,Y=F[aa+1][J]<<1&65535):(ha=(F[aa][J]<<1|F[aa][J+1]>>15)&65535,Y=(F[aa+1][J]<<1|F[aa+1][J+1]>>15)&65535);ra|=ha|Y;la=a[ha&65280|Y>>8];U=la&65280;P=(la&255)<<8;la=a[(ha&255)<<8|Y&255];U|=la>>8;P|=la&255;fa?(I[aa][J]=I[aa][J]&32768|U>>1,I[aa+1][J]=I[aa+1][J]&32768|P>>1):(I[aa][J]=I[aa][J]&32768|U>>1,I[aa][J+1]=I[aa][J+1]&32767|(U&1)<<15,I[aa+1][J]=I[aa+1][J]&32768|P>>1,I[aa+1][J+1]=I[aa+
1][J+1]&32767|(P&1)<<15);B+=z[U];C+=z[U&~ha];E+=z[ha&~U];B+=z[P];C+=z[P&~Y];E+=z[Y&~P];if(la=U|P)p|=la,U&&(aa<A&&(A=aa),aa>y&&(y=aa)),P&&(aa+1<A&&(A=aa+1),aa+1>y&&(y=aa+1));aa+=2}fa?(ha=F[aa][J]<<1&65535,Y=F[aa+1][J]<<1&65535):(ha=(F[aa][J]<<1|F[aa][J+1]>>15)&65535,Y=(F[aa+1][J]<<1|F[aa+1][J+1]>>15)&65535);ra|=ha|Y;la=a[ha&65280|Y>>8];U=la&65280;P=(la&255)<<8;la=a[(ha&255)<<8|Y&255];U|=la>>8;P|=la&255;fa?(I[aa][J]=I[aa][J]&32768|U>>1,I[aa+1][J]=I[aa+1][J]&32768|P>>1):(I[aa][J]=I[aa][J]&32768|U>>1,
I[aa][J+1]=I[aa][J+1]&32767|(U&1)<<15,I[aa+1][J]=I[aa+1][J]&32768|P>>1,I[aa+1][J+1]=I[aa+1][J+1]&32767|(P&1)<<15);B+=z[U];C+=z[U&~ha];E+=z[ha&~U];B+=z[P];C+=z[P&~Y];E+=z[Y&~P];if(la=U|P)p|=la,U&&(aa<A&&(A=aa),aa>y&&(y=aa)),P&&(aa+1<A&&(A=aa+1),aa+1>y&&(y=aa+1)),0!==(la&3)&&(ka|=n.Cb),ka|=n.Db;ha|Y&&(0!==((ha|Y)&3)&&(ka|=n.Cb),ka|=n.Db);p&&(0!==(p&3)&&(ka|=n.ob),k[J]|=p>>1,k[J+1]|=(p&1)<<15);0!==(ra&3)&&(ka|=n.ob)}if(p||ra)ba|=1<<c,ka&&(0!==(ka&n.Yb)&&(15>c?ba|=1<<c+1:0<e&&0<J&&(pa[e-1]|=1)),0!==(ka&
n.ob)&&(0<c?ba|=1<<c-1:e<f-1&&J<v-1&&(pa[e+1]|=32768)),0!==(ka&n.Wb)&&(R|=1<<c),0!==(ka&n.Db)&&(Z|=1<<c),0!==(ka&n.ac)&&(15>c?R|=1<<c+1:0<e&&0<J&&(oa[e-1]|=1)),0!==(ka&n.bc)&&(0<c?R|=1<<c-1:e<f-1&&J<v-1&&(oa[e+1]|=32768)),0!==(ka&n.hc)&&(15>c?Z|=1<<c+1:0<e&&0<J&&(O[e-1]|=1)),0!==(ka&n.Cb)&&(0<c?Z|=1<<c-1:e<f-1&&J<v-1&&(O[e+1]|=32768)))}J+=1}pa[e]|=ba;0<d&&(oa[e]|=R);d<m-1&&(O[e]|=Z)}else J+=16;H+=16;K+=16;K>=r&&(K=r-1)}for(e=0;e<v;e+=1)k[e]&&(e<D&&(D=e),e>b&&(b=e));D=(D<<4)+this.G(k[D]);b=(b<<4)+
this.Y(k[b]);0>y&&(y=r-1);A>=r&&(A=0);D>=t&&(D=0);0>b&&(b=t-1);y>r-1&&(y=r-1);0>A&&(A=0);0>D&&(D=0);b>t-1&&(b=t-1);x.v=y;x.s=A;x.o=D;x.u=b;u.fill(0);this.ga=B;this.sb=C;this.$a=E};q.prototype.tC=function(){var a=this.de,c,d,e,l,k=this.na,p,r=this.height,t=this.width,v=t>>4,x=this.N,A=r,y=-1,D=t,b=-1,m=this.va,f=this.ra>>4,u=this.Bd,z=this.counter&1;this.Ad&&(this.zd=!this.zd,this.Ad=!1);if(0!==z){var B=this.cc;var C=this.kb;var E=this.wa;var G=this.ka;this.zd&&(a=this.cd)}else B=this.kb,C=this.cc,
E=this.ka,G=this.wa,this.Lb&&(a=this.wf),this.zd&&(a=this.Lb?this.ee:this.cd);this.zd&&(z=1-z);k.fill(0);var F=1-z;var I=F+16;G.Ha.fill(0);for(d=0;d<E.length;d+=1){var L=0;var M=E[d];var H=G[d];var K=0<d?G[d-1]:u;var J=d<m-1?G[d+1]:u;for(e=0;e<f;e+=1)if(l=M[e]){var S=H[e];var pa=K[e];var oa=J[e];for(c=15;0<=c;--c){var O=0===c&&e===f-1?!0:!1;if(0!==(l&1<<c)){var ba=p=0;if(0!==z){var R=F;var Z=0;var fa=B[R][L];var ka=B[R+1][L];Z|=fa|ka;var aa=a[fa&65280|ka>>8];var ha=aa&65280;var Y=(aa&255)<<8;aa=a[(fa&
255)<<8|ka&255];ha|=aa>>8;Y|=aa&255;C[R][L]=ha;C[R+1][L]=Y;if(aa=ha|Y)p|=aa,R<A&&(A=R),R+1>y&&(y=R+1),aa&&(0!==(aa&49152)&&(ba|=n.ac),0!==(aa&3)&&(ba|=n.bc),ba|=n.Wb);for(R+=2;R<I-2;){fa=B[R][L];ka=B[R+1][L];Z|=fa|ka;aa=a[fa&65280|ka>>8];ha=aa&65280;Y=(aa&255)<<8;aa=a[(fa&255)<<8|ka&255];ha|=aa>>8;Y|=aa&255;C[R][L]=ha;C[R+1][L]=Y;if(aa=ha|Y)p|=aa,R<A&&(A=R),R+1>y&&(y=R+1);R+=2}fa=B[R][L];ka=B[R+1][L];Z|=fa|ka;aa=a[fa&65280|ka>>8];ha=aa&65280;Y=(aa&255)<<8;aa=a[(fa&255)<<8|ka&255];ha|=aa>>8;Y|=aa&
255;C[R][L]=ha;C[R+1][L]=Y;if(aa=ha|Y)p|=aa,R<A&&(A=R),R+1>y&&(y=R+1),aa&&(0!==(aa&49152)&&(ba|=n.hc),0!==(aa&3)&&(ba|=n.Cb),ba|=n.Db);p&&(0!==(p&49152)&&(ba|=n.Yb),0!==(p&3)&&(ba|=n.ob),k[L]|=p);if(p||Z)ba|=n.Cb,ba|=n.ob}else{R=F;Z=0;O?(fa=B[R][L]<<1&65535,ka=B[R+1][L]<<1&65535):(fa=(B[R][L]<<1|B[R][L+1]>>15)&65535,ka=(B[R+1][L]<<1|B[R+1][L+1]>>15)&65535);Z|=fa|ka;aa=a[fa&65280|ka>>8];ha=aa&65280;Y=(aa&255)<<8;aa=a[(fa&255)<<8|ka&255];ha|=aa>>8;Y|=aa&255;O?(C[R][L]=C[R][L]&32768|ha>>1,C[R+1][L]=
C[R+1][L]&32768|Y>>1):(C[R][L]=C[R][L]&32768|ha>>1,C[R][L+1]=C[R][L+1]&32767|(ha&1)<<15,C[R+1][L]=C[R+1][L]&32768|Y>>1,C[R+1][L+1]=C[R+1][L+1]&32767|(Y&1)<<15);if(aa=ha|Y)p|=aa,R<A&&(A=R),R+1>y&&(y=R+1);for(R+=2;R<I-2;){O?(fa=B[R][L]<<1&65535,ka=B[R+1][L]<<1&65535):(fa=(B[R][L]<<1|B[R][L+1]>>15)&65535,ka=(B[R+1][L]<<1|B[R+1][L+1]>>15)&65535);Z|=fa|ka;aa=a[fa&65280|ka>>8];ha=aa&65280;Y=(aa&255)<<8;aa=a[(fa&255)<<8|ka&255];ha|=aa>>8;Y|=aa&255;O?(C[R][L]=C[R][L]&32768|ha>>1,C[R+1][L]=C[R+1][L]&32768|
Y>>1):(C[R][L]=C[R][L]&32768|ha>>1,C[R][L+1]=C[R][L+1]&32767|(ha&1)<<15,C[R+1][L]=C[R+1][L]&32768|Y>>1,C[R+1][L+1]=C[R+1][L+1]&32767|(Y&1)<<15);if(aa=ha|Y)p|=aa,R<A&&(A=R),R+1>y&&(y=R+1);R+=2}O?(fa=B[R][L]<<1&65535,ka=B[R+1][L]<<1&65535):(fa=(B[R][L]<<1|B[R][L+1]>>15)&65535,ka=(B[R+1][L]<<1|B[R+1][L+1]>>15)&65535);Z|=fa|ka;aa=a[fa&65280|ka>>8];ha=aa&65280;Y=(aa&255)<<8;aa=a[(fa&255)<<8|ka&255];ha|=aa>>8;Y|=aa&255;O?(C[R][L]=C[R][L]&32768|ha>>1,C[R+1][L]=C[R+1][L]&32768|Y>>1):(C[R][L]=C[R][L]&32768|
ha>>1,C[R][L+1]=C[R][L+1]&32767|(ha&1)<<15,C[R+1][L]=C[R+1][L]&32768|Y>>1,C[R+1][L+1]=C[R+1][L+1]&32767|(Y&1)<<15);if(aa=ha|Y)p|=aa,R<A&&(A=R),R+1>y&&(y=R+1),0!==(aa&3)&&(ba|=n.Cb),ba|=n.Db;fa|ka&&(0!==((fa|ka)&3)&&(ba|=n.Cb),ba|=n.Db);p&&(0!==(p&3)&&(ba|=n.ob),k[L]|=p>>1,k[L+1]|=(p&1)<<15);0!==(Z&1)&&(ba|=n.ob)}if(p||Z)S|=1<<c,ba&&(0!==(ba&n.Yb)&&(15>c?S|=1<<c+1:0<e&&0<L&&(H[e-1]|=1)),0!==(ba&n.ob)&&(0<c?S|=1<<c-1:e<f-1&&L<v-1&&(H[e+1]|=32768)),0!==(ba&n.Wb)&&(pa|=1<<c),0!==(ba&n.Db)&&(oa|=1<<c),
0!==(ba&n.ac)&&(15>c?pa|=1<<c+1:0<e&&0<L&&(K[e-1]|=1)),0!==(ba&n.bc)&&(0<c?pa|=1<<c-1:e<f-1&&L<v-1&&(K[e+1]|=32768)),0!==(ba&n.hc)&&(15>c?oa|=1<<c+1:0<e&&0<L&&(J[e-1]|=1)),0!==(ba&n.Cb)&&(0<c?oa|=1<<c-1:e<f-1&&L<v-1&&(J[e+1]|=32768)))}L+=1}H[e]|=S;0<d&&(K[e]|=pa);d<m-1&&(J[e]|=oa)}else L+=16;F+=16;I+=16;I>=r&&(I=r-1)}for(e=0;e<v;e+=1)k[e]&&(e<D&&(D=e),e>b&&(b=e));D=(D<<4)+this.G(k[D]);b=(b<<4)+this.Y(k[b]);0>y&&(y=r-1);A>=r&&(A=0);D>=t&&(D=0);0>b&&(b=t-1);y>r-1&&(y=r-1);0>A&&(A=0);0>D&&(D=0);b>t-
1&&(b=t-1);x.v=y;x.s=A;x.o=D;x.u=b;u.fill(0)};q.prototype.xD=function(){var a=this.Yh,c,d,e,l,k=this.na,p,r=this.height,t=this.width,v=t>>4,x=this.N,A=r,y=-1,D=t,b=-1,m=this.va,f=this.ra>>4,u=this.Bd;var z=0;var B=m;if(0!==(this.counter&1)){var C=this.cc;var E=this.kb;var G=this.wa;var F=this.ka;this.Lb&&(a=this.Si)}else C=this.kb,E=this.cc,G=this.ka,F=this.wa;k.fill(0);0>z&&(z=0);B>m&&(B=m);var I=z<<4;var L=I+16;F.Ha.fill(0);for(d=z;d<B;d+=1){var M=0;var H=G[d];var K=F[d];var J=0<d?F[d-1]:u;var S=
d<m-1?F[d+1]:u;for(e=0;e<f;e+=1)if(l=H[e]){var pa=K[e];var oa=J[e];var O=S[e];for(c=15;0<=c;--c){if(0!==(l&1<<c)){var ba=p=0;var R=I;var Z=0===R?this.Lf:C[R-1];var fa=C[R];z=C[R+1];var ka=fa[M];Z=Z[M-1]<<18|Z[M]<<2|Z[M+1]>>14;var aa=fa[M-1]<<18|ka<<2|fa[M+1]>>14;var ha=z[M-1]<<18|z[M]<<2|z[M+1]>>14;var Y=a[Z>>7&7936|ha>>11&224|aa>>15&31]<<15;Y|=a[ha>>6&7936|Z>>10&224|aa>>14&31]<<14;Y|=a[Z>>5&7936|ha>>9&224|aa>>13&31]<<13;Y|=a[ha>>4&7936|Z>>8&224|aa>>12&31]<<12;Y|=a[Z>>3&7936|ha>>7&224|aa>>11&31]<<
11;Y|=a[ha>>2&7936|Z>>6&224|aa>>10&31]<<10;Y|=a[Z>>1&7936|ha>>5&224|aa>>9&31]<<9;Y|=a[ha>>0&7936|Z>>4&224|aa>>8&31]<<8;Y|=a[Z<<1&7936|ha>>3&224|aa>>7&31]<<7;Y|=a[ha<<2&7936|Z>>2&224|aa>>6&31]<<6;Y|=a[Z<<3&7936|ha>>1&224|aa>>5&31]<<5;Y|=a[ha<<4&7936|Z>>0&224|aa>>4&31]<<4;Y|=a[Z<<5&7936|ha<<1&224|aa>>3&31]<<3;Y|=a[ha<<6&7936|Z<<2&224|aa>>2&31]<<2;Y|=a[Z<<7&7936|ha<<3&224|aa>>1&31]<<1;Y|=a[ha<<8&7936|Z<<4&224|aa>>0&31]<<0;if(E[R][M]=Y)p|=Y,R<A&&(A=R),R>y&&(y=R),0!==(Y&49152)&&(ba|=n.ac),0!==(Y&3)&&(ba|=
n.bc),ba|=n.Wb;for(R+=1;R<L-1;){ka|=z[M];z=C[R+1];Z=aa;aa=ha;ha=z[M-1]<<18|z[M]<<2|z[M+1]>>14;0!==(R&1)&&(fa=Z,Z=ha,ha=fa);Y=a[Z>>7&7936|ha>>11&224|aa>>15&31]<<15;Y|=a[ha>>6&7936|Z>>10&224|aa>>14&31]<<14;Y|=a[Z>>5&7936|ha>>9&224|aa>>13&31]<<13;Y|=a[ha>>4&7936|Z>>8&224|aa>>12&31]<<12;Y|=a[Z>>3&7936|ha>>7&224|aa>>11&31]<<11;Y|=a[ha>>2&7936|Z>>6&224|aa>>10&31]<<10;Y|=a[Z>>1&7936|ha>>5&224|aa>>9&31]<<9;Y|=a[ha>>0&7936|Z>>4&224|aa>>8&31]<<8;Y|=a[Z<<1&7936|ha>>3&224|aa>>7&31]<<7;Y|=a[ha<<2&7936|Z>>2&224|
aa>>6&31]<<6;Y|=a[Z<<3&7936|ha>>1&224|aa>>5&31]<<5;Y|=a[ha<<4&7936|Z>>0&224|aa>>4&31]<<4;Y|=a[Z<<5&7936|ha<<1&224|aa>>3&31]<<3;Y|=a[ha<<6&7936|Z<<2&224|aa>>2&31]<<2;Y|=a[Z<<7&7936|ha<<3&224|aa>>1&31]<<1;Y|=a[ha<<8&7936|Z<<4&224|aa>>0&31]<<0;0!==(R&1)&&(ha=fa=Z);if(E[R][M]=Y)p|=Y,R<A&&(A=R),R>y&&(y=R);R+=1}ka|=z[M];z=R===this.height-1?this.Lf:C[R+1];Z=aa;aa=ha;ha=z[M-1]<<18|z[M]<<2|z[M+1]>>14;0!==(R&1)&&(fa=Z,Z=ha,ha=fa);Y=a[Z>>7&7936|ha>>11&224|aa>>15&31]<<15;Y|=a[ha>>6&7936|Z>>10&224|aa>>14&31]<<
14;Y|=a[Z>>5&7936|ha>>9&224|aa>>13&31]<<13;Y|=a[ha>>4&7936|Z>>8&224|aa>>12&31]<<12;Y|=a[Z>>3&7936|ha>>7&224|aa>>11&31]<<11;Y|=a[ha>>2&7936|Z>>6&224|aa>>10&31]<<10;Y|=a[Z>>1&7936|ha>>5&224|aa>>9&31]<<9;Y|=a[ha>>0&7936|Z>>4&224|aa>>8&31]<<8;Y|=a[Z<<1&7936|ha>>3&224|aa>>7&31]<<7;Y|=a[ha<<2&7936|Z>>2&224|aa>>6&31]<<6;Y|=a[Z<<3&7936|ha>>1&224|aa>>5&31]<<5;Y|=a[ha<<4&7936|Z>>0&224|aa>>4&31]<<4;Y|=a[Z<<5&7936|ha<<1&224|aa>>3&31]<<3;Y|=a[ha<<6&7936|Z<<2&224|aa>>2&31]<<2;Y|=a[Z<<7&7936|ha<<3&224|aa>>1&31]<<
1;Y|=a[ha<<8&7936|Z<<4&224|aa>>0&31]<<0;if(E[R][M]=Y)p|=Y,R<A&&(A=R),R>y&&(y=R),0!==(Y&49152)&&(ba|=n.hc),0!==(Y&3)&&(ba|=n.Cb),ba|=n.Db;p&&(0!==(p&49152)&&(ba|=n.Yb),0!==(p&3)&&(ba|=n.ob));k[M]|=p;if(p||ka)pa|=1<<c,ba&&(0!==(ba&n.Yb)&&(15>c?pa|=1<<c+1:0<e&&0<M&&(K[e-1]|=1)),0!==(ba&n.ob)&&(0<c?pa|=1<<c-1:e<f-1&&M<v-1&&(K[e+1]|=32768)),0!==(ba&n.Wb)&&(oa|=1<<c),0!==(ba&n.Db)&&(O|=1<<c),0!==(ba&n.ac)&&(15>c?oa|=1<<c+1:0<e&&0<M&&(J[e-1]|=1)),0!==(ba&n.bc)&&(0<c?oa|=1<<c-1:e<f-1&&M<v-1&&(J[e+1]|=32768)),
0!==(ba&n.hc)&&(15>c?O|=1<<c+1:0<e&&0<M&&(S[e-1]|=1)),0!==(ba&n.Cb)&&(0<c?O|=1<<c-1:e<f-1&&M<v-1&&(S[e+1]|=32768)))}M+=1}K[e]|=pa;0<d&&(J[e]|=oa);d<m-1&&(S[e]|=O)}else M+=16;I+=16;L+=16}for(e=0;e<v;e+=1)k[e]&&(e<D&&(D=e),e>b&&(b=e));D=(D<<4)+this.G(k[D]);b=(b<<4)+this.Y(k[b]);0>y&&(y=r-1);A>=r&&(A=0);D>=t&&(D=0);0>b&&(b=t-1);y>r-1&&(y=r-1);0>A&&(A=0);0>D&&(D=0);b>t-1&&(b=t-1);x.v=y;x.s=A;x.o=D;x.u=b;u.fill(0)};q.prototype.Yy=function(){var a=this.Xh,c,d,e,l,k,p,r=this.na,t,v=this.ab,x,A=this.xg,y=
0,D=0,b=0,m=this.height,f=this.width,u=f>>4,z=this.N,B=m,C=-1,E=f,G=-1,F=this.va,I=this.ra>>4,L=this.Bd,M=this.Ea,H=this.Aa,K=Math.round((this.width-M)/2),J=Math.round((this.height-H)/2),S=K+M-1,pa=J+H-1;if(0!==(this.counter&1)){var oa=this.cc;var O=this.kb;var ba=this.wa;var R=this.ka;this.Lb&&(a=this.Pg)}else oa=this.kb,O=this.cc,ba=this.ka,R=this.wa;r.fill(0);v.fill(0);var Z=0;var fa=Z+16;R.Ha.fill(0);for(e=0;e<ba.length;e+=1){var ka=0;var aa=ba[e];var ha=R[e];var Y=0<e?R[e-1]:L;var ra=e<F-1?R[e+
1]:L;for(l=0;l<I;l+=1)if(k=aa[l]){var la=ha[l];var U=Y[l];var P=ra[l];for(c=15;0<=c;--c){if(0!==(k&1<<c)){var X=x=t=0;var ea=Z;var ma=32768;var W=0===ea?this.Lf:oa[ea-1];var N=oa[ea];var Q=oa[ea+1];var ja=p=N[ka];if(ka)if(ka>=u-1){W=(W[ka-1]&1)<<17|W[ka]<<1;N=(N[ka-1]&1)<<17|p<<1;var V=(Q[ka-1]&1)<<17|Q[ka]<<1;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&63|N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=d,x|=ma,y+=A[d],0!==(d&32768)&&
(X|=n.ac),X|=n.Wb;O[ea][ka]=d;d|p&&(D+=A[d&~p],b+=A[p&~d]);ea+=1;for(ma>>=1;ea<fa-1;){p=Q[ka];ja|=p;Q=oa[ea+1];W=N;N=V;V=(Q[ka-1]&1)<<17|Q[ka]<<1;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&63|N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=d,x|=ma,y+=A[d];O[ea][ka]=d;d|p&&(D+=A[d&~p],b+=A[p&~d]);ea+=1;ma>>=1}p=Q[ka];ja|=p;Q=ea===this.height-1?this.Lf:oa[ea+1];W=N;N=V;V=(Q[ka-1]&1)<<17|Q[ka]<<1;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<
12,d|=a[W>>8&63|N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=d,x|=ma,y+=A[d],0!==(d&32768)&&(X|=n.hc),X|=n.Db}else{W=(W[ka-1]&1)<<17|W[ka]<<1|W[ka+1]>>15;N=(N[ka-1]&1)<<17|p<<1|N[ka+1]>>15;V=(Q[ka-1]&1)<<17|Q[ka]<<1|Q[ka+1]>>15;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&63|N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=d,x|=ma,y+=A[d],0!==(d&32768)&&(X|=n.ac),0!==(d&1)&&(X|=n.bc),
X|=n.Wb;O[ea][ka]=d;d|p&&(D+=A[d&~p],b+=A[p&~d]);ea+=1;ma>>=1;p=Q[ka];ja|=p;Q=oa[ea+1];W=N;N=V;V=(Q[ka-1]&1)<<17|Q[ka]<<1|Q[ka+1]>>15;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&63|N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=d,x|=ma,y+=A[d];O[ea][ka]=d;d|p&&(D+=A[d&~p],b+=A[p&~d]);ea+=1;ma>>=1;p=Q[ka];ja|=p;Q=oa[ea+1];W=N;N=V;V=(Q[ka-1]&1)<<17|Q[ka]<<1|Q[ka+1]>>15;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&63|N>>2&
4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=d,x|=ma,y+=A[d];O[ea][ka]=d;d|p&&(D+=A[d&~p],b+=A[p&~d]);ea+=1;ma>>=1;p=Q[ka];ja|=p;Q=oa[ea+1];W=N;N=V;V=(Q[ka-1]&1)<<17|Q[ka]<<1|Q[ka+1]>>15;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&63|N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=d,x|=ma,y+=A[d];O[ea][ka]=d;d|p&&(D+=A[d&~p],b+=A[p&~d]);ea+=1;ma>>=1;p=Q[ka];ja|=p;Q=oa[ea+1];W=N;N=V;V=
(Q[ka-1]&1)<<17|Q[ka]<<1|Q[ka+1]>>15;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&63|N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=d,x|=ma,y+=A[d];O[ea][ka]=d;d|p&&(D+=A[d&~p],b+=A[p&~d]);ea+=1;ma>>=1;p=Q[ka];ja|=p;Q=oa[ea+1];W=N;N=V;V=(Q[ka-1]&1)<<17|Q[ka]<<1|Q[ka+1]>>15;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&63|N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=d,
x|=ma,y+=A[d];O[ea][ka]=d;d|p&&(D+=A[d&~p],b+=A[p&~d]);ea+=1;ma>>=1;p=Q[ka];ja|=p;Q=oa[ea+1];W=N;N=V;V=(Q[ka-1]&1)<<17|Q[ka]<<1|Q[ka+1]>>15;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&63|N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=d,x|=ma,y+=A[d];O[ea][ka]=d;d|p&&(D+=A[d&~p],b+=A[p&~d]);ea+=1;ma>>=1;p=Q[ka];ja|=p;Q=oa[ea+1];W=N;N=V;V=(Q[ka-1]&1)<<17|Q[ka]<<1|Q[ka+1]>>15;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&63|
N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=d,x|=ma,y+=A[d];O[ea][ka]=d;d|p&&(D+=A[d&~p],b+=A[p&~d]);ea+=1;ma>>=1;p=Q[ka];ja|=p;Q=oa[ea+1];W=N;N=V;V=(Q[ka-1]&1)<<17|Q[ka]<<1|Q[ka+1]>>15;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&63|N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=d,x|=ma,y+=A[d];O[ea][ka]=d;d|p&&(D+=A[d&~p],b+=A[p&~d]);ea+=1;ma>>=1;p=Q[ka];ja|=p;Q=oa[ea+1];W=N;
N=V;V=(Q[ka-1]&1)<<17|Q[ka]<<1|Q[ka+1]>>15;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&63|N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=d,x|=ma,y+=A[d];O[ea][ka]=d;d|p&&(D+=A[d&~p],b+=A[p&~d]);ea+=1;ma>>=1;p=Q[ka];ja|=p;Q=oa[ea+1];W=N;N=V;V=(Q[ka-1]&1)<<17|Q[ka]<<1|Q[ka+1]>>15;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&63|N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=
d,x|=ma,y+=A[d];O[ea][ka]=d;d|p&&(D+=A[d&~p],b+=A[p&~d]);ea+=1;ma>>=1;p=Q[ka];ja|=p;Q=oa[ea+1];W=N;N=V;V=(Q[ka-1]&1)<<17|Q[ka]<<1|Q[ka+1]>>15;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&63|N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=d,x|=ma,y+=A[d];O[ea][ka]=d;d|p&&(D+=A[d&~p],b+=A[p&~d]);ea+=1;ma>>=1;p=Q[ka];ja|=p;Q=oa[ea+1];W=N;N=V;V=(Q[ka-1]&1)<<17|Q[ka]<<1|Q[ka+1]>>15;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&
63|N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=d,x|=ma,y+=A[d];O[ea][ka]=d;d|p&&(D+=A[d&~p],b+=A[p&~d]);ea+=1;ma>>=1;p=Q[ka];ja|=p;Q=oa[ea+1];W=N;N=V;V=(Q[ka-1]&1)<<17|Q[ka]<<1|Q[ka+1]>>15;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&63|N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=d,x|=ma,y+=A[d];O[ea][ka]=d;d|p&&(D+=A[d&~p],b+=A[p&~d]);ea+=1;ma>>=1;p=Q[ka];ja|=p;Q=oa[ea+1];W=
N;N=V;V=(Q[ka-1]&1)<<17|Q[ka]<<1|Q[ka+1]>>15;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&63|N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=d,x|=ma,y+=A[d];O[ea][ka]=d;d|p&&(D+=A[d&~p],b+=A[p&~d]);ea+=1;ma>>=1;p=Q[ka];ja|=p;Q=ea===this.height-1?this.Lf:oa[ea+1];W=N;N=V;V=(Q[ka-1]&1)<<17|Q[ka]<<1|Q[ka+1]>>15;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&63|N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=
a[W&63|(N&63)<<6|(V&63)<<12])t|=d,x|=ma,y+=A[d],0!==(d&32768)&&(X|=n.hc),0!==(d&1)&&(X|=n.Cb),X|=n.Db}else{W=W[ka]<<1|W[ka+1]>>15;N=p<<1|N[ka+1]>>15;V=Q[ka]<<1|Q[ka+1]>>15;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&63|N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=d,x|=ma,0!==(d&1)&&(X|=n.bc),X|=n.Wb,y+=A[d];O[ea][ka]=d;d|p&&(D+=A[d&~p],b+=A[p&~d]);ea+=1;for(ma>>=1;ea<fa-1;){p=Q[ka];ja|=p;Q=oa[ea+1];W=N;N=V;V=Q[ka]<<1|Q[ka+1]>>15;
if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&63|N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=d,x|=ma,y+=A[d];O[ea][ka]=d;d|p&&(D+=A[d&~p],b+=A[p&~d]);ea+=1;ma>>=1}p=Q[ka];ja|=p;Q=ea===this.height-1?this.Lf:oa[ea+1];W=N;N=V;V=Q[ka]<<1|Q[ka+1]>>15;if(d=W|N|V)if(d=a[W>>12|N>>12<<6|V&258048]<<12,d|=a[W>>8&63|N>>2&4032|V<<4&258048]<<8,d|=a[W>>4&63|N<<2&4032|V<<8&258048]<<4,d|=a[W&63|(N&63)<<6|(V&63)<<12])t|=d,x|=ma,y+=A[d],0!==(d&1)&&(X|=
n.Cb),X|=n.Db}O[ea][ka]=d;d|p&&(D+=A[d&~p],b+=A[p&~d]);t&&(0!==(t&32768)&&(X|=n.Yb),0!==(t&1)&&(X|=n.ob));r[ka]|=t;if(t||ja)la|=1<<c,X&&(0!==(X&n.Yb)&&(15>c?la|=1<<c+1:0<l&&0<ka&&(ha[l-1]|=1)),0!==(X&n.ob)&&(0<c?la|=1<<c-1:l<I-1&&ka<u-1&&(ha[l+1]|=32768)),0!==(X&n.Wb)&&(U|=1<<c),0!==(X&n.Db)&&(P|=1<<c),0!==(X&n.ac)&&(15>c?U|=1<<c+1:0<l&&0<ka&&(Y[l-1]|=1)),0!==(X&n.bc)&&(0<c?U|=1<<c-1:l<I-1&&ka<u-1&&(Y[l+1]|=32768)),0!==(X&n.hc)&&(15>c?P|=1<<c+1:0<l&&0<ka&&(ra[l-1]|=1)),0!==(X&n.Cb)&&(0<c?P|=1<<c-
1:l<I-1&&ka<u-1&&(ra[l+1]|=32768)));v[e]|=x}ka+=1}ha[l]|=la;0<e&&(Y[l]|=U);e<F-1&&(ra[l]|=P)}else ka+=16;Z+=16;fa+=16}-1!==this.sa&&(0!==M&&(r[K-1>>4]&=~(1<<(~(K-1)&15)),r[S+1>>4]&=~(1<<(~(S+1)&15)),r[K-2>>4]&=~(1<<(~(K-2)&15)),r[S+2>>4]&=~(1<<(~(S+2)&15))),0!==H&&(v[J-1>>4]&=~(1<<(~(J-1)&15)),v[pa+1>>4]&=~(1<<(~(pa+1)&15)),v[J-2>>4]&=~(1<<(~(J-2)&15)),v[pa+2>>4]&=~(1<<(~(pa+2)&15))));for(l=0;l<u;l+=1)r[l]&&(l<E&&(E=l),l>G&&(G=l));for(e=0;e<v.length;e+=1)v[e]&&(e<B&&(B=e),e>C&&(C=e));E=(E<<4)+this.G(r[E]);
G=(G<<4)+this.Y(r[G]);B=(B<<4)+this.G(v[B]);C=(C<<4)+this.Y(v[C]);0>C&&(C=m-1);B>=m&&(B=0);E>=f&&(E=0);0>G&&(G=f-1);C>m-1&&(C=m-1);0>B&&(B=0);0>E&&(E=0);G>f-1&&(G=f-1);z.v=C;z.s=B;z.o=E;z.u=G;L.fill(0);this.ga=y;this.sb=D;this.$a=b};q.prototype.gD=function(){var a=this.Xh,c,d,e,l,k,p=this.na,r,t=this.ab,v,x=this.height,A=this.width,y=A>>4,D=this.N,b=x,m=-1,f=A,u=-1,z=this.va,B=this.ra>>4,C=this.Bd,E=this.Ea,G=this.Aa,F=Math.round((this.width-E)/2),I=Math.round((this.height-G)/2),L=F+E-1,M=I+G-1;if(0!==
(this.counter&1)){var H=this.cc;var K=this.kb;var J=this.wa;var S=this.ka;this.Lb&&(a=this.Pg)}else H=this.kb,K=this.cc,J=this.ka,S=this.wa;p.fill(0);t.fill(0);var pa=0;var oa=pa+16;S.Ha.fill(0);for(e=0;e<J.length;e+=1){var O=0;var ba=J[e];var R=S[e];var Z=0<e?S[e-1]:C;var fa=e<z-1?S[e+1]:C;for(l=0;l<B;l+=1)if(k=ba[l]){var ka=R[l];var aa=Z[l];var ha=fa[l];for(c=15;0<=c;--c){if(0!==(k&1<<c)){var Y=v=r=0;var ra=pa;var la=32768;var U=0===ra?this.Lf:H[ra-1];var P=H[ra];var X=H[ra+1];var ea=P[O];if(O)if(O>=
y-1){U=(U[O-1]&1)<<17|U[O]<<1;P=(P[O-1]&1)<<17|ea<<1;var ma=(X[O-1]&1)<<17|X[O]<<1;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<4,d|=a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la,0!==(d&32768)&&(Y|=n.ac),Y|=n.Wb;K[ra][O]=d;ra+=1;for(la>>=1;ra<oa-1;){ea|=X[O];X=H[ra+1];U=P;P=ma;ma=(X[O-1]&1)<<17|X[O]<<1;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<
4,d|=a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la;K[ra][O]=d;ra+=1;la>>=1}ea|=X[O];X=ra===this.height-1?this.Lf:H[ra+1];U=P;P=ma;ma=(X[O-1]&1)<<17|X[O]<<1;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<4,d|=a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la,0!==(d&32768)&&(Y|=n.hc),Y|=n.Db}else{U=(U[O-1]&1)<<17|U[O]<<1|U[O+1]>>15;P=(P[O-1]&1)<<17|ea<<1|P[O+1]>>15;ma=(X[O-1]&1)<<17|X[O]<<1|X[O+1]>>15;if(d=U|P|ma)if(d=a[U>>12|P>>12<<
6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<4,d|=a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la,0!==(d&32768)&&(Y|=n.ac),0!==(d&1)&&(Y|=n.bc),Y|=n.Wb;K[ra][O]=d;ra+=1;la>>=1;ea|=X[O];X=H[ra+1];U=P;P=ma;ma=(X[O-1]&1)<<17|X[O]<<1|X[O+1]>>15;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<4,d|=a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la;K[ra][O]=d;ra+=1;la>>=1;ea|=X[O];X=H[ra+1];U=
P;P=ma;ma=(X[O-1]&1)<<17|X[O]<<1|X[O+1]>>15;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<4,d|=a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la;K[ra][O]=d;ra+=1;la>>=1;ea|=X[O];X=H[ra+1];U=P;P=ma;ma=(X[O-1]&1)<<17|X[O]<<1|X[O+1]>>15;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<4,d|=a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la;K[ra][O]=d;ra+=1;la>>=
1;ea|=X[O];X=H[ra+1];U=P;P=ma;ma=(X[O-1]&1)<<17|X[O]<<1|X[O+1]>>15;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<4,d|=a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la;K[ra][O]=d;ra+=1;la>>=1;ea|=X[O];X=H[ra+1];U=P;P=ma;ma=(X[O-1]&1)<<17|X[O]<<1|X[O+1]>>15;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<4,d|=a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la;
K[ra][O]=d;ra+=1;la>>=1;ea|=X[O];X=H[ra+1];U=P;P=ma;ma=(X[O-1]&1)<<17|X[O]<<1|X[O+1]>>15;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<4,d|=a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la;K[ra][O]=d;ra+=1;la>>=1;ea|=X[O];X=H[ra+1];U=P;P=ma;ma=(X[O-1]&1)<<17|X[O]<<1|X[O+1]>>15;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<4,d|=a[U&63|(P&63)<<6|(ma&
63)<<12])r|=d,v|=la;K[ra][O]=d;ra+=1;la>>=1;ea|=X[O];X=H[ra+1];U=P;P=ma;ma=(X[O-1]&1)<<17|X[O]<<1|X[O+1]>>15;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<4,d|=a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la;K[ra][O]=d;ra+=1;la>>=1;ea|=X[O];X=H[ra+1];U=P;P=ma;ma=(X[O-1]&1)<<17|X[O]<<1|X[O+1]>>15;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<4,d|=
a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la;K[ra][O]=d;ra+=1;la>>=1;ea|=X[O];X=H[ra+1];U=P;P=ma;ma=(X[O-1]&1)<<17|X[O]<<1|X[O+1]>>15;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<4,d|=a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la;K[ra][O]=d;ra+=1;la>>=1;ea|=X[O];X=H[ra+1];U=P;P=ma;ma=(X[O-1]&1)<<17|X[O]<<1|X[O+1]>>15;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|
ma<<8&258048]<<4,d|=a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la;K[ra][O]=d;ra+=1;la>>=1;ea|=X[O];X=H[ra+1];U=P;P=ma;ma=(X[O-1]&1)<<17|X[O]<<1|X[O+1]>>15;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<4,d|=a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la;K[ra][O]=d;ra+=1;la>>=1;ea|=X[O];X=H[ra+1];U=P;P=ma;ma=(X[O-1]&1)<<17|X[O]<<1|X[O+1]>>15;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,
d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<4,d|=a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la;K[ra][O]=d;ra+=1;la>>=1;ea|=X[O];X=H[ra+1];U=P;P=ma;ma=(X[O-1]&1)<<17|X[O]<<1|X[O+1]>>15;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<4,d|=a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la;K[ra][O]=d;ra+=1;la>>=1;ea|=X[O];X=ra===this.height-1?this.Lf:H[ra+1];U=P;P=ma;ma=(X[O-1]&1)<<17|X[O]<<1|X[O+1]>>15;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<
12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<4,d|=a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la,0!==(d&32768)&&(Y|=n.hc),0!==(d&1)&&(Y|=n.Cb),Y|=n.Db}else{U=U[O]<<1|U[O+1]>>15;P=ea<<1|P[O+1]>>15;ma=X[O]<<1|X[O+1]>>15;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<4,d|=a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la,0!==(d&1)&&(Y|=n.bc),Y|=n.Wb;K[ra][O]=d;ra+=1;for(la>>=1;ra<oa-1;){ea|=X[O];X=H[ra+
1];U=P;P=ma;ma=X[O]<<1|X[O+1]>>15;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<4,d|=a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la;K[ra][O]=d;ra+=1;la>>=1}ea|=X[O];X=ra===this.height-1?this.Lf:H[ra+1];U=P;P=ma;ma=X[O]<<1|X[O+1]>>15;if(d=U|P|ma)if(d=a[U>>12|P>>12<<6|ma&258048]<<12,d|=a[U>>8&63|P>>2&4032|ma<<4&258048]<<8,d|=a[U>>4&63|P<<2&4032|ma<<8&258048]<<4,d|=a[U&63|(P&63)<<6|(ma&63)<<12])r|=d,v|=la,0!==(d&1)&&(Y|=n.Cb),
Y|=n.Db}K[ra][O]=d;r&&(0!==(r&32768)&&(Y|=n.Yb),0!==(r&1)&&(Y|=n.ob));p[O]|=r;if(r||ea)ka|=1<<c,Y&&(0!==(Y&n.Yb)&&(15>c?ka|=1<<c+1:0<l&&0<O&&(R[l-1]|=1)),0!==(Y&n.ob)&&(0<c?ka|=1<<c-1:l<B-1&&O<y-1&&(R[l+1]|=32768)),0!==(Y&n.Wb)&&(aa|=1<<c),0!==(Y&n.Db)&&(ha|=1<<c),0!==(Y&n.ac)&&(15>c?aa|=1<<c+1:0<l&&0<O&&(Z[l-1]|=1)),0!==(Y&n.bc)&&(0<c?aa|=1<<c-1:l<B-1&&O<y-1&&(Z[l+1]|=32768)),0!==(Y&n.hc)&&(15>c?ha|=1<<c+1:0<l&&0<O&&(fa[l-1]|=1)),0!==(Y&n.Cb)&&(0<c?ha|=1<<c-1:l<B-1&&O<y-1&&(fa[l+1]|=32768)));t[e]|=
v}O+=1}R[l]|=ka;0<e&&(Z[l]|=aa);e<z-1&&(fa[l]|=ha)}else O+=16;pa+=16;oa+=16}-1!==this.sa&&(0!==E&&(p[F-1>>4]&=~(1<<(~(F-1)&15)),p[L+1>>4]&=~(1<<(~(L+1)&15)),p[F-2>>4]&=~(1<<(~(F-2)&15)),p[L+2>>4]&=~(1<<(~(L+2)&15))),0!==G&&(t[I-1>>4]&=~(1<<(~(I-1)&15)),t[M+1>>4]&=~(1<<(~(M+1)&15)),t[I-2>>4]&=~(1<<(~(I-2)&15)),t[M+2>>4]&=~(1<<(~(M+2)&15))));for(l=0;l<y;l+=1)p[l]&&(l<f&&(f=l),l>u&&(u=l));for(e=0;e<t.length;e+=1)t[e]&&(e<b&&(b=e),e>m&&(m=e));f=(f<<4)+this.G(p[f]);u=(u<<4)+this.Y(p[u]);b=(b<<4)+this.G(t[b]);
m=(m<<4)+this.Y(t[m]);0>m&&(m=x-1);b>=x&&(b=0);f>=A&&(f=0);0>u&&(u=A-1);m>x-1&&(m=x-1);0>b&&(b=0);0>f&&(f=0);u>A-1&&(u=A-1);D.v=m;D.s=b;D.o=f;D.u=u;C.fill(0)};q.prototype.Ry=function(a,c){var d,e=this.ya,l,k,p,r,t=this.va,v=this.ra>>4;var x=0;var A=x+16;for(l=0;l<t;l+=1){var y=0;var D=e[l];for(k=0;k<v;k+=1)if(r=D[k])for(p=15;0<=p;--p){if(0!==(r&1<<p))for(d=x;d<A;d+=2){var b=c[d];var m=a[d];var f=a[d+1];var u=y<<3;var z=m[u];z|=f[u];b[u+u]=z|z>>8;u+=1;z=m[u];z|=f[u];b[u+u]=z|z>>8;u+=1;z=m[u];z|=f[u];
b[u+u]=z|z>>8;u+=1;z=m[u];z|=f[u];b[u+u]=z|z>>8;u+=1;z=m[u];z|=f[u];b[u+u]=z|z>>8;u+=1;z=m[u];z|=f[u];b[u+u]=z|z>>8;u+=1;z=m[u];z|=f[u];b[u+u]=z|z>>8;u+=1;z=m[u];z|=f[u];b[u+u]=z|z>>8}y+=1}else y+=16;x+=16;A+=16}};q.prototype.Oy=function(a,c){var d,e=this.ya,l,k,p,r,t=this.va,v=this.ra>>4;var x=0;var A=x+16;for(l=0;l<t;l+=1){var y=0;var D=e[l];for(k=0;k<v;k+=1)if(r=D[k])for(p=15;0<=p;--p){if(0!==(r&1<<p))for(d=x;d<A;d+=2){var b=c[d];var m=a[d];var f=a[d+1];var u=y<<3;var z=m[u];var B=z&255|(z&1)<<
5;var C=B-(z>>8|z&32);B-=C&C>>255;z=f[u];C=B-(z&255|(z&1)<<5);B-=C&C>>255;C=B-(z>>8|z&32);b[u+u]=B-(C&C>>255)&31;u+=1;z=m[u];B=z&255|(z&1)<<5;C=B-(z>>8|z&32);B-=C&C>>255;z=f[u];C=B-(z&255|(z&1)<<5);B-=C&C>>255;C=B-(z>>8|z&32);b[u+u]=B-(C&C>>255)&31;u+=1;z=m[u];B=z&255|(z&1)<<5;C=B-(z>>8|z&32);B-=C&C>>255;z=f[u];C=B-(z&255|(z&1)<<5);B-=C&C>>255;C=B-(z>>8|z&32);b[u+u]=B-(C&C>>255)&31;u+=1;z=m[u];B=z&255|(z&1)<<5;C=B-(z>>8|z&32);B-=C&C>>255;z=f[u];C=B-(z&255|(z&1)<<5);B-=C&C>>255;C=B-(z>>8|z&32);b[u+
u]=B-(C&C>>255)&31;u+=1;z=m[u];B=z&255|(z&1)<<5;C=B-(z>>8|z&32);B-=C&C>>255;z=f[u];C=B-(z&255|(z&1)<<5);B-=C&C>>255;C=B-(z>>8|z&32);b[u+u]=B-(C&C>>255)&31;u+=1;z=m[u];B=z&255|(z&1)<<5;C=B-(z>>8|z&32);B-=C&C>>255;z=f[u];C=B-(z&255|(z&1)<<5);B-=C&C>>255;C=B-(z>>8|z&32);b[u+u]=B-(C&C>>255)&31;u+=1;z=m[u];B=z&255|(z&1)<<5;C=B-(z>>8|z&32);B-=C&C>>255;z=f[u];C=B-(z&255|(z&1)<<5);B-=C&C>>255;C=B-(z>>8|z&32);b[u+u]=B-(C&C>>255)&31;u+=1;z=m[u];B=z&255|(z&1)<<5;C=B-(z>>8|z&32);B-=C&C>>255;z=f[u];C=B-(z&255|
(z&1)<<5);B-=C&C>>255;C=B-(z>>8|z&32);b[u+u]=B-(C&C>>255)&31}y+=1}else y+=16;x+=16;A+=16}};q.prototype.Du=function(a,c){var d,e=this.ya,l,k,p,r,t=this.va,v=this.ra>>4;var x=0;var A=x+16;for(l=0;l<t;l+=1){var y=0;var D=e[l];for(k=0;k<v;k+=1)if(r=D[k])for(p=15;0<=p;--p){if(0!==(r&1<<p))for(d=x;d<A;d+=2){var b=c[d];var m=a[d];var f=a[d+1];var u=y<<3;var z=m[u];var B=z&255;var C=B-(z>>8);B-=C&C>>255;z=f[u];C=B-(z&255);B-=C&C>>255;C=B-(z>>8);b[u+u]=B-(C&C>>255);u+=1;z=m[u];B=z&255;C=B-(z>>8);B-=C&C>>255;
z=f[u];C=B-(z&255);B-=C&C>>255;C=B-(z>>8);b[u+u]=B-(C&C>>255);u+=1;z=m[u];B=z&255;C=B-(z>>8);B-=C&C>>255;z=f[u];C=B-(z&255);B-=C&C>>255;C=B-(z>>8);b[u+u]=B-(C&C>>255);u+=1;z=m[u];B=z&255;C=B-(z>>8);B-=C&C>>255;z=f[u];C=B-(z&255);B-=C&C>>255;C=B-(z>>8);b[u+u]=B-(C&C>>255);u+=1;z=m[u];B=z&255;C=B-(z>>8);B-=C&C>>255;z=f[u];C=B-(z&255);B-=C&C>>255;C=B-(z>>8);b[u+u]=B-(C&C>>255);u+=1;z=m[u];B=z&255;C=B-(z>>8);B-=C&C>>255;z=f[u];C=B-(z&255);B-=C&C>>255;C=B-(z>>8);b[u+u]=B-(C&C>>255);u+=1;z=m[u];B=z&255;
C=B-(z>>8);B-=C&C>>255;z=f[u];C=B-(z&255);B-=C&C>>255;C=B-(z>>8);b[u+u]=B-(C&C>>255);u+=1;z=m[u];B=z&255;C=B-(z>>8);B-=C&C>>255;z=f[u];C=B-(z&255);B-=C&C>>255;C=B-(z>>8);b[u+u]=B-(C&C>>255)}y+=1}else y+=16;x+=16;A+=16}};q.prototype.dz=function(a,c){var d,e=this.ya,l,k,p,r,t=this.va,v=this.ra>>4;var x=0;var A=x+16;for(l=0;l<t;l+=1){var y=0;var D=e[l];for(k=0;k<v;k+=1)if(r=D[k])for(p=15;0<=p;--p){if(0!==(r&1<<p))for(d=x;d<A;d+=4){var b=c[d];var m=a[d];var f=a[d+1];var u=a[d+2];var z=a[d+3];var B=y<<
2;var C=y<<4;var E=m[B]|f[B]|u[B]|z[B];b[C]=(0<E)<<6;B+=1;C+=4;E=m[B]|f[B]|u[B]|z[B];b[C]=(0<E)<<6;B+=1;C+=4;E=m[B]|f[B]|u[B]|z[B];b[C]=(0<E)<<6;B+=1;C+=4;E=m[B]|f[B]|u[B]|z[B];b[C]=(0<E)<<6}y+=1}else y+=16;x+=16;A+=16}};q.prototype.Zy=function(a,c){var d,e,l=this.ya,k,p,r,t,v,x=this.va,A=this.ra>>4;var y=0;var D=y+16;for(p=0;p<x;p+=1){var b=0;var m=l[p];for(r=0;r<A;r+=1)if(v=m[r])for(t=15;0<=t;--t){if(0!==(v&1<<t))for(d=y;d<D;d+=4){var f=c[d];var u=a[d];var z=a[d+1];var B=a[d+2];var C=a[d+3];var E=
b<<2;var G=b<<4;for(e=0;4>e;e+=1){var F=0;if(k=u[E]){var I=F-(k&255|(k&1)<<5);F-=I&I>>255;k>>=8;I=F-(k&255|(k&1)<<5);F-=I&I>>255;k>>=8;I=F-(k&255|(k&1)<<5);F-=I&I>>255;k>>=8;I=F-(k&255|(k&1)<<5);F-=I&I>>255}if(k=z[E])I=F-(k&255|(k&1)<<5),F-=I&I>>255,k>>=8,I=F-(k&255|(k&1)<<5),F-=I&I>>255,k>>=8,I=F-(k&255|(k&1)<<5),F-=I&I>>255,k>>=8,I=F-(k&255|(k&1)<<5),F-=I&I>>255;if(k=B[E])I=F-(k&255|(k&1)<<5),F-=I&I>>255,k>>=8,I=F-(k&255|(k&1)<<5),F-=I&I>>255,k>>=8,I=F-(k&255|(k&1)<<5),F-=I&I>>255,k>>=8,I=F-(k&
255|(k&1)<<5),F-=I&I>>255;if(k=C[E])I=F-(k&255|(k&1)<<5),F-=I&I>>255,k>>=8,I=F-(k&255|(k&1)<<5),F-=I&I>>255,k>>=8,I=F-(k&255|(k&1)<<5),F-=I&I>>255,k>>=8,I=F-(k&255|(k&1)<<5),F-=I&I>>255;f[G]=F&31;E+=1;G+=4}}b+=1}else b+=16;y+=16;D+=16}};q.prototype.Fu=function(a,c){var d,e,l=this.ya,k,p,r,t,v,x=this.va,A=this.ra>>4;var y=0;var D=y+16;for(p=0;p<x;p+=1){var b=0;var m=l[p];for(r=0;r<A;r+=1)if(v=m[r])for(t=15;0<=t;--t){if(0!==(v&1<<t))for(d=y;d<D;d+=4){var f=c[d];var u=a[d];var z=a[d+1];var B=a[d+2];
var C=a[d+3];var E=b<<2;var G=b<<4;for(e=0;4>e;e+=1){var F=0;if(k=u[E])F-=F-(k&255)&F-(k&255)>>255,k>>=8,F-=F-(k&255)&F-(k&255)>>255,k>>=8,F-=F-(k&255)&F-(k&255)>>255,k>>=8,F-=F-(k&255)&F-(k&255)>>255;if(k=z[E])F-=F-(k&255)&F-(k&255)>>255,k>>=8,F-=F-(k&255)&F-(k&255)>>255,k>>=8,F-=F-(k&255)&F-(k&255)>>255,k>>=8,F-=F-(k&255)&F-(k&255)>>255;if(k=B[E])F-=F-(k&255)&F-(k&255)>>255,k>>=8,F-=F-(k&255)&F-(k&255)>>255,k>>=8,F-=F-(k&255)&F-(k&255)>>255,k>>=8,F-=F-(k&255)&F-(k&255)>>255;if(k=C[E])F-=F-(k&255)&
F-(k&255)>>255,k>>=8,F-=F-(k&255)&F-(k&255)>>255,k>>=8,F-=F-(k&255)&F-(k&255)>>255,k>>=8,F-=F-(k&255)&F-(k&255)>>255;f[G]=F;E+=1;G+=4}}b+=1}else b+=16;y+=16;D+=16}};q.prototype.jz=function(a,c){var d,e=this.ya,l,k,p,r,t=this.va,v=this.ra>>4;var x=0;var A=x+16;for(l=0;l<t;l+=1){var y=0;var D=e[l];for(k=0;k<v;k+=1)if(r=D[k])for(p=15;0<=p;--p){if(0!==(r&1<<p))for(d=x;d<A;d+=8){var b=c[d];var m=a[d];var f=a[d+1];var u=a[d+2];var z=a[d+3];var B=a[d+4];var C=a[d+5];var E=a[d+6];var G=a[d+7];var F=y<<2;
var I=y<<4;var L=m[F]|m[F+1];L|=f[F]|f[F+1];L|=u[F]|u[F+1];L|=z[F]|z[F+1];0===L&&(L|=B[F]|B[F+1],L|=C[F]|C[F+1],L|=E[F]|E[F+1],L|=G[F]|G[F+1]);b[I]=(0<L)<<6;F+=2;I+=8;L=m[F]|m[F+1];L|=f[F]|f[F+1];L|=u[F]|u[F+1];L|=z[F]|z[F+1];0===L&&(L|=B[F]|B[F+1],L|=C[F]|C[F+1],L|=E[F]|E[F+1],L|=G[F]|G[F+1]);b[I]=(0<L)<<6}y+=1}else y+=16;x+=16;A+=16}};q.prototype.hz=function(a,c){var d,e,l=this.ya,k,p,r,t,v,x=this.va,A=this.ra>>4;var y=0;var D=y+16;for(p=0;p<x;p+=1){var b=0;var m=l[p];for(r=0;r<A;r+=1)if(v=m[r])for(t=
15;0<=t;--t){if(0!==(v&1<<t))for(d=y;d<D;d+=8){var f=c[d];var u=a[d];var z=a[d+1];var B=a[d+2];var C=a[d+3];var E=a[d+4];var G=a[d+5];var F=a[d+6];var I=a[d+7];var L=b<<2;var M=b<<4;for(e=0;2>e;e+=1){var H=0;if(k=u[L]){var K=H-(k&255|(k&1)<<5);H-=K&K>>255;k>>=8;K=H-(k&255|(k&1)<<5);H-=K&K>>255;k>>=8;K=H-(k&255|(k&1)<<5);H-=K&K>>255;k>>=8;K=H-(k&255|(k&1)<<5);H-=K&K>>255}if(k=u[L+1])K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,
K=H-(k&255|(k&1)<<5),H-=K&K>>255;if(k=z[L])K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255;if(k=z[L+1])K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255;if(k=B[L])K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),
H-=K&K>>255;if(k=B[L+1])K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255;if(k=C[L])K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255;if(k=C[L+1])K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255;if(k=
E[L])K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255;if(k=E[L+1])K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255;if(k=G[L])K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255;if(k=G[L+1])K=H-(k&255|(k&
1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255;if(k=F[L])K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255;if(k=F[L+1])K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255;if(k=I[L])K=H-(k&255|(k&1)<<5),H-=K&K>>255,
k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255;if(k=I[L+1])K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255,k>>=8,K=H-(k&255|(k&1)<<5),H-=K&K>>255;f[M]=H&31;L+=2;M+=8}}b+=1}else b+=16;y+=16;D+=16}};q.prototype.Gu=function(a,c){var d,e,l=this.ya,k,p,r,t,v,x=this.va,A=this.ra>>4;var y=0;var D=y+16;for(p=0;p<x;p+=1){var b=0;var m=l[p];for(r=0;r<A;r+=1)if(v=m[r])for(t=15;0<=
t;--t){if(0!==(v&1<<t))for(d=y;d<D;d+=8){var f=c[d];var u=a[d];var z=a[d+1];var B=a[d+2];var C=a[d+3];var E=a[d+4];var G=a[d+5];var F=a[d+6];var I=a[d+7];var L=b<<2;var M=b<<4;for(e=0;2>e;e+=1){var H=0;if(k=u[L])H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255;if(k=u[L+1])H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255;if(k=z[L])H-=H-(k&
255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255;if(k=z[L+1])H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255;if(k=B[L])H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255;if(k=B[L+1])H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&
255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255;if(k=C[L])H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255;if(k=C[L+1])H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255;if(k=E[L])H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255;if(k=E[L+1])H-=H-(k&255)&H-(k&255)>>
255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255;if(k=G[L])H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255;if(k=G[L+1])H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255;if(k=F[L])H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=
H-(k&255)&H-(k&255)>>255;if(k=F[L+1])H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255;if(k=I[L])H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255;if(k=I[L+1])H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255,k>>=8,H-=H-(k&255)&H-(k&255)>>255;f[M]=H;L+=2;M+=8}}b+=1}else b+=16;y+=16;D+=16}};q.prototype.Ly=
function(a,c){var d=this.ya,e,l,k,p,r,t=this.va,v=this.ra>>4;for(e=p=0;e<t;e+=1){var x=0;var A=d[e];for(l=0;l<v;l+=1)if(r=A[l])for(k=15;0<=k;--k){if(0!==(r&1<<k)){var y=c[p];var D=a[p];var b=a[p+1];var m=a[p+2];var f=a[p+3];var u=a[p+4];var z=a[p+5];var B=a[p+6];var C=a[p+7];var E=a[p+8];var G=a[p+9];var F=a[p+10];var I=a[p+11];var L=a[p+12];var M=a[p+13];var H=a[p+14];var K=a[p+15];var J=x<<2;var S=x<<4;D=D[J]|D[J+1]|D[J+2]|D[J+3];D|=b[J]|b[J+1]|b[J+2]|b[J+3];D|=m[J]|m[J+1]|m[J+2]|m[J+3];D|=f[J]|
f[J+1]|f[J+2]|f[J+3];0===D&&(D|=u[J]|u[J+1]|u[J+2]|u[J+3],D|=z[J]|z[J+1]|z[J+2]|z[J+3],D|=B[J]|B[J+1]|B[J+2]|B[J+3],D|=C[J]|C[J+1]|C[J+2]|C[J+3],0===D&&(D|=E[J]|E[J+1]|E[J+2]|E[J+3],D|=G[J]|G[J+1]|G[J+2]|G[J+3],D|=F[J]|F[J+1]|F[J+2]|F[J+3],D|=I[J]|I[J+1]|I[J+2]|I[J+3],0===D&&(D|=L[J]|L[J+1]|L[J+2]|L[J+3],D|=M[J]|M[J+1]|M[J+2]|M[J+3],D|=H[J]|H[J+1]|H[J+2]|H[J+3],D|=K[J]|K[J+1]|K[J+2]|K[J+3])));y[S]=(0<D)<<6}x+=1}else x+=16;p+=16}};q.prototype.Jy=function(a,c){var d=this.ya,e,l,k,p,r,t,v=this.va,x=
this.ra>>4;var A=0;var y=A+16;for(l=0;l<v;l+=1){var D=0;var b=d[l];for(k=0;k<x;k+=1)if(t=b[k])for(p=15;0<=p;--p){if(0!==(t&1<<p)){var m=0;for(r=A;r<y;r+=1){var f=a[r];var u=D<<2;if(e=f[u]){var z=m-(e&255|(e&1)<<5);m-=z&z>>255;e>>=8;z=m-(e&255|(e&1)<<5);m-=z&z>>255;e>>=8;z=m-(e&255|(e&1)<<5);m-=z&z>>255;e>>=8;z=m-(e&255|(e&1)<<5);m-=z&z>>255}if(e=f[u+1])z=m-(e&255|(e&1)<<5),m-=z&z>>255,e>>=8,z=m-(e&255|(e&1)<<5),m-=z&z>>255,e>>=8,z=m-(e&255|(e&1)<<5),m-=z&z>>255,e>>=8,z=m-(e&255|(e&1)<<5),m-=z&z>>
255;if(e=f[u+2])z=m-(e&255|(e&1)<<5),m-=z&z>>255,e>>=8,z=m-(e&255|(e&1)<<5),m-=z&z>>255,e>>=8,z=m-(e&255|(e&1)<<5),m-=z&z>>255,e>>=8,z=m-(e&255|(e&1)<<5),m-=z&z>>255;if(e=f[u+3])z=m-(e&255|(e&1)<<5),m-=z&z>>255,e>>=8,z=m-(e&255|(e&1)<<5),m-=z&z>>255,e>>=8,z=m-(e&255|(e&1)<<5),m-=z&z>>255,e>>=8,z=m-(e&255|(e&1)<<5),m-=z&z>>255}f=c[A];u=D<<4;f[u]=m&31}D+=1}else D+=16;A+=16;y+=16}};q.prototype.Cu=function(a,c){var d=this.ya,e,l,k,p,r,t,v=this.va,x=this.ra>>4;var A=0;var y=A+16;for(l=0;l<v;l+=1){var D=
0;var b=d[l];for(k=0;k<x;k+=1)if(t=b[k])for(p=15;0<=p;--p){if(0!==(t&1<<p)){var m=0;for(r=A;r<y;r+=1){var f=a[r];var u=D<<2;if(e=f[u])m-=m-(e&255)&m-(e&255)>>255,e>>=8,m-=m-(e&255)&m-(e&255)>>255,e>>=8,m-=m-(e&255)&m-(e&255)>>255,e>>=8,m-=m-(e&255)&m-(e&255)>>255;if(e=f[u+1])m-=m-(e&255)&m-(e&255)>>255,e>>=8,m-=m-(e&255)&m-(e&255)>>255,e>>=8,m-=m-(e&255)&m-(e&255)>>255,e>>=8,m-=m-(e&255)&m-(e&255)>>255;if(e=f[u+2])m-=m-(e&255)&m-(e&255)>>255,e>>=8,m-=m-(e&255)&m-(e&255)>>255,e>>=8,m-=m-(e&255)&m-
(e&255)>>255,e>>=8,m-=m-(e&255)&m-(e&255)>>255;if(e=f[u+3])m-=m-(e&255)&m-(e&255)>>255,e>>=8,m-=m-(e&255)&m-(e&255)>>255,e>>=8,m-=m-(e&255)&m-(e&255)>>255,e>>=8,m-=m-(e&255)&m-(e&255)>>255}f=c[A];u=D<<4;f[u]=m}D+=1}else D+=16;A+=16;y+=16}};q.prototype.Xy=function(a,c){var d=this.ya,e,l,k,p,r=this.va,t=this.ra>>4;var v=0;var x=v+32;for(e=0;e<r;e+=2){var A=0;var y=d[e];var D=d[e+1];for(l=0;l<t;l+=1){var b=y[l]|D[l];if(0!==b)for(k=49152;0<k;k>>=2){if(0!==(b&k)){var m=A<<4;var f=c[v];var u=A<<2;var z=
v;for(p=0;z<x&&0===p;){var B=a[z];p|=B[u]|B[u+1]|B[u+2]|B[u+3]|B[u+4]|B[u+5]|B[u+6]|B[u+7];z+=1}f[m]=(0<p)<<6}A+=2}else A+=16}v+=32;x+=32}};q.prototype.Vy=function(a,c){var d=this.ya,e,l,k,p,r,t=this.va,v=this.ra>>4;var x=0;var A=x+32;for(l=0;l<t;l+=2){var y=0;var D=d[l];var b=d[l+1];for(k=0;k<v;k+=1){var m=D[k]|b[k];if(0!==m)for(p=49152;0<p;p>>=2){if(0!==(m&p)){var f=0;for(r=x;r<A;r+=1){var u=a[r];var z=y<<2;if(e=u[z]){var B=f-(e&255|(e&1)<<5);f-=B&B>>255;e>>=8;B=f-(e&255|(e&1)<<5);f-=B&B>>255;e>>=
8;B=f-(e&255|(e&1)<<5);f-=B&B>>255;e>>=8;B=f-(e&255|(e&1)<<5);f-=B&B>>255}if(e=u[z+1])B=f-(e&255|(e&1)<<5),f-=B&B>>255,e>>=8,B=f-(e&255|(e&1)<<5),f-=B&B>>255,e>>=8,B=f-(e&255|(e&1)<<5),f-=B&B>>255,e>>=8,B=f-(e&255|(e&1)<<5),f-=B&B>>255;if(e=u[z+2])B=f-(e&255|(e&1)<<5),f-=B&B>>255,e>>=8,B=f-(e&255|(e&1)<<5),f-=B&B>>255,e>>=8,B=f-(e&255|(e&1)<<5),f-=B&B>>255,e>>=8,B=f-(e&255|(e&1)<<5),f-=B&B>>255;if(e=u[z+3])B=f-(e&255|(e&1)<<5),f-=B&B>>255,e>>=8,B=f-(e&255|(e&1)<<5),f-=B&B>>255,e>>=8,B=f-(e&255|(e&
1)<<5),f-=B&B>>255,e>>=8,B=f-(e&255|(e&1)<<5),f-=B&B>>255;if(e=u[z+4])B=f-(e&255|(e&1)<<5),f-=B&B>>255,e>>=8,B=f-(e&255|(e&1)<<5),f-=B&B>>255,e>>=8,B=f-(e&255|(e&1)<<5),f-=B&B>>255,e>>=8,B=f-(e&255|(e&1)<<5),f-=B&B>>255;if(e=u[z+5])B=f-(e&255|(e&1)<<5),f-=B&B>>255,e>>=8,B=f-(e&255|(e&1)<<5),f-=B&B>>255,e>>=8,B=f-(e&255|(e&1)<<5),f-=B&B>>255,e>>=8,B=f-(e&255|(e&1)<<5),f-=B&B>>255;if(e=u[z+6])B=f-(e&255|(e&1)<<5),f-=B&B>>255,e>>=8,B=f-(e&255|(e&1)<<5),f-=B&B>>255,e>>=8,B=f-(e&255|(e&1)<<5),f-=B&B>>
255,e>>=8,B=f-(e&255|(e&1)<<5),f-=B&B>>255;if(e=u[z+7])B=f-(e&255|(e&1)<<5),f-=B&B>>255,e>>=8,B=f-(e&255|(e&1)<<5),f-=B&B>>255,e>>=8,B=f-(e&255|(e&1)<<5),f-=B&B>>255,e>>=8,B=f-(e&255|(e&1)<<5),f-=B&B>>255}u=c[x];z=y<<4;u[z]=f&31}y+=2}else y+=16}x+=32;A+=32}};q.prototype.Eu=function(a,c){var d=this.ya,e,l,k,p,r,t=this.va,v=this.ra>>4;var x=0;var A=x+32;for(l=0;l<t;l+=2){var y=0;var D=d[l];var b=d[l+1];for(k=0;k<v;k+=1){var m=D[k]|b[k];if(0!==m)for(p=49152;0<p;p>>=2){if(0!==(m&p)){var f=0;for(r=x;r<
A;r+=1){var u=a[r];var z=y<<2;if(e=u[z])f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255;if(e=u[z+1])f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255;if(e=u[z+2])f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255;if(e=u[z+3])f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=
f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255;if(e=u[z+4])f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255;if(e=u[z+5])f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255;if(e=u[z+6])f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&
f-(e&255)>>255;if(e=u[z+7])f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255,e>>=8,f-=f-(e&255)&f-(e&255)>>255}u=c[x];z=y<<4;u[z]=f}y+=2}else y+=16}x+=32;A+=32}};q.prototype.qf=function(a){this.xu&&a.Ha.fill(0)};q.prototype.xz=function(a,c){var d=this.qa;.5<=d&&1>d?(this.qf(this.Jb),this.xj||this.oa||this.L||this.ca||this.O||this.Zc?this.O?this.Oy(a,this.Jb):this.Du(a,this.Jb):this.Ry(a,this.Jb)):.25<=d&&.5>d?(this.qf(this.Jb),this.xj||this.oa||this.L||
this.ca||this.O||this.Zc?this.O?this.Zy(c,this.Jb):this.Fu(c,this.Jb):this.dz(c,this.Jb)):.125<=d&&.25>d?(this.qf(this.Jb),this.xj||this.oa||this.L||this.ca||this.O||this.Zc?this.O?this.hz(c,this.Jb):this.Gu(c,this.Jb):this.jz(c,this.Jb)):.0625<=d&&.125>d?(this.qf(this.Jb),this.xj||this.oa||this.L||this.ca||this.O||this.Zc?this.O?this.Jy(c,this.Jb):this.Cu(c,this.Jb):this.Ly(c,this.Jb)):this.xj||this.oa||this.L||this.ca||this.O||this.Zc?this.O?this.Vy(c,this.Jb):this.Eu(c,this.Jb):this.Xy(c,this.Jb);
this.Eg&&(.5<=d&&1>d?(this.qf(this.fd),this.Du(this.jp,this.fd)):.25<=d&&.5>d?(this.qf(this.fd),this.Fu(this.al,this.fd)):.125<=d&&.25>d?(this.qf(this.fd),this.Gu(this.al,this.fd)):.0625<=d&&.125>d?(this.qf(this.fd),this.Cu(this.al,this.fd)):this.Eu(this.al,this.fd));this.xu=.0625>d?!0:!1};q.prototype.Py=function(){var a=this.ya,c=this.Oa,d=this.zc,e,l,k,p,r=this.width,t=r>>4,v=this.height,x=r,A=-1,y=-1,D=v,b=this.N,m,f=this.na,u,z,B=this.ab;var C=this.va;var E=this.ra>>4;var G=0;var F=C,I=this.xg;
this.X=0;if(0!==(this.counter&1)){var L=this.cc;var M=this.wa;var H=this.U;var K=this.Ga}else L=this.kb,M=this.ka,H=this.Ga,K=this.U;0>G&&(G=0);F>C&&(F=C);f.fill(0);B.fill(0);C=G<<4;var J=C+16;for(e=G;e<F;e+=1){var S=0;var pa=M[e];var oa=c[e];var O=a[e];for(l=0;l<E;l+=1){if(p=pa[l]|oa[l])for(k=15;0<=k;--k){if(0!==(p&1<<k)){var ba=u=0;var R=32768;for(G=C;G<J;G+=1){var Z=L[G];var fa=H[G];var ka=0===G?d:H[G-1];var aa=G===this.height-1?d:H[G+1];var ha=K[G];var Y=S<<4;if(0===Y)var ra=m=0;else m=fa[Y-1],
ra=ka[Y-1];var la=aa[Y];var U=fa[Y];var P=Z[S];for(z=32768;0<z;){var X=ra;ra=ka[Y];var ea=m;m=U;U=fa[Y+1];var ma=la;la=aa[Y+1];var W=m;X=1<<X|1<<ra|1<<U|1<<ea|1<<ma|1<<la;ea=!0;if(0!==(X&64)){ea=!1;if(7===m||8===m||13<=m)W=0;else switch(m){case 1:W=2;break;case 3:case 5:W=4;break;case 9:W=10;break;case 11:W=12;break;default:ea=!0}ea||0===(m&1)||(Z[S]&=~z,this.$a+=1,--this.ga)}if(ea)if(0!==(P&z)){if(0===(m&1))switch(m){case 4:W=3;break;case 6:Z[S]&=~z;break;case 8:W=7;break;default:W=1,ea=X&44739072,
0===(X&170)&&1===I[ea&65535]+I[ea>>16]?(W=0,65535<ea&&(ea>>=16,W+=16),255<ea&&(ea>>=8,W+=8),15<ea&&(ea>>=4,W+=4),3<ea&&(ea>>=2,W+=2),W+=ea>>1):(ea=X&44736512,0!==(X&8)&&0===(X&2722)&&1===I[ea&65535]+I[ea>>16]?(W=0,65535<ea&&(ea>>=16,W+=16),255<ea&&(ea>>=8,W+=8),15<ea&&(ea>>=4,W+=4),3<ea&&(ea>>=2,W+=2),W+=ea>>1):(ea=X&2560,0!==(X&128)&&0===(X&44736554)&&1===I[ea&65535]+I[ea>>16]?(W=0,65535<ea&&(ea>>=16,W+=16),255<ea&&(ea>>=8,W+=8),15<ea&&(ea>>=4,W+=4),3<ea&&(ea>>=2,W+=2),W+=ea>>1):(ea=X&44736640)&&
0===(X&2602)&&(W=13)))}}else if(0!==(m&1))11>=m?5===m?W=4:W=m+1:W=0;else if(14===m)W=0;else if(14<m)switch(m){case 16:0!==(X&44755626)&&(W=14);break;case 18:0!==(X&4194304)&&(W=22);break;case 20:0!==(X&262144)&&(W=18);break;case 22:0!==(X&1048576)&&(W=20);break;case 24:0!==(X&45017770)&&(W=18)}ha[Y]=W;0<W&&(u|=z,ba|=R);z>>=1;Y+=1}this.X|=P;this.X|=u;R>>=1}f[S]|=u;B[e]|=ba}S+=1}else S+=16;oa[l]=p|0;O[l]=O[l]|p|0}C+=16;J+=16}for(l=0;l<t;l+=1)f[l]&&(l<x&&(x=l),l>A&&(A=l));for(e=0;e<B.length;e+=1)B[e]&&
(e<D&&(D=e),e>y&&(y=e));x=(x<<4)+this.G(f[x]);A=(A<<4)+this.Y(f[A]);D=(D<<4)+this.G(B[D]);y=(y<<4)+this.Y(B[y]);0>y&&(y=v-1);D>=v&&(D=0);x>=r&&(x=0);0>A&&(A=r-1);y>v-1&&(y=v-1);0>D&&(D=0);0>x&&(x=0);A>r-1&&(A=r-1);b.v=y;b.s=D;b.o=x;b.u=A};q.prototype.Wy=function(){var a=this.ya,c=this.Oa,d=this.zc,e,l,k,p,r=this.width,t=r>>4,v=this.height,x=r,A=-1,y=-1,D=v,b=this.N,m=0,f=this.na,u,z,B=this.ab;var C=this.va;var E=this.ra>>4;var G=0;var F=C,I=this.xg;this.X=0;if(0!==(this.counter&1)){var L=this.cc;
var M=this.wa;var H=this.U;var K=this.Ga}else L=this.kb,M=this.ka,H=this.Ga,K=this.U;0>G&&(G=0);F>C&&(F=C);f.fill(0);B.fill(0);C=G<<4;var J=C+16;for(e=G;e<F;e+=1){var S=0;var pa=M[e];var oa=c[e];var O=a[e];for(l=0;l<E;l+=1){if(p=pa[l]|oa[l])for(k=15;0<=k;--k){if(0!==(p&1<<k)){var ba=u=0;var R=32768;for(G=C;G<J;G+=1){var Z=L[G];var fa=H[G];var ka=0===G?d:H[G-1];var aa=G===this.height-1?d:H[G+1];var ha=K[G];var Y=S<<4;0===Y?m=0:m=fa[Y-1];var ra=fa[Y];var la=Z[S];for(z=32768;0<z;){var U=ka[Y];var P=
m;m=ra;ra=fa[Y+1];var X=aa[Y];var ea=m;U=1<<U|1<<ra|1<<P|1<<X;P=!0;if(0!==(U&64)){P=!1;if(7===m||8===m||13<=m)ea=0;else switch(m){case 1:ea=2;break;case 3:case 5:ea=4;break;case 9:ea=10;break;case 11:ea=12;break;default:P=!0}P||0===(m&1)||(Z[S]&=~z,this.$a+=1,--this.ga)}if(P)if(0!==(la&z)){if(0===(m&1))switch(m){case 4:ea=3;break;case 6:Z[S]&=~z;break;case 8:ea=7;break;default:ea=1,P=U&44739072,0===(U&170)&&1===I[P&65535]+I[P>>16]?(ea=0,65535<P&&(P>>=16,ea+=16),255<P&&(P>>=8,ea+=8),15<P&&(P>>=4,ea+=
4),3<P&&(P>>=2,ea+=2),ea+=P>>1):(P=U&44736512,0!==(U&8)&&0===(U&2722)&&1===I[P&65535]+I[P>>16]?(ea=0,65535<P&&(P>>=16,ea+=16),255<P&&(P>>=8,ea+=8),15<P&&(P>>=4,ea+=4),3<P&&(P>>=2,ea+=2),ea+=P>>1):(P=U&2560,0!==(U&128)&&0===(U&44736554)&&1===I[P&65535]+I[P>>16]?(ea=0,65535<P&&(P>>=16,ea+=16),255<P&&(P>>=8,ea+=8),15<P&&(P>>=4,ea+=4),3<P&&(P>>=2,ea+=2),ea+=P>>1):(P=U&44736640)&&0===(U&2602)&&(ea=13)))}}else if(0!==(m&1))11>=m?5===m?ea=4:ea=m+1:ea=0;else if(14===m)ea=0;else if(14<m)switch(m){case 16:0!==
(U&44755626)&&(ea=14);break;case 18:0!==(U&4194304)&&(ea=22);break;case 20:0!==(U&262144)&&(ea=18);break;case 22:0!==(U&1048576)&&(ea=20);break;case 24:0!==(U&45017770)&&(ea=18)}ha[Y]=ea;0<ea&&(u|=z,ba|=R);z>>=1;Y+=1}this.X|=la;this.X|=u;R>>=1}f[S]|=u;B[e]|=ba}S+=1}else S+=16;oa[l]=p|0;O[l]=O[l]|p|0}C+=16;J+=16}for(l=0;l<t;l+=1)f[l]&&(l<x&&(x=l),l>A&&(A=l));for(e=0;e<B.length;e+=1)B[e]&&(e<D&&(D=e),e>y&&(y=e));x=(x<<4)+this.G(f[x]);A=(A<<4)+this.Y(f[A]);D=(D<<4)+this.G(B[D]);y=(y<<4)+this.Y(B[y]);
0>y&&(y=v-1);D>=v&&(D=0);x>=r&&(x=0);0>A&&(A=r-1);y>v-1&&(y=v-1);0>D&&(D=0);0>x&&(x=0);A>r-1&&(A=r-1);b.v=y;b.s=D;b.o=x;b.u=A};q.prototype.Sy=function(){var a=this.ya,c=this.Oa,d=this.zc,e=this.te,l,k,p,r,t=this.width,v=t>>4,x=this.height,A=t,y=-1,D=-1,b=x,m=this.N,f=this.na,u,z,B=this.ab;var C=this.va;var E=this.ra>>4;var G=0;var F=C,I=this.Lu;this.X=0;if(0!==(this.counter&1)){var L=this.cc;var M=this.wa;var H=this.U;var K=this.Ga}else L=this.kb,M=this.ka,H=this.Ga,K=this.U;0>G&&(G=0);F>C&&(F=C);
f.fill(0);B.fill(0);C=G<<4;var J=C+16;for(l=G;l<F;l+=1){var S=0;var pa=M[l];var oa=c[l];var O=a[l];var ba=e[l];for(k=0;k<E;k+=1){if(r=pa[k]|oa[k]){var R=ba[k];for(p=15;0<=p;--p){if(0!==(r&1<<p)){var Z=u=0;var fa=32768;var ka=0;if(0!==(R&1<<p)){for(G=C;G<J;G+=1){var aa=G===C||G===J-1?!0:!1;var ha=L[G];var Y=H[G];var ra=0===G?d:H[G-1];var la=G===this.height-1?d:H[G+1];var U=K[G];var P=S<<4;if(0===P)var X=0;else{var ea=Y[P-1];X=1<<ra[P-1]|1<<ea|1<<la[P-1]}var ma=Y[P];var W=1<<ma|1<<la[P]|1<<ra[P];var N=
ha[S];for(z=32768;0<z;){P+=1;ea=ma;ma=Y[P];var Q=X;X=W;W=1<<ma|1<<la[P]|1<<ra[P];if(aa||32768===z||1===z){var ja=ea;Q=Q|X|W;var V=!0;if(0!==(Q&64)){V=!1;if(7===ea||8===ea||13<=ea)ja=0;else switch(ea){case 1:ja=2;break;case 3:case 5:ja=4;break;case 9:ja=10;break;case 11:ja=12;break;default:V=!0}V||0===(ea&1)||(ha[S]&=~z,this.$a+=1,--this.ga)}if(V)if(0!==(N&z)){if(0===(ea&1))switch(ea){case 4:ja=3;break;case 6:ha[S]&=~z;break;case 8:ja=7;break;default:ja=1,V=Q&44739072,0===(Q&170)&&V&&0===(V&V-1)?(ja=
0,65535<V&&(V>>=16,ja+=16),ja+=I[V]):(V=Q&44736512,0!==(Q&8)&&0===(Q&2722)&&V&&0===(V&V-1)?(ja=0,65535<V&&(V>>=16,ja+=16),ja+=I[V]):(V=Q&2560,0!==(Q&128)&&0===(Q&44736554)&&V&&0===(V&V-1)?(ja=0,65535<V&&(V>>=16,ja+=16),ja+=I[V]):(V=Q&44736640)&&0===(Q&2602)&&(ja=13)))}}else if(0!==(ea&1))11>=ea?5===ea?ja=4:ja=ea+1:ja=0;else if(14<=ea)switch(ea){case 14:ja=0;break;case 16:0!==(Q&44755626)&&(ja=14);break;case 18:0!==(Q&4194304)&&(ja=22);break;case 20:0!==(Q&262144)&&(ja=18);break;case 22:0!==(Q&1048576)&&
(ja=20);break;case 24:0!==(Q&45017770)&&(ja=18)}ka|=ja-ea;U[P-1]=ja;0<ja&&(u|=z,Z|=fa)}aa||32768!==z?z>>=1:(P+=13,X=1<<Y[P]|1<<la[P]|1<<ra[P],P+=1,ma=Y[P],W=1<<ma|1<<la[P]|1<<ra[P],z=1)}this.X|=N;this.X|=u;fa>>=1}0!==ka&&(R&=~(1<<p))}else{for(G=C;G<J;G+=1){ha=L[G];Y=H[G];ra=0===G?d:H[G-1];la=G===this.height-1?d:H[G+1];U=K[G];P=S<<4;0===P?X=0:(ea=Y[P-1],X=1<<ra[P-1]|1<<ea|1<<la[P-1]);ma=Y[P];W=1<<ma|1<<la[P]|1<<ra[P];N=ha[S];for(z=32768;0<z;){P+=1;ea=ma;ma=Y[P];Q=X;X=W;W=1<<ma|1<<la[P]|1<<ra[P];ja=
ea;Q=Q|X|W;V=!0;if(0!==(Q&64)){V=!1;if(7===ea||8===ea||13<=ea)ja=0;else switch(ea){case 1:ja=2;break;case 3:case 5:ja=4;break;case 9:ja=10;break;case 11:ja=12;break;default:V=!0}V||0===(ea&1)||(ha[S]&=~z,this.$a+=1,--this.ga)}if(V)if(0!==(N&z)){if(0===(ea&1))switch(ea){case 4:ja=3;break;case 6:ha[S]&=~z;break;case 8:ja=7;break;default:ja=1,V=Q&44739072,0===(Q&170)&&V&&0===(V&V-1)?(ja=0,65535<V&&(V>>=16,ja+=16),ja+=I[V]):(V=Q&44736512,0!==(Q&8)&&0===(Q&2722)&&V&&0===(V&V-1)?(ja=0,65535<V&&(V>>=16,
ja+=16),ja+=I[V]):(V=Q&2560,0!==(Q&128)&&0===(Q&44736554)&&V&&0===(V&V-1)?(ja=0,65535<V&&(V>>=16,ja+=16),ja+=I[V]):(V=Q&44736640)&&0===(Q&2602)&&(ja=13)))}}else if(0!==(ea&1))11>=ea?5===ea?ja=4:ja=ea+1:ja=0;else if(14<=ea)switch(ea){case 14:ja=0;break;case 16:0!==(Q&44755626)&&(ja=14);break;case 18:0!==(Q&4194304)&&(ja=22);break;case 20:0!==(Q&262144)&&(ja=18);break;case 22:0!==(Q&1048576)&&(ja=20);break;case 24:0!==(Q&45017770)&&(ja=18)}U[P-1]=ja;ka|=ja-ea;0<ja&&(u|=z,Z|=fa);z>>=1}this.X|=N;this.X|=
u;fa>>=1}0===ka&&u&&(R|=1<<p)}f[S]|=u;B[l]|=Z}S+=1}ba[k]=R}else S+=16;oa[k]=r|0;O[k]=O[k]|r|0}C+=16;J+=16}for(k=0;k<v;k+=1)f[k]&&(k<A&&(A=k),k>y&&(y=k));for(l=0;l<B.length;l+=1)B[l]&&(l<b&&(b=l),l>D&&(D=l));A=(A<<4)+this.G(f[A]);y=(y<<4)+this.Y(f[y]);b=(b<<4)+this.G(B[b]);D=(D<<4)+this.Y(B[D]);0>D&&(D=x-1);b>=x&&(b=0);A>=t&&(A=0);0>y&&(y=t-1);D>x-1&&(D=x-1);0>b&&(b=0);0>A&&(A=0);y>t-1&&(y=t-1);m.v=D;m.s=b;m.o=A;m.u=y};q.prototype.VB=function(){var a=this.U,c=this.ya,d=this.Oa,e,l,k,p,r,t=0,v=0,x=
0,A=this.width,y=A>>4,D=this.height,b=A,m=-1,f=-1,u=D,z=this.N,B=this.na,C,E,G=this.ab;var F=this.va;var I=this.ra>>4;var L=0;var M=F,H=this.i+this.K-1,K=this.K,J=0<this.K?1:0;this.X=0;if(0!==(this.counter&1)){var S=this.cc;var pa=this.wa}else S=this.kb,pa=this.ka;0>L&&(L=0);M>F&&(M=F);B.fill(0);G.fill(0);F=L<<4;var oa=F+16;for(l=L;l<M;l+=1){var O=0;var ba=pa[l];var R=d[l];var Z=c[l];for(k=0;k<I;k+=1){var fa=ba[k]|R[k];var ka=0;if(fa)for(p=15;0<=p;--p){if(0!==(fa&1<<p)){var aa=C=0;var ha=32768;var Y=
0;for(L=F;L<oa;L+=1){var ra=S[L];var la=a[L];var U=O<<4;var P=ra[O];for(r=E=32768;0<r;){var X=e=la[U];(e<=K||e===H)&&0!==(P&r)?e=H:(P&=~r,e>J&&--e);la[U]=e;e>J&&(Y=1,e>K&&(C|=E,aa|=ha),e===H&&(t+=1,X!==H&&(v+=1)));X===H&&e!==H&&(x+=1);E>>=1;U+=1;r>>=1;X=e=la[U];(e<=K||e===H)&&0!==(P&r)?e=H:(P&=~r,e>J&&--e);la[U]=e;e>J&&(Y=1,e>K&&(C|=E,aa|=ha),e===H&&(t+=1,X!==H&&(v+=1)));X===H&&e!==H&&(x+=1);E>>=1;U+=1;r>>=1;X=e=la[U];(e<=K||e===H)&&0!==(P&r)?e=H:(P&=~r,e>J&&--e);la[U]=e;e>J&&(Y=1,e>K&&(C|=E,aa|=
ha),e===H&&(t+=1,X!==H&&(v+=1)));X===H&&e!==H&&(x+=1);E>>=1;U+=1;r>>=1;X=e=la[U];(e<=K||e===H)&&0!==(P&r)?e=H:(P&=~r,e>J&&--e);la[U]=e;e>J&&(Y=1,e>K&&(C|=E,aa|=ha),e===H&&(t+=1,X!==H&&(v+=1)));X===H&&e!==H&&(x+=1);E>>=1;U+=1;r>>=1}ra[O]=P;this.X|=P;ha>>=1}B[O]|=C;G[l]|=aa;Y&&(ka|=1<<p)}O+=1}else O+=16;R[k]=ka;Z[k]|=ka}F+=16;oa+=16}for(k=0;k<y;k+=1)B[k]&&(k<b&&(b=k),k>m&&(m=k));for(l=0;l<G.length;l+=1)G[l]&&(l<u&&(u=l),l>f&&(f=l));b=(b<<4)+this.G(B[b]);m=(m<<4)+this.Y(B[m]);u=(u<<4)+this.G(G[u]);f=
(f<<4)+this.Y(G[f]);0>f&&(f=D-1);u>=D&&(u=0);b>=A&&(b=0);0>m&&(m=A-1);f>D-1&&(f=D-1);0>u&&(u=0);0>b&&(b=0);m>A-1&&(m=A-1);z.v=f;z.s=u;z.o=b;z.u=m;this.ga=t;this.sb=v;this.$a=x};q.prototype.Tz=function(){var a=this.U,c=this.ya,d,e,l,k,p;var r=this.va;var t=this.ra>>4;var v=0;var x=r,A=0<this.K?1:0;0>v&&(v=0);x>r&&(x=r);r=v<<4;var y=r+16;for(d=v;d<x;d+=1){var D=0;var b=c[d];for(e=0;e<t;e+=1)if(p=b[e])for(l=15;0<=l;--l){if(0!==(p&1<<l))for(v=r;v<y;v+=1){var m=a[v];var f=D<<4;for(k=15;0<=k;--k){var u=
m[f];u>A&&(--u,m[f]=u);f+=1}}D+=1}else D+=16;r+=16;y+=16}};q.prototype.he=function(){this.za||this.L||this.ca||this.O||(-1===this.i?this.Zc?this.OF():this.xj?this.Gy():this.JF():this.X||this.Tz(),this.vh&&-1===this.i&&(this.JD(),this.X=this.ga))};q.prototype.nG=function(){var a,c=this.wl,d=this.ya,e,l,k,p=0,r,t=this.va,v=this.ra>>4;var x=16;for(e=0;e<t;e+=1){var A=0;var y=d[e];for(l=0;l<v;l+=1)if(r=y[l])for(k=15;0<=k;--k){if(0!==(r&1<<k))for(a=p;a<x;){var D=c[a];var b=A<<3;D[b]&=16448;b+=1;D[b]&=
16448;b+=1;D[b]&=16448;b+=1;D[b]&=16448;b+=1;D[b]&=16448;b+=1;D[b]&=16448;b+=1;D[b]&=16448;b+=1;D[b]&=16448;a+=1}A+=1}else A+=16;p+=16;x+=16}};q.prototype.Ny=function(){var a=this.Ea,c=this.Aa,d=this.N;this.S?this.Py():this.Ic?this.Wy():this.Sy();if(-1!==this.sa){var e=Math.round((this.width-a)/2);var l=Math.round((this.height-c)/2);a=e+a-1;c=l+c-1;d.o<e&&(d.o=e);d.u>a&&(d.u=a);d.s<l&&(d.s=l);d.v>c&&(d.v=c)}};q.prototype.dE=function(){switch(this.pk){case PatternConstants.xr:this.KF();break;case PatternConstants.ur:this.xF();
break;case PatternConstants.hm:this.nF();break;case PatternConstants.wr:this.CE()}};q.prototype.CE=function(){var a=this.ph;var c=a[0],d=a[1],e=a[2],l=this.re,k=this.oh,p,r,t=0,v,x,A,y=this.ya,D=this.Oa,b,m=this.na,f,u=this.ab,z,B,C=0,E=0,G=0,F=this.height,I=this.width,L=I>>4,M=this.N,H=F,K=-1,J=I,S=-1,pa=this.va,oa=this.ra>>4,O=this.Bd;if(0!==(this.counter&1)){var ba=this.Ga;var R=this.Ca;var Z=this.U;var fa=this.wa;var ka=this.ka}else ba=this.U,R=this.ge,Z=this.Ga,fa=this.ka,ka=this.wa;m.fill(0);
u.fill(0);var aa=0;var ha=aa+16;ka.Ha.fill(0);for(x=0;x<fa.length;x+=1){var Y=0;var ra=Y+16;var la=fa[x];var U=ka[x];var P=D[x];var X=y[x];var ea=0<x?ka[x-1]:O;var ma=x<pa-1?ka[x+1]:O;for(A=0;A<oa;A+=1)if(b=la[A]){var W=U[A];var N=ea[A];var Q=ma[A];for(v=15;0<=v;--v){if(0!==(b&1<<v)){var ja=z=f=0;var V=aa;for(B=32768;V<ha;){a=ba[V];var T=Z[V];var qa=32768;var za=Y;0===za?t=0:t=a[za-1];for(r=a[za];za<ra-1;){var wa=t;t=r;r=a[za+1];var va=c[t];var na=d[wa];var ca=e[r];var ia=t;for(p=0;p<k;p+=1)if(wa=
va[p]&na[p]&ca[p]){va=0;for(ca=1;!(wa&ca);)va+=1,ca<<=1;ia=l[(p<<5)+va];break}T[za]=ia;0<ia?(C+=1,0===t&&(E+=1),z|=B,f|=qa):0<t&&(G+=1);qa>>=1;za+=1}wa=t;t=r;za===I-1?r=0:r=a[za+1];va=c[t];na=d[wa];ca=e[r];ia=t;for(p=0;p<k;p+=1)if(wa=va[p]&na[p]&ca[p]){va=0;for(ca=1;!(wa&ca);)va+=1,ca<<=1;ia=l[(p<<5)+va];break}T[za]=ia;0<ia?(C+=1,0===t&&(E+=1),z|=B,f|=qa):0<t&&(G+=1);V+=1;B>>=1}m[Y>>4]|=f;f&&(W|=1<<v,z&1&&(ja|=n.Db,f&32768&&(ja|=n.hc),f&1&&(ja|=n.Cb)),z&32768&&(ja|=n.Wb,f&32768&&(ja|=n.ac),f&1&&(ja|=
n.bc)),f&32768&&(ja|=n.Yb),f&1&&(ja|=n.ob),ja&&(0!==(ja&n.Yb)&&(15>v?W|=1<<v+1:0<A&&0<Y&&(U[A-1]|=1)),0!==(ja&n.ob)&&(0<v?W|=1<<v-1:A<oa-1&&Y<I-1&&(U[A+1]|=32768)),0!==(ja&n.Wb)&&(N|=1<<v),0!==(ja&n.Db)&&(Q|=1<<v),0!==(ja&n.ac)&&(15>v?N|=1<<v+1:0<A&&0<Y&&(ea[A-1]|=1)),0!==(ja&n.bc)&&(0<v?N|=1<<v-1:A<oa-1&&Y<I-1&&(ea[A+1]|=32768)),0!==(ja&n.hc)&&(15>v?Q|=1<<v+1:0<A&&0<Y&&(ma[A-1]|=1)),0!==(ja&n.Cb)&&(0<v?Q|=1<<v-1:A<oa-1&&Y<I-1&&(ma[A+1]|=32768))));u[x]|=z}Y+=16;ra+=16}U[A]|=W;P[A]=b|W;X[A]=X[A]|b|
W;0<x&&(ea[A]|=N);x<pa-1&&(ma[A]|=Q)}else Y+=256,ra+=256;aa+=16;ha+=16}for(A=0;A<L;A+=1)m[A]&&(A<J&&(J=A),A>S&&(S=A));for(x=0;x<u.length;x+=1)u[x]&&(x<H&&(H=x),x>K&&(K=x));J=(J<<4)+this.G(m[J]);S=(S<<4)+this.Y(m[S]);H=(H<<4)+this.G(u[H]);K=(K<<4)+this.Y(u[K]);0>K&&(K=F-1);H>=F&&(H=0);J>=I&&(J=0);0>S&&(S=I-1);K>F-1&&(K=F-1);0>H&&(H=0);0>J&&(J=0);S>I-1&&(S=I-1);M.v=K;M.s=H;M.o=J;M.u=S;O.fill(0);aa=0;ha=aa+16;for(x=0;x<fa.length;x+=1){Y=0;la=fa[x];U=ka[x];for(A=0;A<oa;A+=1)if(b=la[A],W=U[A],b!==W)for(v=
15;0<=v;--v){if((b&1<<v)!==(W&1<<v)&&0===(W&1<<v))for(V=aa;V<ha;V+=1)a=R[V],za=Y>>2,a[za]=0,a[za+1]=0,a[za+2]=0,a[za+3]=0;Y+=16}else Y+=256;aa+=16;ha+=16}this.ga=C;this.sb=E;this.$a=G;this.X=C};q.prototype.KF=function(){var a=this.ph;var c=a[0],d=a[1],e=a[2],l=a[3],k=a[4],p=this.re,r=this.oh,t,v=0,x,A,y,D=this.ya,b=this.Oa,m,f=this.na,u,z=this.ab,B,C,E=0,G=0,F=0,I=this.height,L=this.width,M=L>>4,H=this.N,K=I,J=-1,S=L,pa=-1,oa=this.va,O=this.ra>>4,ba=this.Bd;if(0!==(this.counter&1)){var R=this.Ga;
var Z=this.Ca;var fa=this.U;var ka=this.wa;var aa=this.ka}else R=this.U,Z=this.ge,fa=this.Ga,ka=this.ka,aa=this.wa;f.fill(0);z.fill(0);var ha=0;var Y=ha+16;aa.Ha.fill(0);for(A=0;A<ka.length;A+=1){var ra=0;var la=ra+16;var U=ka[A];var P=aa[A];var X=b[A];var ea=D[A];var ma=0<A?aa[A-1]:ba;var W=A<oa-1?aa[A+1]:ba;for(y=0;y<O;y+=1)if(m=U[y]){var N=P[y];var Q=ma[y];var ja=W[y];for(x=15;0<=x;--x){if(0!==(m&1<<x)){var V=B=u=0;var T=ha;for(C=32768;T<Y;){a=0===T?this.zc:R[T-1];var qa=R[T];var za=T===this.height-
1?this.zc:R[T+1];var wa=fa[T];var va=32768;var na=ra;0===na?v=0:v=qa[na-1];for(t=qa[na];na<la-1;){var ca=v;v=t;var ia=a[na];t=qa[na+1];var da=za[na];var ua=c[v];ia=d[ia];var ta=e[t];var xa=l[da];var sa=k[ca];var ya=v;for(da=0;da<r;da+=1)if(ca=ua[da]&ia[da])if(ca&=ta[da]&xa[da]&sa[da]){ua=0;for(ia=1;!(ca&ia);)ua+=1,ia<<=1;ya=p[(da<<5)+ua];break}wa[na]=ya;0<ya?(E+=1,0===v&&(G+=1),B|=C,u|=va):0<v&&(F+=1);va>>=1;na+=1}ca=v;v=t;ia=a[na];na===L-1?t=0:t=qa[na+1];da=za[na];ua=c[v];ia=d[ia];ta=e[t];xa=l[da];
sa=k[ca];ya=v;for(da=0;da<r;da+=1)if(ca=ua[da]&ia[da])if(ca&=ta[da]&xa[da]&sa[da]){ua=0;for(ia=1;!(ca&ia);)ua+=1,ia<<=1;ya=p[(da<<5)+ua];break}wa[na]=ya;0<ya?(E+=1,0===v&&(G+=1),B|=C,u|=va):0<v&&(F+=1);T+=1;C>>=1}f[ra>>4]|=u;u&&(N|=1<<x,B&1&&(V|=n.Db,u&32768&&(V|=n.hc),u&1&&(V|=n.Cb)),B&32768&&(V|=n.Wb,u&32768&&(V|=n.ac),u&1&&(V|=n.bc)),u&32768&&(V|=n.Yb),u&1&&(V|=n.ob),V&&(0!==(V&n.Yb)&&(15>x?N|=1<<x+1:0<y&&0<ra&&(P[y-1]|=1)),0!==(V&n.ob)&&(0<x?N|=1<<x-1:y<O-1&&ra<L-1&&(P[y+1]|=32768)),0!==(V&n.Wb)&&
(Q|=1<<x),0!==(V&n.Db)&&(ja|=1<<x),0!==(V&n.ac)&&(15>x?Q|=1<<x+1:0<y&&0<ra&&(ma[y-1]|=1)),0!==(V&n.bc)&&(0<x?Q|=1<<x-1:y<O-1&&ra<L-1&&(ma[y+1]|=32768)),0!==(V&n.hc)&&(15>x?ja|=1<<x+1:0<y&&0<ra&&(W[y-1]|=1)),0!==(V&n.Cb)&&(0<x?ja|=1<<x-1:y<O-1&&ra<L-1&&(W[y+1]|=32768))));z[A]|=B}ra+=16;la+=16}P[y]|=N;X[y]=m|N;ea[y]=ea[y]|m|N;0<A&&(ma[y]|=Q);A<oa-1&&(W[y]|=ja)}else ra+=256,la+=256;ha+=16;Y+=16}for(y=0;y<M;y+=1)f[y]&&(y<S&&(S=y),y>pa&&(pa=y));for(A=0;A<z.length;A+=1)z[A]&&(A<K&&(K=A),A>J&&(J=A));S=(S<<
4)+this.G(f[S]);pa=(pa<<4)+this.Y(f[pa]);K=(K<<4)+this.G(z[K]);J=(J<<4)+this.Y(z[J]);0>J&&(J=I-1);K>=I&&(K=0);S>=L&&(S=0);0>pa&&(pa=L-1);J>I-1&&(J=I-1);0>K&&(K=0);0>S&&(S=0);pa>L-1&&(pa=L-1);H.v=J;H.s=K;H.o=S;H.u=pa;ba.fill(0);ha=0;Y=ha+16;for(A=0;A<ka.length;A+=1){ra=0;U=ka[A];P=aa[A];for(y=0;y<O;y+=1)if(m=U[y],N=P[y],m!==N)for(x=15;0<=x;--x){if((m&1<<x)!==(N&1<<x)&&0===(N&1<<x))for(T=ha;T<Y;T+=1)qa=Z[T],na=ra>>2,qa[na]=0,qa[na+1]=0,qa[na+2]=0,qa[na+3]=0;ra+=16}else ra+=256;ha+=16;Y+=16}this.ga=
E;this.sb=G;this.$a=F;this.X=E};q.prototype.xF=function(){var a=this.ph;var c=a[0],d=a[1],e=a[2],l=a[3],k=a[4],p=a[5],r=a[6],t=a[7],v=a[8],x=this.re,A=this.oh,y,D,b,m,f,u,z=this.ya,B=this.Oa,C,E=this.na,G,F=this.ab,I,L,M=0,H=0,K=0,J=this.height,S=this.width,pa=S>>4,oa=this.N,O=J,ba=-1,R=S,Z=-1,fa=this.va,ka=this.ra>>4,aa=this.Bd;if(0!==(this.counter&1)){var ha=this.Ga;var Y=this.Ca;var ra=this.U;var la=this.wa;var U=this.ka}else ha=this.U,Y=this.ge,ra=this.Ga,la=this.ka,U=this.wa;E.fill(0);F.fill(0);
var P=0;var X=P+16;U.Ha.fill(0);for(f=0;f<la.length;f+=1){var ea=0;var ma=ea+16;var W=la[f];var N=U[f];var Q=B[f];var ja=z[f];var V=0<f?U[f-1]:aa;var T=f<fa-1?U[f+1]:aa;for(u=0;u<ka;u+=1)if(C=W[u]){var qa=N[u];var za=V[u];var wa=T[u];for(m=15;0<=m;--m){if(0!==(C&1<<m)){var va=I=G=0;var na=P;for(L=32768;na<X;){a=0===na?this.zc:ha[na-1];var ca=ha[na];var ia=na===this.height-1?this.zc:ha[na+1];var da=ra[na];var ua=32768;var ta=ea;if(0===ta)var xa=b=y=0;else y=a[ta-1],b=ia[ta-1],xa=ca[ta-1];var sa=a[ta];
var ya=ia[ta];for(D=ca[ta];ta<ma-1;){var Ea=y;y=sa;sa=a[ta+1];var Ca=xa;xa=D;D=ca[ta+1];var Ia=b;b=ya;ya=ia[ta+1];var Ha=xa;var Ka=c[xa];var Ga=d[y];var Ja=e[sa];var La=l[D];var Ma=k[ya];var Na=p[b];Ia=r[Ia];var Oa=t[Ca];var Pa=v[Ea];for(Ca=0;Ca<A;Ca+=1)if(Ea=Ka[Ca]&Ga[Ca])if(Ea&=Ja[Ca]&La[Ca])if(Ea&=Ma[Ca]&Na[Ca])if(Ea&=Ia[Ca]&Oa[Ca]&Pa[Ca]){Ga=0;for(Ja=1;!(Ea&Ja);)Ga+=1,Ja<<=1;Ha=x[(Ca<<5)+Ga];break}da[ta]=Ha;0<Ha?(M+=1,0===xa&&(H+=1),I|=L,G|=ua):0<xa&&(K+=1);ua>>=1;ta+=1}Ea=y;y=sa;Ca=xa;xa=D;Ia=
b;b=ya;ta===S-1?ya=D=sa=0:(sa=a[ta+1],D=ca[ta+1],ya=ia[ta+1]);Ka=c[xa];Ga=d[y];Ja=e[sa];La=l[D];Ma=k[ya];Na=p[b];Ia=r[Ia];Oa=t[Ca];Pa=v[Ea];Ha=xa;for(Ca=0;Ca<A;Ca+=1)if(Ea=Ka[Ca]&Ga[Ca])if(Ea&=Ja[Ca]&La[Ca])if(Ea&=Ma[Ca]&Na[Ca])if(Ea&=Ia[Ca]&Oa[Ca]&Pa[Ca]){Ga=0;for(Ja=1;!(Ea&Ja);)Ga+=1,Ja<<=1;Ha=x[(Ca<<5)+Ga];break}da[ta]=Ha;0<Ha?(M+=1,0===xa&&(H+=1),I|=L,G|=ua):0<xa&&(K+=1);na+=1;L>>=1}E[ea>>4]|=G;G&&(qa|=1<<m,I&1&&(va|=n.Db,G&32768&&(va|=n.hc),G&1&&(va|=n.Cb)),I&32768&&(va|=n.Wb,G&32768&&(va|=n.ac),
G&1&&(va|=n.bc)),G&32768&&(va|=n.Yb),G&1&&(va|=n.ob),va&&(0!==(va&n.Yb)&&(15>m?qa|=1<<m+1:0<u&&0<ea&&(N[u-1]|=1)),0!==(va&n.ob)&&(0<m?qa|=1<<m-1:u<ka-1&&ea<S-1&&(N[u+1]|=32768)),0!==(va&n.Wb)&&(za|=1<<m),0!==(va&n.Db)&&(wa|=1<<m),0!==(va&n.ac)&&(15>m?za|=1<<m+1:0<u&&0<ea&&(V[u-1]|=1)),0!==(va&n.bc)&&(0<m?za|=1<<m-1:u<ka-1&&ea<S-1&&(V[u+1]|=32768)),0!==(va&n.hc)&&(15>m?wa|=1<<m+1:0<u&&0<ea&&(T[u-1]|=1)),0!==(va&n.Cb)&&(0<m?wa|=1<<m-1:u<ka-1&&ea<S-1&&(T[u+1]|=32768))));F[f]|=I}ea+=16;ma+=16}N[u]|=qa;
Q[u]=C|qa;ja[u]=ja[u]|C|qa;0<f&&(V[u]|=za);f<fa-1&&(T[u]|=wa)}else ea+=256,ma+=256;P+=16;X+=16}for(u=0;u<pa;u+=1)E[u]&&(u<R&&(R=u),u>Z&&(Z=u));for(f=0;f<F.length;f+=1)F[f]&&(f<O&&(O=f),f>ba&&(ba=f));R=(R<<4)+this.G(E[R]);Z=(Z<<4)+this.Y(E[Z]);O=(O<<4)+this.G(F[O]);ba=(ba<<4)+this.Y(F[ba]);0>ba&&(ba=J-1);O>=J&&(O=0);R>=S&&(R=0);0>Z&&(Z=S-1);ba>J-1&&(ba=J-1);0>O&&(O=0);0>R&&(R=0);Z>S-1&&(Z=S-1);oa.v=ba;oa.s=O;oa.o=R;oa.u=Z;aa.fill(0);P=0;X=P+16;for(f=0;f<la.length;f+=1){ea=0;W=la[f];N=U[f];for(u=0;u<
ka;u+=1)if(C=W[u],qa=N[u],C!==qa)for(m=15;0<=m;--m){if((C&1<<m)!==(qa&1<<m)&&0===(qa&1<<m))for(na=P;na<X;na+=1)ca=Y[na],ta=ea>>2,ca[ta]=0,ca[ta+1]=0,ca[ta+2]=0,ca[ta+3]=0;ea+=16}else ea+=256;P+=16;X+=16}this.ga=M;this.sb=H;this.$a=K;this.X=M};q.prototype.nF=function(){var a=this.ph;var c=a[0],d=a[1],e=a[2],l=a[3],k=a[4],p=a[5],r=a[6],t=this.re,v=this.oh,x,A,y,D,b,m=this.ya,f=this.Oa,u,z=this.na,B,C=this.ab,E,G,F=0,I=0,L=0,M=this.height,H=this.width,K=H>>4,J=this.N,S=M,pa=-1,oa=H,O=-1,ba=this.va,R=
this.ra>>4,Z=this.Bd;if(0!==(this.counter&1)){var fa=this.Ga;var ka=this.Ca;var aa=this.U;var ha=this.wa;var Y=this.ka}else fa=this.U,ka=this.ge,aa=this.Ga,ha=this.ka,Y=this.wa;z.fill(0);C.fill(0);var ra=0;var la=ra+16;Y.Ha.fill(0);for(D=0;D<ha.length;D+=1){var U=0;var P=U+16;var X=ha[D];var ea=Y[D];var ma=f[D];var W=m[D];var N=0<D?Y[D-1]:Z;var Q=D<ba-1?Y[D+1]:Z;for(b=0;b<R;b+=1)if(u=X[b]){var ja=ea[b];var V=N[b];var T=Q[b];for(y=15;0<=y;--y){if(0!==(u&1<<y)){var qa=E=B=0;var za=ra;for(G=32768;za<
la;){a=0===za?this.zc:fa[za-1];var wa=fa[za];var va=za===this.height-1?this.zc:fa[za+1];var na=aa[za];var ca=32768;var ia=U;if(0===ia)var da=x=0;else x=a[ia-1],da=wa[ia-1];var ua=va[ia];for(A=wa[ia];ia<P-1;){var ta=x;x=a[ia];var xa=da;da=A;A=wa[ia+1];var sa=ua;ua=va[ia+1];var ya=c[da];var Ea=d[x];var Ca=e[A];var Ia=l[ua];sa=k[sa];var Ha=p[xa];var Ka=r[ta];var Ga=da;for(xa=0;xa<v;xa+=1)if(ta=ya[xa]&Ea[xa])if(ta&=Ca[xa]&Ia[xa])if(ta&=sa[xa]&Ha[xa]&Ka[xa]){Ea=0;for(Ca=1;!(ta&Ca);)Ea+=1,Ca<<=1;Ga=t[(xa<<
5)+Ea];break}na[ia]=Ga;0<Ga?(F+=1,0===da&&(I+=1),E|=G,B|=ca):0<da&&(L+=1);ca>>=1;ia+=1}ta=x;x=a[ia];xa=da;da=A;sa=ua;ia===H-1?ua=A=0:(A=wa[ia+1],ua=va[ia+1]);ya=c[da];Ea=d[x];Ca=e[A];Ia=l[ua];sa=k[sa];Ha=p[xa];Ka=r[ta];Ga=da;for(xa=0;xa<v;xa+=1)if(ta=ya[xa]&Ea[xa])if(ta&=Ca[xa]&Ia[xa])if(ta&=sa[xa]&Ha[xa]&Ka[xa]){Ea=0;for(Ca=1;!(ta&Ca);)Ea+=1,Ca<<=1;Ga=t[(xa<<5)+Ea];break}na[ia]=Ga;0<Ga?(F+=1,0===da&&(I+=1),E|=G,B|=ca):0<da&&(L+=1);za+=1;G>>=1}z[U>>4]|=B;B&&(ja|=1<<y,E&1&&(qa|=n.Db,B&32768&&(qa|=
n.hc),B&1&&(qa|=n.Cb)),E&32768&&(qa|=n.Wb,B&32768&&(qa|=n.ac),B&1&&(qa|=n.bc)),B&32768&&(qa|=n.Yb),B&1&&(qa|=n.ob),qa&&(0!==(qa&n.Yb)&&(15>y?ja|=1<<y+1:0<b&&0<U&&(ea[b-1]|=1)),0!==(qa&n.ob)&&(0<y?ja|=1<<y-1:b<R-1&&U<H-1&&(ea[b+1]|=32768)),0!==(qa&n.Wb)&&(V|=1<<y),0!==(qa&n.Db)&&(T|=1<<y),0!==(qa&n.ac)&&(15>y?V|=1<<y+1:0<b&&0<U&&(N[b-1]|=1)),0!==(qa&n.bc)&&(0<y?V|=1<<y-1:b<R-1&&U<H-1&&(N[b+1]|=32768)),0!==(qa&n.hc)&&(15>y?T|=1<<y+1:0<b&&0<U&&(Q[b-1]|=1)),0!==(qa&n.Cb)&&(0<y?T|=1<<y-1:b<R-1&&U<H-1&&
(Q[b+1]|=32768))));C[D]|=E}U+=16;P+=16}ea[b]|=ja;ma[b]=u|ja;W[b]=W[b]|u|ja;0<D&&(N[b]|=V);D<ba-1&&(Q[b]|=T)}else U+=256,P+=256;ra+=16;la+=16}for(b=0;b<K;b+=1)z[b]&&(b<oa&&(oa=b),b>O&&(O=b));for(D=0;D<C.length;D+=1)C[D]&&(D<S&&(S=D),D>pa&&(pa=D));oa=(oa<<4)+this.G(z[oa]);O=(O<<4)+this.Y(z[O]);S=(S<<4)+this.G(C[S]);pa=(pa<<4)+this.Y(C[pa]);0>pa&&(pa=M-1);S>=M&&(S=0);oa>=H&&(oa=0);0>O&&(O=H-1);pa>M-1&&(pa=M-1);0>S&&(S=0);0>oa&&(oa=0);O>H-1&&(O=H-1);J.v=pa;J.s=S;J.o=oa;J.u=O;Z.fill(0);ra=0;la=ra+16;for(D=
0;D<ha.length;D+=1){U=0;X=ha[D];ea=Y[D];for(b=0;b<R;b+=1)if(u=X[b],ja=ea[b],u!==ja)for(y=15;0<=y;--y){if((u&1<<y)!==(ja&1<<y)&&0===(ja&1<<y))for(za=ra;za<la;za+=1)wa=ka[za],ia=U>>2,wa[ia]=0,wa[ia+1]=0,wa[ia+2]=0,wa[ia+3]=0;U+=16}else U+=256;ra+=16;la+=16}this.ga=F;this.sb=I;this.$a=L;this.X=F};q.prototype.MF=function(){if(4===this.Ug)if(null!==this.ze)switch(this.iw){case 1:this.PF();break;case 2:this.Hy();break;case 3:this.Ky();break;case 4:this.My();break;default:this.Ou()}else this.Ou();else this.NF()};
q.prototype.Ou=function(){var a=this.jl,c=this.kl,d=this.im,e=0,l,k,p,r=this.ya,t=this.Oa,v,x=this.te,A=this.na,y,D=this.ab,b,m=0,f=0,u=0,z=this.height,B=this.width,C=B>>4,E=this.N,G=z,F=-1,I=B,L=-1,M=this.va,H=this.ra>>4,K=this.Bd;if(0!==(this.counter&1)){var J=this.Ga;var S=this.Ca;var pa=this.ge;var oa=this.wa;var O=this.ka}else J=this.U,S=this.ge,pa=this.Ca,oa=this.ka,O=this.wa;A.fill(0);D.fill(0);var ba=0;var R=ba+16;O.Ha.fill(0);for(k=0;k<oa.length;k+=1){var Z=0;var fa=oa[k];var ka=O[k];var aa=
t[k];var ha=r[k];var Y=x[k];var ra=0<k?O[k-1]:K;var la=k<M-1?O[k+1]:K;for(p=0;p<H;p+=1)if(v=fa[p]){var U=ka[p];var P=ra[p];var X=la[p];var ea=Y[p];for(l=15;0<=l;--l){if(0!==(v&1<<l)){var ma=b=y=0;var W=ba;var N=32768;var Q=0;if(0!==(ea&1<<l)){for(;W<R;){var ja=W===ba||W===R-1?!0:!1;var V=0===W?this.zc:J[W-1];var T=J[W];var qa=W===this.height-1?this.zc:J[W+1];var za=pa[W];var wa=32768;var va=0;var na=Z;0===na?e=0:e=T[na-1];var ca=T[na];var ia=e;e=ca;var da=V[na];ca=T[na+1];var ua=qa[na];var ta=da=
c[a[a[a[a[d+da]+ia]+ca]+ua]+e];Q|=da-e;0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1);wa>>=1;na+=1;ja?(ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<8,Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<16,Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<24,za[na>>2]=ta,Q|=
da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],ta=da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<8,Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<16,Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,
na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<24,za[na>>2]=ta,Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],ta=da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<8,Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],
da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<16,Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<24,za[na>>2]=ta,Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],ta=da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<8,
Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<16,Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1)):(da=T[na],ta|=da<<8,0<da&&(m+=1,va|=wa),wa>>=1,na+=1,da=T[na],ta|=da<<16,0<da&&(m+=1,va|=wa),wa>>=1,na+=1,da=T[na],ta|=da<<24,za[na>>2]=ta,0<da&&(m+=1,va|=wa),wa>>=1,na+=1,0<T[na]&&(m+=1,va|=wa),wa>>=1,na+=1,0<T[na]&&(m+=1,va|=wa),wa>>=1,na+=1,0<T[na]&&(m+=1,va|=wa),wa>>=1,na+=1,0<T[na]&&(m+=1,va|=
wa),wa>>=1,na+=1,0<T[na]&&(m+=1,va|=wa),wa>>=1,na+=1,0<T[na]&&(m+=1,va|=wa),wa>>=1,na+=1,0<T[na]&&(m+=1,va|=wa),wa>>=1,na+=1,0<T[na]&&(m+=1,va|=wa),wa>>=1,na+=1,ta=da=T[na],0<da&&(m+=1,va|=wa),wa>>=1,na+=1,da=T[na],ta|=da<<8,0<da&&(m+=1,va|=wa),wa>>=1,na+=1,e=T[na],ta|=e<<16,ca=T[na+1],0<e&&(m+=1,va|=wa));wa>>=1;na+=1;ia=e;e=ca;da=V[na];na===B-1?ca=0:ca=T[na+1];ua=qa[na];da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e];ta|=da<<24;za[na>>2]=ta;Q|=da-e;0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1);va&&(y|=va,b|=N);
W+=1;N>>=1}0!==Q&&(ea&=~(1<<l))}else{for(;W<R;)V=0===W?this.zc:J[W-1],T=J[W],qa=W===this.height-1?this.zc:J[W+1],za=pa[W],wa=32768,va=0,na=Z,0===na?e=0:e=T[na-1],ca=T[na],ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],ta=da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<8,Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],
da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<16,Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<24,za[na>>2]=ta,Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],ta=da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<8,
Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<16,Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<24,za[na>>2]=ta,Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],ta=da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<
e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<8,Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<16,Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<24,za[na>>2]=ta,Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=
V[na],ca=T[na+1],ua=qa[na],ta=da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<8,Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+ia]+ca]+ua]+e],ta|=da<<16,Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),wa>>=1,na+=1,ia=e,e=ca,da=V[na],na===B-1?ca=0:ca=T[na+1],ua=qa[na],da=c[a[a[a[a[d+da]+
ia]+ca]+ua]+e],ta|=da<<24,za[na>>2]=ta,Q|=da-e,0<da?(m+=1,0===e&&(f+=1),va|=wa):0<e&&(u+=1),va&&(y|=va,b|=N),W+=1,N>>=1;0===Q&&y&&(ea|=1<<l)}A[Z>>4]|=y;y&&(U|=1<<l,b&1&&(ma|=n.Db,y&32768&&(ma|=n.hc),y&1&&(ma|=n.Cb)),b&32768&&(ma|=n.Wb,y&32768&&(ma|=n.ac),y&1&&(ma|=n.bc)),y&32768&&(ma|=n.Yb),y&1&&(ma|=n.ob),ma&&(0!==(ma&n.Yb)&&(15>l?U|=1<<l+1:0<p&&0<Z&&(ka[p-1]|=1)),0!==(ma&n.ob)&&(0<l?U|=1<<l-1:p<H-1&&Z<B-1&&(ka[p+1]|=32768)),0!==(ma&n.Wb)&&(P|=1<<l),0!==(ma&n.Db)&&(X|=1<<l),0!==(ma&n.ac)&&(15>l?
P|=1<<l+1:0<p&&0<Z&&(ra[p-1]|=1)),0!==(ma&n.bc)&&(0<l?P|=1<<l-1:p<H-1&&Z<B-1&&(ra[p+1]|=32768)),0!==(ma&n.hc)&&(15>l?X|=1<<l+1:0<p&&0<Z&&(la[p-1]|=1)),0!==(ma&n.Cb)&&(0<l?X|=1<<l-1:p<H-1&&Z<B-1&&(la[p+1]|=32768))));D[k]|=b}Z+=16}ka[p]|=U;Y[p]=ea;aa[p]=v|U;ha[p]=ha[p]|v|U;0<k&&(ra[p]|=P);k<M-1&&(la[p]|=X)}else Z+=256;ba+=16;R+=16}for(p=0;p<C;p+=1)A[p]&&(p<I&&(I=p),p>L&&(L=p));for(k=0;k<D.length;k+=1)D[k]&&(k<G&&(G=k),k>F&&(F=k));I=(I<<4)+this.G(A[I]);L=(L<<4)+this.Y(A[L]);G=(G<<4)+this.G(D[G]);F=(F<<
4)+this.Y(D[F]);0>F&&(F=z-1);G>=z&&(G=0);I>=B&&(I=0);0>L&&(L=B-1);F>z-1&&(F=z-1);0>G&&(G=0);0>I&&(I=0);L>B-1&&(L=B-1);E.v=F;E.s=G;E.o=I;E.u=L;K.fill(0);ba=0;R=ba+16;for(k=0;k<oa.length;k+=1){Z=0;fa=oa[k];ka=O[k];for(p=0;p<H;p+=1)if(v=fa[p],U=ka[p],v!==U)for(l=15;0<=l;--l){if((v&1<<l)!==(U&1<<l)&&0===(U&1<<l))for(W=ba;W<R;W+=1)T=S[W],na=Z>>2,T[na]=0,T[na+1]=0,T[na+2]=0,T[na+3]=0;Z+=16}else Z+=256;ba+=16;R+=16}this.ga=m;this.sb=f;this.$a=u;this.X=m};q.prototype.NF=function(){var a=this.jl,c=this.kl,
d=this.im,e,l,k,p,r,t=this.ya,v=this.Oa,x,A=this.te,y=this.na,D,b=this.ab,m,f=0,u=0,z=0,B=this.height,C=this.width,E=C>>4,G=this.N,F=B,I=-1,L=C,M=-1,H=this.va,K=this.ra>>4,J=this.Bd;if(0!==(this.counter&1)){var S=this.Ga;var pa=this.Ca;var oa=this.U;var O=this.wa;var ba=this.ka}else S=this.U,pa=this.ge,oa=this.Ga,O=this.ka,ba=this.wa;y.fill(0);b.fill(0);var R=0;var Z=R+16;ba.Ha.fill(0);for(p=0;p<O.length;p+=1){var fa=0;var ka=O[p];var aa=ba[p];var ha=v[p];var Y=t[p];var ra=A[p];var la=0<p?ba[p-1]:
J;var U=p<H-1?ba[p+1]:J;for(r=0;r<K;r+=1)if(x=ka[r]){var P=aa[r];var X=la[r];var ea=U[r];var ma=ra[r];for(k=15;0<=k;--k){if(0!==(x&1<<k)){var W=m=D=0;var N=R;var Q=32768;var ja=0;if(0!==(ma&1<<k)){for(;N<Z;){var V=N===R||N===Z-1?!0:!1;var T=0===N?this.zc:S[N-1];var qa=S[N];var za=N===this.height-1?this.zc:S[N+1];var wa=oa[N];var va=32768;var na=0;var ca=fa;if(0===ca)var ia=l=e=0;else e=T[ca-1],l=za[ca-1],ia=qa[ca-1];var da=T[ca];var ua=za[ca];var ta=qa[ca];var xa=e;e=da;da=T[ca+1];var sa=ia;ia=ta;
ta=qa[ca+1];var ya=l;l=ua;ua=za[ca+1];sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia];ja|=sa-ia;wa[ca]=sa;0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1);va>>=1;ca+=1;V?(xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+
ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,
da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+
e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=
1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+
da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=
1)):(0<qa[ca]&&(f+=1,na|=va),va>>=1,ca+=1,0<qa[ca]&&(f+=1,na|=va),va>>=1,ca+=1,0<qa[ca]&&(f+=1,na|=va),va>>=1,ca+=1,0<qa[ca]&&(f+=1,na|=va),va>>=1,ca+=1,0<qa[ca]&&(f+=1,na|=va),va>>=1,ca+=1,0<qa[ca]&&(f+=1,na|=va),va>>=1,ca+=1,0<qa[ca]&&(f+=1,na|=va),va>>=1,ca+=1,0<qa[ca]&&(f+=1,na|=va),va>>=1,ca+=1,0<qa[ca]&&(f+=1,na|=va),va>>=1,ca+=1,0<qa[ca]&&(f+=1,na|=va),va>>=1,ca+=1,0<qa[ca]&&(f+=1,na|=va),va>>=1,ca+=1,0<qa[ca]&&(f+=1,na|=va),va>>=1,ca+=1,0<qa[ca]&&(f+=1,na|=va),va>>=1,ca+=1,e=T[ca],ia=qa[ca],
l=za[ca],da=T[ca+1],ta=qa[ca+1],ua=za[ca+1],0<ia&&(f+=1,na|=va));va>>=1;ca+=1;xa=e;e=da;sa=ia;ia=ta;ya=l;l=ua;ca===C-1?ua=ta=da=0:(da=T[ca+1],ta=qa[ca+1],ua=za[ca+1]);sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia];ja|=sa-ia;wa[ca]=sa;0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1);na&&(D|=na,m|=Q);N+=1;Q>>=1}0!==ja&&(ma&=~(1<<k))}else{for(;N<Z;)T=0===N?this.zc:S[N-1],qa=S[N],za=N===this.height-1?this.zc:S[N+1],wa=oa[N],va=32768,na=0,ca=fa,0===ca?ia=l=e=0:(e=T[ca-1],l=za[ca-1],ia=qa[ca-1]),
da=T[ca],ua=za[ca],ta=qa[ca],xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+
1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===
ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=
l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=
sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=
ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,da=T[ca+1],sa=ia,ia=ta,ta=qa[ca+1],ya=l,l=ua,ua=za[ca+1],sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],
ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),va>>=1,ca+=1,xa=e,e=da,sa=ia,ia=ta,ya=l,l=ua,ca===C-1?ua=ta=da=0:(da=T[ca+1],ta=qa[ca+1],ua=za[ca+1]),sa=c[a[a[a[a[a[a[a[a[d+xa]+da]+ya]+ua]+e]+sa]+ta]+l]+ia],ja|=sa-ia,wa[ca]=sa,0<sa?(f+=1,0===ia&&(u+=1),na|=va):0<ia&&(z+=1),na&&(D|=na,m|=Q),N+=1,Q>>=1;0===ja&&D&&(ma|=1<<k)}y[fa>>4]|=D;D&&(P|=1<<k,m&1&&(W|=n.Db,D&32768&&(W|=n.hc),D&1&&(W|=n.Cb)),m&32768&&(W|=n.Wb,D&32768&&(W|=n.ac),D&1&&(W|=n.bc)),D&32768&&(W|=n.Yb),D&1&&(W|=n.ob),
W&&(0!==(W&n.Yb)&&(15>k?P|=1<<k+1:0<r&&0<fa&&(aa[r-1]|=1)),0!==(W&n.ob)&&(0<k?P|=1<<k-1:r<K-1&&fa<C-1&&(aa[r+1]|=32768)),0!==(W&n.Wb)&&(X|=1<<k),0!==(W&n.Db)&&(ea|=1<<k),0!==(W&n.ac)&&(15>k?X|=1<<k+1:0<r&&0<fa&&(la[r-1]|=1)),0!==(W&n.bc)&&(0<k?X|=1<<k-1:r<K-1&&fa<C-1&&(la[r+1]|=32768)),0!==(W&n.hc)&&(15>k?ea|=1<<k+1:0<r&&0<fa&&(U[r-1]|=1)),0!==(W&n.Cb)&&(0<k?ea|=1<<k-1:r<K-1&&fa<C-1&&(U[r+1]|=32768))));b[p]|=m}fa+=16}aa[r]|=P;ra[r]=ma;ha[r]=x|P;Y[r]=Y[r]|x|P;0<p&&(la[r]|=X);p<H-1&&(U[r]|=ea)}else fa+=
256;R+=16;Z+=16}for(r=0;r<E;r+=1)y[r]&&(r<L&&(L=r),r>M&&(M=r));for(p=0;p<b.length;p+=1)b[p]&&(p<F&&(F=p),p>I&&(I=p));L=(L<<4)+this.G(y[L]);M=(M<<4)+this.Y(y[M]);F=(F<<4)+this.G(b[F]);I=(I<<4)+this.Y(b[I]);0>I&&(I=B-1);F>=B&&(F=0);L>=C&&(L=0);0>M&&(M=C-1);I>B-1&&(I=B-1);0>F&&(F=0);0>L&&(L=0);M>C-1&&(M=C-1);G.v=I;G.s=F;G.o=L;G.u=M;J.fill(0);R=0;Z=R+16;for(p=0;p<O.length;p+=1){fa=0;ka=O[p];aa=ba[p];for(r=0;r<K;r+=1)if(x=ka[r],P=aa[r],x!==P)for(k=15;0<=k;--k){if((x&1<<k)!==(P&1<<k)&&0===(P&1<<k))for(N=
R;N<Z;N+=1)qa=pa[N],ca=fa>>2,qa[ca]=0,qa[ca+1]=0,qa[ca+2]=0,qa[ca+3]=0;fa+=16}else fa+=256;R+=16;Z+=16}this.ga=f;this.sb=u;this.$a=z;this.X=f};q.prototype.PF=function(){var a=this.ze,c,d,e,l=this.ya,k=this.Oa,p=null,r=null,t,v=this.na,x,A=this.ab,y,D,b=0,m=0,f=0,u=this.height,z=this.width,B=z>>4,C=this.N,E=u,G=-1,F=z,I=-1,L=this.va,M=this.ra>>4,H=this.Bd;if(0!==(this.counter&1)){var K=this.Ga;var J=this.Ca;var S=this.ge;var pa=this.wa;var oa=this.ka}else K=this.U,J=this.ge,S=this.Ca,pa=this.ka,oa=
this.wa;v.fill(0);A.fill(0);var O=0;var ba=O+16;oa.Ha.fill(0);for(d=0;d<pa.length;d+=1){var R=0;var Z=pa[d];var fa=oa[d];var ka=k[d];var aa=l[d];0<d?p=oa[d-1]:p=H;d<L-1?r=oa[d+1]:r=H;for(e=0;e<M;e+=1)if(t=Z[e]){var ha=fa[e];var Y=p[e];var ra=r[e];for(c=15;0<=c;--c){if(0!==(t&1<<c)){var la=y=x=0;var U=O;for(D=32768;U<ba;){var P=0===U?this.zc:K[U-1];var X=K[U];var ea=U===this.height-1?this.zc:K[U+1];var ma=S[U];var W=32768;var N=R;var Q=P[N];var ja=X[N+1];var V=ea[N];var T=0===N?X[N]<<3|ja<<2|Q<<1|
V:X[N-1]<<4|X[N]<<3|ja<<2|Q<<1|V;var qa=a[T];0<qa?(b+=1,0===(T&8)&&(m+=1),y|=D,x|=W):0!==(T&8)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<1&24|ja<<2|Q<<1|V;Q=a[T];qa|=Q<<8;0<Q?(b+=1,0===(T&8)&&(m+=1),y|=D,x|=W):0!==(T&8)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<1&24|ja<<2|Q<<1|V;Q=a[T];qa|=Q<<16;0<Q?(b+=1,0===(T&8)&&(m+=1),y|=D,x|=W):0!==(T&8)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<1&24|ja<<2|Q<<1|V;Q=a[T];qa|=Q<<24;ma[N>>2]=qa;0<Q?(b+=1,0===(T&8)&&(m+=1),y|=D,x|=W):0!==(T&
8)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<1&24|ja<<2|Q<<1|V;qa=a[T];0<qa?(b+=1,0===(T&8)&&(m+=1),y|=D,x|=W):0!==(T&8)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<1&24|ja<<2|Q<<1|V;Q=a[T];qa|=Q<<8;0<Q?(b+=1,0===(T&8)&&(m+=1),y|=D,x|=W):0!==(T&8)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<1&24|ja<<2|Q<<1|V;Q=a[T];qa|=Q<<16;0<Q?(b+=1,0===(T&8)&&(m+=1),y|=D,x|=W):0!==(T&8)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<1&24|ja<<2|Q<<1|V;Q=a[T];qa|=Q<<24;ma[N>>2]=qa;0<Q?(b+=1,0===
(T&8)&&(m+=1),y|=D,x|=W):0!==(T&8)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<1&24|ja<<2|Q<<1|V;qa=a[T];0<qa?(b+=1,0===(T&8)&&(m+=1),y|=D,x|=W):0!==(T&8)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<1&24|ja<<2|Q<<1|V;Q=a[T];qa|=Q<<8;0<Q?(b+=1,0===(T&8)&&(m+=1),y|=D,x|=W):0!==(T&8)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<1&24|ja<<2|Q<<1|V;Q=a[T];qa|=Q<<16;0<Q?(b+=1,0===(T&8)&&(m+=1),y|=D,x|=W):0!==(T&8)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<1&24|ja<<2|Q<<1|V;Q=a[T];qa|=
Q<<24;ma[N>>2]=qa;0<Q?(b+=1,0===(T&8)&&(m+=1),y|=D,x|=W):0!==(T&8)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<1&24|ja<<2|Q<<1|V;qa=a[T];0<qa?(b+=1,0===(T&8)&&(m+=1),y|=D,x|=W):0!==(T&8)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<1&24|ja<<2|Q<<1|V;Q=a[T];qa|=Q<<8;0<Q?(b+=1,0===(T&8)&&(m+=1),y|=D,x|=W):0!==(T&8)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<1&24|ja<<2|Q<<1|V;Q=a[T];qa|=Q<<16;0<Q?(b+=1,0===(T&8)&&(m+=1),y|=D,x|=W):0!==(T&8)&&(f+=1);W>>=1;N+=1;Q=P[N];N===z-1?ja=0:ja=X[N+
1];V=ea[N];T=T<<1&24|ja<<2|Q<<1|V;Q=a[T];qa|=Q<<24;ma[N>>2]=qa;0<Q?(b+=1,0===(T&3584)&&(m+=1),y|=D,x|=W):0!==(T&3584)&&(f+=1);U+=1;D>>=1}v[R>>4]|=x;x&&(ha|=1<<c,y&1&&(la|=n.Db,x&32768&&(la|=n.hc),x&1&&(la|=n.Cb)),y&32768&&(la|=n.Wb,x&32768&&(la|=n.ac),x&1&&(la|=n.bc)),x&32768&&(la|=n.Yb),x&1&&(la|=n.ob),la&&(0!==(la&n.Yb)&&(15>c?ha|=1<<c+1:0<e&&0<R&&(fa[e-1]|=1)),0!==(la&n.ob)&&(0<c?ha|=1<<c-1:e<M-1&&R<z-1&&(fa[e+1]|=32768)),0!==(la&n.Wb)&&(Y|=1<<c),0!==(la&n.Db)&&(ra|=1<<c),0!==(la&n.ac)&&(15>c?
Y|=1<<c+1:0<e&&0<R&&(p[e-1]|=1)),0!==(la&n.bc)&&(0<c?Y|=1<<c-1:e<M-1&&R<z-1&&(p[e+1]|=32768)),0!==(la&n.hc)&&(15>c?ra|=1<<c+1:0<e&&0<R&&(r[e-1]|=1)),0!==(la&n.Cb)&&(0<c?ra|=1<<c-1:e<M-1&&R<z-1&&(r[e+1]|=32768))));A[d]|=y}R+=16}fa[e]|=ha;ka[e]=t|ha;aa[e]=aa[e]|t|ha;0<d&&(p[e]|=Y);d<L-1&&(r[e]|=ra)}else R+=256;O+=16;ba+=16}for(e=0;e<B;e+=1)v[e]&&(e<F&&(F=e),e>I&&(I=e));for(d=0;d<A.length;d+=1)A[d]&&(d<E&&(E=d),d>G&&(G=d));F=(F<<4)+this.G(v[F]);I=(I<<4)+this.Y(v[I]);E=(E<<4)+this.G(A[E]);G=(G<<4)+this.Y(A[G]);
0>G&&(G=u-1);E>=u&&(E=0);F>=z&&(F=0);0>I&&(I=z-1);G>u-1&&(G=u-1);0>E&&(E=0);0>F&&(F=0);I>z-1&&(I=z-1);C.v=G;C.s=E;C.o=F;C.u=I;H.fill(0);O=0;ba=O+16;for(d=0;d<pa.length;d+=1){R=0;Z=pa[d];fa=oa[d];for(e=0;e<M;e+=1)if(t=Z[e],ha=fa[e],t!==ha)for(c=15;0<=c;--c){if((t&1<<c)!==(ha&1<<c)&&0===(ha&1<<c))for(U=O;U<ba;U+=1)X=J[U],N=R>>2,X[N]=0,X[N+1]=0,X[N+2]=0,X[N+3]=0;R+=16}else R+=256;O+=16;ba+=16}this.ga=b;this.sb=m;this.$a=f;this.X=b};q.prototype.Hy=function(){var a=this.ze,c,d,e,l=this.ya,k=this.Oa,p=
null,r=null,t,v=this.na,x,A=this.ab,y,D,b=0,m=0,f=0,u=this.height,z=this.width,B=z>>4,C=this.N,E=u,G=-1,F=z,I=-1,L=this.va,M=this.ra>>4,H=this.Bd;if(0!==(this.counter&1)){var K=this.Ga;var J=this.Ca;var S=this.ge;var pa=this.wa;var oa=this.ka}else K=this.U,J=this.ge,S=this.Ca,pa=this.ka,oa=this.wa;v.fill(0);A.fill(0);var O=0;var ba=O+16;oa.Ha.fill(0);for(d=0;d<pa.length;d+=1){var R=0;var Z=pa[d];var fa=oa[d];var ka=k[d];var aa=l[d];0<d?p=oa[d-1]:p=H;d<L-1?r=oa[d+1]:r=H;for(e=0;e<M;e+=1)if(t=Z[e]){var ha=
fa[e];var Y=p[e];var ra=r[e];for(c=15;0<=c;--c){if(0!==(t&1<<c)){var la=y=x=0;var U=O;for(D=32768;U<ba;){var P=0===U?this.zc:K[U-1];var X=K[U];var ea=U===this.height-1?this.zc:K[U+1];var ma=S[U];var W=32768;var N=R;var Q=P[N];var ja=X[N+1];var V=ea[N];var T=0===N?X[N]<<6|ja<<4|Q<<2|V:X[N-1]<<8|X[N]<<6|ja<<4|Q<<2|V;var qa=a[T];0<qa?(b+=1,0===(T&192)&&(m+=1),y|=D,x|=W):0!==(T&192)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<2&960|ja<<4|Q<<2|V;Q=a[T];qa|=Q<<8;0<Q?(b+=1,0===(T&192)&&(m+=1),y|=D,
x|=W):0!==(T&192)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<2&960|ja<<4|Q<<2|V;Q=a[T];qa|=Q<<16;0<Q?(b+=1,0===(T&192)&&(m+=1),y|=D,x|=W):0!==(T&192)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<2&960|ja<<4|Q<<2|V;Q=a[T];qa|=Q<<24;ma[N>>2]=qa;0<Q?(b+=1,0===(T&192)&&(m+=1),y|=D,x|=W):0!==(T&192)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<2&960|ja<<4|Q<<2|V;qa=a[T];0<qa?(b+=1,0===(T&192)&&(m+=1),y|=D,x|=W):0!==(T&192)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<2&960|ja<<4|Q<<2|
V;Q=a[T];qa|=Q<<8;0<Q?(b+=1,0===(T&192)&&(m+=1),y|=D,x|=W):0!==(T&192)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<2&960|ja<<4|Q<<2|V;Q=a[T];qa|=Q<<16;0<Q?(b+=1,0===(T&192)&&(m+=1),y|=D,x|=W):0!==(T&192)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<2&960|ja<<4|Q<<2|V;Q=a[T];qa|=Q<<24;ma[N>>2]=qa;0<Q?(b+=1,0===(T&192)&&(m+=1),y|=D,x|=W):0!==(T&192)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<2&960|ja<<4|Q<<2|V;qa=a[T];0<qa?(b+=1,0===(T&192)&&(m+=1),y|=D,x|=W):0!==(T&192)&&(f+=1);W>>=
1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<2&960|ja<<4|Q<<2|V;Q=a[T];qa|=Q<<8;0<Q?(b+=1,0===(T&192)&&(m+=1),y|=D,x|=W):0!==(T&192)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<2&960|ja<<4|Q<<2|V;Q=a[T];qa|=Q<<16;0<Q?(b+=1,0===(T&192)&&(m+=1),y|=D,x|=W):0!==(T&192)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<2&960|ja<<4|Q<<2|V;Q=a[T];qa|=Q<<24;ma[N>>2]=qa;0<Q?(b+=1,0===(T&192)&&(m+=1),y|=D,x|=W):0!==(T&192)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<2&960|ja<<4|Q<<2|V;qa=a[T];0<qa?(b+=1,0===
(T&192)&&(m+=1),y|=D,x|=W):0!==(T&192)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<2&960|ja<<4|Q<<2|V;Q=a[T];qa|=Q<<8;0<Q?(b+=1,0===(T&192)&&(m+=1),y|=D,x|=W):0!==(T&192)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<2&960|ja<<4|Q<<2|V;Q=a[T];qa|=Q<<16;0<Q?(b+=1,0===(T&192)&&(m+=1),y|=D,x|=W):0!==(T&192)&&(f+=1);W>>=1;N+=1;Q=P[N];N===z-1?ja=0:ja=X[N+1];V=ea[N];T=T<<2&960|ja<<4|Q<<2|V;Q=a[T];qa|=Q<<24;ma[N>>2]=qa;0<Q?(b+=1,0===(T&192)&&(m+=1),y|=D,x|=W):0!==(T&192)&&(f+=1);U+=1;D>>=1}v[R>>
4]|=x;x&&(ha|=1<<c,y&1&&(la|=n.Db,x&32768&&(la|=n.hc),x&1&&(la|=n.Cb)),y&32768&&(la|=n.Wb,x&32768&&(la|=n.ac),x&1&&(la|=n.bc)),x&32768&&(la|=n.Yb),x&1&&(la|=n.ob),la&&(0!==(la&n.Yb)&&(15>c?ha|=1<<c+1:0<e&&0<R&&(fa[e-1]|=1)),0!==(la&n.ob)&&(0<c?ha|=1<<c-1:e<M-1&&R<z-1&&(fa[e+1]|=32768)),0!==(la&n.Wb)&&(Y|=1<<c),0!==(la&n.Db)&&(ra|=1<<c),0!==(la&n.ac)&&(15>c?Y|=1<<c+1:0<e&&0<R&&(p[e-1]|=1)),0!==(la&n.bc)&&(0<c?Y|=1<<c-1:e<M-1&&R<z-1&&(p[e+1]|=32768)),0!==(la&n.hc)&&(15>c?ra|=1<<c+1:0<e&&0<R&&(r[e-1]|=
1)),0!==(la&n.Cb)&&(0<c?ra|=1<<c-1:e<M-1&&R<z-1&&(r[e+1]|=32768))));A[d]|=y}R+=16}fa[e]|=ha;ka[e]=t|ha;aa[e]=aa[e]|t|ha;0<d&&(p[e]|=Y);d<L-1&&(r[e]|=ra)}else R+=256;O+=16;ba+=16}for(e=0;e<B;e+=1)v[e]&&(e<F&&(F=e),e>I&&(I=e));for(d=0;d<A.length;d+=1)A[d]&&(d<E&&(E=d),d>G&&(G=d));F=(F<<4)+this.G(v[F]);I=(I<<4)+this.Y(v[I]);E=(E<<4)+this.G(A[E]);G=(G<<4)+this.Y(A[G]);0>G&&(G=u-1);E>=u&&(E=0);F>=z&&(F=0);0>I&&(I=z-1);G>u-1&&(G=u-1);0>E&&(E=0);0>F&&(F=0);I>z-1&&(I=z-1);C.v=G;C.s=E;C.o=F;C.u=I;H.fill(0);
O=0;ba=O+16;for(d=0;d<pa.length;d+=1){R=0;Z=pa[d];fa=oa[d];for(e=0;e<M;e+=1)if(t=Z[e],ha=fa[e],t!==ha)for(c=15;0<=c;--c){if((t&1<<c)!==(ha&1<<c)&&0===(ha&1<<c))for(U=O;U<ba;U+=1)X=J[U],N=R>>2,X[N]=0,X[N+1]=0,X[N+2]=0,X[N+3]=0;R+=16}else R+=256;O+=16;ba+=16}this.ga=b;this.sb=m;this.$a=f;this.X=b};q.prototype.Ky=function(){var a=this.ze,c,d,e,l=this.ya,k=this.Oa,p=null,r=null,t,v=this.na,x,A=this.ab,y,D,b=0,m=0,f=0,u=this.height,z=this.width,B=z>>4,C=this.N,E=u,G=-1,F=z,I=-1,L=this.va,M=this.ra>>4,
H=this.Bd;if(0!==(this.counter&1)){var K=this.Ga;var J=this.Ca;var S=this.ge;var pa=this.wa;var oa=this.ka}else K=this.U,J=this.ge,S=this.Ca,pa=this.ka,oa=this.wa;v.fill(0);A.fill(0);var O=0;var ba=O+16;oa.Ha.fill(0);for(d=0;d<pa.length;d+=1){var R=0;var Z=pa[d];var fa=oa[d];var ka=k[d];var aa=l[d];0<d?p=oa[d-1]:p=H;d<L-1?r=oa[d+1]:r=H;for(e=0;e<M;e+=1)if(t=Z[e]){var ha=fa[e];var Y=p[e];var ra=r[e];for(c=15;0<=c;--c){if(0!==(t&1<<c)){var la=y=x=0;var U=O;for(D=32768;U<ba;){var P=0===U?this.zc:K[U-
1];var X=K[U];var ea=U===this.height-1?this.zc:K[U+1];var ma=S[U];var W=32768;var N=R;var Q=P[N];var ja=X[N+1];var V=ea[N];var T=0===N?X[N]<<9|ja<<6|Q<<3|V:X[N-1]<<12|X[N]<<9|ja<<6|Q<<3|V;var qa=a[T];0<qa?(b+=1,0===(T&3584)&&(m+=1),y|=D,x|=W):0!==(T&3584)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<3&32256|ja<<6|Q<<3|V;Q=a[T];qa|=Q<<8;0<Q?(b+=1,0===(T&3584)&&(m+=1),y|=D,x|=W):0!==(T&3584)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<3&32256|ja<<6|Q<<3|V;Q=a[T];qa|=Q<<16;0<Q?(b+=1,0===(T&
3584)&&(m+=1),y|=D,x|=W):0!==(T&3584)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<3&32256|ja<<6|Q<<3|V;Q=a[T];qa|=Q<<24;ma[N>>2]=qa;0<Q?(b+=1,0===(T&3584)&&(m+=1),y|=D,x|=W):0!==(T&3584)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<3&32256|ja<<6|Q<<3|V;qa=a[T];0<qa?(b+=1,0===(T&3584)&&(m+=1),y|=D,x|=W):0!==(T&3584)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<3&32256|ja<<6|Q<<3|V;Q=a[T];qa|=Q<<8;0<Q?(b+=1,0===(T&3584)&&(m+=1),y|=D,x|=W):0!==(T&3584)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];
V=ea[N];T=T<<3&32256|ja<<6|Q<<3|V;Q=a[T];qa|=Q<<16;0<Q?(b+=1,0===(T&3584)&&(m+=1),y|=D,x|=W):0!==(T&3584)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<3&32256|ja<<6|Q<<3|V;Q=a[T];qa|=Q<<24;ma[N>>2]=qa;0<Q?(b+=1,0===(T&3584)&&(m+=1),y|=D,x|=W):0!==(T&3584)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<3&32256|ja<<6|Q<<3|V;qa=a[T];0<qa?(b+=1,0===(T&3584)&&(m+=1),y|=D,x|=W):0!==(T&3584)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<3&32256|ja<<6|Q<<3|V;Q=a[T];qa|=Q<<8;0<Q?(b+=1,0===(T&3584)&&
(m+=1),y|=D,x|=W):0!==(T&3584)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<3&32256|ja<<6|Q<<3|V;Q=a[T];qa|=Q<<16;0<Q?(b+=1,0===(T&3584)&&(m+=1),y|=D,x|=W):0!==(T&3584)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<3&32256|ja<<6|Q<<3|V;Q=a[T];qa|=Q<<24;ma[N>>2]=qa;0<Q?(b+=1,0===(T&3584)&&(m+=1),y|=D,x|=W):0!==(T&3584)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<3&32256|ja<<6|Q<<3|V;qa=a[T];0<qa?(b+=1,0===(T&3584)&&(m+=1),y|=D,x|=W):0!==(T&3584)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];
T=T<<3&32256|ja<<6|Q<<3|V;Q=a[T];qa|=Q<<8;0<Q?(b+=1,0===(T&3584)&&(m+=1),y|=D,x|=W):0!==(T&3584)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<3&32256|ja<<6|Q<<3|V;Q=a[T];qa|=Q<<16;0<Q?(b+=1,0===(T&3584)&&(m+=1),y|=D,x|=W):0!==(T&3584)&&(f+=1);W>>=1;N+=1;Q=P[N];N===z-1?ja=0:ja=X[N+1];V=ea[N];T=T<<3&32256|ja<<6|Q<<3|V;Q=a[T];qa|=Q<<24;ma[N>>2]=qa;0<Q?(b+=1,0===(T&3584)&&(m+=1),y|=D,x|=W):0!==(T&3584)&&(f+=1);U+=1;D>>=1}v[R>>4]|=x;x&&(ha|=1<<c,y&1&&(la|=n.Db,x&32768&&(la|=n.hc),x&1&&(la|=n.Cb)),
y&32768&&(la|=n.Wb,x&32768&&(la|=n.ac),x&1&&(la|=n.bc)),x&32768&&(la|=n.Yb),x&1&&(la|=n.ob),la&&(0!==(la&n.Yb)&&(15>c?ha|=1<<c+1:0<e&&0<R&&(fa[e-1]|=1)),0!==(la&n.ob)&&(0<c?ha|=1<<c-1:e<M-1&&R<z-1&&(fa[e+1]|=32768)),0!==(la&n.Wb)&&(Y|=1<<c),0!==(la&n.Db)&&(ra|=1<<c),0!==(la&n.ac)&&(15>c?Y|=1<<c+1:0<e&&0<R&&(p[e-1]|=1)),0!==(la&n.bc)&&(0<c?Y|=1<<c-1:e<M-1&&R<z-1&&(p[e+1]|=32768)),0!==(la&n.hc)&&(15>c?ra|=1<<c+1:0<e&&0<R&&(r[e-1]|=1)),0!==(la&n.Cb)&&(0<c?ra|=1<<c-1:e<M-1&&R<z-1&&(r[e+1]|=32768))));
A[d]|=y}R+=16}fa[e]|=ha;ka[e]=t|ha;aa[e]=aa[e]|t|ha;0<d&&(p[e]|=Y);d<L-1&&(r[e]|=ra)}else R+=256;O+=16;ba+=16}for(e=0;e<B;e+=1)v[e]&&(e<F&&(F=e),e>I&&(I=e));for(d=0;d<A.length;d+=1)A[d]&&(d<E&&(E=d),d>G&&(G=d));F=(F<<4)+this.G(v[F]);I=(I<<4)+this.Y(v[I]);E=(E<<4)+this.G(A[E]);G=(G<<4)+this.Y(A[G]);0>G&&(G=u-1);E>=u&&(E=0);F>=z&&(F=0);0>I&&(I=z-1);G>u-1&&(G=u-1);0>E&&(E=0);0>F&&(F=0);I>z-1&&(I=z-1);C.v=G;C.s=E;C.o=F;C.u=I;H.fill(0);O=0;ba=O+16;for(d=0;d<pa.length;d+=1){R=0;Z=pa[d];fa=oa[d];for(e=0;e<
M;e+=1)if(t=Z[e],ha=fa[e],t!==ha)for(c=15;0<=c;--c){if((t&1<<c)!==(ha&1<<c)&&0===(ha&1<<c))for(U=O;U<ba;U+=1)X=J[U],N=R>>2,X[N]=0,X[N+1]=0,X[N+2]=0,X[N+3]=0;R+=16}else R+=256;O+=16;ba+=16}this.ga=b;this.sb=m;this.$a=f;this.X=b};q.prototype.My=function(){var a=this.ze,c,d,e,l=this.ya,k=this.Oa,p=null,r=null,t,v=this.na,x,A=this.ab,y,D,b=0,m=0,f=0,u=this.height,z=this.width,B=z>>4,C=this.N,E=u,G=-1,F=z,I=-1,L=this.va,M=this.ra>>4,H=this.Bd;if(0!==(this.counter&1)){var K=this.Ga;var J=this.Ca;var S=
this.ge;var pa=this.wa;var oa=this.ka}else K=this.U,J=this.ge,S=this.Ca,pa=this.ka,oa=this.wa;v.fill(0);A.fill(0);var O=0;var ba=O+16;oa.Ha.fill(0);for(d=0;d<pa.length;d+=1){var R=0;var Z=pa[d];var fa=oa[d];var ka=k[d];var aa=l[d];0<d?p=oa[d-1]:p=H;d<L-1?r=oa[d+1]:r=H;for(e=0;e<M;e+=1)if(t=Z[e]){var ha=fa[e];var Y=p[e];var ra=r[e];for(c=15;0<=c;--c){if(0!==(t&1<<c)){var la=y=x=0;var U=O;for(D=32768;U<ba;){var P=0===U?this.zc:K[U-1];var X=K[U];var ea=U===this.height-1?this.zc:K[U+1];var ma=S[U];var W=
32768;var N=R;var Q=P[N];var ja=X[N+1];var V=ea[N];var T=0===N?X[N]<<12|ja<<8|Q<<4|V:X[N-1]<<16|X[N]<<12|ja<<8|Q<<4|V;var qa=a[T];0<qa?(b+=1,0===(T&61440)&&(m+=1),y|=D,x|=W):0!==(T&61440)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<4&1044480|ja<<8|Q<<4|V;Q=a[T];qa|=Q<<8;0<Q?(b+=1,0===(T&61440)&&(m+=1),y|=D,x|=W):0!==(T&61440)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<4&1044480|ja<<8|Q<<4|V;Q=a[T];qa|=Q<<16;0<Q?(b+=1,0===(T&61440)&&(m+=1),y|=D,x|=W):0!==(T&61440)&&(f+=1);W>>=1;N+=1;Q=P[N];
ja=X[N+1];V=ea[N];T=T<<4&1044480|ja<<8|Q<<4|V;Q=a[T];qa|=Q<<24;ma[N>>2]=qa;0<Q?(b+=1,0===(T&61440)&&(m+=1),y|=D,x|=W):0!==(T&61440)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<4&1044480|ja<<8|Q<<4|V;qa=a[T];0<qa?(b+=1,0===(T&61440)&&(m+=1),y|=D,x|=W):0!==(T&61440)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<4&1044480|ja<<8|Q<<4|V;Q=a[T];qa|=Q<<8;0<Q?(b+=1,0===(T&61440)&&(m+=1),y|=D,x|=W):0!==(T&61440)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<4&1044480|ja<<8|Q<<4|V;Q=a[T];qa|=Q<<
16;0<Q?(b+=1,0===(T&61440)&&(m+=1),y|=D,x|=W):0!==(T&61440)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<4&1044480|ja<<8|Q<<4|V;Q=a[T];qa|=Q<<24;ma[N>>2]=qa;0<Q?(b+=1,0===(T&61440)&&(m+=1),y|=D,x|=W):0!==(T&61440)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<4&1044480|ja<<8|Q<<4|V;qa=a[T];0<qa?(b+=1,0===(T&61440)&&(m+=1),y|=D,x|=W):0!==(T&61440)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<4&1044480|ja<<8|Q<<4|V;Q=a[T];qa|=Q<<8;0<Q?(b+=1,0===(T&61440)&&(m+=1),y|=D,x|=W):0!==(T&61440)&&
(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<4&1044480|ja<<8|Q<<4|V;Q=a[T];qa|=Q<<16;0<Q?(b+=1,0===(T&61440)&&(m+=1),y|=D,x|=W):0!==(T&61440)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<4&1044480|ja<<8|Q<<4|V;Q=a[T];qa|=Q<<24;ma[N>>2]=qa;0<Q?(b+=1,0===(T&61440)&&(m+=1),y|=D,x|=W):0!==(T&61440)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<4&1044480|ja<<8|Q<<4|V;qa=a[T];0<qa?(b+=1,0===(T&61440)&&(m+=1),y|=D,x|=W):0!==(T&61440)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<4&1044480|ja<<
8|Q<<4|V;Q=a[T];qa|=Q<<8;0<Q?(b+=1,0===(T&61440)&&(m+=1),y|=D,x|=W):0!==(T&61440)&&(f+=1);W>>=1;N+=1;Q=P[N];ja=X[N+1];V=ea[N];T=T<<4&1044480|ja<<8|Q<<4|V;Q=a[T];qa|=Q<<16;0<Q?(b+=1,0===(T&61440)&&(m+=1),y|=D,x|=W):0!==(T&61440)&&(f+=1);W>>=1;N+=1;Q=P[N];N===z-1?ja=0:ja=X[N+1];V=ea[N];T=T<<4&1044480|ja<<8|Q<<4|V;Q=a[T];qa|=Q<<24;ma[N>>2]=qa;0<Q?(b+=1,0===(T&61440)&&(m+=1),y|=D,x|=W):0!==(T&61440)&&(f+=1);U+=1;D>>=1}v[R>>4]|=x;x&&(ha|=1<<c,y&1&&(la|=n.Db,x&32768&&(la|=n.hc),x&1&&(la|=n.Cb)),y&32768&&
(la|=n.Wb,x&32768&&(la|=n.ac),x&1&&(la|=n.bc)),x&32768&&(la|=n.Yb),x&1&&(la|=n.ob),la&&(0!==(la&n.Yb)&&(15>c?ha|=1<<c+1:0<e&&0<R&&(fa[e-1]|=1)),0!==(la&n.ob)&&(0<c?ha|=1<<c-1:e<M-1&&R<z-1&&(fa[e+1]|=32768)),0!==(la&n.Wb)&&(Y|=1<<c),0!==(la&n.Db)&&(ra|=1<<c),0!==(la&n.ac)&&(15>c?Y|=1<<c+1:0<e&&0<R&&(p[e-1]|=1)),0!==(la&n.bc)&&(0<c?Y|=1<<c-1:e<M-1&&R<z-1&&(p[e+1]|=32768)),0!==(la&n.hc)&&(15>c?ra|=1<<c+1:0<e&&0<R&&(r[e-1]|=1)),0!==(la&n.Cb)&&(0<c?ra|=1<<c-1:e<M-1&&R<z-1&&(r[e+1]|=32768))));A[d]|=y}R+=
16}fa[e]|=ha;ka[e]=t|ha;aa[e]=aa[e]|t|ha;0<d&&(p[e]|=Y);d<L-1&&(r[e]|=ra)}else R+=256;O+=16;ba+=16}for(e=0;e<B;e+=1)v[e]&&(e<F&&(F=e),e>I&&(I=e));for(d=0;d<A.length;d+=1)A[d]&&(d<E&&(E=d),d>G&&(G=d));F=(F<<4)+this.G(v[F]);I=(I<<4)+this.Y(v[I]);E=(E<<4)+this.G(A[E]);G=(G<<4)+this.Y(A[G]);0>G&&(G=u-1);E>=u&&(E=0);F>=z&&(F=0);0>I&&(I=z-1);G>u-1&&(G=u-1);0>E&&(E=0);0>F&&(F=0);I>z-1&&(I=z-1);C.v=G;C.s=E;C.o=F;C.u=I;H.fill(0);O=0;ba=O+16;for(d=0;d<pa.length;d+=1){R=0;Z=pa[d];fa=oa[d];for(e=0;e<M;e+=1)if(t=
Z[e],ha=fa[e],t!==ha)for(c=15;0<=c;--c){if((t&1<<c)!==(ha&1<<c)&&0===(ha&1<<c))for(U=O;U<ba;U+=1)X=J[U],N=R>>2,X[N]=0,X[N+1]=0,X[N+2]=0,X[N+3]=0;R+=16}else R+=256;O+=16;ba+=16}this.ga=b;this.sb=m;this.$a=f;this.X=b};q.prototype.KD=function(){var a=this.de,c=this.N,d=this.me,e=d.o;var l=d.s;var k=d.u,p=d.v,r=0,t=0,v=0,x=this.width,A=this.height,y=0,D=0,b=this.width,m=this.height,f=0,u=0,z=this.ya,B,C=this.xg,E=this.K,G=0<this.K?1:0;var F=this.Ea;var I=this.Aa;var L=Math.round((this.width-F)/2);var M=
Math.round((this.height-I)/2);-1!==this.sa&&(e=L+1,l=M+1,k=L+F-1-1,p=M+I-1-1);this.Ad&&(this.zd=!this.zd,this.Ad=!1);this.X=0;0!==(this.counter&1)?(F=this.Ga,I=this.U,this.zd&&(a=this.cd)):(F=this.U,I=this.Ga,this.Lb&&(a=this.wf),this.zd&&(a=this.Lb?this.ee:this.cd));1>l&&(l=1);p>this.height-2&&(p=this.height-2);1>e&&(e=1);k>this.width-2&&(k=this.width-2);for(--l;l<=p+1;l+=1){M=F[l-1];var H=F[l];var K=F[l+1];var J=z[l>>4];var S=I[l];var pa=B=!1;var oa=H[e-2];for(L=e-1;L<=k+1;L+=1){var O=K[L];var ba=
H[L+1];var R=M[L];0<E&&(O=O<=E?0:O-E,ba=ba<=E?0:ba-E,R=R<=E?0:R-E,oa=oa<=E?0:oa-E);oa=oa|O<<4|ba<<8|R<<12;O=a[oa];oa=H[L];0<O?(r+=C[O],S[L]=O+E,B=!0,J[L>>8]=65535,L<x&&(x=L),L>y&&(y=L)):(O=oa,O>E?O=E:O>G&&--O,S[L]=O,0<O&&(B=!0,L<x&&(x=L),L>y&&(y=L)),O=0);oa>E?(oa-=E,t+=C[O&~oa],v+=C[oa&~O],oa+=E):t+=C[O];0<O&&(L<b&&(b=L),L>f&&(f=L),pa=!0)}B&&(l<A&&(A=l),l>D&&(D=l));pa&&(l<m&&(m=l),l>u&&(u=l))}this.ga=r;this.sb=t;this.$a=v;this.X=r;d.o=x;d.s=A;d.u=y;d.v=D;c.o=b;c.s=m;c.u=f;c.v=u};q.prototype.JF=function(){var a=
this.ge,c=this.ya,d=this.Oa,e,l,k;var p=this.va;var r=this.ra>>4;var t=0;var v=p;this.X=0;if(0!==(this.counter&1)){var x=this.cc;var A=this.wa}else x=this.kb,A=this.ka;0>t&&(t=0);v>p&&(v=p);p=t<<4;var y=p+16;for(e=t;e<v;e+=1){var D=0;var b=A[e];var m=d[e];var f=c[e];for(l=0;l<r;l+=1){var u=b[l]|f[l];var z=0;if(u)for(k=15;0<=k;--k){if(0!==(u&1<<k)){var B=0;for(t=p;t<y;){var C=x[t];var E=a[t];var G=D<<2;(C=C[D])?(B|=C,E[G]=(C&32768)>>9|C&16384|(C&8192)<<9|(C&4096)<<18,G+=1,E[G]=(C&2048)>>5|(C&1024)<<
4|(C&512)<<13|(C&256)<<22,G+=1,E[G]=(C&128)>>1|(C&64)<<8|(C&32)<<17|(C&16)<<26,G+=1,E[G]=(C&8)<<3|(C&4)<<12|(C&2)<<21|(C&1)<<30):(E[G]=0,E[G+1]=0,E[G+2]=0,E[G+3]=0);t+=1}B&&(z|=1<<k)}D+=1}else D+=16;m[l]=z;f[l]|=z;z&&(this.X=1)}p+=16;y+=16}};q.prototype.Gy=function(){var a=this.wl,c=this.ya,d=this.Oa,e=this.fq,l,k,p;var r=this.va;var t=this.ra>>4;var v=0;var x=r;this.X=0;if(0!==(this.counter&1)){var A=this.cc;var y=this.wa}else A=this.kb,y=this.ka;0>v&&(v=0);x>r&&(x=r);r=v<<4;var D=r+16;for(l=v;l<
x;l+=1){var b=0;var m=y[l];var f=d[l];var u=c[l];for(k=0;k<t;k+=1){var z=m[k]|f[k]|u[k];var B=0;if(z)for(p=15;0<=p;--p){if(0!==(z&1<<p)){var C=0;for(v=r;v<D;){var E=A[v];var G=a[v];var F=b<<3;E=E[b];this.X|=E;var I=e[G[F]|(E&32768)>>8|(E&16384)<<1];C|=I;G[F]=I;F+=1;I=e[G[F]|(E&8192)>>6|(E&4096)<<3];C|=I;G[F]=I;F+=1;I=e[G[F]|(E&2048)>>4|(E&1024)<<5];C|=I;G[F]=I;F+=1;I=e[G[F]|(E&512)>>2|(E&256)<<7];C|=I;G[F]=I;F+=1;I=e[G[F]|E&128|(E&64)<<9];C|=I;G[F]=I;F+=1;I=e[G[F]|(E&32)<<2|(E&16)<<11];C|=I;G[F]=
I;F+=1;I=e[G[F]|(E&8)<<4|(E&4)<<13];C|=I;G[F]=I;F+=1;I=e[G[F]|(E&2)<<6|(E&1)<<15];C|=I;G[F]=I;v+=1}0!==(C&65278)&&(B|=1<<p)}b+=1}else b+=16;f[k]=B;u[k]|=B}r+=16;D+=16}};q.prototype.OF=function(){var a=this.wl,c=this.ya,d=this.Oa,e=this.fq,l,k,p;var r=this.va;var t=this.ra>>4;var v=0;var x=r;this.X=0;if(0!==(this.counter&1)){var A=this.cc;var y=this.wa}else A=this.kb,y=this.ka;0>v&&(v=0);x>r&&(x=r);r=v<<4;var D=r+16;for(l=v;l<x;l+=1){var b=0;var m=y[l];var f=d[l];var u=c[l];for(k=0;k<t;k+=1){var z=
m[k]|f[k];var B=0;if(z)for(p=15;0<=p;--p){if(0!==(z&1<<p)){var C=0;for(v=r;v<D;){var E=A[v];var G=a[v];var F=b<<3;E=E[b];this.X|=E;var I=e[(E&49152)>>7|v+F+F&127];C|=I;G[F]=I;F+=1;I=e[(E&12288)>>5|v+F+F&127];C|=I;G[F]=I;F+=1;I=e[(E&3072)>>3|v+F+F&127];C|=I;G[F]=I;F+=1;I=e[(E&768)>>1|v+F+F&127];C|=I;G[F]=I;F+=1;I=e[(E&192)<<1|v+F+F&127];C|=I;G[F]=I;F+=1;I=e[(E&48)<<3|v+F+F&127];C|=I;G[F]=I;F+=1;I=e[(E&12)<<5|v+F+F&127];C|=I;G[F]=I;F+=1;I=e[(E&3)<<7|v+F+F&127];C|=I;G[F]=I;v+=1}if(1<(C&255)||1<C>>8)B|=
1<<p}b+=1}else b+=16;f[k]=B;u[k]|=B}r+=16;D+=16}};q.prototype.kK=function(a,c,d,e,l,k,p,r,t,v){var x=this.ig;e=e*a+x.v;d=d*a+x.u;c=c*a+x.s;l=l*a+x.o;x=d-l+1;a=e-c+1;this.S&&(x=d-c/2-(l-e/2)+1);0===x&&(x=1);0===a&&(a=1);k/=x;p/=a;v=Math.round(1E3*(k>p?p:k)/v)/1E3;v<r?v=r:v>t&&(v=t);return v};q.prototype.RB=function(a){var c=a;1>a&&(c=1/a);var d=Math.round(c);(d<c?d/c:c/d)>=ViewConstants.pN&&(a=1>a?1/d:d);return a};q.prototype.hh=function(a,c,d,e,l,k,p,r,t,v,x,A,y){var D=this.N,b=this.ig,m=this.me,
f=this.U,u=0;(this.L||this.ca||this.O)&&0!==(this.counter&1)&&(f=this.Ga);x?D=m:this.oa&&(D=this.Pa);if(a===ViewConstants.Uv){x=c.o;m=c.u;var z=c.v;c=c.s}else x=D.o,m=D.u,z=D.v,c=D.s,this.ta&&!A&&(b.o<x&&(x=b.o),b.u>m&&(m=b.u),b.v>z&&(z=b.v),b.s<c&&(c=b.s)),-1!==this.sa&&(b=this.Ea,A=this.Aa,0<b&&(this.width/2-b/2<x&&(x=this.width/2-b/2),this.width/2+b/2>m&&(m=this.width/2+b/2)),0<A&&(this.height/2-A/2<c&&(c=this.height/2-A/2),this.height/2+A/2>z&&(z=this.height/2+A/2)));v?(b=r,A=t,x=this.width/2-
b/2,m=this.width/2+b/2,z=this.height/2+A/2,c=this.height/2-A/2):(b=m-x+1,A=z-c+1);if(this.S)if(a===ViewConstants.Uv)x-=z/2,b=m-c/2-x+1;else{b=2*(this.width+this.height);D=-b;for(v=c;v<=z;v+=1)for(r=f[v],t=x;t<=m;t+=1){var B=r[t];0<B&&(u+=1,B=t-v/2,B<b&&(b=B),B>D&&(D=B))}x=b;m=D;x>m&&(f=x,x=m,m=f);0===u?(b=0,x=this.width/2-z/2):b=m-x+1}0===b&&(b=1);0===A&&(A=1);d/=b;e/=A;this.M&&(e/=ViewConstants.se);p=Math.round(1E3*(d>e?e:d)/p)/1E3;p/=this.Dc;p<l?p=l:p>k&&(p=k);l=c-this.dc+A/2;k=x-this.kc+b/2;y||
(p=this.RB(p));a===ViewConstants.WA&&(p=this.zoom);return[p,k,l]};q.prototype.Az=function(a,c,d,e){var l=this.Ed,k=this.J,p=this.I;if(a>c){var r=c;c=a;a=r}0>a?a=0:a>=k&&(a=k-1);0>c?c=0:c>=k&&(c=k-1);0<=d&&d<p&&l.fill(e,d*k+a,d*k+c)};q.prototype.Cz=function(a,c,d,e){var l=this.Ed,k=this.J,p=this.I;if(c>d){var r=d;d=c;c=r}0>c?c=0:c>=p&&(c=p-1);0>d?d=0:d>=p&&(d=p-1);c=c*k+a;d=d*k+a;p=d-15*k;if(0<=a&&a<k){for(;c<=p;)l[c]=e,c+=k,l[c]=e,c+=k,l[c]=e,c+=k,l[c]=e,c+=k,l[c]=e,c+=k,l[c]=e,c+=k,l[c]=e,c+=k,l[c]=
e,c+=k,l[c]=e,c+=k,l[c]=e,c+=k,l[c]=e,c+=k,l[c]=e,c+=k,l[c]=e,c+=k,l[c]=e,c+=k,l[c]=e,c+=k,l[c]=e,c+=k;for(;c<=d;)l[c]=e,c+=k}};q.prototype.zz=function(a,c,d,e,l){var k=Math.abs(d-a),p=Math.abs(e-c),r=a<d?1:-1,t=c<e?1:-1,v=k-p,x=this.J,A=this.I,y=this.Ed;if(!(0>a&&0>d||a>=x&&d>=x||0>c&&0>e||c>=A&&e>=A))if(0<=a&&a<x&&0<=c&&c<A&&0<=d&&d<x&&0<=e&&e<A)for(y[c*x+a]=l;a!==d||c!==e;){var D=v+v;D>-p&&(v-=p,a+=r);D<k&&(v+=k,c+=t);y[c*x+a]=l}else for(0<=a&&a<x&&0<=c&&c<A&&(y[c*x+a]=l);a!==d||c!==e;)D=v+v,D>
-p&&(v-=p,a+=r),D<k&&(v+=k,c+=t),0<=a&&a<x&&0<=c&&c<A&&(y[c*x+a]=l)};q.prototype.Ak=function(a,c,d,e,l){var k=this.J/2,p=this.I/2;if(0!==this.mb){a-=k;c-=p;var r=Math.sqrt(a*a+c*c);var t=180/Math.PI*Math.atan2(c,a);t+=this.mb;a=Math.round(r*Math.cos(Math.PI/180*t)+k);c=Math.round(r*Math.sin(Math.PI/180*t)+p);d-=k;e-=p;r=Math.sqrt(d*d+e*e);t=180/Math.PI*Math.atan2(e,d);t+=this.mb;d=Math.round(r*Math.cos(Math.PI/180*t)+k);e=Math.round(r*Math.sin(Math.PI/180*t)+p)}a===d?this.Cz(a,c,e,l):c===e?this.Az(a,
d,c,l):this.zz(a,c,d,e,l)};q.prototype.Ol=function(a,c,d,e,l){var k=a.Sf,p=a.Rf,r=0,t=0,v=this.context;var x=this.zoom;var A=this.zoom*(this.M?ViewConstants.se:1);var y=(this.width>>1)-(a.Ra>>1);var D=(this.height>>1)-(a.Wa>>1);var b=a.fc-this.xa,m=a.ec-this.Da-(this.S?this.xa/2:0),f=[0,0];switch(e){case ViewConstants.BI:c-=k>>1;break;case ViewConstants.CI:c-=k-1;break;case ViewConstants.GI:d-=p>>1;break;case ViewConstants.AI:c-=k>>1;d-=p>>1;break;case ViewConstants.zI:c-=k-1;d-=p>>1;break;case ViewConstants.FI:d-=
p-1;break;case ViewConstants.DI:c-=k>>1;d-=p-1;break;case ViewConstants.EI:c-=k-1,d-=p-1}var u=A*(d-D+b-this.dc+a.fc)+a.I/2;e=x*(c-y+m-this.kc+a.ec)+a.J/2+(this.S?(a.I/2-u)/2:0);var z=A*(d+p-D+b-this.dc+a.fc)+a.I/2;var B=x*(c+k-y+m-this.kc+a.ec)+a.J/2+(this.S?(a.I/2-z)/2:0);v.fillStyle=l;v.globalAlpha=.5;if(this.S)if(!this.Tb&&4<=this.zoom)this.Ju(c,d,c+k-1,d+p-1,y,D);else{v.beginPath();for(l=0;l<p;l+=1)v.moveTo(e,u),v.lineTo(e+k*x+1,u),v.lineTo(e+k*x+1,u+A+1),v.lineTo(e,u+A+1),e-=A/2,u+=A;v.fill()}else!this.Tb&&
this.M&&4<=this.zoom?this.Ku(c,d,c+k-1,d+p-1,y,D):(v.beginPath(),this.Ve(e,u,f),v.moveTo(f[0],f[1]),this.Ve(B+1,u,f),v.lineTo(f[0],f[1]),this.Ve(B+1,z+1,f),v.lineTo(f[0],f[1]),this.Ve(e,z+1,f),v.lineTo(f[0],f[1]),v.fill());if(1<=this.zoom){if(0<this.mb){var C=Math.cos(this.mb/180*Math.PI)*this.qa;var E=Math.sin(this.mb/180*Math.PI)*this.qa;var G=Math.cos((this.mb+90)/180*Math.PI)*this.qa;var F=Math.sin((this.mb+90)/180*Math.PI)*this.qa}else C=x,G=E=0,F=A;u=A*(d+t-D+b-this.dc+a.fc)+a.I/2;e=x*(c+r-
y+m-this.kc+a.ec)+a.J/2+(this.S?(a.I/2-u)/2:0);0!==this.mb&&(this.Ve(e,u,f),e=f[0],u=f[1]);B=e;z=u;v.fillStyle=this.gE;if(this.S&&!this.Tb&&4<=this.zoom)this.Bz(c,d,c+k-1,d+p-1,y,D,a.Ib);else if(!this.Tb&&this.M&&4<=this.zoom)this.Ey(c,d,c+k-1,d+p-1,y,D,a.Ib);else{v.beginPath();for(t=l=0;t<p;t+=1){e=B;for(r=0;r<k;r+=1)c=a.Ib[l],l+=1,c&&(c=e+C,d=u+E,x=c+G,A=d+F,y=x-C,D=A-E,0>e&&0>c&&0>x&&0>y||e>=a.J&&c>=a.J&&x>=a.J&&y>=a.J||0>u&&0>d&&0>A&&0>D||u>=a.I&&d>=a.I&&A>=a.I&&D>=a.I||(v.moveTo(e,u),v.lineTo(c,
d),v.lineTo(x,A),v.lineTo(y,D))),e+=C,u+=E;B+=G;u=z+=F;this.S&&(B-=F/2)}v.fill()}}};q.prototype.Ve=function(a,c,d){var e=this.J/2,l=this.I/2;if(0!==this.mb){a-=e;c-=l;var k=Math.sqrt(a*a+c*c);c=180/Math.PI*Math.atan2(c,a);c+=this.mb;a=Math.round(k*Math.cos(Math.PI/180*c)+e);c=Math.round(k*Math.sin(Math.PI/180*c)+l)}d[0]=a;d[1]=c};q.prototype.gM=function(a){var c=a.nh+.5|0,d=(this.width>>1)-(a.Ra>>1)+(a.Eb<<1),e=(this.height>>1)-(a.Wa>>1)+(a.Fb<<1);(a.yb||a.Vk)&&this.yz(a,a.Vb,this.fE);a.Sd&&(-1!==
this.sa&&a.mg?this.Ol(a,a.sq.o-a.Ra,a.sq.s-a.Wa,ViewConstants.ar,this.Ru):this.Ol(a,a.sq.o,a.sq.s,ViewConstants.ar,this.Ru));if(a.td){var l=a.j.fk;var k=a.j.gk;-1!==l&&(a.sy(l,k),-1!==this.sa&&a.mg&&(d+=a.Ra-1,e+=a.Wa-1),this.Ol(a,a.Pk-d,a.Qk-e,c,this.uC))}};q.prototype.yz=function(a,c,d){var e=this.context,l=this.zoom,k=this.zoom*(this.M?ViewConstants.se:1),p=c.o,r=c.s,t=c.u;c=c.v;var v=(this.width>>1)-(a.Ra>>1),x=(this.height>>1)-(a.Wa>>1),A=a.fc-this.xa,y=a.ec-this.Da-(this.S?this.xa/2:0),D=[0,
0],b=a.Vb;if(p>t){var m=p;p=t;t=m}r>c&&(m=r,r=c,c=m);m=t-p+1;var f=c-r+1;-1!==this.sa&&a.mg&&(x+=a.Wa-1,v+=a.Ra-1);r=k*(r-x+A-this.dc+a.fc)+a.I/2;p=l*(p-v+y-this.kc+a.ec)+a.J/2+(this.S?(a.I/2-r)/2:0);c=k*(c+1-x+A-this.dc+a.fc)+a.I/2;t=l*(t+1-v+y-this.kc+a.ec)+a.J/2+(this.S?(a.I/2-c)/2:0);e.fillStyle=d;e.globalAlpha=.5;if(this.S)if(!this.Tb&&4<=this.zoom)this.Ju(b.o,b.s,b.u,b.v,v,x);else{e.beginPath();m*=l;for(a=0;a<f;a+=1)e.moveTo(p,r),e.lineTo(p+m+1,r),e.lineTo(p+m+1,r+k+1),e.lineTo(p,r+k+1),p-=
k/2,r+=k;e.fill()}else this.M&&!this.Tb&&4<=this.zoom?this.Ku(b.o,b.s,b.u,b.v,v,x):(e.beginPath(),this.Ve(p,r,D),e.moveTo(D[0],D[1]),this.Ve(t+1,r,D),e.lineTo(D[0],D[1]),this.Ve(t+1,c+1,D),e.lineTo(D[0],D[1]),this.Ve(p,c+1,D),e.lineTo(D[0],D[1]),e.fill());e.globalAlpha=1};q.prototype.Od=function(){var a,c=this.J,d=this.I,e=this.cn,l=this.Og,k=this.qa,p=this.qa*(this.M?ViewConstants.se:1),r=e,t,v=0<this.gg&&this.Ll,x=this.counter&1,A=((this.height/2-(this.xa+this.dc))*p+d/2)%p,y=((this.width/2-(this.Da+
this.kc))*k+c/2)%k,D=this.view.Ra/2|0,b=this.view.Wa/2|0;if(this.tc)var m=v?2:1;else m=1,v=!1,r=e=this.cf[0];var f=e;for(this.ia&&2===this.gg&&this.Gm||(x=0);m;){var u=-(c/2/k)-(this.width/2-this.Da-this.kc)|0;u+=D-2;var z=22*-k;var B=c+k+22*k;var C=A-22*p;var E=d+22*p;var G=-c/1.5;var F=c+c/1.5;var I=-d/1.5;for(t=d+d/1.5;z<=B;z+=k)if(v&&(0===(u+x)%this.gg?r=l:r=e),u+=1,r===f)if(this.S){var L=-(d/2/p)-(this.height/2-this.xa-this.dc)|0;for(a=C;a<E;a+=p)0===(L&1)?this.Ak(Math.round(z+y),Math.round(a),
Math.round(z+y),Math.round(a+p-1),r):this.Ak(Math.round(z+y+k/2),Math.round(a),Math.round(z+y+k/2),Math.round(a+p-1),r),L+=1}else this.Ak(Math.round(z+y),I,Math.round(z+y),t-1,r);u=-(d/2/p)-(this.height/2-this.xa-this.dc)|0;u+=b-2;for(a=C;a<E;a+=p)v&&(0===(u+x)%this.gg?r=l:r=e),u+=1,r===f&&this.Ak(G,Math.round(a),F-1,Math.round(a),r);--m;f=l}};q.prototype.ki=function(){return 4<=this.qa};q.prototype.KA=function(a,c){var d=this.Ea,e=this.Aa,l=this.ia?-1:0,k=Math.round((this.width-d)/2-1)+l,p=k+d+1,
r=Math.round((this.height-e)/2-1)+l;l=r+e+1;var t=a[r],v=a[l];if(0===d)t.fill(c,0,this.width),v.fill(c,0,this.width);else if(0===e)for(d=0;d<this.height;d+=1)a[d][k]=c,a[d][p]=c;else for(t.fill(c,k,p+1),v.fill(c,k,p+1),d=r+1;d<=l-1;d+=1)a[d][k]=c,a[d][p]=c};q.prototype.MO=function(a,c){var d=this.cf[0],e=this.Ed,l=this.U,k=this.wl,p=this.ge;this.Ek=!0;(this.L||this.ca||this.O)&&0!==(this.counter&1)&&(l=this.Ga,k=this.$h,p=this.Ca);this.Mm&&(this.mA(),--this.Mm,this.Mm||(this.Oe.set(this.Nd),this.Fc.set(this.rc),
this.We.set(this.Ae),this.sh.set(this.Qf),this.Se.set(this.ce),this.ei.set(this.$g)));this.qa=this.zoom*this.Dc;this.qa<ViewConstants.bb?this.qa=ViewConstants.bb:this.qa>ViewConstants.Ob&&(this.qa=ViewConstants.Ob);this.Te=this.Da+this.kc;this.Ue=this.xa+this.dc;this.C=this.Ze/2+1;this.mb=this.S||this.M?0:this.angle;-1!==this.sa&&this.KA(l,this.Qb);4<=this.qa&&(!this.Tb&&this.S||!this.Tb&&this.M)?(e.fill(d),this.ie(1)):(1>this.qa&&this.xz(k,p),.0625>this.qa?this.Eg?this.ci(this.fd,this.Jb,31,a,c):
this.di(this.Jb,this.Jb,31,a,c):.125>this.qa?this.Eg?this.ci(this.fd,this.Jb,15,a,c):this.di(this.Jb,this.Jb,15,a,c):.25>this.qa?this.Eg?this.ci(this.fd,this.Jb,7,a,c):this.di(this.Jb,this.Jb,7,a,c):.5>this.qa?this.Eg?this.ci(this.fd,this.Jb,3,a,c):this.di(this.Jb,this.Jb,3,a,c):1>this.qa?this.Eg?this.ci(this.fd,this.Jb,1,a,c):this.di(this.Jb,this.Jb,1,a,c):this.Eg?this.ci(this.mc,l,0,a,c):this.di(l,l,0,a,c))};q.prototype.yK=function(a,c,d,e){var l=this.J>>3,k=this.cf,p=this.Ed,r=0,t=0;var v=this.width;
var x=this.height;var A=1,y=1,D=0,b=this.ja,m=this.Pb&~d,f=this.Nb&~d,u=~d,z=~d,B=this.vl,C=k[0],E=a,G=this.qa;1<this.C&&(A=this.aa);a=Math.sin(this.mb/180*Math.PI)/this.qa;var F=Math.cos(this.mb/180*Math.PI)/this.qa;var I=-(this.J/2*-a+this.I/2*F)+this.Ue;var L=-(this.J/2*F+this.I/2*a)+this.Te;1<this.aa&&1<this.C&&(D=.4/(this.aa-1),y=.6);for(this.ie(y);v<b;)r+=v>>1,v<<=1;for(;x<b;)t+=x>>1,x<<=1;var M=0;var H=I;for(v=0;v<this.I;v+=1){var K=L;for(x=0;x<l;x+=1){if(0<=K&&(K&u)===(K&m)&&0<H&&(H&z)===
(H&f)){var J=E[H&f][K&m]|0;p[M]=k[J]}else p[M]=0<=K+r&&K+r<b&&0<=H+t&&H+t<b?C:B;M+=1;K+=F;H-=a;0<=K&&(K&u)===(K&m)&&0<H&&(H&z)===(H&f)?(J=E[H&f][K&m]|0,p[M]=k[J]):p[M]=0<=K+r&&K+r<b&&0<=H+t&&H+t<b?C:B;M+=1;K+=F;H-=a;0<=K&&(K&u)===(K&m)&&0<H&&(H&z)===(H&f)?(J=E[H&f][K&m]|0,p[M]=k[J]):p[M]=0<=K+r&&K+r<b&&0<=H+t&&H+t<b?C:B;M+=1;K+=F;H-=a;0<=K&&(K&u)===(K&m)&&0<H&&(H&z)===(H&f)?(J=E[H&f][K&m]|0,p[M]=k[J]):p[M]=0<=K+r&&K+r<b&&0<=H+t&&H+t<b?C:B;M+=1;K+=F;H-=a;0<=K&&(K&u)===(K&m)&&0<H&&(H&z)===(H&f)?(J=
E[H&f][K&m]|0,p[M]=k[J]):p[M]=0<=K+r&&K+r<b&&0<=H+t&&H+t<b?C:B;M+=1;K+=F;H-=a;0<=K&&(K&u)===(K&m)&&0<H&&(H&z)===(H&f)?(J=E[H&f][K&m]|0,p[M]=k[J]):p[M]=0<=K+r&&K+r<b&&0<=H+t&&H+t<b?C:B;M+=1;K+=F;H-=a;0<=K&&(K&u)===(K&m)&&0<H&&(H&z)===(H&f)?(J=E[H&f][K&m]|0,p[M]=k[J]):p[M]=0<=K+r&&K+r<b&&0<=H+t&&H+t<b?C:B;M+=1;K+=F;H-=a;0<=K&&(K&u)===(K&m)&&0<H&&(H&z)===(H&f)?(J=E[H&f][K&m]|0,p[M]=k[J]):p[M]=0<=K+r&&K+r<b&&0<=H+t&&H+t<b?C:B;M+=1;K+=F;H-=a}L+=a;H=I+=F}e&&this.ae();(this.tc||this.pd)&&this.ki()&&this.Od();
E=c;for(c=1;c<A;c+=1)for(e=2<this.i?this.O?1:0===this.K?this.i/this.aa*c|0:c<A/2?this.K/this.aa*c*2|0:this.K+this.i/this.aa*c|0:this.Zc?1:(this.$f+1)/this.aa*c|0,y+=D,this.ie(y),a/=this.C,F/=this.C,G*=this.C,m=d,d=.125>G?15:.25>G?7:.5>G?3:1>G?1:0,d!==m&&(E=this.U),m=this.Pb&~d,f=this.Nb&~d,u=~d,z=~d,I=-(this.J/2*-a+this.I/2*F)+this.Ue,L=-(this.J/2*F+this.I/2*a)+this.Te,M=0,H=I,v=0;v<this.I;v+=1){K=L;for(x=0;x<l;x+=1)0<=K&&(K&u)===(K&m)&&0<H&&(H&z)===(H&f)&&(J=E[H&f][K&m]|0,J>=e&&(p[M]=k[J])),M+=1,
K+=F,H-=a,0<=K&&(K&u)===(K&m)&&0<H&&(H&z)===(H&f)&&(J=E[H&f][K&m]|0,J>=e&&(p[M]=k[J])),M+=1,K+=F,H-=a,0<=K&&(K&u)===(K&m)&&0<H&&(H&z)===(H&f)&&(J=E[H&f][K&m]|0,J>=e&&(p[M]=k[J])),M+=1,K+=F,H-=a,0<=K&&(K&u)===(K&m)&&0<H&&(H&z)===(H&f)&&(J=E[H&f][K&m]|0,J>=e&&(p[M]=k[J])),M+=1,K+=F,H-=a,0<=K&&(K&u)===(K&m)&&0<H&&(H&z)===(H&f)&&(J=E[H&f][K&m]|0,J>=e&&(p[M]=k[J])),M+=1,K+=F,H-=a,0<=K&&(K&u)===(K&m)&&0<H&&(H&z)===(H&f)&&(J=E[H&f][K&m]|0,J>=e&&(p[M]=k[J])),M+=1,K+=F,H-=a,0<=K&&(K&u)===(K&m)&&0<H&&(H&z)===
(H&f)&&(J=E[H&f][K&m]|0,J>=e&&(p[M]=k[J])),M+=1,K+=F,H-=a,0<=K&&(K&u)===(K&m)&&0<H&&(H&z)===(H&f)&&(J=E[H&f][K&m]|0,J>=e&&(p[M]=k[J])),M+=1,K+=F,H-=a;L+=a;H=I+=F}};q.prototype.zK=function(a,c,d,e){var l=this.J>>3,k=this.cf,p=this.Ed,r=0,t=0;var v=this.width;var x=this.height;var A=1,y=1,D=0,b=this.ja,m=this.Pb&~d,f=this.Nb&~d,u=~d,z=~d,B=this.vl,C=k[0],E=a,G=this.qa;1<this.C&&(A=this.aa);a=1/this.qa;this.M&&(a/=ViewConstants.se);var F=1/this.qa;var I=-(this.I/2*a)+this.Ue;var L=-(this.J/2*F)+this.Te;
1<this.aa&&1<this.C&&(D=.4/(this.aa-1),y=.6);for(this.ie(y);v<b;)r+=v>>1,v<<=1;for(;x<b;)t+=x>>1,x<<=1;var M=0;var H=I;for(v=0;v<this.I;v+=1){if(0<=H&&(H&z)===(H&f)){var K=E[H&f];var J=L;this.S&&(J+=.5*(H|0));for(x=0;x<l;x+=1){if(0<=J&&(J&u)===(J&m)){var S=K[J&m]|0;p[M]=k[S]}else p[M]=0<=J+r&&J+r<b?C:B;M+=1;J+=F;0<=J&&(J&u)===(J&m)?(S=K[J&m]|0,p[M]=k[S]):p[M]=0<=J+r&&J+r<b?C:B;M+=1;J+=F;0<=J&&(J&u)===(J&m)?(S=K[J&m]|0,p[M]=k[S]):p[M]=0<=J+r&&J+r<b?C:B;M+=1;J+=F;0<=J&&(J&u)===(J&m)?(S=K[J&m]|0,p[M]=
k[S]):p[M]=0<=J+r&&J+r<b?C:B;M+=1;J+=F;0<=J&&(J&u)===(J&m)?(S=K[J&m]|0,p[M]=k[S]):p[M]=0<=J+r&&J+r<b?C:B;M+=1;J+=F;0<=J&&(J&u)===(J&m)?(S=K[J&m]|0,p[M]=k[S]):p[M]=0<=J+r&&J+r<b?C:B;M+=1;J+=F;0<=J&&(J&u)===(J&m)?(S=K[J&m]|0,p[M]=k[S]):p[M]=0<=J+r&&J+r<b?C:B;M+=1;J+=F;0<=J&&(J&u)===(J&m)?(S=K[J&m]|0,p[M]=k[S]):p[M]=0<=J+r&&J+r<b?C:B;M+=1;J+=F}}else if(0<=H+t&&H+t<b)for(J=L,this.S&&(J+=.5*(H|0)),x=0;x<this.J;x+=1)p[M]=0<=J+r&&J+r<b?C:B,M+=1,J+=F;else p.fill(B,M,M+this.J+1),M+=this.J;H=I+=a}e&&this.ae();
(this.tc||this.pd)&&this.ki()&&this.Od();E=c;for(c=1;c<A;c+=1)for(e=2<this.i?this.O?1:0===this.K?this.i/this.aa*c|0:c<A/2?this.K/this.aa*c*2|0:this.K+this.i/this.aa*c|0:this.Zc?1:(this.$f+1)/this.aa*c|0,y+=D,this.ie(y),a/=this.C,F/=this.C,G*=this.C,m=d,d=.125>G?15:.25>G?7:.5>G?3:1>G?1:0,d!==m&&(E=this.U),m=this.Pb&~d,f=this.Nb&~d,u=~d,z=~d,I=-(this.I/2*a)+this.Ue,L=-(this.J/2*F)+this.Te,M=0,H=I,v=0;v<this.I;v+=1){if(0<=H&&(H&z)===(H&f))for(K=E[H&f],J=L,this.S&&(J+=.5*(H|0)),x=0;x<l;x+=1)0<=J&&(J&
u)===(J&m)&&(S=K[J&m]|0,S>=e&&(p[M]=k[S])),M+=1,J+=F,0<=J&&(J&u)===(J&m)&&(S=E[H&f][J&m]|0,S>=e&&(p[M]=k[S])),M+=1,J+=F,0<=J&&(J&u)===(J&m)&&(S=E[H&f][J&m]|0,S>=e&&(p[M]=k[S])),M+=1,J+=F,0<=J&&(J&u)===(J&m)&&(S=E[H&f][J&m]|0,S>=e&&(p[M]=k[S])),M+=1,J+=F,0<=J&&(J&u)===(J&m)&&(S=E[H&f][J&m]|0,S>=e&&(p[M]=k[S])),M+=1,J+=F,0<=J&&(J&u)===(J&m)&&(S=E[H&f][J&m]|0,S>=e&&(p[M]=k[S])),M+=1,J+=F,0<=J&&(J&u)===(J&m)&&(S=E[H&f][J&m]|0,S>=e&&(p[M]=k[S])),M+=1,J+=F,0<=J&&(J&u)===(J&m)&&(S=E[H&f][J&m]|0,S>=e&&(p[M]=
k[S])),M+=1,J+=F;else M+=l<<3;H=I+=a}};q.prototype.AK=function(a,c,d,e){var l=this.J>>3,k=this.cf,p=this.Ed,r,t,v=1,x=1,A=0,y=this.Pb&~d,D=this.Nb&~d,b=a,m=this.qa;1<this.C&&(v=this.aa);a=Math.sin(this.mb/180*Math.PI)/this.qa;var f=Math.cos(this.mb/180*Math.PI)/this.qa;var u=-(this.J/2*-a+this.I/2*f)+this.Ue;var z=-(this.J/2*f+this.I/2*a)+this.Te;1<this.aa&&1<this.C&&(A=.4/(this.aa-1),x=.6);this.ie(x);var B=0;var C=u;for(r=0;r<this.I;r+=1){var E=z;for(t=0;t<l;t+=1){var G=b[C&D][E&y]|0;p[B]=k[G];B+=
1;E+=f;C-=a;G=b[C&D][E&y]|0;p[B]=k[G];B+=1;E+=f;C-=a;G=b[C&D][E&y]|0;p[B]=k[G];B+=1;E+=f;C-=a;G=b[C&D][E&y]|0;p[B]=k[G];B+=1;E+=f;C-=a;G=b[C&D][E&y]|0;p[B]=k[G];B+=1;E+=f;C-=a;G=b[C&D][E&y]|0;p[B]=k[G];B+=1;E+=f;C-=a;G=b[C&D][E&y]|0;p[B]=k[G];B+=1;E+=f;C-=a;G=b[C&D][E&y]|0;p[B]=k[G];B+=1;E+=f;C-=a}z+=a;C=u+=f}e&&this.ae();(this.tc||this.pd)&&this.ki()&&this.Od();b=c;for(c=1;c<v;c+=1)for(e=2<this.i?this.O?1:0===this.K?this.i/this.aa*c|0:c<v/2?this.K/this.aa*c*2|0:this.K+this.i/this.aa*c|0:this.Zc?
1:(this.$f+1)/this.aa*c|0,x+=A,this.ie(x),a/=this.C,f/=this.C,m*=this.C,y=d,.125>m?d=15:.25>m?d=7:.5>m?d=3:1>m?d=1:(b=this.U,d=0),d!==y&&(b=this.U),y=this.Pb&~d,D=this.Nb&~d,u=-(this.J/2*-a+this.I/2*f)+this.Ue,z=-(this.J/2*f+this.I/2*a)+this.Te,B=0,C=u,r=0;r<this.I;r+=1){E=z;for(t=0;t<l;t+=1)G=b[C&D][E&y]|0,G>=e&&(p[B]=k[G]),B+=1,E+=f,C-=a,G=b[C&D][E&y]|0,G>=e&&(p[B]=k[G]),B+=1,E+=f,C-=a,G=b[C&D][E&y]|0,G>=e&&(p[B]=k[G]),B+=1,E+=f,C-=a,G=b[C&D][E&y]|0,G>=e&&(p[B]=k[G]),B+=1,E+=f,C-=a,G=b[C&D][E&y]|
0,G>=e&&(p[B]=k[G]),B+=1,E+=f,C-=a,G=b[C&D][E&y]|0,G>=e&&(p[B]=k[G]),B+=1,E+=f,C-=a,G=b[C&D][E&y]|0,G>=e&&(p[B]=k[G]),B+=1,E+=f,C-=a,G=b[C&D][E&y]|0,G>=e&&(p[B]=k[G]),B+=1,E+=f,C-=a;z+=a;C=u+=f}};q.prototype.BK=function(a,c,d,e){var l=this.J>>3,k=this.cf,p=this.Ed,r,t=1,v=1,x=0,A=this.Pb&~d,y=this.Nb&~d,D=a,b=this.qa;1<this.C&&(t=this.aa);a=1/this.qa;this.M&&(a/=ViewConstants.se);var m=1/this.qa;var f=-(this.I/2*a)+this.Ue;var u=-(this.J/2*m)+this.Te;1<this.aa&&1<this.C&&(x=.4/(this.aa-1),v=.6);this.ie(v);
var z=0;var B=f;for(r=0;r<this.I;r+=1){var C=D[B&y];var E=u;this.S&&(E+=.5*(B|0));for(B=0;B<l;B+=1){var G=C[E&A];p[z]=k[G];z+=1;E+=m;G=C[E&A];p[z]=k[G];z+=1;E+=m;G=C[E&A];p[z]=k[G];z+=1;E+=m;G=C[E&A];p[z]=k[G];z+=1;E+=m;G=C[E&A];p[z]=k[G];z+=1;E+=m;G=C[E&A];p[z]=k[G];z+=1;E+=m;G=C[E&A];p[z]=k[G];z+=1;E+=m;G=C[E&A];p[z]=k[G];z+=1;E+=m}B=f+=a}e&&this.ae();(this.tc||this.pd)&&this.ki()&&this.Od();D=c;for(c=1;c<t;c+=1)for(e=2<this.i?this.O?1:0===this.K?this.i/this.aa*c|0:c<t/2?this.K/this.aa*c*2|0:this.K+
this.i/this.aa*c|0:this.Zc?1:(this.$f+1)/this.aa*c|0,v+=x,this.ie(v),a/=this.C,m/=this.C,b*=this.C,A=d,d=.125>b?15:.25>b?7:.5>b?3:1>b?1:0,d!==A&&(D=this.U),A=this.Pb&~d,y=this.Nb&~d,f=-(this.I/2*a)+this.Ue,u=-(this.J/2*m)+this.Te,z=0,B=f,r=0;r<this.I;r+=1){C=D[B&y];E=u;this.S&&(E+=.5*(B|0));for(B=0;B<l;B+=1)G=C[E&A]|0,G>=e&&(p[z]=k[G]),z+=1,E+=m,G=C[E&A]|0,G>=e&&(p[z]=k[G]),z+=1,E+=m,G=C[E&A]|0,G>=e&&(p[z]=k[G]),z+=1,E+=m,G=C[E&A]|0,G>=e&&(p[z]=k[G]),z+=1,E+=m,G=C[E&A]|0,G>=e&&(p[z]=k[G]),z+=1,E+=
m,G=C[E&A]|0,G>=e&&(p[z]=k[G]),z+=1,E+=m,G=C[E&A]|0,G>=e&&(p[z]=k[G]),z+=1,E+=m,G=C[E&A]|0,G>=e&&(p[z]=k[G]),z+=1,E+=m;B=f+=a}};q.prototype.di=function(a,c,d,e,l){var k=Math.sin(this.mb/180*Math.PI)/this.qa,p=Math.cos(this.mb/180*Math.PI)/this.qa,r=this.M?ViewConstants.se:1,t=this.J,v=this.I,x=-(this.J/2*-k+this.I/2*p/r)+this.Ue,A=-(this.J/2*p+this.I/2*k)+this.Te,y=x+t*-k,D=A+t*p;r=x+v*p/r;v=A+v*k;k=r+t*-k;p=v+t*p;t=r;var b=v;p<b&&(b=p);A<b&&(b=A);D<b&&(b=A);p>v&&(v=p);A>v&&(v=A);D>v&&(v=D);k>t&&
(t=k);x>t&&(t=x);y>t&&(t=y);k<r&&(r=k);x<r&&(r=x);y<r&&(r=y);0>(b|0)||(v|0)>=this.width||0>(r|0)||(t|0)>=this.height?0===this.mb?this.Hh&&!this.S&&1<=this.qa&&1===this.aa&&(this.qa|0)!==this.qa?(this.ie(1),this.width!==this.ja?this.Tp(a,b,r,v,t,this.cf[0],e,l):this.Tp(a,b,r,v,t,this.vl,e,l)):this.zK(a,c,d,e):this.yK(a,c,d,e):0===this.mb?this.Hh&&!this.S&&1<=this.qa&&1===this.aa&&(this.qa|0)!==this.qa?(this.ie(1),this.Tp(a,b,r,v,t,this.cf[0],e,l)):this.BK(a,c,d,e):this.AK(a,c,d,e)};q.prototype.Tp=
function(a,c,d,e,l,k,p,r){var t=this.cf,v=this.Ik,x=this.Vi,A=this.Wi,y=(this.qa|0)<<1,D=this.od.width,b=D*y,m=e-c,f=l-d,u=this.qa*(this.M?ViewConstants.se:1),z=-(c-Math.floor(c))*this.qa,B=-(d-Math.floor(d))*u,C=this.width-1,E=this.height-1,G,F=0,I,L=y>>1,M;d|=0;c|=0;m=(m|0)+2;f=(f|0)+2;e=c+m;l=d+f;switch(L){case 1:var H=b;for(M=m<<1;d<l;d+=1){if((d&E)!==d)v.fill(k,F,F+M),F+=D,v.fill(k,F,F+M);else{var K=a[d];var J=F;for(G=c;G<e;G+=1){var S=(G&C)!==G?k:t[K[G]];v[F]=S;v[F+1]=S;F+=2}F=J+D;v.copyWithin(F,
J,J+M)}F=H;H+=b}break;case 2:H=b;for(M=m<<2;d<l;d+=1){if((d&E)!==d)v.fill(k,F,F+M),F+=D,v.fill(k,F,F+M),F+=D,v.fill(k,F,F+M),F+=D,v.fill(k,F,F+M);else{K=a[d];J=F;for(G=c;G<e;G+=1)S=(G&C)!==G?k:t[K[G]],v[F]=S,v[F+1]=S,v[F+2]=S,v[F+3]=S,F+=4;F=J+D;v.copyWithin(F,J,J+M);F+=D;J+=D;v.copyWithin(F,J,J+M);F+=D;J+=D;v.copyWithin(F,J,J+M)}F=H;H+=b}break;default:for(H=b,M=m*y;d<l;d+=1){if((d&E)!==d)for(K=0;K<L;K+=1)v.fill(k,F,F+M),F+=D,v.fill(k,F,F+M),F+=D;else{K=a[d];J=F;for(G=c;G<e;G+=1)for(S=(G&C)!==G?k:
t[K[G]],I=0;I<L;I+=1)v[F]=S,v[F+1]=S,F+=2;F=J+D;for(K=1;K<y;K+=1)v.copyWithin(F,J,J+M),J+=D,F+=D}F=H;H+=b}}x.putImageData(A,0,0,0,0,m*y,f*y);this.context.imageSmoothingEnabled=!0;this.context.drawImage(this.od,0,0,m*y,f*y,z,B,m*this.qa,f*u);this.context.imageSmoothingEnabled=!1;p||r||(this.tc||this.pd)&&this.ki()?(this.gd=this.context.getImageData(0,0,this.context.canvas.width,this.context.canvas.height),this.Ed=new Uint32Array(this.gd.data.buffer),p&&this.ae(),(this.tc||this.pd)&&this.ki()&&this.Od()):
this.Ek=!1};q.prototype.Sp=function(a,c,d,e,l,k,p,r,t){var v=this.cf,x=this.Ik,A=this.Vi,y=this.Wi,D=(this.qa|0)<<1,b=this.od.width,m=b*D,f=l-d,u=k-e,z=-(d-Math.floor(d))*this.qa,B=-(e-Math.floor(e))*this.qa,C=this.width-1,E=this.height-1,G,F=0,I=this.Qa,L=D>>1,M=ViewConstants.fb[3]+128,H=ViewConstants.fb[4]+128,K=ViewConstants.fb[5]+128,J=ViewConstants.fb[6]+128,S;e|=0;d|=0;f=(f|0)+2;u=(u|0)+2;l=d+f;k=e+u;switch(L){case 1:var pa=m;for(S=f<<1;e<k;e+=1){if((e&E)!==e)x.fill(p,F,F+S),F+=b,x.fill(p,F,
F+S);else{var oa=c[e];var O=a[e];var ba=F;for(G=d;G<l;G+=1){if((G&C)!==G)var R=p;else{R=oa[G];var Z=O[G];Z===H||Z===J?(R>=I&&(Z=M),R=v[Z]):Z===M||Z===K?(R<I&&(Z=H),R=v[Z]):R=v[R]}x[F]=R;x[F+1]=R;F+=2}F=ba+b;x.copyWithin(F,ba,ba+S)}F=pa;pa+=m}break;case 2:pa=m;for(S=f<<2;e<k;e+=1){if((e&E)!==e)x.fill(p,F,F+S),F+=b,x.fill(p,F,F+S),F+=b,x.fill(p,F,F+S),F+=b,x.fill(p,F,F+S);else{oa=c[e];O=a[e];ba=F;for(G=d;G<l;G+=1)(G&C)!==G?R=p:(R=oa[G],Z=O[G],Z===H||Z===J?(R>=I&&(Z=M),R=v[Z]):Z===M||Z===K?(R<I&&(Z=
H),R=v[Z]):R=v[R]),x[F]=R,x[F+1]=R,x[F+2]=R,x[F+3]=R,F+=4;F=ba+b;x.copyWithin(F,ba,ba+S);F+=b;ba+=b;x.copyWithin(F,ba,ba+S);F+=b;ba+=b;x.copyWithin(F,ba,ba+S)}F=pa;pa+=m}break;default:for(pa=m,S=f*D;e<k;e+=1){if((e&E)!==e)for(oa=0;oa<L;oa+=1)x.fill(p,F,F+S),F+=b,x.fill(p,F,F+S),F+=b;else{oa=c[e];O=a[e];ba=F;for(G=d;G<l;G+=1)for((G&C)!==G?R=p:(R=oa[G],Z=O[G],Z===H||Z===J?(R>=I&&(Z=M),R=v[Z]):Z===M||Z===K?(R<I&&(Z=H),R=v[Z]):R=v[R]),Z=0;Z<L;Z+=1)x[F]=R,x[F+1]=R,F+=2;F=ba+b;for(oa=1;oa<D;oa+=1)x.copyWithin(F,
ba,ba+S),ba+=b,F+=b}F=pa;pa+=m}}A.putImageData(y,0,0,0,0,f*D,u*D);this.context.imageSmoothingEnabled=!0;this.context.drawImage(this.od,0,0,f*D,u*D,z,B,f*this.qa,u*this.qa);this.context.imageSmoothingEnabled=!1;r||t||(this.tc||this.pd)&&this.ki()?(this.gd=this.context.getImageData(0,0,this.context.canvas.width,this.context.canvas.height),this.Ed=new Uint32Array(this.gd.data.buffer),r&&this.ae(),(this.tc||this.pd)&&this.ki()&&this.Od()):this.Ek=!1};q.prototype.uK=function(a,c,d,e){var l=this.J>>3,k=
this.cf,p=this.Ed,r=0,t=0;var v=this.width;var x=this.height;var A=ViewConstants.fb[3]+128,y=ViewConstants.fb[4]+128,D=ViewConstants.fb[5]+128,b=ViewConstants.fb[6]+128,m=1,f=1,u=0,z=this.ja,B=this.Qa,C=this.Pb&~d,E=this.Nb&~d,G=~d,F=~d,I=this.vl,L=k[0],M=c,H=this.qa;1<this.C&&(m=this.aa);var K=Math.sin(this.mb/180*Math.PI)/this.qa;var J=Math.cos(this.mb/180*Math.PI)/this.qa;var S=-(this.J/2*-K+this.I/2*J)+this.Ue;var pa=-(this.J/2*J+this.I/2*K)+this.Te;1<this.aa&&1<this.C&&(u=.4/(this.aa-1),f=.6);
for(this.ie(f);v<z;)r+=v>>1,v<<=1;for(;x<z;)t+=x>>1,x<<=1;var oa=0;var O=S;for(v=0;v<this.I;v+=1){var ba=pa;for(x=0;x<l;x+=1){if(0<=ba&&(ba&G)===(ba&C)&&0<=O&&(O&F)===(O&E)){var R=M[O&E][ba&C];var Z=a[O&E][ba&C];Z===y||Z===b?(R>=B&&(Z=A),R=k[Z]|0):Z===A||Z===D?(R<B&&(Z=y),R=k[Z]|0):R=k[R]|0;p[oa]=R}else p[oa]=0<=ba+r&&ba+r<z&&0<=O+t&&O+t<z?L:I;oa+=1;ba+=J;O-=K;0<=ba&&(ba&G)===(ba&C)&&0<=O&&(O&F)===(O&E)?(R=M[O&E][ba&C],Z=a[O&E][ba&C],Z===y||Z===b?(R>=B&&(Z=A),R=k[Z]|0):Z===A||Z===D?(R<B&&(Z=y),R=
k[Z]|0):R=k[R]|0,p[oa]=R):p[oa]=0<=ba+r&&ba+r<z&&0<=O+t&&O+t<z?L:I;oa+=1;ba+=J;O-=K;0<=ba&&(ba&G)===(ba&C)&&0<=O&&(O&F)===(O&E)?(R=M[O&E][ba&C],Z=a[O&E][ba&C],Z===y||Z===b?(R>=B&&(Z=A),R=k[Z]|0):Z===A||Z===D?(R<B&&(Z=y),R=k[Z]|0):R=k[R]|0,p[oa]=R):p[oa]=0<=ba+r&&ba+r<z&&0<=O+t&&O+t<z?L:I;oa+=1;ba+=J;O-=K;0<=ba&&(ba&G)===(ba&C)&&0<=O&&(O&F)===(O&E)?(R=M[O&E][ba&C],Z=a[O&E][ba&C],Z===y||Z===b?(R>=B&&(Z=A),R=k[Z]|0):Z===A||Z===D?(R<B&&(Z=y),R=k[Z]|0):R=k[R]|0,p[oa]=R):p[oa]=0<=ba+r&&ba+r<z&&0<=O+t&&
O+t<z?L:I;oa+=1;ba+=J;O-=K;0<=ba&&(ba&G)===(ba&C)&&0<=O&&(O&F)===(O&E)?(R=M[O&E][ba&C],Z=a[O&E][ba&C],Z===y||Z===b?(R>=B&&(Z=A),R=k[Z]|0):Z===A||Z===D?(R<B&&(Z=y),R=k[Z]|0):R=k[R]|0,p[oa]=R):p[oa]=0<=ba+r&&ba+r<z&&0<=O+t&&O+t<z?L:I;oa+=1;ba+=J;O-=K;0<=ba&&(ba&G)===(ba&C)&&0<=O&&(O&F)===(O&E)?(R=M[O&E][ba&C],Z=a[O&E][ba&C],Z===y||Z===b?(R>=B&&(Z=A),R=k[Z]|0):Z===A||Z===D?(R<B&&(Z=y),R=k[Z]|0):R=k[R]|0,p[oa]=R):p[oa]=0<=ba+r&&ba+r<z&&0<=O+t&&O+t<z?L:I;oa+=1;ba+=J;O-=K;0<=ba&&(ba&G)===(ba&C)&&0<=O&&
(O&F)===(O&E)?(R=M[O&E][ba&C],Z=a[O&E][ba&C],Z===y||Z===b?(R>=B&&(Z=A),R=k[Z]|0):Z===A||Z===D?(R<B&&(Z=y),R=k[Z]|0):R=k[R]|0,p[oa]=R):p[oa]=0<=ba+r&&ba+r<z&&0<=O+t&&O+t<z?L:I;oa+=1;ba+=J;O-=K;0<=ba&&(ba&G)===(ba&C)&&0<=O&&(O&F)===(O&E)?(R=M[O&E][ba&C],Z=a[O&E][ba&C],Z===y||Z===b?(R>=B&&(Z=A),R=k[Z]|0):Z===A||Z===D?(R<B&&(Z=y),R=k[Z]|0):R=k[R]|0,p[oa]=R):p[oa]=0<=ba+r&&ba+r<z&&0<=O+t&&O+t<z?L:I;oa+=1;ba+=J;O-=K}pa+=K;O=S+=J}e&&this.ae();(this.tc||this.pd)&&this.ki()&&this.Od();M=c;for(a=1;a<m;a+=1)for(c=
2<this.i?0===this.K?this.i/this.aa*a|0:a<m/2?this.K/this.aa*a*2|0:this.K+this.i/this.aa*a|0:this.Zc?1:(this.$f+1)/this.aa*a|0,f+=u,this.ie(f),K/=this.C,J/=this.C,H*=this.C,S=d,.125>H?d=15:.25>H?d=7:.5>H?d=3:1>H?d=1:(M=this.U,d=0),d!==S&&(M=this.U),C=this.Pb&~d,E=this.Nb&~d,G=~d,F=~d,S=-(this.J/2*-K+this.I/2*J)+this.Ue,pa=-(this.J/2*J+this.I/2*K)+this.Te,oa=0,O=S,v=0;v<this.I;v+=1){ba=pa;for(x=0;x<l;x+=1)0<=ba&&(ba&G)===(ba&C)&&0<=O&&(O&F)===(O&E)&&(R=M[O&E][ba&C]|0,R>=c&&(p[oa]=k[R])),oa+=1,ba+=J,
O-=K,0<=ba&&(ba&G)===(ba&C)&&0<=O&&(O&F)===(O&E)&&(R=M[O&E][ba&C]|0,R>=c&&(p[oa]=k[R])),oa+=1,ba+=J,O-=K,0<=ba&&(ba&G)===(ba&C)&&0<=O&&(O&F)===(O&E)&&(R=M[O&E][ba&C]|0,R>=c&&(p[oa]=k[R])),oa+=1,ba+=J,O-=K,0<=ba&&(ba&G)===(ba&C)&&0<=O&&(O&F)===(O&E)&&(R=M[O&E][ba&C]|0,R>=c&&(p[oa]=k[R])),oa+=1,ba+=J,O-=K,0<=ba&&(ba&G)===(ba&C)&&0<=O&&(O&F)===(O&E)&&(R=M[O&E][ba&C]|0,R>=c&&(p[oa]=k[R])),oa+=1,ba+=J,O-=K,0<=ba&&(ba&G)===(ba&C)&&0<=O&&(O&F)===(O&E)&&(R=M[O&E][ba&C]|0,R>=c&&(p[oa]=k[R])),oa+=1,ba+=J,O-=
K,0<=ba&&(ba&G)===(ba&C)&&0<=O&&(O&F)===(O&E)&&(R=M[O&E][ba&C]|0,R>=c&&(p[oa]=k[R])),oa+=1,ba+=J,O-=K,0<=ba&&(ba&G)===(ba&C)&&0<=O&&(O&F)===(O&E)&&(R=M[O&E][ba&C]|0,R>=c&&(p[oa]=k[R])),oa+=1,ba+=J,O-=K;pa+=K;O=S+=J}};q.prototype.wK=function(a,c,d,e){var l=this.J>>3,k=this.cf,p=this.Ed,r,t,v=ViewConstants.fb[3]+128,x=ViewConstants.fb[4]+128,A=ViewConstants.fb[5]+128,y=ViewConstants.fb[6]+128,D=1,b=1,m=0,f=this.Qa,u=this.Pb&~d,z=this.Nb&~d,B=c,C=this.qa;1<this.C&&(D=this.aa);var E=Math.sin(this.mb/
180*Math.PI)/this.qa;var G=Math.cos(this.mb/180*Math.PI)/this.qa;var F=-(this.J/2*-E+this.I/2*G)+this.Ue;var I=-(this.J/2*G+this.I/2*E)+this.Te;1<this.aa&&1<this.C&&(m=.4/(this.aa-1),b=.6);this.ie(b);var L=0;var M=F;for(r=0;r<this.I;r+=1){var H=I;for(t=0;t<l;t+=1){var K=B[M&z][H&u];var J=a[M&z][H&u];J===x||J===y?(K>=f&&(J=v),K=k[J]|0):J===v||J===A?(K<f&&(J=x),K=k[J]|0):K=k[K]|0;p[L]=K;L+=1;H+=G;M-=E;K=B[M&z][H&u];J=a[M&z][H&u];J===x||J===y?(K>=f&&(J=v),K=k[J]|0):J===v||J===A?(K<f&&(J=x),K=k[J]|0):
K=k[K]|0;p[L]=K;L+=1;H+=G;M-=E;K=B[M&z][H&u];J=a[M&z][H&u];J===x||J===y?(K>=f&&(J=v),K=k[J]|0):J===v||J===A?(K<f&&(J=x),K=k[J]|0):K=k[K]|0;p[L]=K;L+=1;H+=G;M-=E;K=B[M&z][H&u];J=a[M&z][H&u];J===x||J===y?(K>=f&&(J=v),K=k[J]|0):J===v||J===A?(K<f&&(J=x),K=k[J]|0):K=k[K]|0;p[L]=K;L+=1;H+=G;M-=E;K=B[M&z][H&u];J=a[M&z][H&u];J===x||J===y?(K>=f&&(J=v),K=k[J]|0):J===v||J===A?(K<f&&(J=x),K=k[J]|0):K=k[K]|0;p[L]=K;L+=1;H+=G;M-=E;K=B[M&z][H&u];J=a[M&z][H&u];J===x||J===y?(K>=f&&(J=v),K=k[J]|0):J===v||J===A?(K<
f&&(J=x),K=k[J]|0):K=k[K]|0;p[L]=K;L+=1;H+=G;M-=E;K=B[M&z][H&u];J=a[M&z][H&u];J===x||J===y?(K>=f&&(J=v),K=k[J]|0):J===v||J===A?(K<f&&(J=x),K=k[J]|0):K=k[K]|0;p[L]=K;L+=1;H+=G;M-=E;K=B[M&z][H&u];J=a[M&z][H&u];J===x||J===y?(K>=f&&(J=v),K=k[J]|0):J===v||J===A?(K<f&&(J=x),K=k[J]|0):K=k[K]|0;p[L]=K;L+=1;H+=G;M-=E}I+=E;M=F+=G}e&&this.ae();(this.tc||this.pd)&&this.ki()&&this.Od();B=c;for(a=1;a<D;a+=1)for(c=2<this.i?0===this.K?this.i/this.aa*a|0:a<D/2?this.K/this.aa*a*2|0:this.K+this.i/this.aa*a|0:this.Zc?
1:(this.$f+1)/this.aa*a|0,b+=m,this.ie(b),E/=this.C,G/=this.C,C*=this.C,r=d,.125>C?d=15:.25>C?d=7:.5>C?d=3:1>C?d=1:(B=this.U,d=0),d!==r&&(B=this.U),u=this.Pb&~d,z=this.Nb&~d,F=-(this.J/2*-E+this.I/2*G)+this.Ue,I=-(this.J/2*G+this.I/2*E)+this.Te,L=0,M=F,r=0;r<this.I;r+=1){H=I;for(t=0;t<l;t+=1)K=B[M&z][H&u]|0,K>=c&&(p[L]=k[K]),L+=1,H+=G,M-=E,K=B[M&z][H&u]|0,K>=c&&(p[L]=k[K]),L+=1,H+=G,M-=E,K=B[M&z][H&u]|0,K>=c&&(p[L]=k[K]),L+=1,H+=G,M-=E,K=B[M&z][H&u]|0,K>=c&&(p[L]=k[K]),L+=1,H+=G,M-=E,K=B[M&z][H&u]|
0,K>=c&&(p[L]=k[K]),L+=1,H+=G,M-=E,K=B[M&z][H&u]|0,K>=c&&(p[L]=k[K]),L+=1,H+=G,M-=E,K=B[M&z][H&u]|0,K>=c&&(p[L]=k[K]),L+=1,H+=G,M-=E,K=B[M&z][H&u]|0,K>=c&&(p[L]=k[K]),L+=1,H+=G,M-=E;I+=E;M=F+=G}};q.prototype.xK=function(a,c,d,e){var l=this.J>>3,k=this.cf,p=this.Ed,r,t=ViewConstants.fb[3]+128,v=ViewConstants.fb[4]+128,x=ViewConstants.fb[5]+128,A=ViewConstants.fb[6]+128,y=1,D=1,b=0,m=this.Qa,f=this.Pb&~d,u=this.Nb&~d,z=c,B=this.qa;1<this.C&&(y=this.aa);var C=1/this.qa;this.M&&(C/=ViewConstants.se);
var E=1/this.qa;var G=-(this.I/2*C)+this.Ue;var F=-(this.J/2*E)+this.Te;1<this.aa&&1<this.C&&(b=.4/(this.aa-1),D=.6);this.ie(D);var I=0;var L=G;for(r=0;r<this.I;r+=1){var M=z[L&u];var H=a[L&u];var K=F;this.S&&(K+=.5*(L|0));for(L=0;L<l;L+=1){var J=M[K&f];var S=H[K&f];S===v||S===A?(J>=m&&(S=t),J=k[S]|0):S===t||S===x?(J<m&&(S=v),J=k[S]|0):J=k[J]|0;p[I]=J;I+=1;K+=E;J=M[K&f];S=H[K&f];S===v||S===A?(J>=m&&(S=t),J=k[S]|0):S===t||S===x?(J<m&&(S=v),J=k[S]|0):J=k[J]|0;p[I]=J;I+=1;K+=E;J=M[K&f];S=H[K&f];S===
v||S===A?(J>=m&&(S=t),J=k[S]|0):S===t||S===x?(J<m&&(S=v),J=k[S]|0):J=k[J]|0;p[I]=J;I+=1;K+=E;J=M[K&f];S=H[K&f];S===v||S===A?(J>=m&&(S=t),J=k[S]|0):S===t||S===x?(J<m&&(S=v),J=k[S]|0):J=k[J]|0;p[I]=J;I+=1;K+=E;J=M[K&f];S=H[K&f];S===v||S===A?(J>=m&&(S=t),J=k[S]|0):S===t||S===x?(J<m&&(S=v),J=k[S]|0):J=k[J]|0;p[I]=J;I+=1;K+=E;J=M[K&f];S=H[K&f];S===v||S===A?(J>=m&&(S=t),J=k[S]|0):S===t||S===x?(J<m&&(S=v),J=k[S]|0):J=k[J]|0;p[I]=J;I+=1;K+=E;J=M[K&f];S=H[K&f];S===v||S===A?(J>=m&&(S=t),J=k[S]|0):S===t||S===
x?(J<m&&(S=v),J=k[S]|0):J=k[J]|0;p[I]=J;I+=1;K+=E;J=M[K&f];S=H[K&f];S===v||S===A?(J>=m&&(S=t),J=k[S]|0):S===t||S===x?(J<m&&(S=v),J=k[S]|0):J=k[J]|0;p[I]=J;I+=1;K+=E}L=G+=C}e&&this.ae();(this.tc||this.pd)&&this.ki()&&this.Od();z=c;for(a=1;a<y;a+=1)for(c=2<this.i?0===this.K?this.i/this.aa*a|0:a<y/2?this.K/this.aa*a*2|0:this.K+this.i/this.aa*a|0:this.Zc?1:(this.$f+1)/this.aa*a|0,D+=b,this.ie(D),C/=this.C,E/=this.C,B*=this.C,r=d,.125>B?d=15:.25>B?d=7:.5>B?d=3:1>B?d=1:(z=this.U,d=0),d!==r&&(z=this.U),
f=this.Pb&~d,u=this.Nb&~d,G=-(this.I/2*C)+this.Ue,F=-(this.J/2*E)+this.Te,I=0,L=G,r=0;r<this.I;r+=1){M=z[L&u];K=F;this.S&&(K+=.5*(L|0));for(L=0;L<l;L+=1)J=M[K&f]|0,J>=c&&(p[I]=k[J]),I+=1,K+=E,J=M[K&f]|0,J>=c&&(p[I]=k[J]),I+=1,K+=E,J=M[K&f]|0,J>=c&&(p[I]=k[J]),I+=1,K+=E,J=M[K&f]|0,J>=c&&(p[I]=k[J]),I+=1,K+=E,J=M[K&f]|0,J>=c&&(p[I]=k[J]),I+=1,K+=E,J=M[K&f]|0,J>=c&&(p[I]=k[J]),I+=1,K+=E,J=M[K&f]|0,J>=c&&(p[I]=k[J]),I+=1,K+=E,J=M[K&f]|0,J>=c&&(p[I]=k[J]),I+=1,K+=E;L=G+=C}};q.prototype.vK=function(a,c,
d,e){var l=this.J>>3,k=this.cf,p=this.Ed,r=0,t=0;var v=this.width;var x=this.height;var A=ViewConstants.fb[3]+128,y=ViewConstants.fb[4]+128,D=ViewConstants.fb[5]+128,b=ViewConstants.fb[6]+128,m=1,f=1,u=0,z=this.ja;var B=0;var C=this.vl,E=k[0],G=this.Qa,F=this.Pb&~d,I=this.Nb&~d,L=~d,M=~d,H=c,K=this.qa;1<this.C&&(m=this.aa);var J=1/this.qa;this.M&&(J/=ViewConstants.se);var S=1/this.qa;var pa=-(this.I/2*J)+this.Ue;var oa=-(this.J/2*S)+this.Te;1<this.aa&&1<this.C&&(u=.4/(this.aa-1),f=.6);for(this.ie(f);v<
z;)r+=v>>1,v<<=1;for(;x<z;)t+=x>>1,x<<=1;var O=0;var ba=pa;for(v=0;v<this.I;v+=1){if(0<=ba&&(ba&M)===(ba&I)){var R=H[ba&I];var Z=a[ba&I];x=oa;this.S&&(x+=.5*(ba|0));for(ba=0;ba<l;ba+=1){if(0<=x&&(x&L)===(x&F)){B=R[x&F];var fa=Z[x&F];fa===y||fa===b?(B>=G&&(fa=A),B=k[fa]|0):fa===A||fa===D?(B<G&&(fa=y),B=k[fa]|0):B=k[B]|0}else 0<=x+r&&x+r<z?B=E:B=C;p[O]=B;O+=1;x+=S;0<=x&&(x&L)===(x&F)?(B=R[x&F],fa=Z[x&F],fa===y||fa===b?(B>=G&&(fa=A),B=k[fa]|0):fa===A||fa===D?(B<G&&(fa=y),B=k[fa]|0):B=k[B]|0):0<=x+r&&
x+r<z?B=E:B=C;p[O]=B;O+=1;x+=S;0<=x&&(x&L)===(x&F)?(B=R[x&F],fa=Z[x&F],fa===y||fa===b?(B>=G&&(fa=A),B=k[fa]|0):fa===A||fa===D?(B<G&&(fa=y),B=k[fa]|0):B=k[B]|0):0<=x+r&&x+r<z?B=E:B=C;p[O]=B;O+=1;x+=S;0<=x&&(x&L)===(x&F)?(B=R[x&F],fa=Z[x&F],fa===y||fa===b?(B>=G&&(fa=A),B=k[fa]|0):fa===A||fa===D?(B<G&&(fa=y),B=k[fa]|0):B=k[B]|0):0<=x+r&&x+r<z?B=E:B=C;p[O]=B;O+=1;x+=S;0<=x&&(x&L)===(x&F)?(B=R[x&F],fa=Z[x&F],fa===y||fa===b?(B>=G&&(fa=A),B=k[fa]|0):fa===A||fa===D?(B<G&&(fa=y),B=k[fa]|0):B=k[B]|0):0<=x+
r&&x+r<z?B=E:B=C;p[O]=B;O+=1;x+=S;0<=x&&(x&L)===(x&F)?(B=R[x&F],fa=Z[x&F],fa===y||fa===b?(B>=G&&(fa=A),B=k[fa]|0):fa===A||fa===D?(B<G&&(fa=y),B=k[fa]|0):B=k[B]|0):0<=x+r&&x+r<z?B=E:B=C;p[O]=B;O+=1;x+=S;0<=x&&(x&L)===(x&F)?(B=R[x&F],fa=Z[x&F],fa===y||fa===b?(B>=G&&(fa=A),B=k[fa]|0):fa===A||fa===D?(B<G&&(fa=y),B=k[fa]|0):B=k[B]|0):0<=x+r&&x+r<z?B=E:B=C;p[O]=B;O+=1;x+=S;0<=x&&(x&L)===(x&F)?(B=R[x&F],fa=Z[x&F],fa===y||fa===b?(B>=G&&(fa=A),B=k[fa]|0):fa===A||fa===D?(B<G&&(fa=y),B=k[fa]|0):B=k[B]|0):0<=
x+r&&x+r<z?B=E:B=C;p[O]=B;O+=1;x+=S}}else if(0<=ba+t&&ba+t<z)for(x=oa,this.S&&(x+=.5*(ba|0)),ba=0;ba<this.J;ba+=1)p[O]=0<=x+r&&x+r<z?E:C,O+=1,x+=S;else p.fill(C,O,O+this.J+1),O+=this.J;ba=pa+=J}e&&this.ae();(this.tc||this.pd)&&this.ki()&&this.Od();H=c;for(a=1;a<m;a+=1)for(c=2<this.i?0===this.K?this.i/this.aa*a|0:a<m/2?this.K/this.aa*a*2|0:this.K+this.i/this.aa*a|0:this.Zc?1:(this.$f+1)/this.aa*a|0,f+=u,this.ie(f),J/=this.C,S/=this.C,K*=this.C,pa=d,.125>K?d=15:.25>K?d=7:.5>K?d=3:1>K?d=1:(H=this.U,
d=0),d!==pa&&(H=this.U),F=this.Pb&~d,I=this.Nb&~d,L=~d,M=~d,pa=-(this.I/2*J)+this.Ue,oa=-(this.J/2*S)+this.Te,O=0,ba=pa,v=0;v<this.I;v+=1){if(0<=ba&&(ba&M)===(ba&I))for(R=H[ba&I],x=oa,this.S&&(x+=.5*(ba|0)),ba=0;ba<l;ba+=1)0<=x&&(x&L)===(x&F)&&(B=R[x&F]|0,B>=c&&(p[O]=k[B])),O+=1,x+=S,0<=x&&(x&L)===(x&F)&&(B=R[x&F]|0,B>=c&&(p[O]=k[B])),O+=1,x+=S,0<=x&&(x&L)===(x&F)&&(B=R[x&F]|0,B>=c&&(p[O]=k[B])),O+=1,x+=S,0<=x&&(x&L)===(x&F)&&(B=R[x&F]|0,B>=c&&(p[O]=k[B])),O+=1,x+=S,0<=x&&(x&L)===(x&F)&&(B=R[x&F]|
0,B>=c&&(p[O]=k[B])),O+=1,x+=S,0<=x&&(x&L)===(x&F)&&(B=R[x&F]|0,B>=c&&(p[O]=k[B])),O+=1,x+=S,0<=x&&(x&L)===(x&F)&&(B=R[x&F]|0,B>=c&&(p[O]=k[B])),O+=1,x+=S,0<=x&&(x&L)===(x&F)&&(B=R[x&F]|0,B>=c&&(p[O]=k[B])),O+=1,x+=S;else O+=l<<3;ba=pa+=J}};q.prototype.ci=function(a,c,d,e,l){var k=Math.sin(this.mb/180*Math.PI)/this.qa,p=Math.cos(this.mb/180*Math.PI)/this.qa,r=this.J,t=this.I,v=-(this.J/2*-k+this.I/2*p)+this.Ue,x=-(this.J/2*p+this.I/2*k)+this.Te,A=v+r*-k,y=x+r*p,D=v+t*p;t=x+t*k;k=D+r*-k;p=t+r*p;r=
D;var b=t;p<b&&(b=p);x<b&&(b=x);y<b&&(b=x);p>t&&(t=p);x>t&&(t=x);y>t&&(t=y);k>r&&(r=k);v>r&&(r=v);A>r&&(r=A);k<D&&(D=k);v<D&&(D=v);A<D&&(D=A);0>(b|0)||(t|0)>=this.width||0>(D|0)||(r|0)>=this.height?0===this.mb?this.Hh&&1<=this.qa&&1===this.aa&&(this.qa|0)!==this.qa?(this.ie(1),this.width!==this.ja?this.Sp(a,c,b,D,t,r,this.cf[0],e,l):this.Sp(a,c,b,D,t,r,this.vl,e,l)):this.vK(a,c,d,e):this.uK(a,c,d,e):0===this.mb?this.Hh&&1<=this.qa&&1===this.aa&&(this.qa|0)!==this.qa?(this.ie(1),this.Sp(a,c,b,D,t,
r,this.cf[0],e,l)):this.xK(a,c,d,e):this.wK(a,c,d,e)};q.prototype.os=function(){var a;if(this.Ek){if(!this.gd.data.buffer){var c=this.gd.data;var d=this.Ml;var e=d.length;for(a=0;a<e;)c[a]=d[a],a+=1,c[a]=d[a],a+=1,c[a]=d[a],a+=1,c[a]=d[a],a+=1}if(0!==this.Sa){var l,k;a=this.context.canvas.width;e=this.context.canvas.height;c=this.Ed;d=this.Ti;var p=a>>1,r=e>>1;var t=this.Sa-1;var v=this.vl,x=(2*t+2)/e;null===this.Ti&&(d=this.Ti=this.B.T(Uint32,a*e,"Life.tiltBuffer"));var A=-t;for(t=0;t<e;t+=1){var y=
t-r;0>=A?l=e:l=y/A+r|0;var D=t*a;if(0>l||l>=e)for(k=0;k<a;k+=1)d[D+k]=v;else{var b=l*a;y=-p/A+p;k=p/A+p;var m=(k-y)/a;for(k=0;k<a;k+=1){var f=y|0;d[D+k]=0>f||f>=a?v:c[b+f];y+=m}}A+=x}c.set(d)}this.context.putImageData(this.gd,0,0)}};q.prototype.mF=function(a){this.Ed.fill(a)};window.LifeConstants=n;window.Life=q}(),function(){function w(h,g){var q=0,n=0,a=h.length,c=!1,d=!1,e=!1,l=0,k=new Uint32Array(a),p=new Uint16Array(a),r=new Uint32Array(a),t=0,v=0;-1!==h.indexOf("&")&&(h=h.replace(/&amp;/g,"&"),
h=h.replace(/&lt;/g,"<"),h=h.replace(/&gt;/g,">"),a=h.length);for(;q<a;){var x=h.charCodeAt(q);switch(x){case 32:case 13:case 9:case 123:case 125:!d&&c&&(k[l]=n,p[l]=q-n,r[l]=(t<<1)+1&v,l+=1,c=!1);break;case 44:g?!d&&c&&(k[l]=n,p[l]=q-n,r[l]=(t<<1)+1&v,l+=1,c=!1):c||(c=!0,v=0,d=!1,n=q);break;case 10:c&&(k[l]=n,p[l]=q-n,r[l]=(t<<1)+1&v,l+=1,c=!1);d=!1;g&&(0<l&&"\n"!==h[k[l-1]]&&(k[l]=q,p[l]=1,r[l]=0,l+=1),e=!1);break;case 58:case 61:g?d||(c&&(k[l]=n,p[l]=q-n,r[l]=(t<<1)+1&v,l+=1,c=!1),k[l]=q,p[l]=
1,r[l]=0,l+=1):c||(c=!0,v=0,d=!1,n=q);break;case 34:g?d||(e=!e,c||(c=!0,n=q)):c||(c=!0,v=0,n=q);break;case 35:g?e||d||(c&&(k[l]=n,p[l]=q-n,r[l]=(t<<1)+1&v,l+=1,c=!1),d=!0):c||(c=!0,v=0,d=!1,n=q);break;default:d||(c?48<=x&&57>=x?(t=10*t+x-48,1073741824<=t&&(v=0)):v=0:(c=!0,n=q,48<=x&&57>=x?(v=-1,t=x-48):v=0))}q+=1}c&&(k[l]=n,p[l]=q-n,r[l]=(t<<1)+1&v,l+=1);this.C=k.slice(0,l);this.G=p.slice(0,l);this.Y=r.slice(0,l);this.current=0;this.source=h}w.prototype.GM=function(h,g){return 0>h||h>=this.C.length||
0>g||g>=this.C.length||h>g?"":this.source.substring(this.C[h],this.C[g]+this.G[g])};w.prototype.AJ=function(){0<this.current&&--this.current};w.prototype.On=function(){for(;this.current<this.C.length&&10!==this.source.charCodeAt(this.C[this.current]);)this.current+=1;this.current<this.C.length&&(this.current+=1)};w.prototype.Vx=function(){for(;this.current<this.C.length&&10===this.source.charCodeAt(this.C[this.current]);)this.current+=1};w.prototype.SN=function(){var h=!1;this.current<this.C.length&&
10!==this.source.charCodeAt(this.C[this.current])&&(h=!0);return h};w.prototype.Tq=function(){var h=!1;this.current<this.C.length&&10===this.source.charCodeAt(this.C[this.current])&&(h=!0);return h};w.prototype.V=function(){var h="";this.current<this.C.length&&(h=this.source.substr(this.C[this.current],this.G[this.current]),this.current+=1);return h};w.prototype.tH=function(){var h;for(h=this.V();"\n"===h;)h=this.V();return h};w.prototype.Fa=function(){var h="";this.current<this.C.length&&(h=this.source.substr(this.C[this.current],
this.G[this.current]));return h};w.prototype.mH=function(){return this.na(Keywords.up,-1,!1)};w.prototype.uq=function(h,g){return this.na(h,g,!0)};w.prototype.na=function(h,g,q){var n=-1,a=this.current;for(-1!==g&&0<=g&&g<this.C.length&&(a=g);a<this.C.length&&-1===n;){if(h.length===this.G[a]){var c=0;for(g=!0;g&&c<h.length;)h[c]!==this.source[this.C[a]+c]?g=!1:c+=1}else g=!1;g&&(q&&0!==a&&10!==this.source.charCodeAt(this.C[a-1])&&(g=!1),g&&(n=a));a+=1}-1!==n&&(this.current=a);return n};w.prototype.hn=
function(h){return!isNaN(parseFloat(h))&&isFinite(Number(h))};w.prototype.ea=function(h){var g=!1,q=h.indexOf("/");-1!==q&&(g=h.substr(0,q),h=h.substr(q+1),g=this.hn(g)&&this.hn(h));return g};w.prototype.Rz=function(h){var g=0;if(this.ea(h)){var q=h.indexOf("/");var n=h.substr(0,q);h=h.substr(q+1);0!==Number(h)&&(g=Number(n)/Number(h))}else this.hn(h)&&(g=parseFloat(h));return g};w.prototype.R=function(){var h=0;this.current<this.C.length&&(0!==this.Y[this.current]?(h=this.Y[this.current]>>1,this.current+=
1):(h=this.V(),h=this.Rz(h)));return h};w.prototype.P=function(){var h=!1;if(this.current<this.C.length)if(this.Y[this.current])h=!0;else{var g=this.source.substr(this.C[this.current],this.G[this.current]);this.ea(g)?h=!0:h=this.hn(g)}return h};w.prototype.xM=function(){var h=!1;var g=this.current+1;g<this.C.length&&(this.Y[g]?h=!0:(g=this.source.substr(this.C[g],this.G[g]),this.ea(g)?h=!0:h=this.hn(g)));return h};w.prototype.kM=function(){this.current=this.C.length};window.Script=w}(),function(){function w(c){this.A=
c;this.rp=this.ui=this.Fq=!1;this.Ch=a.qC;this.dl=a.hr;this.nb=this.lc=-1;this.Sa=this.angle=this.y=this.x=0;this.depth=this.aa=this.zoom=1;this.yc=0;this.Nc=60;this.step=1;this.ld=this.qc=0;this.ug="";this.Lt=this.Kl=this.Zx=this.vu=this.Dm=this.Cm=this.EE=this.DJ=this.gu=this.kn=this.Vn=this.Ff=this.fg=this.Hf=this.$i=this.ij=this.we=this.Fi=this.hi=this.Yf=this.wg=this.grid=this.Pn=this.Mi=this.Ki=this.Hi=this.Nf=!1}function h(c,d,e,l,k,p,r,t,v,x,A,y,D,b,m,f,u,z){this.Ar=z;this.coords=c;this.tB=
d;this.zoom=e;this.bb=l;this.Ob=k;this.Ag=p;this.alpha=r;this.size=t;this.xc=v;this.Ph=x;this.Xd=A;this.angle=y;this.Hm=D;this.Hn=b;this.tg=m;this.dx=f;this.dy=u;-1E3===this.Ob&&-1E3===this.bb&&(this.bb=this.zoom/4,this.Ob=4*this.zoom)}function g(c,d,e,l,k,p,r,t,v,x,A,y,D,b,m,f,u,z,B,C,E){this.Ar=E;this.x1=c;this.y1=d;this.x2=e;this.y2=l;this.zoom=k;this.bb=p;this.Ob=r;this.Ag=t;this.alpha=v;this.size=x;this.GH=A;this.xc=y;this.Ph=D;this.Xd=b;this.angle=m;this.Hm=f;this.Hn=u;this.tg=z;this.dx=B;this.dy=
C;-1E3===this.Ob&&-1E3===this.bb&&(this.bb=this.zoom/4,this.Ob=4*this.zoom)}function q(c,d,e,l,k,p,r,t,v,x,A,y,D,b,m,f,u,z,B){this.Ar=B;this.message="";this.Ih=this.hl=this.Vv=this.kr=-1;this.x=c;this.y=d;this.zoom=e;this.bb=l;this.Ob=k;this.Ag=p;this.alpha=r;this.size=t;this.PP=v;this.xc=x;this.Ph=A;this.Xd=y;this.angle=D;this.Hm=b;this.Hn=m;this.tg=f;this.dx=u;this.dy=z;-1E3===this.Ob&&-1E3===this.bb&&(this.bb=this.zoom/4,this.Ob=4*this.zoom)}function n(){this.Za=[];this.Ec=[];this.yf=[];this.ag=
[];this.lg=[];this.current=new w(this);this.Ya=new w(this);this.G=new w(this);this.Y=!1;this.vj=0;this.As=this.ea=!1}var a={qC:0,play:1,stop:2,hr:12,MI:0,LI:200};w.prototype.set=function(c){this.Fq=c.Fq;this.ui=c.ui;this.rp=c.rp;this.Ch=c.Ch;this.dl=c.dl;this.lc=c.lc;this.nb=c.nb;this.x=c.x;this.y=c.y;this.Hi=c.Hi;this.Ki=c.Ki;this.Mi=c.Mi;this.Nf=c.Nf;this.angle=c.angle;this.Sa=c.Sa;this.zoom=c.zoom;this.aa=c.aa;this.depth=c.depth;this.yc=c.yc;this.Nc=c.Nc;this.step=c.step;this.qc=c.qc;this.ld=c.ld;
this.ug=c.ug;this.Pn=c.Pn;this.grid=c.grid};w.prototype.C=function(){var c="";switch(this.Ch){case a.play:c=Keywords.ir;break;case a.stop:c=Keywords.jr}return c};w.prototype.DP=function(c){this.ui?(this.Ch!==a.qC&&(c[c.length]=[Keywords.ir,"overwrites "+this.C()]),this.Ch=a.play):c[c.length]=[Keywords.ir,"only valid at POI"]};w.prototype.HP=function(c){this.ui?(this.Ch!==a.qC&&(c[c.length]=[Keywords.jr,"overwrites "+this.C()]),this.Ch=a.stop):c[c.length]=[Keywords.jr,"only valid at POI"]};w.prototype.FP=
function(c){this.ui?(this.rp&&(c[c.length]=[Keywords.Et,"already defined"]),this.rp=!0):c[c.length]=[Keywords.Et,"only valid at POI"]};w.prototype.JP=function(c,d){this.ui?(this.dl!==a.hr&&(d[d.length]=[Keywords.Ft+" "+c,"overwrites "+this.dl]),this.dl=c):d[d.length]=[Keywords.Ft,"only valid at POI"]};w.prototype.G=function(c,d,e){var l=c.ld+0,k=d.ld+0,p=c.angle+0,r=d.angle+0,t=1,v=1,x=1,A=1,y=1;e>k&&(e=k);k-l===ViewConstants.OP&&(l=k);k!==l&&(t=Math.round((e-l)/(k-l)*1E6)/1E6,v=this.A.bG(t)+0);d.Hi||
d.Nf?x=t:x=v;d.Ki||d.Nf?A=t:A=v;d.Mi||d.Nf?y=t:y=v;this.x=c.x+x*(d.x-c.x);this.y=c.y+A*(d.y-c.y);this.zoom=c.zoom*Math.pow(d.zoom/c.zoom,y);180<r-p?p+=360:-180>r-p&&(r+=360);this.angle=(p+v*(r-p))%360;this.Sa=c.Sa+v*(d.Sa-c.Sa);this.aa=c.aa+t*(d.aa-c.aa)|0;this.depth=c.depth+t*(d.depth-c.depth);this.yc=d.yc;this.Nc=d.Nc;this.step=d.step;this.qc=c.qc+t*(d.qc-c.qc)|0;this.ld=e;this.ug=d.ug;this.Nf=d.Nf;this.Fq=d.Fq};n.prototype.JL=function(c,d,e,l,k,p,r,t,v,x,A,y,D,b,m,f,u,z){return new h(c,d,e,l,k,
p,r,t,v,x,A,y,D,b,m,f,u,z)};n.prototype.Gb=function(){this.lg=[]};n.prototype.GK=function(c){this.lg[this.lg.length]=c};n.prototype.EL=function(c,d,e,l,k,p,r,t,v,x,A,y,D,b,m,f,u,z,B,C,E){return new g(c,d,e,l,k,p,r,t,v,x,A,y,D,b,m,f,u,z,B,C,E)};n.prototype.ab=function(){this.ag=[]};n.prototype.DK=function(c){this.ag[this.ag.length]=c};n.prototype.HL=function(c,d,e,l,k,p,r,t,v,x,A,y,D,b,m,f,u,z,B){return new q(c,d,e,l,k,p,r,t,v,x,A,y,D,b,m,f,u,z,B)};n.prototype.pb=function(){this.yf=[]};n.prototype.SF=
function(c){c.kr=c.message.indexOf("#P");c.Vv=c.message.indexOf("#G");c.hl=c.message.indexOf("#H");c.fm=c.message.indexOf("#I");c.Ih=c.message.indexOf("#J");this.yf[this.yf.length]=c};n.prototype.ep=function(){return this.yf.length+this.ag.length+this.lg.length};n.prototype.hL=function(){this.pb();this.ab();this.Gb()};n.prototype.oO=function(c){var d="",e="";0<=c&&c<this.lg.length&&(c=this.lg[c],c.Hn&&(e="*"),d=c.tB?"FILL\t":"LINE\t",d+="X1"+e+" "+c.coords[0]+"\tY1"+e+" "+c.coords[1]);return d};n.prototype.pO=
function(c){var d="",e="";0<=c&&c<this.lg.length&&(d=this.lg[c],c=d.zoom,0<=c&&1>c&&(c=-1/c),d.Hm&&(e="*"),d="Z "+c.toFixed(1)+"\tA"+e+" "+d.angle.toFixed(1));return d};n.prototype.qO=function(c){var d="";0<=c&&c<this.lg.length&&(c=this.lg[c],d="Alpha "+c.alpha.toFixed(1),-1!==c.xc&&(d+="\tT1 "+c.xc+"\tT2 "+c.Ph,0<c.Xd&&(d+="\tFade "+c.Xd)));return d};n.prototype.rO=function(c){var d="";0<=c&&c<this.lg.length&&(d=this.lg[c].Ag);return d};n.prototype.UK=function(c){var d="",e="";0<=c&&c<this.ag.length&&
(c=this.ag[c],c.Hn&&(e="*"),d="X1"+e+" "+c.x1+"\tY1"+e+" "+c.y1,d+="\tX2"+e+" "+c.x2+"\tY2"+e+" "+c.y2);return d};n.prototype.VK=function(c){var d="",e="";0<=c&&c<this.ag.length&&(d=this.ag[c],c=d.zoom,0<=c&&1>c&&(c=-1/c),d.Hm&&(e="*"),d="Z "+c.toFixed(1)+"\tA"+e+" "+d.angle.toFixed(1));return d};n.prototype.WK=function(c){var d="";0<=c&&c<this.ag.length&&(c=this.ag[c],d="Alpha "+c.alpha.toFixed(1),-1!==c.xc&&(d+="\tT1 "+c.xc+"\tT2 "+c.Ph,0<c.Xd&&(d+="\tFade "+c.Xd)));return d};n.prototype.Tu=function(c){var d=
"";0<=c&&c<this.ag.length&&(d=this.ag[c].Ag);return d};n.prototype.uN=function(c){var d="",e="",l="";if(0<=c&&c<this.yf.length){var k=this.yf[c];c=k.zoom;0<=c&&1>c&&(c=-1/c);k.Hn&&(e="*");k.Hm&&(l="*");d="X"+e+" "+k.x+"\tY"+e+" "+k.y;d+="\tZ "+c.toFixed(1)+"\tA"+l+" "+k.angle.toFixed(1)}return d};n.prototype.vN=function(c){var d="";0<=c&&c<this.yf.length&&(c=this.yf[c],d="Alpha "+c.alpha.toFixed(1),-1!==c.xc&&(d+="\tT1 "+c.xc+"\tT2 "+c.Ph,0<c.Xd&&(d+="\tFade "+c.Xd)));return d};n.prototype.wN=function(c){var d=
"";0<=c&&c<this.yf.length&&(c=this.yf[c],d="Size "+c.size+'\t"'+c.message+'"');return d};n.prototype.xN=function(c){var d="";0<=c&&c<this.yf.length&&(d=this.yf[c].Ag);return d};n.prototype.wc=function(){this.yf.sort(function(c,d){return c.zoom-d.zoom})};n.prototype.rc=function(){this.ag.sort(function(c,d){return c.zoom-d.zoom})};n.prototype.Fc=function(){this.lg.sort(function(c,d){return c.zoom-d.zoom})};n.prototype.RP=function(){this.wc();this.rc();this.Fc()};n.prototype.na=function(c,d){var e,l=
c.g,k=l.context,p=l.width/2-l.Da-l.kc,r=l.height/2-l.xa-l.dc,t=l.zoom*l.Dc,v=l.zoom*l.Dc*(l.M?ViewConstants.se:1),x=l.J/2,A=l.I/2,y=c.g.counter,D=l.S?-(l.height>>2):0,b=0,m=l.Sa,f=m-1,u=1,z=0,B=0,C=0,E=0,G=c.Mb/c.Ma;l.S&&(p+=r/2);d&&(k.strokeStyle=ViewConstants.YK);for(e=0;e<this.ag.length;e+=1){var F=this.ag[e];var I=F.x1;var L=F.y1;var M=F.x2;var H=F.y2;-1!==c.g.sa&&(I+=c.Ra>>1,L+=c.Wa>>1,M+=c.Ra>>1,H+=c.Wa>>1);if(!d||F.Ar){var K=!0;-1!==F.xc&&(y<F.xc||y>F.Ph)&&(K=!1);if(K){var J=F.size*t/F.zoom;
d&&(b=1,24<=J&&(b=2,48<=J&&(b=3)));if(t>=F.bb&&t<=F.Ob){var S=Math.log(t/F.bb)/Math.log(F.Ob/F.bb);S=.25>=S?4*S:.75<=S?4*(1-S):1;var pa=1;-1!==F.xc&&0<F.Xd&&(y-F.xc<F.Xd?pa=(y-F.xc+1)/F.Xd:F.Ph-y<F.Xd&&(pa=(F.Ph-y+1)/F.Xd));K=!0;var oa=1;if(-1!==F.tg){var O=c.ZA(I,L);O>F.tg?K=!1:0<F.tg&&.75<O/F.tg&&(oa=4*(1-O/F.tg))}K&&(k.globalAlpha=S*F.alpha*pa*oa,S=L+r-(c.Wa>>1)+.5,pa=I+p+D-(c.Ra>>1)+.5,F.Hn||(pa+=l.kc,S+=l.dc),-1!==F.xc?(pa+=F.dx*(G-F.xc),S+=F.dy*(G-F.xc)):(pa+=F.dx*G,S+=F.dy*G),0!==l.mb&&(oa=
Math.sqrt(pa*pa+S*S),S=180/Math.PI*Math.atan2(S,pa),S+=l.mb,pa=oa*Math.cos(Math.PI/180*S),S=oa*Math.sin(Math.PI/180*S)),l.S&&(pa-=S/2),S=S*v+A,pa=pa*t+x,I=(M-I)*t,L=(H-L)*v,l.S&&(I-=L/2),H=0===F.GH?0:Math.sqrt(I*I+L*L)*F.GH,0!==m&&(u=-f+(2*f+2)/l.I*(l.I-S),S=(S-A)/u+A,pa=(pa-x)/u+x),0<=u&&(k.save(),k.translate(pa,S),k.scale(1/u,1/u),S=F.angle,F.Hm||(S+=l.mb),k.rotate(S/180*Math.PI),k.lineWidth=J,d||(k.strokeStyle=F.Ag),k.lineCap="round",k.lineJoin="round",0<H&&(F=Math.atan2(L,I),z=Math.cos(.85*Math.PI+
F),B=Math.sin(.85*Math.PI+F),C=Math.cos(.85*-Math.PI+F),E=Math.sin(.85*-Math.PI+F)),0<b&&k.translate(b,b),k.beginPath(),k.moveTo(0,0),k.lineTo(I,L),0<H&&(k.moveTo(I,L),k.lineTo(I+H*z,L+H*B),k.moveTo(I,L),k.lineTo(I+H*C,L+H*E)),k.stroke(),k.restore()))}}}}k.globalAlpha=1};n.prototype.Qb=function(c){this.na(c,!0);this.na(c,!1)};n.prototype.Ca=function(c,d){var e,l=c.g,k=l.context,p=l.width/2-l.Da-l.kc,r=l.height/2-l.xa-l.dc,t=l.zoom*l.Dc,v=l.zoom*l.Dc*(l.M?ViewConstants.se:1),x=l.J/2,A=l.I/2,y=c.g.counter,
D=l.S?-(l.height>>2):0,b=l.Sa,m=b-1,f=1,u=0,z=0,B=0,C=c.Mb/c.Ma;d&&(k.strokeStyle=ViewConstants.OI,k.fillStyle=ViewConstants.OI);l.S&&(p+=r/2);-1!==c.g.sa&&(z=c.Ra>>1,B=c.Wa>>1);for(e=0;e<this.lg.length;e+=1){var E=this.lg[e];var G=E.coords;var F=G.length;if(!d||E.Ar){var I=!0;-1!==E.xc&&(y<E.xc||y>E.Ph)&&(I=!1);if(I){var L=E.size*t/E.zoom;d&&(u=1,24<=L&&(u=2,48<=L&&(u=3)));if(t>=E.bb&&t<=E.Ob){var M=Math.log(t/E.bb)/Math.log(E.Ob/E.bb);M=.25>=M?4*M:.75<=M?4*(1-M):1;var H=1;-1!==E.xc&&0<E.Xd&&(y-
E.xc<E.Xd?H=(y-E.xc+1)/E.Xd:E.Ph-y<E.Xd&&(H=(E.Ph-y+1)/E.Xd));I=!0;var K=1;if(-1!==E.tg){var J=c.ZA(E.coords[0]+z,E.coords[1]+B);J>E.tg?I=!1:0<E.tg&&.75<J/E.tg&&(K=4*(1-J/E.tg))}if(I&&(k.globalAlpha=M*E.alpha*H*K,M=0,K=G[M]+z+p+D-(c.Ra>>1)+.5,H=G[M+1]+B+r-(c.Wa>>1)+.5,M+=2,E.Hn||(K+=l.kc,H+=l.dc),-1!==E.xc?(K+=E.dx*(C-E.xc),H+=E.dy*(C-E.xc)):(K+=E.dx*C,H+=E.dy*C),0!==l.mb&&(I=Math.sqrt(K*K+H*H),H=180/Math.PI*Math.atan2(H,K),H+=l.mb,K=I*Math.cos(Math.PI/180*H),H=I*Math.sin(Math.PI/180*H)),l.S&&(K-=
H/2),H=H*v+A,J=K*t+x,0!==b&&(f=-m+(2*m+2)/l.I*(l.I-H),H=(H-A)/f+A,J=(J-x)/f+x),0<=f)){K=(G[M]-G[0])*t/f;I=(G[M+1]-G[1])*v/f;l.S&&(K-=I/2);M+=2;k.save();k.translate(J,H);k.scale(1/f,1/f);H=E.angle;E.Hm||(H+=l.mb);k.rotate(H/180*Math.PI);k.lineWidth=L;d||(E.tB?k.fillStyle=E.Ag:k.strokeStyle=E.Ag);k.lineCap="round";k.lineJoin="round";0<u&&k.translate(u,u);k.beginPath();k.moveTo(0,0);for(k.lineTo(K,I);M<F;)K=(G[M]-G[0])*t/f,I=(G[M+1]-G[1])*v/f,l.S&&(K-=I/2),M+=2,k.lineTo(K,I);E.tB?k.fill():k.stroke();
k.restore()}}}}}k.globalAlpha=1};n.prototype.ic=function(c){this.Ca(c,!0);this.Ca(c,!1)};n.prototype.$b=function(c){var d,e=c.g,l=e.context,k=e.width/2-e.Da-e.kc,p=e.height/2-e.xa-e.dc,r=e.zoom*e.Dc,t=e.zoom*e.Dc*(e.M?ViewConstants.se:1),v=e.J/2,x=e.I/2,A=0,y=ViewConstants.AN,D="px "+ViewConstants.yN,b=c.g.counter,m=e.Sa,f=m-1,u=1,z=e.S?-(e.height>>2):0,B=c.Mb/c.Ma;e.S&&(k+=p/2);for(d=0;d<this.yf.length;d+=1){var C=this.yf[d];var E=C.x;var G=C.y;-1!==c.g.sa&&(E+=c.Ra>>1,G+=c.Wa>>1);var F=!0;-1!==
C.xc&&(b<C.xc||b>C.Ph)&&(F=!1);if(F){C.PP?A=C.size:A=C.size*r/C.zoom;var I=1;24<=A&&(I=2,48<=A&&(I=3));if(r>=C.bb&&r<=C.Ob){var L=Math.log(r/C.bb)/Math.log(C.Ob/C.bb);l.font=A+D;L=.25>=L?4*L:.75<=L?4*(1-L):1;var M=1;-1!==C.xc&&0<C.Xd&&(b-C.xc<C.Xd?M=(b-C.xc+1)/C.Xd:C.Ph-b<C.Xd&&(M=(C.Ph-b+1)/C.Xd));F=!0;var H=1;if(-1!==C.tg){var K=c.ZA(E,G);K>C.tg?F=!1:0<C.tg&&.75<K/C.tg&&(H=4*(1-K/C.tg))}if(F&&(l.globalAlpha=L*C.alpha*M*H,E=E+k+z-(c.Ra>>1)+.5,M=G+p-(c.Wa>>1)+.5,C.Hn||(E+=e.kc,M+=e.dc),-1!==C.xc?
(E+=C.dx*(B-C.xc),M+=C.dy*(B-C.xc)):(E+=C.dx*B,M+=C.dy*B),0!==e.mb&&(G=Math.sqrt(E*E+M*M),M=180/Math.PI*Math.atan2(M,E),M+=e.mb,E=G*Math.cos(Math.PI/180*M),M=G*Math.sin(Math.PI/180*M)),e.S&&(E-=M/2),G=C.message,-1!==C.Vv&&(G=G.substr(0,C.Vv)+c.g.counter+G.substr(C.Vv+2),-1!==C.kr&&(C.kr=G.indexOf("#P")),-1!==C.hl&&(C.hl=G.indexOf("#H")),-1!==C.fm&&(C.fm=G.indexOf("#I")),-1!==C.Ih&&(C.Ih=G.indexOf("#J"))),-1!==C.kr&&(G=G.substr(0,C.kr)+c.g.ga+G.substr(C.kr+2),-1!==C.hl&&(C.hl=G.indexOf("#H")),-1!==
C.fm&&(C.fm=G.indexOf("#I")),-1!==C.Ih&&(C.Ih=G.indexOf("#J"))),-1!==C.hl&&(G=c.g.ia||c.g.L?G.substr(0,C.hl)+c.g.lf+G.substr(C.hl+2):G.substr(0,C.hl)+c.g.counter+G.substr(C.hl+2),-1!==C.fm&&(C.fm=G.indexOf("#I")),-1!==C.Ih&&(C.Ih=G.indexOf("#J"))),-1!==C.fm&&(G=G.substr(0,C.fm)+(c.g.counter+c.ih)+G.substr(C.fm+2),-1!==C.Ih&&(C.Ih=G.indexOf("#J"))),-1!==C.Ih&&(G=c.g.ia||c.g.L?G.substr(0,C.Ih)+(c.g.lf+c.ih)+G.substr(C.Ih+2):G.substr(0,C.Ih)+(c.g.counter+c.ih)+G.substr(C.Ih+2)),L=G.indexOf("\\n"),M=
M*t+x,E=E*r+v,0!==m&&(u=-f+(2*f+2)/e.I*(e.I-M),M=(M-x)/u+x,E=(E-v)/u+v),0<=u)){l.save();l.translate(E,M);l.scale(1/u,1/u);M=C.angle;C.Hm||(M+=e.mb);l.rotate(M/180*Math.PI);for(M=0;-1!==L;)E=G.substr(0,L),G=G.substr(L+2),L=l.measureText(E).width>>1,C.Ar&&(l.fillStyle=y,l.fillText(E,-L+I,M+I)),l.fillStyle=C.Ag,l.fillText(E,-L,M),M+=A,L=G.indexOf("\\n");L=l.measureText(G).width>>1;C.Ar&&(l.fillStyle=y,l.fillText(G,-L+I,M+I));l.fillStyle=C.Ag;l.fillText(G,-L,M);l.restore()}}}}l.globalAlpha=1};n.prototype.JA=
function(c){this.ic(c);this.Qb(c);this.$b(c)};n.prototype.WP=function(c){var d;for(d=this.Za.length-1;0<=d;--d){var e=this.Za[d];e.ld>c&&e.Lt&&(this.vj=d,e.Lt=!1)}};n.prototype.XO=function(){var c;for(c=0;c<this.Za.length;c+=1)this.Za[c].Lt=!1;this.vj=0;this.ea=!1};n.prototype.jq=function(){return new w(this)};n.prototype.bG=function(c){return-2*Math.pow(c,3)+3*Math.pow(c,2)+0*c};n.prototype.reset=function(){this.Za=[];this.Ec=[];this.Y=!1;this.vj=0};n.prototype.BN=function(){return this.Za[this.Za.length-
1]};n.prototype.mM=function(c){var d=this.Ka(c),e=this.Za[d];c>e.qc?c=e.ld+1E3*(c-e.qc)/(e.Nc*e.step):0<d?(d=this.Za[d-1],c=d.ld+1E3*(c-d.qc)/(e.Nc*e.step)):c=1E3*c/(e.Nc*e.step);return c};n.prototype.KL=function(c,d,e,l,k,p,r,t,v,x,A,y){var D=this.Ya;D.x=c;D.y=d;D.zoom=e;D.angle=l;D.Sa=k;D.Nc=v;D.step=x;D.aa=p;D.depth=r;D.yc=t;D.qc=A;this.Y&&(y=this.G.ld);D.ld=y-1E3;this.update(null,y,A);this.G.set(this.current);this.G.Nf=!1;this.G.ld=y;this.Y=!0;return D.ld};n.prototype.us=function(){return this.Za[0]};
n.prototype.add=function(c,d){if(c.ui)this.Ec[this.Ec.length]=c;else{this.Za[this.Za.length]=c;if(c.wg||c.Yf||c.we||c.hi||c.Fi||c.Nf)this.As=!0;if(c.fg||c.Ff)c.fg&&!c.Ff&&(c.step=ViewConstants.wi),c.Ff&&(c.Nc=d.Ma)}};n.prototype.aG=function(c){var d=!1;this.vj>=this.Za.length-1&&c>=this.Za[this.vj].ld&&(d=!0);return d};n.prototype.C=function(c){return c===(c|0)?String(c|0):String(c.toFixed(1))};n.prototype.jO=function(c){var d="";0<=c&&c<this.Ec.length&&(c=this.Ec[c],c.wg&&(d+=" X "+-c.x),c.Yf&&(d+=
" Y "+-c.y),c.we&&(d+=" ZOOM "+this.C(c.zoom)),c.hi&&(d+=" ANGLE "+c.angle),c.Fi&&0!==c.Sa&&(d+=" TILT "+c.Sa));return d.substr(1)};n.prototype.KI=function(c){var d="";0<=c&&c<this.Ec.length&&(c=this.Ec[c],c.rp&&(d+=" POIRESET"),c.Ch===a.play?d+=" POIPLAY":c.Ch===a.stop&&(d+=" POISTOP"),c.dl!==a.hr&&(d+=" POITRANS "+c.dl));return d.substr(1)};n.prototype.kO=function(c){var d="";0<=c&&c<this.Ec.length&&(c=this.Ec[c],c.kn&&(d+=" LOOP "+(-1===c.nb?"OFF":c.nb)),c.Vn&&(d+=" STOP "+(-1===c.lc?"OFF":c.lc)),
c.fg&&(d+=" GPS "+c.Nc),c.Ff&&(d+=" STEP "+c.step));return d.substr(1)};n.prototype.KI=function(c){var d="";0<=c&&c<this.Ec.length&&(c=this.Ec[c],c.rp&&(d+=" POIRESET"),c.Ch===a.play?d+=" POIPLAY":c.Ch===a.stop&&(d+=" POISTOP"),c.dl!==a.hr&&(d+=" POITRANS "+c.dl));return d.substr(1)};n.prototype.nO=function(c){var d="";0<=c&&c<this.Ec.length&&(c=this.Ec[c],c.Hf&&(d+=" THEME "+c.yc),c.$i&&(d+=" DEPTH "+this.C(c.depth)),c.ij&&(d+=" LAYERS "+c.aa));return d.substr(1)};n.prototype.mO=function(c){var d=
"";0<=c&&c<this.Ec.length&&(c=this.Ec[c],c.gu&&(d+=" POIT "+c.qc));return d.substr(1)};n.prototype.lO=function(c){var d=Keywords.Kd,e="";0<=c&&c<this.Ec.length&&(c=this.Ec[c],""!==c.ug&&(e+=" "+d+c.ug+d));return e.substr(1)};n.prototype.CQ=function(c){var d=Keywords.Kd,e="";if(0<=c&&c<this.Za.length){var l=this.Za[c];0<c?(c=this.Za[c-1],e=l.qc===c.qc?"P "+this.C((l.ld-c.ld|0)/1E3):"T "+l.qc,l.Nf?e+=" F":(l.x!==c.x&&(e+=" X "+-l.x),l.y!==c.y&&(e+=" Y "+-l.y),l.zoom!==c.zoom&&(e+=" Z "+this.C(l.zoom))),
l.angle!==c.angle&&(e+=" A "+l.angle),l.aa!==c.aa&&(e+=" L "+l.aa),l.depth!==c.depth&&(e+=" D "+this.C(l.depth)),l.yc!==c.yc&&(e+=" C "+l.yc),l.Nc!==c.Nc&&(e+=" G "+l.Nc),l.step!==c.step&&(e+=" S "+l.step),""!==l.ug&&(e+=" "+d+l.ug+d)):e="T "+l.qc+" X "+-l.x+" Y "+-l.y+" Z "+this.C(l.zoom)+" A "+l.angle+" L "+l.aa+" D "+this.C(l.depth)+" C "+l.yc+" G "+l.Nc+" S "+l.step}return e};n.prototype.update=function(c,d,e){var l=this.Za.length,k=!1,p=this.vj,r=p,t=!1;if(this.Y)this.current.G(this.Ya,this.G,
d),d>=this.G.ld&&(this.Y=!1);else{for(;p<l&&!k;){var v=this.Za[p];v.ld>=d||!v.Lt?k=!0:p+=1}k?(this.Za[p].Lt=!0,0<p?(this.Za[p].Nf&&(this.Za[p].x=this.current.x,this.Za[p].y=this.current.y,this.Za[p].zoom=this.current.zoom),this.current.G(this.Za[p-1],this.Za[p],d)):(p=0,this.current.set(this.Za[p]))):(p=l-1,this.current.set(this.Za[p]),e>=this.current.qc&&this.ea&&(t=!0),this.ea=!0);this.vj=p}this.vj!==r&&this.current.Fq&&c&&c.j.LK();return t};n.prototype.Ka=function(c){for(var d=0,e=!1,l=this.Za,
k=this.Za.length;d<k&&!e;)l[d].qc>=c?e=!0:d+=1;e||(d=k-1);return d};n.prototype.rM=function(c){this.vj=this.Ka(c);var d=this.Za[this.vj];var e=this.Za[this.vj-1];return(d.ld-e.ld)*(c-e.qc)/(d.qc-e.qc)+e.ld};n.prototype.Cd=function(c,d,e,l){if(0===this.Za.length)e[e.length]=[c+" "+Keywords.pc,"no initial waypoint defined"];else switch(c){case Keywords.Xf:d.wg&&(e[e.length]=[c+" "+Keywords.pc,l?"already defined":"overwrites "+-d.x]);d.x=this.Za[0].x;d.wg=!0;break;case Keywords.Zf:d.Yf&&(e[e.length]=
[c+" "+Keywords.pc,l?"already defined":"overwrites "+-d.y]);d.y=this.Za[0].y;d.Yf=!0;break;case Keywords.xe:d.we&&(e[e.length]=[c+" "+Keywords.pc,l?"already defined":"overwrites "+this.C(1>d.zoom?-(1/d.zoom):d.zoom)]);d.zoom=this.Za[0].zoom;d.we=!0;break;case Keywords.Im:d.hi&&(e[e.length]=[c+" "+Keywords.pc,l?"already defined":"overwrites "+d.angle]);d.angle=this.Za[0].angle;d.hi=!0;break;case Keywords.$n:d.Fi&&(e[e.length]=[c+" "+Keywords.pc,l?"already defined":"overwrites "+d.Sa]);d.Sa=this.Za[0].Sa;
d.Fi=!0;break;case Keywords.Eo:d.$i&&(e[e.length]=[c+" "+Keywords.pc,l?"already defined":"overwrites "+this.C(d.depth)]);d.depth=this.Za[0].depth;d.$i=!0;break;case Keywords.Zo:d.ij&&(e[e.length]=[c+" "+Keywords.pc,l?"already defined":"overwrites "+d.aa]);d.aa=this.Za[0].aa;d.ij=!0;break;case Keywords.vm:d.Hf&&(e[e.length]=[c+" "+Keywords.pc,l?"already defined":"overwrites "+d.yc]);d.yc=this.Za[0].yc;d.Hf=!0;break;case Keywords.Mo:d.fg&&(e[e.length]=[c+" "+Keywords.pc,l?"already defined":"overwrites "+
d.Nc]);d.Nc=this.Za[0].Nc;d.fg=!0;break;case Keywords.Bp:d.Ff&&(e[e.length]=[c+" "+Keywords.pc,l?"already defined":"overwrites "+d.step]);d.step=this.Za[0].step;d.Ff=!0;break;case Keywords.uk:d.Vn&&(e[e.length]=[c+" "+Keywords.pc,l?"already defined":"overwrites "+(-1===d.lc?"OFF":d.lc)]);d.lc=this.Za[0].lc;d.Vn=!0;break;case Keywords.bk:d.kn&&(e[e.length]=[c+" "+Keywords.pc,l?"already defined":"overwrites "+(-1===d.nb?"OFF":d.nb)]);d.nb=this.Za[0].nb;d.kn=!0;break;default:e[e.length]=[c+" "+Keywords.pc,
"illegal command before "+Keywords.pc]}};n.prototype.vL=function(c,d){this.Cd(Keywords.Xf,c,d,!1);this.Cd(Keywords.Zf,c,d,!1);this.Cd(Keywords.xe,c,d,!1);this.Cd(Keywords.Im,c,d,!1);this.Cd(Keywords.$n,c,d,!1);this.Cd(Keywords.Zo,c,d,!1);this.Cd(Keywords.Eo,c,d,!1);this.Cd(Keywords.vm,c,d,!1);this.Cd(Keywords.Mo,c,d,!1);this.Cd(Keywords.Bp,c,d,!1);this.Cd(Keywords.bk,c,d,!1);this.Cd(Keywords.uk,c,d,!1)};n.prototype.tO=function(c,d){var e,l=this.Za,k=this.Za.length;for(e=1;e<k;e+=1){var p=l[e-1];var r=
l[e];r.wg||(r.x=p.x);r.Yf||(r.y=p.y);r.Cm||(r.Hi=p.Hi);r.Dm||(r.Ki=p.Ki);r.vu||(r.Mi=p.Mi);r.hi||(r.angle=p.angle);r.Fi||(r.Sa=p.Sa);r.we||(r.zoom=p.zoom);r.ij||(r.aa=p.aa);r.$i||(r.depth=p.depth);r.Hf||(r.yc=p.yc);r.fg||(r.Nc=p.Nc);r.Ff||(r.step=p.step);if(r.fg||r.Ff)r.fg&&!r.Ff&&(r.step=ViewConstants.wi),r.Ff&&(r.Nc=d.Ma);r.gu?r.qc<=p.qc&&(c[c.length]=[Keywords.fu+" "+r.qc,"target generation must be later than previous ("+p.qc+")"]):r.qc=p.qc;r.ld=r.DJ?1E3*r.ld+p.ld:p.ld+1E3*(r.qc-p.qc)/(r.Nc*r.step);
r.Zx||(r.Pn=p.Pn);r.Kl||(r.grid=p.grid)}};window.Waypoint=w;window.WaypointManager=n;window.WaypointConstants=a}(),function(){function w(h,g){var q=this,n=h.getElementsByTagName("div")[0];this.uy=!1;this.oi=-1;this.Wf=1;this.jK=h;this.view=g;this.j=g.j;this.top=this.left=0;""!==h.style.left&&(this.left=parseInt(h.style.left,10));""!==h.style.top&&(this.top=parseInt(h.style.top,10));this.Vc=this.Fo=!1;this.gk=this.fk=-1;this.QD=0;registerEvent(n,"mousedown",function(a){q.G(q,a)},!1);registerEvent(document,
"mousemove",function(a){q.Y(q,a)},!1);registerEvent(document,"mouseup",function(a){q.ea(q,a)},!1);registerEvent(n,"touchstart",function(a){q.C(q,a)},!1);registerEvent(n,"touchmove",function(a){q.C(q,a)},!1);registerEvent(n,"touchend",function(a){q.C(q,a)},!1);registerEvent(window,"resize",function(){q.eJ(q)},!1)}w.prototype.tq=function(h,g){for(var q=null,n=0;null===q&&n<h.length;)h[n].identifier===g?q=h[n]:n+=1;return q};w.prototype.reset=function(){this.Vc=!1;this.oi=-1};w.prototype.C=function(h,
g){var q=g.changedTouches;this.uy=!0;switch(g.type){case "touchstart":-1===h.oi&&(q=q[0],h.oi=q.identifier,h.At(h,q.pageX,q.pageY));break;case "touchend":q=h.tq(q,h.oi);null!==q&&(h.Ct(h,q.pageX,q.pageY),h.oi=-1);break;case "touchmove":q=h.tq(q,h.oi),null!==q&&h.Bt(h,q.pageX,q.pageY)}g.stopPropagation&&g.stopPropagation();g.cancelable&&g.preventDefault()};w.prototype.eJ=function(h){var g=this.view;g.J=g.tn;g.I=g.sn;g.lJ();g.ns.style.transform="scale("+g.Wf+","+g.Wf+")";g.ns.style.transformOrigin=
"top left";g.lx&&(this.j.og(!0),g.resize());h.uJ(h.left+h.QD,h.top,h.jK);h.QD=0};w.prototype.jQ=function(h,g){this.uJ(this.left+h,this.top+g,this.jK)};w.prototype.uJ=function(h,g,q){var n=window.innerWidth-q.clientWidth*this.Wf,a=window.innerHeight-q.clientHeight*this.Wf;n-=(window.innerWidth-document.body.clientWidth)*this.Wf;h>n&&(h=n);g>a&&(g=a);0>h&&(h=0);0>g&&(g=0);q.style.left=h+"px";q.style.top=g+"px";q.style.position="fixed";this.left=h;this.top=g};w.prototype.At=function(h,g,q){h.Qr(h,g,
q);h.Vc=!0;h.j.lp=!0};w.prototype.Ct=function(h,g,q){h.Qr(h,g,q);h.Vc=!1;h.j.lp=!1};w.prototype.Bt=function(h,g,q){h.Vc&&h.jQ(g-h.fk,q-h.gk);h.fk=g;h.gk=q};w.prototype.G=function(h,g){if(!h.uy){if(g.pageX||g.pageY){var q=g.pageX;var n=g.pageY}else q=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=g.clientY+document.body.scrollTop+document.documentElement.scrollTop;h.At(h,q,n)}g.stopPropagation&&g.stopPropagation();g.preventDefault()};w.prototype.ea=function(h,g){if(!h.uy&&
h.Fo&&h.Vc){if(g.pageX||g.pageY){var q=g.pageX;var n=g.pageY}else q=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=g.clientY+document.body.scrollTop+document.documentElement.scrollTop;h.Ct(h,q,n)}g.stopPropagation&&g.stopPropagation();g.preventDefault()};w.prototype.Y=function(h,g){if(!h.uy&&h.Fo&&h.Vc){if(g.pageX||g.pageY){var q=g.pageX;g=g.pageY}else q=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,g=g.clientY+document.body.scrollTop+document.documentElement.scrollTop;
h.Bt(h,q,g)}};w.prototype.Qr=function(h,g,q){h.fk=g|0;h.gk=q|0};window.PopupWindow=w}(),function(){function w(){this.key=new Uint8Array(256);this.G=this.C=0}w.prototype.Ye=function(h){var g,q,n=this.key;for(g=0;256>g;g+=1)n[g]=g;for(g=q=0;256>g;g+=1){q=q+n[g]+h.charCodeAt(g%h.length)&255;var a=n[g];n[g]=n[q];n[q]=a}this.G=this.C=0};w.prototype.random=function(){var h,g=0,q=1,n=this.key,a=this.C,c=this.G;for(h=0;8>h;h+=1){a=a+1&255;c=c+n[a]&255;var d=n[a];n[a]=n[c];n[c]=d;g+=n[n[a]+n[c]&255]*q;q*=
256}this.C=a;this.G=c;return g/1.8446744073709552E19};window.Random=w}(),function(){function w(h,g){this.Vw=h;this.x=g.T(Float32,0,"Stars.x");this.y=g.T(Float32,0,"Stars.y");this.z=g.T(Float32,0,"Stars.z");this.blue=this.green=this.red=255;this.zb=new Random;this.zb.Ye(Date.now().toString());this.sin=g.T(Float32,0,"Stars.sin");this.cos=g.T(Float32,0,"Stars.cos");this.C=Math.PI/180;this.Y=180/Math.PI;this.B=g;this.G=!1}w.prototype.Ye=function(h,g,q){var n,a=this.Vw,c=h*h+g*g;this.x=this.B.T(Float32,
a,"Stars.x");this.y=this.B.T(Float32,a,"Stars.y");this.z=this.B.T(Float32,a,"Stars.z");for(n=0;n<a;n+=1){var d=n/a*(n/a)*(n/a)*(n/a)*q+1;do{var e=3*(this.zb.random()*h-h/2);var l=3*(this.zb.random()*g-g/2)}while(e*e+l*l>c);this.x[n]=e;this.y[n]=l;this.z[n]=d}this.sin=this.B.T(Float32,2880,"Stars.sin");this.cos=this.B.T(Float32,2880,"Stars.cos");for(n=0;2880>n;)this.sin[n]=Math.sin(n/8*this.C),this.cos[n]=Math.cos(n/8*this.C),n+=1};w.prototype.mK=function(h,g,q,n,a,c,d,e){var l=a>>1,k=c>>1,p=a-1,r=
c-1;this.G||(this.Ye(8192,8192,1024),this.G=!0);if(littleEndian){var t=e>>16&255;var v=e>>8&255;var x=e&255}else x=e>>24&255,v=e>>16&255,t=e>>8&255;var A=this.red-x;var y=this.green-v;var D=this.blue-t;for(c=0;c<this.Vw;c+=1){var b=this.x[c]+h;var m=this.y[c]+g;if(0!==n){var f=Math.sqrt(b*b+m*m);m=Math.atan2(m,b)*this.Y;m+=n;0>m?m+=360:360<=m&&(m-=360);m*=8;m|=0;b=f*this.cos[m];m=f*this.sin[m]}f=this.z[c]/q*2;b=l+b/f|0;m=k+m/f|0;if(0<b&&b<p&&0<m&&m<r){b+=m*a;f=1536/f|0;255<f&&(f=255);f/=255;if(d[b]===
e){m=x+A*f;var u=v+y*f;var z=t+D*f;m=littleEndian?-16777216|z<<16|u<<8|m:m<<24|z<<16|u<<8|255;d[b]=m}f/=2;m=x+A*f;u=v+y*f;z=t+D*f;m=littleEndian?-16777216|z<<16|u<<8|m:m<<24|z<<16|u<<8|255;--b;d[b]===e&&(d[b]=m);b+=2;d[b]===e&&(d[b]=m);--b;b-=a;d[b]===e&&(d[b]=m);b+=a+a;d[b]===e&&(d[b]=m)}}};window.Stars=w}(),function(){window.ScriptParser={RF:"",Iy:0,To:function(w){switch(w){case Keywords.SA:case Keywords.iD:case Keywords.qB:case Keywords.pC:case Keywords.RD:case Keywords.DE:case Keywords.QA:case Keywords.hB:case Keywords.lE:case Keywords.nE:case Keywords.TA:case Keywords.mE:case Keywords.oC:case Keywords.vi:case Keywords.Ij:case Keywords.kF:case Keywords.iB:case Keywords.Xx:case Keywords.Vz:case Keywords.oj:case Keywords.ID:case Keywords.HD:case Keywords.ED:case Keywords.GD:case Keywords.BD:case Keywords.AD:case Keywords.CD:case Keywords.FD:case Keywords.ux:case Keywords.tx:case Keywords.zx:case Keywords.GA:case Keywords.ix:case Keywords.Kr:case Keywords.mD:case Keywords.jx:case Keywords.kD:case Keywords.oD:case Keywords.pD:case Keywords.lD:case Keywords.sD:case Keywords.qD:case Keywords.rD:case Keywords.nD:case Keywords.Yr:case Keywords.Iz:case Keywords.Lz:case Keywords.Mz:case Keywords.Jz:case Keywords.Pz:case Keywords.Nz:case Keywords.Oz:case Keywords.Kz:case Keywords.Ys:case Keywords.BB:case Keywords.EB:case Keywords.FB:case Keywords.CB:case Keywords.IB:case Keywords.GB:case Keywords.HB:case Keywords.DB:case Keywords.kC:case Keywords.mC:case Keywords.lC:case Keywords.mB:case Keywords.ou:case Keywords.fB:case Keywords.Et:case Keywords.jr:case Keywords.ir:case Keywords.hx:case Keywords.Ft:case Keywords.jD:case Keywords.pc:case Keywords.dh:case Keywords.gb:case Keywords.vE:case Keywords.Np:case Keywords.nu:case Keywords.Wv:case Keywords.Uw:case Keywords.bB:case Keywords.cB:case Keywords.cu:case Keywords.TB:case Keywords.Wu:case Keywords.nB:case Keywords.Es:case Keywords.Vr:case Keywords.fu:case Keywords.Bp:case Keywords.eD:case Keywords.ys:case Keywords.xs:case Keywords.yD:case Keywords.yE:case Keywords.Na:case Keywords.dA:case Keywords.Xf:case Keywords.Zf:case Keywords.Ay:case Keywords.By:case Keywords.xe:case Keywords.Fz:case Keywords.bk:case Keywords.uu:case Keywords.$n:case Keywords.jC:case Keywords.iC:case Keywords.QE:case Keywords.LE:case Keywords.JE:case Keywords.NE:case Keywords.PE:case Keywords.Xu:case Keywords.$x:case Keywords.up:case Keywords.zr:case Keywords.Im:case Keywords.vm:case Keywords.Mo:case Keywords.uk:case Keywords.Zo:case Keywords.Eo:case Keywords.Tr:case Keywords.zq:case Keywords.Ht:case Keywords.Gt:case Keywords.AB:case Keywords.sr:case Keywords.sp:case Keywords.$l:case Keywords.rs:case Keywords.vt:case Keywords.vC:case Keywords.TC:case Keywords.bD:case Keywords.GC:case Keywords.zC:case Keywords.XC:case Keywords.BC:case Keywords.$C:case Keywords.YC:case Keywords.SC:case Keywords.LC:case Keywords.WC:case Keywords.PC:case Keywords.DC:case Keywords.NC:case Keywords.FC:case Keywords.JC:case Keywords.RC:case Keywords.HC:w=
!0;break;default:w=!1}return w},WG:function(w){var h=[],g=1,q=!0,n=0;if(7===w.length&&"#"===w.charAt(0)){for(w=w.toLowerCase();q&&6>=g;){var a=w.charAt(g);"0"<=a&&"9">=a?(n=16*n+(a.charCodeAt(0)-48),g+=1):"a"<=a&&"f">=a?(n=16*n+(a.charCodeAt(0)-97+10),g+=1):q=!1}q&&(h=[n>>16,n>>8&255,n&255])}return h},cp:function(w,h,g,q,n){var a=w.Fa();""===a||this.To(a)?h[h.length]=[g,q+" missing"]:(h[h.length]=[g+" "+a,q+" must be "+n],w.V())},nc:function(w,h,g,q,n){var a=!0,c=0,d=0,e=0,l=h.V();if(h.P()){c=h.R()|
0;if(0>c||255<c)g[g.length]=[n+" "+l+" "+c,"RED out of range"];if(h.P()){d=h.R();if(0>d||255<d)g[g.length]=[n+" "+l+" "+c+" "+d,"GREEN out of range"];h.P()?(e=h.R(),0>e||255<e?g[g.length]=[n+" "+l+" "+c+" "+d+" "+e,"BLUE out of range"]:a=!1):this.cp(h,g,n+" "+l+" "+c+" "+d,"BLUE","numeric")}else this.cp(h,g,n+" "+l+" "+c,"GREEN","numeric")}else{var k=h.Fa();var p=this.WG(k);3===p.length?(h.V(),c=p[0],d=p[1],e=p[2],a=!1):(p=ColourManager.wh[k.toLowerCase()],void 0!==p?(h.V(),c=p[1],d=p[2],e=p[3],a=
!1):""===k||this.To(k)?g[g.length]=[n+" "+l,"name missing"]:(g[g.length]="#"===k.charAt(0)?[n+" "+l+" "+k,"bad hex definition"]:[n+" "+l+" "+k,"name not known"],h.V()))}if(!a)switch(-1!==w.Rc[q]&&q!==ViewConstants.wA&&q!==ViewConstants.sA&&q!==ViewConstants.xA&&(g[g.length]=[n+" "+l+" "+c+" "+d+" "+e,"overwrites "+(w.Rc[q]>>16)+" "+(w.Rc[q]>>8&255)+" "+(w.Rc[q]&255)]),w.Rc[q]=c<<16|d<<8|e,q){case ViewConstants.xv:w.vv=w.Rc[q];break;case ViewConstants.vA:w.wv=w.Rc[q];break;case ViewConstants.SG:w.sm.red=
c;w.sm.green=d;w.sm.blue=e;break;case ViewConstants.TG:w.pi=[c,d,e];break;case ViewConstants.HG:w.xl=[c,d,e];w.Oj="rgb("+c+","+d+","+e+")";break;case ViewConstants.NG:w.yl=[c,d,e];w.Wj="rgb("+c+","+d+","+e+")";break;case ViewConstants.wA:w.qA="rgb("+c+","+d+","+e+")";break;case ViewConstants.sA:w.pA="rgb("+c+","+d+","+e+")";break;case ViewConstants.xA:w.rA="rgb("+c+","+d+","+e+")";break;case ViewConstants.EG:w.Qm=[c,d,e];w.g.vl=w.g.Fd?-16777216|e<<16|d<<8|c:c<<24|d<<16|e<<8|255;break;case ViewConstants.FG:w.Rm=
[c,d,e];w.g.Jm=w.g.Fd?-16777216|e<<16|d<<8|c:c<<24|d<<16|e<<8|255;break;case ViewConstants.PG:w.Um=[c,d,e];w.g.fE="rgb("+c+","+d+","+e+")";break;case ViewConstants.QG:w.Vm=[c,d,e];w.g.gE="rgb("+c+","+d+","+e+")";break;case ViewConstants.OG:w.Tm=[c,d,e];w.g.uC="rgb("+c+","+d+","+e+")";break;case ViewConstants.CG:w.Pm=[c,d,e];w.g.Ru="rgb("+c+","+d+","+e+")";break;case ViewConstants.KG:w.g.Sj=[c,d,e];break;case ViewConstants.JG:w.g.Rj=[c,d,e];break;case ViewConstants.IG:w.g.Qj=[c,d,e];break;case ViewConstants.LG:w.g.Tj=
[c,d,e];break;case ViewConstants.MG:w.g.Uj=[c,d,e];break;case ViewConstants.Av:case ViewConstants.yv:case ViewConstants.Bv:case ViewConstants.Dv:case ViewConstants.Cv:case ViewConstants.zv:break;default:w.Nj=!0}},MP:function(w,h){var g=w.g.Kb[w.g.Bf],q=w.Rc;-1!==h&&g.set(w.g.Kb[h]);w.kq&&(g.xq=w.g.gg);-1===q[ViewConstants.Tk]&&-1===h&&(w=q[ViewConstants.Uk],-1!==w?q[ViewConstants.Tk]=16777215-w:(w=q[ViewConstants.Bg],q[ViewConstants.Tk]=-1!==w?16777215-w:16777215));-1===h&&-1===q[ViewConstants.Bg]&&
-1===q[ViewConstants.Uk]&&(q[ViewConstants.Bg]=16777215-q[ViewConstants.Tk]);w=q[ViewConstants.Bg];-1===h&&-1===w&&(w=q[ViewConstants.Uk]);-1!==w&&(g.wb.red=w>>16,g.wb.green=w>>8&255,g.wb.blue=w&255);w=q[ViewConstants.Tk];-1!==w&&(g.Hb.ba.red=w>>16,g.Hb.ba.green=w>>8&255,g.Hb.ba.blue=w&255);w=q[ViewConstants.DG];-1===h&&-1===w&&(w=q[ViewConstants.Tk]);-1!==w&&(g.Hb.da.red=w>>16,g.Hb.da.green=w>>8&255,g.Hb.da.blue=w&255);w=q[ViewConstants.Uk];-1===h&&-1===w&&(w=q[ViewConstants.Bg]);-1!==w&&(g.tb.da.red=
w>>16,g.tb.da.green=w>>8&255,g.tb.da.blue=w&255);w=q[ViewConstants.tA];-1===w&&-1===h&&(w=q[ViewConstants.Uk],-1===w&&(w=q[ViewConstants.Bg]));-1!==w&&(g.tb.ba.red=w>>16,g.tb.ba.green=w>>8&255,g.tb.ba.blue=w&255);w=q[ViewConstants.Bg];-1===w&&-1===h&&(w=q[ViewConstants.Uk]);-1!==w&&(g.zj.red=w>>16,g.zj.green=w>>8&255,g.zj.blue=w&255);w=q[ViewConstants.Tk];-1!==w&&(g.bh.red=w>>16,g.bh.green=w>>8&255,g.bh.blue=w&255);w=q[ViewConstants.Uk];-1===w&&-1===h&&(w=q[ViewConstants.Bg]);-1!==w&&(g.Sc.da.red=
w>>16,g.Sc.da.green=w>>8&255,g.Sc.da.blue=w&255);w=q[ViewConstants.tA];-1===w&&-1===h&&(w=q[ViewConstants.Uk],-1===w&&(w=q[ViewConstants.Bg]));-1!==w&&(g.Sc.ba.red=w>>16,g.Sc.ba.green=w>>8&255,g.Sc.ba.blue=w&255);w=q[ViewConstants.uA];-1===w?g.Ym=!0:(g.Ym=!1,g.jc.da.red=w>>16,g.jc.da.green=w>>8&255,g.jc.da.blue=w&255);w=q[ViewConstants.GG];-1===w&&1===h&&(w=q[ViewConstants.uA],-1===w&&(w=q[ViewConstants.Bg]));-1!==w&&(g.jc.ba.red=w>>16,g.jc.ba.green=w>>8&255,g.jc.ba.blue=w&255);g.AP(q[ViewConstants.xv],
q[ViewConstants.vA])},Tx:function(w,h){var g=w;w.length>h&&(g=w.substr(0,h-1)+"...");return g},SJ:function(w,h,g,q){var n=w.indexOf("\\n");-1!==n&&(g?h[h.length]=[Keywords.Kr+" "+Keywords.Kd+this.Tx(w,23)+Keywords.Kd,"only one line allowed"]:(n=w.substr(n+2).indexOf("\\n"),-1===n||q||(h[h.length]=[Keywords.Kd+this.Tx(w,23),"only two lines allowed"])))},zD:function(w,h,g,q){var n=Keywords.vm+" ",a="overwrites ";n=g>=w.g.Bf?n+Keywords.Jr:n+g;a=q>=w.g.Bf?a+Keywords.Jr:a+q;h[h.length]=[n,a]},lq:function(w,
h,g,q,n,a,c){var d=0,e=0,l=0;if(h.P())if(d=h.R()|0,0>d||255<d)g[g.length]=[n+" "+c+" "+d,"RED out of range"],a=!0;else if(h.P())if(e=h.R()|0,0>e||255<e)g[g.length]=[n+" "+c+" "+d+" "+e,"GREEN out of range"],a=!0;else if(h.P()){if(l=h.R()|0,0>l||255<l)g[g.length]=[n+" "+c+" "+d+" "+e+" "+l,"BLUE out of range"],a=!0}else this.cp(h,g,n+" "+c+" "+d+" "+e,"BLUE","numeric"),a=!0;else this.cp(h,g,n+" "+c+" "+d,"GREEN","numeric"),a=!0;else{var k=h.Fa();var p=this.WG(k);3===p.length?(h.V(),d=p[0],e=p[1],l=
p[2]):(p=ColourManager.wh[k.toLowerCase()],void 0!==p?(h.V(),d=p[1],e=p[2],l=p[3]):(a=!0,""===k||this.To(k)?g[g.length]=[n+" "+c,"name missing"]:(g[g.length]="#"===k.charAt(0)?[n+" "+c+" "+k,"bad hex definition"]:[n+" "+c+" "+k,"name not known"],h.V())))}a||(-1!==w.Sb[q]&&(g[g.length]=[n+" "+c+" "+d+" "+e+" "+l,"overwrites "+(w.Sb[q]>>16)+" "+(w.Sb[q]>>8&255)+" "+(w.Sb[q]&255)]),w.Sb[q]=d<<16|e<<8|l)},ql:function(w,h){var g=Keywords.Yd+String(h);w=w.j.HM(h);-1!==w&&(g=w.toFixed(1));return g},Hr:function(w,
h){var g="",q=h.indexOf(Keywords.Yd);if(-1===q)g=h;else{for(;-1!==q;)if(g+=h.substr(0,q),q+1<h.length){var n=h[q+1];h=h.substr(q+2);switch(n){case "B":g+=ViewConstants.vy;break;case "N":g+=w.br;break;case "R":g+=w.vb;break;case "A":g=""===w.Yc?g+w.vb:g+w.Yc;break;case "O":g+=w.xt;break;case "S":g+=w.pr;break;case "T":g+=ViewConstants.ss;break;case "D":g+=w.$A();break;case "0":g+=this.ql(w,0);break;case "1":g+=this.ql(w,1);break;case "2":g+=this.ql(w,2);break;case "3":g+=this.ql(w,3);break;case "4":g+=
this.ql(w,4);break;case "5":g+=this.ql(w,5);break;case "6":g+=this.ql(w,6);break;case "7":g+=this.ql(w,7);break;case "8":g+=this.ql(w,8);break;case "9":g+=this.ql(w,9);break;case Keywords.Yd:g+=Keywords.Yd;break;default:g+=Keywords.Yd+n}q=h.indexOf(Keywords.Yd)}else h=h.substr(q+1),q=-1;g+=h}return g},lj:function(w,h,g,q){q[q.length]=w?h===Keywords.vi?[h+" "+g,"already defined"]:[h+" "+g,"overwrites "+Keywords.vi]:h===Keywords.vi?[h+" "+g,"overwrites "+Keywords.Ij]:[h+" "+g,"already defined"]},Le:function(w,
h){var g="";w===(w|0)?g=String(w):g=w.toFixed(h);return g},tQ:function(w){var h=w.substr(0,1);w=w.substr(1);var g=!1;if("B"===h||"S"===h){this.RF=h;h=0;for(g=!0;g&&h<w.length;)"0"<=w[h]&&"9">=w[h]?h+=1:g=!1;g&&(this.Iy=Number(w))}return g},oP:function(w,h){if("B"===this.RF){var g=w.zi.length;w.zi[g]=this.Iy;w.zi[g+1]=h}else g=w.kk.length,w.kk[g]=this.Iy,w.kk[g+1]=h},cO:function(w,h,g){var q=new Script(h,!1),n=!1,a=!1,c="",d="",e="",l="",k=!1,p="",r=0,t=!1,v=!1,x=w.Jd,A=null,y=0,D=0,b="",m=!1,f=w.$.jq(),
u=null,z=!1,B=!1,C=null,E=!0,G=1,F=ViewConstants.$F,I=-1,L=-1,M=0,H=0,K=!1,J=!1,S=-1,pa=-1E3,oa=-1E3,O=0,ba=0,R=null,Z=!0,fa=1,ka=ViewConstants.$F,aa=ViewConstants.XK,ha=-1,Y=-1,ra=0,la=0,U=!1,P=!1,X=-1,ea=0,ma=0,W=-1E3,N=-1E3,Q=null,ja=!0,V=1,T=ViewConstants.zN,qa=!1,za=-1,wa=-1,va=0,na=0,ca=!1,ia=!1,da=-1,ua=0,ta=0,xa=-1E3,sa=-1E3,ya=!1,Ea=!1,Ca="numeric",Ia=-1,Ha=-1,Ka=-1,Ga=-1,Ja=-1,La=-1,Ma=0,Na=0,Oa=0,Pa=0,Aa=0,Ba=0,Da=0,ib=0,jb=0,Ra=[],Fa=0,kb=new Pattern("decode",w.A),Wa=!1,Xa=!1,Ya=!1,Za=
!1,$a=!1,ab=!1,bb=!1,Sa=!1,cb=!1,db=!1,Ta=!1,Ua=!1,eb=!1,fb=!1,gb=!1,hb=!1;w.$.As=!1;w.gp=0;w.rC=0;w.kq=!1;w.Nj=!1;w.Rc.fill(-1);w.Sb=null;if(-1!==q.mH()){w.Sb=w.g.B.T(Int32,256,"View.customColours");w.Sb.fill(-1);for(c=q.V();""!==c;){Ca="numeric";if(k)c[c.length-1]===Keywords.Kd?(p=p+" "+c.substr(0,c.length-1),k=!1,this.SJ(p,x,a,ya),a?(""!==w.Aj&&(x[x.length]=[Keywords.Kr+" "+Keywords.Kd+this.Tx(p,20)+Keywords.Kd,"overwrites "+Keywords.Kd+w.Aj+Keywords.Kd]),w.Aj=p,a=!1):ya?(Q.message=this.Hr(w,p),
ya=!1,w.$.SF(Q)):(f.ug=this.Hr(w,p),f.EE=!0)):p=p+" "+c;else if(c[0]===Keywords.Kd)p=c.substr(1),k=!0,c[c.length-1]===Keywords.Kd&&(k=!1,p=p.substr(0,p.length-1),this.SJ(p,x,a,ya),a?(""!==w.Aj&&(x[x.length]=[Keywords.Kr+" "+Keywords.Kd+this.Tx(p,20)+Keywords.Kd,"overwrites "+Keywords.Kd+w.Aj+Keywords.Kd]),w.Aj=p,a=!1):ya?(Q.message=this.Hr(w,p),ya=!1,w.$.SF(Q)):(f.ug=this.Hr(w,p),f.EE=!0));else{t=v=!1;w.gp+=1;switch(c){case Keywords.Kr:t=a=!0;break;case Keywords.oD:q.P()&&(v=!0,r=q.R(),r>=ViewConstants.Mw&&
r<=ViewConstants.Ew&&(F=r,t=!0));break;case Keywords.qD:q.P()?(v=!0,r=q.R(),r>=ViewConstants.Bh&&r<=ViewConstants.Ah&&(Aa=r,v=!1,q.P()&&(v=!0,r=q.R(),r>=ViewConstants.Bh&&r<=ViewConstants.Ah&&(O=Aa,ba=r,t=!0)))):(d=q.Fa(),d===Keywords.Td&&(d=q.V(),ba=O=0,t=!0));break;case Keywords.rD:q.P()?(v=!0,r=q.R(),0<=r&&r<=w.g.ja/2&&(S=r,t=!0)):(d=q.Fa(),d===Keywords.gb&&(d=q.V(),S=-1,t=!0));break;case Keywords.lD:q.P()&&(v=!0,r=q.R(),0<=r&&360>r&&(H=r,K=!1,d=q.Fa(),d===Keywords.Td&&(d=q.V(),K=!0),t=!0));break;
case Keywords.pD:q.P()?(v=!0,r=q.R()|0,0<=r&&(Aa=r,q.P()?(r=q.R()|0,r>=Aa?(Ba=r,q.P()?(r=q.R()|0,0<=r&&r<=Ba-Aa>>1?(I=Aa,L=Ba,M=r,t=!0):(t=!0,x[x.length]=[c+" "+Aa+" "+Ba+" "+r,"third argument must from 0 to "+(Ba-Aa>>1)])):v=!1):(t=!0,x[x.length]=[c+" "+Aa+" "+r,"second argument must be >= first"])):v=!1)):(d=q.Fa(),d===Keywords.dh?(d=q.V(),L=I=-1,M=0,t=!0):v=!1);break;case Keywords.kD:q.P()&&(v=!0,r=q.R(),0<=r&&1>=r&&(G=r,t=!0));break;case Keywords.mD:case Keywords.jx:Ra=[];t=!0;for(Da=-1E3;t&&
q.P();)Aa=q.R(),q.P()?(Ba=q.R(),Aa>=-w.g.ja&&Aa<2*w.g.ja&&Ba>=-w.g.ja&&Ba<2*w.g.ja?(Ra[Ra.length]=Aa,Ra[Ra.length]=Ba):(x[x.length]=[c+" "+Aa+" "+Ba,"coordinate out of range"],Da=0,t=!1)):Aa>=ViewConstants.bb&&Aa<=ViewConstants.Ob?Da=Aa:Aa>=ViewConstants.it&&Aa<=ViewConstants.gt?Da=-(1/Aa):(x[x.length]=[c+" "+Aa,"zoom out of range"],Da=0,t=!1);t&&4>Ra.length&&(x[x.length]=[c,"requires at least 2 coordinate pairs"],t=!1);t&&-1E3===Da&&(t=!1);t&&(d=q.Fa(),J=!1,d===Keywords.Td&&(d=q.V(),J=!0,d=q.Fa()),
C=w.$.JL(Ra,c===Keywords.jx,Da,pa,oa,w.rA,G,F,I,L,M,H,K,J,S,O,ba,E),w.$.GK(C));break;case Keywords.nD:d=q.Fa();d===Keywords.gb?(d=q.V(),E=!1):E=!0;t=!0;break;case Keywords.Lz:q.P()&&(v=!0,r=q.R(),r>=ViewConstants.Mw&&r<=ViewConstants.Ew&&(Aa=r,v=!1,q.P()&&(v=!0,r=q.R(),0<=r&&1>=r&&(aa=r,ka=Aa,t=!0))));break;case Keywords.Nz:q.P()?(v=!0,r=q.R(),r>=ViewConstants.Bh&&r<=ViewConstants.Ah&&(Aa=r,v=!1,q.P()&&(v=!0,r=q.R(),r>=ViewConstants.Bh&&r<=ViewConstants.Ah&&(ea=Aa,ma=r,t=!0)))):(d=q.Fa(),d===Keywords.Td&&
(d=q.V(),ma=ea=0,t=!0));break;case Keywords.Oz:q.P()?(v=!0,r=q.R(),0<=r&&r<=w.g.ja/2&&(X=r,t=!0)):(d=q.Fa(),d===Keywords.gb&&(d=q.V(),X=-1,t=!0));break;case Keywords.Jz:q.P()&&(v=!0,r=q.R(),0<=r&&360>r&&(la=r,U=!1,d=q.Fa(),d===Keywords.Td&&(d=q.V(),U=!0),t=!0));break;case Keywords.Mz:q.P()?(v=!0,r=q.R()|0,0<=r&&(Aa=r,q.P()?(r=q.R()|0,r>=Aa?(Ba=r,q.P()?(r=q.R()|0,0<=r&&r<=Ba-Aa>>1?(ha=Aa,Y=Ba,ra=r,t=!0):(t=!0,x[x.length]=[c+" "+Aa+" "+Ba+" "+r,"third argument must from 0 to "+(Ba-Aa>>1)])):v=!1):(t=
!0,x[x.length]=[c+" "+Aa+" "+r,"second argument must be >= first"])):v=!1)):(d=q.Fa(),d===Keywords.dh?(d=q.V(),Y=ha=-1,ra=0,t=!0):v=!1);break;case Keywords.Iz:q.P()&&(v=!0,r=q.R(),0<=r&&1>=r&&(fa=r,t=!0));break;case Keywords.Kz:d=q.Fa();d===Keywords.gb?(d=q.V(),Z=!1):Z=!0;t=!0;break;case Keywords.Yr:q.P()&&(v=!0,r=q.R(),r>=-w.g.ja&&r<2*w.g.ja&&(v=!1,Aa=r,q.P()&&(v=!0,r=q.R(),r>=-w.g.ja&&r<2*w.g.ja&&(v=!1,Ba=r,q.P()&&(v=!0,r=q.R(),r>=-w.g.ja&&r<2*w.g.ja&&(v=!1,ib=r,q.P()&&(v=!0,r=q.R(),r>=-w.g.ja&&
r<2*w.g.ja&&(v=!1,jb=r,q.P()&&(v=!0,r=q.R(),Da=-1E3,r>=ViewConstants.bb&&r<=ViewConstants.Ob?Da=r:r>=ViewConstants.it&&r<=ViewConstants.gt&&(Da=-(1/r)),-1E3!==Da&&(d=q.Fa(),P=!1,d===Keywords.Td&&(d=q.V(),P=!0,d=q.Fa()),R=w.$.EL(Aa,Ba,ib,jb,Da,W,N,w.pA,fa,ka,aa,ha,Y,ra,la,U,P,X,ea,ma,Z),w.$.DK(R),t=!0))))))))));break;case Keywords.EB:q.P()&&(v=!0,r=q.R(),r>=ViewConstants.kI&&r<=ViewConstants.eI&&(T=r,t=!0,d=q.Fa(),d===Keywords.Td?(d=q.V(),qa=!0):qa=!1));break;case Keywords.GB:q.P()?(v=!0,r=q.R(),r>=
ViewConstants.Bh&&r<=ViewConstants.Ah&&(Aa=r,v=!1,q.P()&&(v=!0,r=q.R(),r>=ViewConstants.Bh&&r<=ViewConstants.Ah&&(ua=Aa,ta=r,t=!0)))):(d=q.Fa(),d===Keywords.Td&&(d=q.V(),ta=ua=0,t=!0));break;case Keywords.HB:q.P()?(v=!0,r=q.R(),0<=r&&r<=w.g.ja/2&&(da=r,t=!0)):(d=q.Fa(),d===Keywords.gb&&(d=q.V(),da=-1,t=!0));break;case Keywords.CB:q.P()&&(v=!0,r=q.R(),0<=r&&360>r&&(na=r,ca=!1,d=q.Fa(),d===Keywords.Td&&(d=q.V(),ca=!0),t=!0));break;case Keywords.FB:q.P()?(v=!0,r=q.R()|0,0<=r&&(Aa=r,q.P()?(r=q.R()|0,
r>=Aa?(Ba=r,q.P()?(r=q.R()|0,0<=r&&r<=Ba-Aa>>1?(za=Aa,wa=Ba,va=r,t=!0):(t=!0,x[x.length]=[c+" "+Aa+" "+Ba+" "+r,"third argument must from 0 to "+(Ba-Aa>>1)])):v=!1):(t=!0,x[x.length]=[c+" "+Aa+" "+r,"second argument must be >= first"])):v=!1)):(d=q.Fa(),d===Keywords.dh?(d=q.V(),wa=za=-1,va=0,t=!0):v=!1);break;case Keywords.BB:q.P()&&(v=!0,r=q.R(),0<=r&&1>=r&&(V=r,t=!0));break;case Keywords.sD:q.P()?(v=!0,r=q.R(),Aa=-1E3,r>=ViewConstants.Rq&&r<=ViewConstants.Oq?Aa=r:r>=ViewConstants.Qq&&r<=ViewConstants.Nq&&
(Aa=-(1/r)),-1E3!==Aa&&q.P()&&(v=!0,r=q.R(),Ba=-1E3,r>=ViewConstants.Rq&&r<=ViewConstants.Oq?Ba=r:r>=ViewConstants.Qq&&r<=ViewConstants.Nq&&(Ba=-(1/r)),-1E3!==Ba&&Ba<Aa&&(Ba=-1E3),-1E3!==Ba&&(pa=Aa,oa=Ba,t=!0))):(d=q.Fa(),d===Keywords.gb&&(d=q.V(),oa=pa=-1E3,t=!0));break;case Keywords.Pz:q.P()?(v=!0,r=q.R(),Aa=-1E3,r>=ViewConstants.Rq&&r<=ViewConstants.Oq?Aa=r:r>=ViewConstants.Qq&&r<=ViewConstants.Nq&&(Aa=-(1/r)),-1E3!==Aa&&q.P()&&(v=!0,r=q.R(),Ba=-1E3,r>=ViewConstants.Rq&&r<=ViewConstants.Oq?Ba=
r:r>=ViewConstants.Qq&&r<=ViewConstants.Nq&&(Ba=-(1/r)),-1E3!==Ba&&Ba<Aa&&(Ba=-1E3),-1E3!==Ba&&(W=Aa,N=Ba,t=!0))):(d=q.Fa(),d===Keywords.gb&&(d=q.V(),N=W=-1E3,t=!0));break;case Keywords.IB:q.P()?(v=!0,r=q.R(),Aa=-1E3,r>=ViewConstants.Rq&&r<=ViewConstants.Oq?Aa=r:r>=ViewConstants.Qq&&r<=ViewConstants.Nq&&(Aa=-(1/r)),-1E3!==Aa&&q.P()&&(v=!0,r=q.R(),Ba=-1E3,r>=ViewConstants.Rq&&r<=ViewConstants.Oq?Ba=r:r>=ViewConstants.Qq&&r<=ViewConstants.Nq&&(Ba=-(1/r)),-1E3!==Ba&&Ba<Aa&&(Ba=-1E3),-1E3!==Ba&&(xa=Aa,
sa=Ba,t=!0))):(d=q.Fa(),d===Keywords.gb&&(d=q.V(),sa=xa=-1E3,t=!0));break;case Keywords.DB:d=q.Fa();d===Keywords.gb?(d=q.V(),ja=!1):ja=!0;t=!0;break;case Keywords.Ys:q.P()&&(v=!0,r=q.R(),r>=-w.g.ja&&r<2*w.g.ja&&(v=!1,Aa=r,q.P()&&(v=!0,r=q.R(),r>=-w.g.ja&&r<2*w.g.ja&&(v=!1,Ba=r,q.P()&&(v=!0,r=q.R(),Da=-1E3,r>=ViewConstants.bb&&r<=ViewConstants.Ob?Da=r:r>=ViewConstants.it&&r<=ViewConstants.gt&&(Da=-(1/r)),-1E3!==Da&&(v=!1,d=q.Fa(),ia=!1,d===Keywords.Td&&(d=q.V(),ia=!0,d=q.Fa()),d[0]===Keywords.Kd?(Q=
w.$.HL(Aa,Ba,Da,xa,sa,w.qA,V,T,qa,za,wa,va,na,ca,ia,da,ua,ta,ja),t=ya=!0):Ca="a string"))))));break;case Keywords.yD:t=w.g.Hh=!0;break;case Keywords.AB:t=w.g.vh=!0;break;case Keywords.sr:t=!1;d=q.V();if(""!==d){for(w.rr=[];q.P();)r=q.R(),w.rr[w.rr.length]=r;w.FK(x,d,w.rr);w.rr=[];t=!0}break;case Keywords.sp:t=!1;d=q.V();if(""!==d&&(e=q.Fa(),""!==e)){q.V();if(e===Keywords.oj)Ba=Aa=-1,q.P()&&(Aa=q.R()),q.P()&&(Ba=q.R()),Aa<ViewConstants.jt||Ba<ViewConstants.ZB||Aa>ViewConstants.Hw||Ba>ViewConstants.Gw?
(x[x.length]=[Keywords.$l+" "+Keywords.oj,"invalid random box size"],Aa=-1):e+=Aa+","+Ba;else for(l=q.Fa();""!==l&&!this.To(l)&&!q.P()&&-1!==w.A.mq(kb,l,!1,w.g.B);)q.V(),e+=l,l=q.Fa();if(-1!==Aa){Ba=Aa=0;q.P()&&(v=!0,Aa=q.R());q.P()&&(v=!0,Ba=q.R());Da=-1;l=q.Fa();if(""!==l){switch(l){case Keywords.fF:Da=ViewConstants.pu;break;case Keywords.cF:Da=ViewConstants.WE;break;case Keywords.dF:Da=ViewConstants.XE;break;case Keywords.eF:Da=ViewConstants.YE;break;case Keywords.iF:Da=ViewConstants.aF;break;
case Keywords.jF:Da=ViewConstants.bF;break;case Keywords.hF:Da=ViewConstants.$E;break;case Keywords.gF:Da=ViewConstants.ZE}-1!==Da&&q.V()}-1===Da&&(Da=ViewConstants.pu);w.EK(x,d,e,Aa,Ba,Da);t=!0}}break;case Keywords.$l:e=q.Fa();if(""!==e){q.V();if(e===Keywords.oj)Ba=Aa=-1,q.P()&&(Aa=q.R()),q.P()&&(Ba=q.R()),Aa<ViewConstants.jt||Ba<ViewConstants.jt||Aa>ViewConstants.Hw||Ba>ViewConstants.Gw?(x[x.length]=[Keywords.$l+" "+Keywords.oj,"invalid random box size"],Aa=-1):e+=Aa+","+Ba;else for(l=q.Fa();""!==
l&&!this.To(l)&&!q.P()&&-1!==w.A.mq(kb,l,!1,w.g.B);)q.V(),e+=l,l=q.Fa();if(-1!==Aa){Ba=Aa=0;q.P()&&(v=!0,Aa=q.R());q.P()&&(v=!0,Ba=q.R());Da=-1;l=q.Fa();if(""!==l){switch(l){case Keywords.fF:Da=ViewConstants.pu;break;case Keywords.cF:Da=ViewConstants.WE;break;case Keywords.dF:Da=ViewConstants.XE;break;case Keywords.eF:Da=ViewConstants.YE;break;case Keywords.iF:Da=ViewConstants.aF;break;case Keywords.jF:Da=ViewConstants.bF;break;case Keywords.hF:Da=ViewConstants.$E;break;case Keywords.gF:Da=ViewConstants.ZE}-1!==
Da&&q.V()}-1===Da&&(Da=ViewConstants.pu);w.IK(w.Zq,w.tt,w.Yq,w.ut,w.xd,w.wC,w.xC,e,Aa,Ba,Da)||(x[x.length]=[Keywords.$l+" "+e,"invalid name or rle"]);t=!0}}break;case Keywords.vC:q.P()&&(v=!0,r=q.R(),-4096<=r&&4096>=r&&(w.wC=r,v=!1,q.P()&&(v=!0,r=q.R(),-4096<=r&&4096>=r&&(w.xC=r,t=!0))));break;case Keywords.vt:if(q.P()){if(v=!0,r=q.R(),0<=r){w.Zq=r;w.ut=0;w.tt=-1;w.Yq=[];for(n=!0;n;)q.P()?(r=q.R(),w.Yq[w.Yq.length]=r):(d=q.Fa(),w.JK(d,w.Yq)?q.V():n=!1);t=!0}}else d=q.Fa(),d===Keywords.rs&&(d=q.V(),
q.P()&&(v=!0,r=q.R(),1<=r&&(w.ut=r,w.Zq=0,w.tt=-1,q.P()?(r=q.R(),0<=r&&(w.Zq=r,q.P()?(r=q.R(),r>=w.Zq+w.ut&&(w.tt=r,t=!0)):t=!0)):t=!0)));break;case Keywords.EJ:t=f.Fq=!0;break;case Keywords.iD:t=w.Ux=!0;break;case Keywords.TC:t=!0;v=!1;Ca="paste mode";d=q.Fa();switch(d){case Keywords.bD:w.xd=ViewConstants.aD;break;case Keywords.GC:w.xd=ViewConstants.Yw;break;case Keywords.zC:w.xd=ViewConstants.yC;break;case Keywords.XC:w.xd=ViewConstants.UC;break;case Keywords.BC:w.xd=ViewConstants.AC;break;case Keywords.$C:w.xd=
ViewConstants.ZC;break;case Keywords.YC:w.xd=ViewConstants.$w;break;case Keywords.SC:w.xd=ViewConstants.$q;break;case Keywords.LC:w.xd=ViewConstants.KC;break;case Keywords.WC:w.xd=ViewConstants.VC;break;case Keywords.PC:w.xd=ViewConstants.OC;break;case Keywords.DC:w.xd=ViewConstants.CC;break;case Keywords.NC:w.xd=ViewConstants.MC;break;case Keywords.FC:w.xd=ViewConstants.EC;break;case Keywords.JC:w.xd=ViewConstants.IC;break;case Keywords.RC:w.xd=ViewConstants.QC;break;case Keywords.HC:w.xd=ViewConstants.Zw;
break;default:if(4===d.length){for(Fa=r=0;4>Fa&&t;){r<<=1;switch(d.substr(Fa,1)){case "1":r|=1;break;case "0":break;default:t=!1}Fa+=1}t&&(w.xd=r)}else q.P()?(v=!0,r=q.R()|0,0<=r&&15>=r?w.xd=r:t=!1):t=!1}t&&!v&&q.V();break;case Keywords.mB:t=w.ej=!0;break;case Keywords.lC:w.ik=!1;t=!0;break;case Keywords.kC:t=w.oe=!0;break;case Keywords.mC:w.Il=!1;t=!0;break;case Keywords.TB:q.P()&&(v=!0,r=q.R()|0,r>=ViewConstants.jI&&r<=ViewConstants.dI&&(w.g.ja=1<<r,t=!0));break;case Keywords.cu:d=q.Fa();d===Keywords.gb?
(d=q.V(),f.Pn=!1):f.Pn=!0;t=f.Zx=!0;break;case Keywords.Wu:d=q.Fa();d===Keywords.gb?(d=q.V(),f.Nf=!1):f.Nf=!0;t=!0;break;case Keywords.Es:q.P()&&(v=!0,r=q.R()|0,0<=r&&r<=w.ft&&(w.K=r,t=!0));break;case Keywords.Vr:q.P()&&(v=!0,r=q.R()|0,0<=r&&r<=w.ft&&(w.Xi=r,t=!0));break;case Keywords.nB:d=q.Fa();d===Keywords.gb?(d=q.V(),w.fj=!1):w.fj=!0;t=!0;break;case Keywords.ys:d=q.Fa();d===Keywords.gb?(d=q.V(),f.grid=!1):f.grid=!0;t=f.Kl=!0;break;case Keywords.xs:q.P()&&(v=!0,r=q.R()|0,r>=ViewConstants.JN&&r<=
ViewConstants.EN&&(w.g.gg=r,t=w.kq=!0));break;case Keywords.Na:case Keywords.dA:b=c;Ea=!1;if(q.P()){D=q.R()|0;if(0>D||255<D)x[x.length]=[c+" "+D,"STATE out of range"],Ea=!0;this.lq(w,q,x,D,c,Ea,D)}else switch(d=q.Fa(),d){case Keywords.tI:this.nc(w,q,x,ViewConstants.Bg,b);break;case Keywords.uI:this.nc(w,q,x,ViewConstants.Tk,b);break;case Keywords.HH:this.nc(w,q,x,ViewConstants.Uk,b);break;case Keywords.UH:d=q.V();this.lq(w,q,x,ViewConstants.VH,c,!1,d);break;case Keywords.YH:d=q.V();this.lq(w,q,x,
ViewConstants.ZH,c,!1,d);break;case Keywords.WH:d=q.V();this.lq(w,q,x,ViewConstants.XH,c,!1,d);break;case Keywords.MH:d=q.V();this.lq(w,q,x,ViewConstants.NH,c,!1,d);break;case Keywords.ey:this.nc(w,q,x,ViewConstants.Bg,b);break;case Keywords.by:this.nc(w,q,x,ViewConstants.Tk,b);break;case Keywords.FE:this.nc(w,q,x,ViewConstants.DG,b);break;case Keywords.hy:this.nc(w,q,x,ViewConstants.Uk,b);break;case Keywords.gy:this.nc(w,q,x,ViewConstants.tA,b);break;case Keywords.HE:this.nc(w,q,x,ViewConstants.uA,
b);break;case Keywords.GE:this.nc(w,q,x,ViewConstants.GG,b);break;case Keywords.ys:this.nc(w,q,x,ViewConstants.xv,b);break;case Keywords.xs:this.nc(w,q,x,ViewConstants.vA,b);break;case Keywords.cu:this.nc(w,q,x,ViewConstants.SG,b);break;case Keywords.DE:this.nc(w,q,x,ViewConstants.TG,b);break;case Keywords.QA:this.nc(w,q,x,ViewConstants.HG,b);break;case Keywords.hB:this.nc(w,q,x,ViewConstants.NG,b);break;case Keywords.Ys:this.nc(w,q,x,ViewConstants.wA,b);break;case Keywords.Yr:this.nc(w,q,x,ViewConstants.sA,
b);break;case Keywords.QI:this.nc(w,q,x,ViewConstants.xA,b);break;case Keywords.cG:this.nc(w,q,x,ViewConstants.EG,b);break;case Keywords.eG:this.nc(w,q,x,ViewConstants.FG,b);break;case Keywords.qJ:this.nc(w,q,x,ViewConstants.PG,b);break;case Keywords.$l:this.nc(w,q,x,ViewConstants.OG,b);break;case Keywords.VF:this.nc(w,q,x,ViewConstants.CG,b);break;case Keywords.rJ:this.nc(w,q,x,ViewConstants.QG,b);break;case Keywords.xH:this.nc(w,q,x,ViewConstants.KG,b);break;case Keywords.wH:this.nc(w,q,x,ViewConstants.JG,
b);break;case Keywords.vH:this.nc(w,q,x,ViewConstants.IG,b);break;case Keywords.yH:this.nc(w,q,x,ViewConstants.LG,b);break;case Keywords.zH:this.nc(w,q,x,ViewConstants.MG,b);break;case Keywords.LJ:this.nc(w,q,x,ViewConstants.Av,b);break;case Keywords.JJ:this.nc(w,q,x,ViewConstants.yv,b);break;case Keywords.MJ:this.nc(w,q,x,ViewConstants.Bv,b);break;case Keywords.OJ:this.nc(w,q,x,ViewConstants.Dv,b);break;case Keywords.NJ:this.nc(w,q,x,ViewConstants.Cv,b);break;case Keywords.KJ:this.nc(w,q,x,ViewConstants.zv,
b);break;default:if('"'===d.charAt(0)){d=q.V();do e=q.V(),d+=" "+e;while(""!==e&&'"'!==e.charAt(e.length-1))}else d=q.V();D=w.FM(d);-1!==D&&this.lq(w,q,x,D,c,Ea,d);-1===D&&(x[x.length]=[c+" "+d,"illegal element"],d=q.V())}t=!0;break;case Keywords.zr:-1===q.mH()&&q.kM();t=!0;--w.gp;break;case Keywords.uu:t=w.Ta=!0;break;case Keywords.oC:t=w.nC=!0;break;case Keywords.RD:t=w.Lx=!0;break;case Keywords.pC:w.Km=!1;t=!0;break;case Keywords.SA:t=w.Qv=!0;break;case Keywords.qB:t=w.Ns=!0;break;case Keywords.jC:w.Wc=
!0;t=w.Tw=!0;break;case Keywords.iC:t=w.Yl=!0;break;case Keywords.yE:t=hb=gb=fb=eb=Ua=Ta=db=cb=Sa=bb=ab=$a=Za=Ya=Xa=Wa=!0;break;case Keywords.gb:x[x.length]=[Keywords.gb,"must follow LOOP or STOP"];t=!0;break;case Keywords.dh:d=q.Fa();d===Keywords.pc?(d=q.V(),f.ui?(w.$.vL(f,x),w.CP()):x[x.length]=[Keywords.dh+" "+Keywords.pc,"only valid at a POI"]):x[x.length]=[Keywords.dh,"must be followed by INITIAL"];t=!0;break;case Keywords.pc:x[x.length]=[Keywords.pc,"must follow POI, ALL or a POI setting"];
t=!0;break;case Keywords.$x:q.P()&&(v=!0,r=q.R()|0,0<=r&&r<=ViewConstants.gI&&(w.ef=r,t=!0));break;case Keywords.Xu:d=q.Fa();d===Keywords.gb?(d=q.V(),w.Kf=!1):w.Ba&&(w.Kf=!0);t=!0;break;case Keywords.hx:q.P()&&(v=!0,r=q.R()|0,0<=r&&(f.ui?(f.qc=r,f.gu=!0):x[x.length]=[Keywords.hx+" "+r,"only valid at a POI"],t=!0));break;case Keywords.ir:f.DP(x);t=!0;break;case Keywords.jr:f.HP(x);t=!0;break;case Keywords.Et:f.FP(x);t=!0;break;case Keywords.Ft:q.P()&&(v=!0,r=q.R(),r>=WaypointConstants.MI&&r<=WaypointConstants.LI&&
(f.JP(r,x),t=!0));break;case Keywords.jD:t=m=!0;break;case Keywords.fB:t=w.aw=!0;break;case Keywords.vE:d=q.Fa();d===Keywords.gb?(d=q.V(),w.tj=!1):w.tj=!0;t=!0;break;case Keywords.ou:q.P()&&(v=!0,r=q.R(),r>=ViewConstants.Bh&&r<=ViewConstants.Ah&&(Ja=r,v=!1,c+=" "+r,q.P()&&(v=!0,r=q.R(),r>=ViewConstants.Bh&&r<=ViewConstants.Ah&&(La=r,t=!0,w.Me&&(x[x.length]=[Keywords.ou+" "+Ja+" "+La,"overwrites "+Ha+" "+Ka]),Ha=Ja,Ka=La,w.Me=!0))));break;case Keywords.nu:q.P()&&(v=!0,r=q.R()|0,0<r&&(Ga=r,v=!1,c+=
" "+r,q.P()&&(v=!0,r=q.R(),r>=ViewConstants.Bh&&r<=ViewConstants.Ah&&(Ja=r,v=!1,c+=" "+r,q.P()&&(v=!0,r=q.R(),r>=ViewConstants.Bh&&r<=ViewConstants.Ah&&(La=r,t=!0,w.Op&&(x[x.length]=[Keywords.nu+" "+Ga+" "+Ja+" "+La,"overwrites "+Ia+" "+Ha+" "+Ka]),Ia=Ga,Ha=Ja,Ka=La,w.Op=!0,w.Me=!0))))));break;case Keywords.Np:q.P()&&(v=!0,r=q.R(),r>=ViewConstants.Bh&&r<=ViewConstants.Ah&&(Oa=r,v=!1,c+=" "+r,q.P()&&(v=!0,r=q.R(),r>=ViewConstants.Bh&&r<=ViewConstants.Ah&&(Na=r,v=!1,c+=" "+r,q.P()&&(v=!0,r=q.R(),r>=
ViewConstants.Bh&&r<=ViewConstants.Ah&&(Pa=r,v=!1,c+=" "+r,q.P()&&(v=!0,r=q.R(),r>=ViewConstants.Bh&&r<=ViewConstants.Ah&&(Ma=r,t=!0,Pa>Oa?x[x.length]=[Keywords.Np+" W "+this.Le(Pa,2)+" E "+this.Le(Oa,2),"W is greater than E"]:Ma>Na?x[x.length]=[Keywords.Np+" N "+this.Le(Ma,2)+" S "+this.Le(Na,2),"N is greater than S"]:(w.Kp&&(x[x.length]=[Keywords.Np+" "+this.Le(Oa,2)+" "+this.Le(Na,2)+" "+this.Le(Pa,2)+" "+this.Le(Ma,2),"overwrites "+this.Le(w.eo,2)+" "+this.Le(w.fo,2)+" "+this.Le(w.Mp,2)+" "+this.Le(w.Lp,
2)]),w.Kp=!0,w.Me=!0,w.Lp=Ma,w.eo=Oa,w.fo=Na,w.Mp=Pa)))))))));break;case Keywords.uk:u=f;!f.ui&&0<w.$.Za.length&&(f=w.$.us());q.P()?(v=!0,r=q.R()|0,0<r&&(!f.Vn||w.gn||Ua||(x[x.length]=-1===f.lc?[Keywords.uk+" "+r,"overwrites "+Keywords.gb]:[Keywords.uk+" "+r,"overwrites "+f.lc]),f.lc=r,f.Vn=!0,Ua=w.gn=!1,t=!0)):(d=q.Fa(),d===Keywords.gb?(d=q.V(),!f.Vn||w.gn||Ua||(x[x.length]=-1!==f.lc||w.gn?[Keywords.uk+" "+Keywords.gb,"overwrites "+f.lc]:[Keywords.uk+" "+Keywords.gb,"overwrites "+Keywords.gb]),f.lc=
-1,f.Vn=!0,Ua=w.gn=!1,t=!0):d===Keywords.pc&&(d=q.V(),w.$.Cd(Keywords.uk,f,x,w.gn),t=w.gn=!0));f=u;break;case Keywords.bk:u=f;!f.ui&&0<w.$.Za.length&&(f=w.$.us());q.P()?(v=!0,r=q.R()|0,0<r&&(!f.kn||w.Qo||Ta||(x[x.length]=-1===f.nb?[Keywords.bk+" "+r,"overwrites "+Keywords.gb]:[Keywords.bk+" "+r,"overwrites "+f.nb]),f.nb=r,f.kn=!0,Ta=w.Qo=!1,t=!0)):(d=q.Fa(),d===Keywords.gb?(d=q.V(),!f.kn||w.Qo||Ta||(x[x.length]=-1===f.nb?[Keywords.bk+" "+Keywords.gb,"overwrites "+Keywords.gb]:[Keywords.bk+" "+Keywords.gb,
"overwrites "+f.nb]),f.nb=-1,f.kn=!0,Ta=w.Qo=!1,t=!0):d===Keywords.pc&&(d=q.V(),w.$.Cd(Keywords.bk,f,x,w.Qo),t=w.Qo=!0));f=u;break;case Keywords.$n:q.P()?(v=!0,r=q.R(),r>=ViewConstants.kt&&r<=ViewConstants.UB&&(!f.Fi||w.Vs||$a||(x[x.length]=[Keywords.$n+" "+r,"overwrites "+f.Sa]),f.Sa=r,f.Fi=!0,$a=w.Vs=!1,t=!0)):(d=q.Fa(),d===Keywords.pc&&(d=q.V(),w.$.Cd(Keywords.$n,f,x,w.Vs),t=w.Vs=!0));break;case Keywords.Im:q.P()?(v=!0,r=q.R()|0,0<=r&&359>=r&&(!f.hi||w.Qs||Za||(x[x.length]=[Keywords.Im+" "+r,"overwrites "+
f.angle]),f.angle=r,f.hi=!0,Za=w.Qs=!1,t=!0)):(d=q.Fa(),d===Keywords.pc&&(d=q.V(),w.$.Cd(Keywords.Im,f,x,w.Qs),t=w.Qs=!0));break;case Keywords.Zo:q.P()?(v=!0,r=q.R()|0,r>=ViewConstants.Lw&&r<=ViewConstants.Dw&&(!f.ij||w.Ts||ab||(x[x.length]=[Keywords.Zo+" "+r,"overwrites "+f.aa]),f.aa=r,f.ij=!0,ab=w.Ts=!1,t=!0)):(d=q.Fa(),d===Keywords.pc&&(d=q.V(),w.$.Cd(Keywords.Zo,f,x,w.Ts),t=w.Ts=!0));break;case Keywords.Eo:q.P()?(v=!0,r=q.R(),r>=ViewConstants.Kw&&r<=ViewConstants.cI&&(!f.$i||w.Rs||bb||(x[x.length]=
[Keywords.Eo+" "+r,"overwrites "+f.depth]),f.depth=r,f.$i=!0,bb=w.Rs=!1,t=!0)):(d=q.Fa(),d===Keywords.pc&&(d=q.V(),w.$.Cd(Keywords.Eo,f,x,w.Rs),t=w.Rs=!0));break;case Keywords.Ay:q.P()&&(v=!0,r=q.R(),r>=-w.g.ja/2&&r<=w.g.ja/2&&(w.Eb=r,t=!0));break;case Keywords.By:q.P()&&(v=!0,r=q.R(),r>=-w.g.ja/2&&r<=w.g.ja/2&&(w.Fb=r,t=!0));break;case Keywords.Xf:q.P()?(v=!0,r=q.R(),r>=-w.g.ja/2&&r<=w.g.ja/2&&(!f.wg||w.Ws||Wa||(x[x.length]=[Keywords.Xf+" "+r,"overwrites "+-f.x]),f.x=-r,f.wg=!0,Wa=w.Ws=!1,t=!0)):
(d=q.Fa(),d===Keywords.pc&&(d=q.V(),w.$.Cd(Keywords.Xf,f,x,w.Ws),t=w.Ws=!0));break;case Keywords.Zf:q.P()?(v=!0,r=q.R(),r>=-w.g.ja/2&&r<=w.g.ja/2&&(!f.Yf||w.Xs||Xa||(x[x.length]=[Keywords.Zf+" "+r,"overwrites "+-f.y]),f.y=-r,f.Yf=!0,Xa=w.Xs=!1,t=!0)):(d=q.Fa(),d===Keywords.pc&&(d=q.V(),w.$.Cd(Keywords.Zf,f,x,w.Xs),t=w.Xs=!0));break;case Keywords.PE:q.P()&&(v=!0,r=q.R(),r>=ViewConstants.bb&&r<=ViewConstants.Ob?(w.ky=!0,w.OE=r,t=!0):r>=ViewConstants.it&&r<=ViewConstants.gt&&(w.ky=!0,w.OE=-(1/r),t=!0));
break;case Keywords.Fz:case Keywords.xe:q.P()?(v=!0,r=q.R(),r>=ViewConstants.bb&&r<=ViewConstants.Ob?(!f.we||w.Ro||Ya||(x[x.length]=1>f.zoom?[Keywords.xe+" "+r,"overwrites "+-(1/f.zoom)]:[Keywords.xe+" "+r,"overwrites "+f.zoom]),f.zoom=r,f.we=!0,Ya=w.Ro=!1,t=!0):r>=ViewConstants.it&&r<=ViewConstants.gt&&(f.we&&!w.Ro&&(x[x.length]=1>f.zoom?[Keywords.xe+" "+r,"overwrites "+-(1/f.zoom)]:[Keywords.xe+" "+r,"overwrites "+f.zoom]),f.zoom=-(1/r),f.we=!0,w.Ro=!1,t=!0)):(d=q.Fa(),d===Keywords.pc&&(d=q.V(),
w.$.Cd(Keywords.xe,f,x,w.Ro),t=w.Ro=!0));break;case Keywords.Mo:q.P()?(v=!0,r=q.R()|0,r>=ViewConstants.kj&&(!f.fg||w.Ss||cb||(x[x.length]=[Keywords.Mo+" "+r,"overwrites "+f.Nc]),r>w.Ma&&(r=w.Ma),f.Nc=r,f.fg=!0,cb=w.Ss=!1,w.qE=!1,t=!0)):(d=q.Fa(),d===Keywords.pc&&(d=q.V(),w.$.Cd(Keywords.Mo,f,x,w.Ss),t=w.Ss=!0));break;case Keywords.QE:d=q.Fa();d===Keywords.gb?(d=q.V(),w.Ud||(w.Bb=!1,w.wm=!1)):w.Ud||(w.Bb=!0,w.wm=!0);t=!0;break;case Keywords.NE:t=w.ME=!0;break;case Keywords.JE:d=q.Fa();d===Keywords.gb?
(d=q.V(),w.Ud||(w.Bb=!1,w.wm=!1,w.wk=!1,w.j.wk=!1)):w.Ud||(w.Bb=!0,w.wm=!0,w.wk=!0,w.j.wk=!0);t=!0;break;case Keywords.LE:q.P()&&(v=!0,r=q.R()|0,r>=ViewConstants.mI&&r<=ViewConstants.hI&&(w.gf=r,t=!0));break;case Keywords.vm:q.P()?(v=!0,r=q.R()|0,0<=r&&r<w.g.Bf&&(!f.Hf||w.Pl||Sa||this.zD(w,x,r,f.yc),f.yc=r,f.Hf=!0,Sa=w.Pl=!1,t=!0)):(d=q.Fa(),d===Keywords.Jr?(d=q.V(),w.Nj?(f.Hf&&!w.Pl&&this.zD(w,x,w.g.Bf,f.yc),f.yc=w.g.Bf,f.Hf=!0,w.Pl=!1):x[x.length]=[Keywords.vm+" "+Keywords.Jr,"no custom THEME defined"],
t=!0):(r=w.aQ(d),-1!==r?(d=q.V(),!f.Hf||w.Pl||Sa||this.zD(w,x,r,f.yc),f.yc=r,f.Hf=!0,Sa=w.Pl=!1,t=!0):d===Keywords.pc&&(d=q.V(),w.$.Cd(Keywords.vm,f,x,w.Pl),t=w.Pl=!0)),t||(t=!0,x[x.length]=[c,"invalid specification"]));break;case Keywords.UI:t=w.g.Zc=!0;break;case Keywords.up:x[x.length]=[c,"already in a script block"];t=!0;break;case Keywords.mE:w.sd=!w.sd;t=!0;break;case Keywords.nE:w.vq.current=w.ko([!0],!0,w);t=!0;break;case Keywords.TA:w.ku.current=w.GF([!0],!0,w);t=!0;break;case Keywords.lE:w.xy([!0],
!0,w);w.ke&&(w.ke.current=[w.Nh],w.j.vg=!0);t=!0;break;case Keywords.GA:q.P()&&(v=!0,r=q.R()|0,r>=ViewConstants.iI&&r<=ViewConstants.bI&&(t=!0,w.g.Rt=r));break;case Keywords.Uw:t=w.Hc=!0;break;case Keywords.Wv:t=w.yd=!0;break;case Keywords.bB:q.P()&&(v=!0,r=q.R(),0<=r&&1>=r&&(t=!0,w.Id=r));break;case Keywords.cB:w.Gh=!1;t=!0;break;case Keywords.kF:w.g.M&&(w.g.Tb=!1);t=!0;break;case Keywords.iB:w.g.S&&(w.g.Tb=!1);t=!0;break;case Keywords.Xx:t=w.g.Tb=!0;break;case Keywords.Vz:t=w.g.pd=!0;break;case Keywords.GD:q.P()&&
(v=!0,r=q.R()|0,r>=ViewConstants.jt&&r<=ViewConstants.Hw&&(w.Bx=r,t=!0));break;case Keywords.BD:q.P()&&(v=!0,r=q.R()|0,r>=ViewConstants.ZB&&r<=ViewConstants.Gw&&(w.xx=r,t=!0));break;case Keywords.AD:q.P()&&(v=!0,r=q.R()|0,r>=ViewConstants.Nw&&r<=ViewConstants.Fw&&(w.nr=r,t=!0));break;case Keywords.CD:t=w.yx=!0;break;case Keywords.FD:t=w.Ax=!0;break;case Keywords.ux:d=q.Fa();switch(d){case Keywords.Td:d=q.V();t=!0;w.Ot=!0;break;case Keywords.dh:d=q.V();q.P()&&(v=!0,r=q.R()|0,0<=r&&100>=r&&(w.cm=r,
t=!0));break;case Keywords.tx:d=q.V();q.P()&&(v=!0,r=q.R()|0,0<=r&&100>=r&&(w.dm=r,t=!0));break;case Keywords.zx:d=q.V();q.P()&&(v=!0,r=q.R()|0,0<=r&&100>=r&&(w.In=r,t=!0));break;default:this.tQ(d)&&(d=q.V(),q.P()&&(v=!0,r=q.R()|0,0<=r&&100>=r&&(this.oP(w,r),t=!0)))}break;case Keywords.oj:x[x.length]=[c,"only valid after "+Keywords.$l];t=!0;break;case Keywords.ID:w.Qt=!0;w.Pt=!1;t=!0;break;case Keywords.HD:w.Qt=!0;t=w.Pt=!0;break;case Keywords.ED:w.pr=q.V();t=w.DD=!0;break;case Keywords.vi:d=q.Fa();
switch(d){case Keywords.Xf:f.Cm&&this.lj(f.Hi,Keywords.vi,Keywords.Xf,x);f.Hi=!0;f.Cm=!0;d=q.V();break;case Keywords.Zf:f.Dm&&this.lj(f.Ki,Keywords.vi,Keywords.Zf,x);f.Ki=!0;f.Dm=!0;d=q.V();break;case Keywords.xe:f.QF&&this.lj(f.Mi,Keywords.vi,Keywords.xe,x);f.Mi=!0;f.vu=!0;d=q.V();break;case Keywords.dh:f.Cm&&this.lj(f.Hi,Keywords.vi,Keywords.Xf,x);f.Dm&&this.lj(f.Ki,Keywords.vi,Keywords.Zf,x);f.QF&&this.lj(f.Mi,Keywords.vi,Keywords.xe,x);f.Hi=!0;f.Cm=!0;f.Ki=!0;f.Dm=!0;f.Mi=!0;f.vu=!0;d=q.V();break;
default:this.cp(q,x,Keywords.vi,"argument",Keywords.dh+", "+Keywords.Xf+", "+Keywords.Zf+" or "+Keywords.xe)}t=!0;break;case Keywords.Ij:d=q.Fa();switch(d){case Keywords.Xf:f.Cm&&this.lj(f.Hi,Keywords.Ij,Keywords.Xf,x);f.Hi=!1;f.Cm=!0;d=q.V();break;case Keywords.Zf:f.Dm&&this.lj(f.Ki,Keywords.Ij,Keywords.Zf,x);f.Ki=!1;f.Dm=!0;d=q.V();break;case Keywords.xe:f.QF&&this.lj(f.Mi,Keywords.Ij,Keywords.xe,x);f.Mi=!1;f.vu=!0;d=q.V();break;case Keywords.dh:f.Cm&&this.lj(f.Hi,Keywords.Ij,Keywords.Xf,x);f.Dm&&
this.lj(f.Ki,Keywords.Ij,Keywords.Zf,x);f.QF&&this.lj(f.Mi,Keywords.Ij,Keywords.xe,x);f.Hi=!1;f.Cm=!0;f.Ki=!1;f.Dm=!0;f.Mi=!1;f.vu=!0;d=q.V();break;default:this.cp(q,x,Keywords.Ij,"argument",Keywords.dh+", "+Keywords.Xf+", "+Keywords.Zf+" or "+Keywords.xe)}t=!0;break;case Keywords.ix:B=!0;w.$.add(f,w);f=w.$.jq();f.ui=!0;d=q.Fa();d===Keywords.pc&&(d=q.V(),-1!==w.Co&&(x[x.length]=[Keywords.ix+" "+Keywords.pc,"overrides previous initial POI"]),w.Co=w.$.Ec.length);w.iL();t=!0;break;case Keywords.fu:q.P()&&
(v=!0,r=q.R()|0,0<=r&&(z=!0,0<r&&(w.$.add(f,w),f=w.$.jq()),f.qc=r,t=f.gu=!0));break;case Keywords.Bp:q.P()?(v=!0,r=q.R()|0,r>=ViewConstants.wi&&r<=ViewConstants.Kg&&(!f.Ff||w.Us||db||(x[x.length]=[Keywords.Bp+" "+r,"overwrites "+f.step]),f.step=r,f.Ff=!0,db=w.Us=!1,w.rE=!1,t=!0)):(d=q.Fa(),d===Keywords.pc&&(d=q.V(),w.$.Cd(Keywords.Bp,f,x,w.Us),t=w.Us=!0));break;case Keywords.eD:q.P()&&(v=!0,r=q.R(),0<=r&&(z=!0,w.$.add(f,w),f=w.$.jq(),r<ViewConstants.wJ&&(r=ViewConstants.wJ),f.ld=r,t=f.DJ=!0));break;
case Keywords.Tr:q.P()&&(v=!0,r=q.R()|0,w.Ud||(-1===w.Ie||eb||(x[x.length]=[Keywords.Tr+" "+r,"overwrites "+w.Ie]),w.Ie=r),eb=!1,t=!0);break;case Keywords.zq:q.P()&&(v=!0,r=q.R()|0,w.Ud||(-1===w.Qg||fb||(x[x.length]=[Keywords.zq+" "+r,"overwrites "+w.Qg]),w.Qg=r),fb=!1,t=!0);break;case Keywords.Ht:q.P()&&(v=!0,r=q.R()|0,-1===w.ng||gb||(x[x.length]=[Keywords.Ht+" "+r,"overwrites "+w.ng]),w.ng=r,gb=!1,t=!0);break;case Keywords.Gt:q.P()&&(v=!0,r=q.R()|0,-1===w.pj||hb||(x[x.length]=[Keywords.Gt+" "+r,
"overwrites "+w.pj]),w.pj=r,hb=!1,t=!0);break;default:x[x.length]=[c,"unknown or misspelt command"],t=!0}t||(v?x[x.length]=[c+" "+r,"argument out of range"]:this.cp(q,x,c,"argument",Ca))}""!==c&&(c=q.V())}k&&(x[x.length]=[Keywords.Kd+p,"unterminated string"]);z&&w.Me&&(A=w.Kp?Keywords.Np:w.Op?Keywords.nu:Keywords.ou,x[x.length]=[A,"can not be used with Waypoints"],w.Me=!1,w.Kp=!1,w.Op=!1);w.Kp||!w.Me&&!w.Op||(w.Op&&(0<w.g.gg&&(Ia*=w.g.gg),f.nb=Ia),w.Lp=Ka,w.eo=Ha,w.fo=Ka,w.Mp=Ha);if(z||B){w.$.add(f,
w);f=w.$.us();z?w.$c=!0:-1!==w.Co&&(w.yh=w.Co,u=w.$.Ec[w.Co],u.wg&&(f.wg=u.wg,f.x=u.x),u.Yf&&(f.Yf=u.Yf,f.y=u.y),u.we&&(f.we=u.we,f.zoom=u.zoom),u.hi&&(f.hi=u.hi,f.angle=u.angle),u.Fi&&(f.Fi=u.Fi,f.Sa=u.Sa),u.$i&&(f.$i=u.$i,f.depth=u.depth),u.ij&&(f.ij=u.ij,f.aa=u.aa),u.Hf&&(f.Hf=u.Hf,f.yc=u.yc),u.fg&&(f.fg=u.fg,f.Nc=u.Nc),u.Ff&&(f.Ff=u.Ff,f.step=u.step),u.CJ&&(f.CJ=u.CJ,f.stop=u.stop),u.SH&&(f.SH=u.SH,f.loop=u.loop));if(z){for(Fa=0;Fa<w.$.Za.length;Fa+=1)f=w.$.Za[Fa],f.Nf&&(f.wg||f.Yf||f.we)&&(p=
"",f.wg?(p="X "+f.x,f.Yf?p=f.we?p+(", Y "+f.y+" and ZOOM "+f.zoom):p+(" and Y "+f.y):f.we&&(p+=" and ZOOM "+f.zoom)):f.Yf?(p="Y "+f.y,f.we&&(p+=" and ZOOM "+f.zoom)):f.we&&(p="ZOOM "+f.zoom),x[x.length]=[Keywords.Wu,"overwrites "+p]);f=w.$.us()}B&&f.Ch===WaypointConstants.play&&w.Ba&&(w.Kf=!0)}f.Nf&&(w.Kc=!0);f.Yf&&(w.g.xa=w.g.height/2-f.y);f.wg&&(w.g.Da=w.g.width/2-f.x,w.g.S&&(w.g.Da-=w.g.xa/2));f.we&&(w.g.zoom=f.zoom);w.g.M||w.g.S||w.g.za||(f.hi&&(w.g.angle=f.angle),f.Fi&&(w.g.Sa=f.Sa),f.$i&&(w.g.Ze=
f.depth/ViewConstants.Do+ViewConstants.Kw),f.ij&&(w.g.aa=f.aa));f.Hf&&(w.jy=f.yc);f.fg&&(w.oc=f.Nc,w.xb=ViewConstants.wi);f.Ff&&(w.xb=f.step,1<w.xb&&(w.oc=w.Ma));f.EE&&w.j.notification.notify(f.ug,15,1E3,15,!1);w.lc=f.lc;w.nb=f.nb;f.we&&(w.FA=!0);f.wg&&(w.DA=!0);f.Yf&&(w.EA=!0);f.Kl&&(w.g.tc=f.grid);f.Zx&&(w.sj=f.Pn);for(Fa=0;Fa<g;Fa+=1)-1!==w.Sb[Fa]&&(y+=1);if(0<y){w.Ez=!0;for(Fa=0;Fa<g;Fa+=1)w.A.Ap[Fa]?-1===w.Sb[Fa]?(w.Ez=!1,w.uv[Fa]=ViewConstants.zJ):w.uv[Fa]=ViewConstants.VP:w.uv[Fa]=ViewConstants.yJ;
w.hv=w.Ez?"(custom)":w.hv+" (custom*)"}else w.Sb=null;if(w.Nj||w.kq||-1!==w.vv||-1!==w.wv)Fa=-1,f.Hf&&(Fa=f.yc),w.Nj||f.Hf||!w.kq&&-1===w.vv&&-1===w.wv||(Fa=1),this.MP(w,Fa),f.Hf=!0,f.yc=w.g.Bf,w.jy=f.yc;w.Ta&&(A="not possible due to "+Keywords.uu,w.Kf&&(x[x.length]=[Keywords.Xu,A],w.Kf=!1),-1!==w.ef&&(x[x.length]=[Keywords.$x+" "+w.ef,A],w.ef=-1),-1!==w.lc&&(x[x.length]=[Keywords.uk+" "+w.lc,A]),-1!==w.nb&&(x[x.length]=[Keywords.bk+" "+w.nb,A]));0!==w.Eb&&w.Ra+ViewConstants.Kg+2*Math.abs(w.Eb)>=
w.g.ja&&(x[x.length]=[Keywords.Ay+" "+w.Eb,"pattern does not fit on grid at view offset"],w.Eb=0);0!==w.Fb&&w.Wa+ViewConstants.Kg+2*Math.abs(w.Fb)>=w.g.ja&&(x[x.length]=[Keywords.By+" "+w.Fb,"pattern does not fit on grid at view offset"],w.Fb=0);w.rC=x.length}""!==w.Aj&&(w.Aj=this.Hr(w,w.Aj));w.Kc&&(w.Vu=!0);w.yd&&w.Hc&&(x[x.length]=[Keywords.Wv,"not valid with "+Keywords.Uw],w.yd=!1);var Qa=0,Va=!1;-1!==w.Ie&&(Qa=ViewConstants.Uc,w.Ie>=ViewConstants.lI&&w.Ie<Qa&&(w.Ie=Qa),w.Wc&&(Qa=ViewConstants.LN),
w.Ie<Qa||w.Ie>w.jj)&&(x[x.length]=[Keywords.Tr+" "+w.Ie,"argument out of range"],Va=!0);-1!==w.Qg&&(Qa=ViewConstants.ek,w.Wc&&(Qa=ViewConstants.KN),w.Qg<Qa||w.Qg>ViewConstants.ht)&&(x[x.length]=[Keywords.zq+" "+w.Qg,"argument out of range"],Va=!0);w.Ud&&(-1!==w.ng&&(w.ng>=ViewConstants.lI&&w.ng<ViewConstants.Uc&&(w.ng=ViewConstants.Uc),w.ng<ViewConstants.Uc||w.ng>w.jj)&&(x[x.length]=[Keywords.Ht+" "+w.ng,"argument out of range"],w.ng=-1,Va=!0),-1!==w.pj&&(w.pj<ViewConstants.ek||w.pj>ViewConstants.ht)&&
(x[x.length]=[Keywords.Gt+" "+w.pj,"argument out of range"],w.pj=-1,Va=!0));if(Va||x.length)-1!==w.Ie&&(w.Ie<ViewConstants.Uc?w.Ie=ViewConstants.Uc:w.Ie>w.jj&&(w.Ie=w.jj)),-1!==w.Qg&&(w.Qg<ViewConstants.mn?w.Qg=ViewConstants.mn:w.Qg>ViewConstants.ht&&(w.Qg=-1)),w.Wc=!1;w.m.l=w.Wc;w.j.Wc=w.Wc;w.j.Yl=w.Yl;w.Wc&&(w.Kf=!1,w.Bb=!1,w.wk=!1,w.yd=!1,w.ko([!1],!0,w),w.GF([!1],!0,w),w.xy([!1],!0,w),w.sd=!1,w.ej=!1);w.nC&&(w.element.style="display:none",w.element.parentNode&&w.element.parentNode.parentNode&&
w.element.parentNode.parentNode.className===DocConfig.Kv&&(w.element.parentNode.parentNode.style="display:none;"));m&&w.IL();w.$.RP()}}}(),function(){function w(b,m,f,u,z){this.name=b;this.pattern=m;this.fP=f;this.width=u;this.height=z}function h(b){var m;this.Ux=this.dv=!1;this.Yo=0;this.rE=this.qE=!0;this.Ma=60;this.$o=y.XB;this.nj=this.Vo=this.VA=0;this.PH="";this.tE=this.Rn=this.ef=-1;this.Ei=[];this.Sw=this.ps=this.Lx=this.ME=this.Ns=this.Qv=!1;this.A=new PatternManager;this.Rg=this.Po=!1;this.NB=
"";this.Ig=!1;this.xw=this.vw=this.Jq=this.Wo=this.Xo=this.bt=this.Hq=this.ww=this.Zs=this.Lq=this.Kq=this.$s=this.lb=this.Iq="";this.Ub=!1;this.Ls=this.Gs=this.lw=this.Js=this.Ks=this.ow=this.mw=this.kw=this.jw=this.Is=this.Ms=this.Ak=this.Rl=this.Gl=this.Tl=this.El=this.Ql=this.Ol=this.Ml=this.Bl=this.Fk=this.Ik=this.tf=this.Hs=null;this.Wf=1;this.xx=this.Bx=y.mr;this.nr=50;this.Ax=this.yx=this.Ot=!1;this.In=this.dm=this.cm=-1;this.zi=[];this.kk=[];this.IF=!1;this.ns=this.kB=this.Zz=this.sB=this.Gz=
null;this.Bs=18;this.Aq="18px "+y.oH;this.en="18px "+y.vF;this.devicePixelRatio=window.devicePixelRatio?window.devicePixelRatio:1;this.Km=!0;this.ay=this.ni=this.mm=this.ml=this.lm=this.nm=this.pm=this.om=this.nl=!1;this.kg=[];for(m=0;10>m;m+=1)this.kg[m]=null;this.Sd=!1;this.Rf=this.Sf=this.fh=0;this.nh=y.ar;this.fi=this.ds=!1;this.Ib=null;this.td=!1;this.sq=new BoundingBox(0,0,0,0);this.Vb=new BoundingBox(0,0,0,0);this.Of=new BoundingBox(0,0,0,0);this.zb=new Random;this.zb.Ye(Date.now().toString());
this.lk=50;this.pJ=this.oJ=0;this.Vk=this.yb=!1;this.yn=2;this.Fg=[];this.fp=this.Gc=0;this.Bo=[];this.qd=0;this.Od=[];this.od=0;this.Ca=[];this.Ca[y.pu]=[1,0,0,1];this.Ca[y.WE]=[-1,0,0,-1];this.Ca[y.XE]=[-1,0,0,1];this.Ca[y.YE]=[1,0,0,-1];this.Ca[y.aF]=[0,1,1,0];this.Ca[y.bF]=[0,-1,-1,0];this.Ca[y.$E]=[0,-1,1,0];this.Ca[y.ZE]=[0,1,-1,0];this.gl=[];this.rr=[];this.mk=[];this.mh=[];this.xd=y.$q;this.Zq=0;this.tt=-1;this.Yq=[];this.xC=this.wC=this.ut=0;this.$j=!1;this.Zk=0;this.sw=!1;this.md=this.Cn=
this.wn=this.Bn=this.xn=0;this.rw=!1;this.W=null;this.qy=0;this.zm=!0;this.sg=0;this.pf=1;this.Nn=this.wB=this.cl=this.Dt=!1;this.kh=7;this.xp=!0;this.Qk=this.Pk=0;this.Zm=!1;this.Xi=this.$H=this.K=this.ft=63;this.Qo=this.gn=this.Ss=this.Us=this.Pl=this.Ts=this.Rs=this.Vs=this.Qs=this.Ro=this.Xs=this.Ws=this.nC=!1;this.Mb=0;this.Ka=null;this.fc=this.ec=0;this.zy=!1;this.Co=this.pg=this.qg=-1;this.pr=Date.now().toString();this.Pt=this.Qt=this.DD=!1;this.Yj=y.Th;this.rj=!0;this.yd=!1;this.Gh=!0;this.Id=
y.$G;this.Hc=!1;this.element=b;this.sd=!1;this.Mp=this.eo=this.fo=this.Lp=this.sv=this.pv=this.rv=this.qv=0;this.Uf=this.Op=this.Me=this.Kp=!1;this.Il=!0;this.Jl=!1;this.ih=0;this.Hl=!1;this.Gn=this.Fn=0;this.mg=!1;this.D="";this.Fb=this.Eb=0;this.PA=this.OA=this.rq=this.qs=this.Ko=this.Jo=this.Cl=this.uE=this.sE=this.Sn=this.Qn=this.zp=this.Un=this.Tn=this.yh=-1;this.Aw=this.Iv=!1;this.hu=this.Oh=-1;this.hs=this.zo=!1;this.nv=-1;this.Cp=this.um=null;this.mJ=0;this.iu="";this.Dp=this.pl=0;this.$P=
32768;this.lv=!1;this.gA=this.iA=0;this.fA=!0;this.Vu=this.Kc=this.Hk=!1;this.ro=0;this.aL=.01;this.tj=this.fj=!1;this.xl=this.pi=null;this.Oj=y.Oj;this.yl=null;this.Wj=y.Wj;this.Qm=[96,96,96];this.Rm=[128,128,128];this.Um=[0,255,0];this.Tm=[255,0,0];this.Pm=[255,255,0];this.Vm=[255,128,0];this.ly=null;this.Aj="";this.ik=!0;this.sj=this.Ba=this.oe=!1;this.sm=null;this.Ud=!1;this.fa=1;this.bl=0;this.Rd=this.xB=!1;this.$=new WaypointManager;this.ct="";this.OB=-1;this.Jg=this.$c=!1;this.xb=1;this.Rv=
this.rC=this.gp=0;this.jj=y.IN;this.pj=this.ng=this.Qg=this.Ie=this.Dg=-1;this.xt=this.br="";this.ex=this.er=this.Wa=this.Ra=0;this.dr=null;this.Dn=this.Yc=this.vb=this.hk="";this.kq=this.Nj=!1;this.Rc=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.wv=this.vv=-1;this.qA=y.OH;this.pA=y.Tu;this.rA=y.NI;this.hv="";this.lL=0;this.wh=[];this.Ez=!1;this.Sb=null;this.uv=[];this.Jd=[];this.sc=1;this.ha=0;this.Zt=!1;this.Uq=100;this.vd=10;this.Z=[64,
200,290,530,700];this.th=!1;this.ma=[];this.dw=[];this.ew=[];this.lc=-1;this.Gf=!1;this.nb=-1;this.aw=this.eh=this.Kf=this.Hd=this.Yl=this.Tw=this.Wc=this.Yi=this.ej=this.Ta=this.hf=this.bd=!1;this.g=null;this.elapsedTime=0;this.QL=512;this.OL=256;this.J=640;this.I=512;this.tn=640;this.sn=512;this.lx=!1;this.Xl=640;this.fr=!0;this.Nh=this.oE=this.mj=this.ib=this.gr=!1;this.Mn=this.Zn=this.wj=this.Cc=this.iq=this.pp=this.yk=this.Nd=null;this.G=[];this.C=this.Wd=this.Gr=this.Cr=this.yt=this.yi=this.Ya=
this.ce=this.xf=this.Mg=this.Qf=this.Af=this.Pg=this.Vg=this.Pe=this.Oe=this.Og=this.ze=this.Ae=this.mp=this.fl=this.wc=this.Y=this.zn=this.ud=this.Zb=this.Ng=this.Xm=this.gd=this.Mk=this.Lk=this.En=this.nd=this.ll=this.Bj=this.Io=this.Pd=this.Gg=this.Lo=this.Li=this.Ri=this.Si=this.ku=this.vq=this.$t=this.Qi=this.Vi=this.Ui=this.mt=this.Jt=this.Dr=this.Cq=this.Yk=this.ms=this.Ni=this.wt=this.be=this.Hj=this.Vh=this.Wh=this.Ck=this.Oi=this.Xh=this.bm=this.Zh=this.tm=this.ym=this.Yh=this.Dq=this.Pi=
this.qr=this.Zl=this.jm=this.am=this.em=this.Os=this.Eq=this.rf=this.Wk=this.$h=this.Ek=this.bn=this.bq=this.Ii=this.ei=this.Zj=this.lr=this.po=this.$p=this.aq=this.lt=this.It=this.Sl=this.jn=this.ea=this.$g=this.$m=this.bu=this.qq=this.ae=this.so=this.Lm=this.de=this.ee=this.Yg=this.js=this.Ul=this.cj=this.Gj=this.na=this.Qe=this.hd=this.Ne=this.Re=this.qf=this.Se=this.We=this.Ve=this.Ti=this.sh=this.Qh=this.Cj=this.Xj=this.Dk=this.Wn=this.ln=this.Rh=this.to=this.Gb=this.$b=this.Qb=this.pb=this.bi=
this.di=this.ci=this.ai=this.Wl=this.ab=this.uf=this.rc=this.wf=this.ic=this.vf=this.Mq=this.Wq=this.Ai=this.Mt=this.tr=this.ke=this.Fe=this.rd=this.Jc=this.ue=this.Pc=this.Wi=this.Sp=this.Up=this.Fm=this.Tp=null;this.hj=this.Uo=-1;this.wheelDelta=0;this.vc=this.Tc=this.il=null;this.oc=60;this.m=this.j=null;this.nf=this.ad=this.pq=this.nq=0;this.Fv=this.cH=1;this.ZG=60;this.oq=this.aH=1;this.CA=.1;this.jy=-1;this.Cf=this.dd=this.aE=0;this.yr=1;this.wm=this.Bb=this.EA=this.DA=this.FA=!1;this.gf=y.bH;
this.Vp=this.Xp=this.KE=this.Wp=0;this.ky=this.wk=!1;this.tp=this.OE=0;this.De=this.qh=!1;this.zt=-1}function g(b,m,f,u,z){var B,C=m.parentNode,E=null;for(B=0;B<D.Zd.length&&!E;)D.Zd[B][0].tabIndex===m.tabIndex?E=D.Zd[B][1]:B+=1;E||(E=new h(z),E.Ud=u,A.dt&&!u&&(E.jj=f&-8,E.jj<y.Uc&&(E.jj=y.Uc)),m.tabIndex=D.Zd.length+1,E.Bu(m),"none"===C.style.display&&(D.mx=new PopupWindow(C,E)),D.Zd[D.Zd.length]=[m,E,D.mx]);u||E.Di(b,!1)}function q(b){b=b.parentNode;for(var m=!1;!m;)"div"!==b.localName||b.className!==
A.Jv&&b.className!==A.Kv||(m=!0),m||(b=b.parentNode);return b}function n(){var b=D.Yx(),m=b[1],f=b[2];b[0].parentNode.style.display="none";f.Fo=!1;m.ib&&(m.Zb.current=m.Md(y.af,!0,m))}function a(b){n();b.stopPropagation&&b.stopPropagation();b.preventDefault();return!1}function c(b){b=b.innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,"").trim();b=b.replace(/\n[ ]+/g,
"\n");b=b.replace(/\n\t+/g,"\n");""===b&&(b="!");return b}function d(b){var m=q(b).getElementsByTagName(A.cr)[0];b=D.Zd[0];m.value&&(m.innerHTML=m.value);m=c(m);b[1].EF(b[1]);b[1].j.notification.clear(!0,!0);b[1].j.notification.clear(!1,!0);b[1].Di(m,!1)}function e(b){var m=28,f=18,u=D.Yx()[2];b.ns.style.transform="scale("+b.Wf+","+b.Wf+")";b.ns.style.transformOrigin="top left";b.resize();u.Fo=!0;u.eJ(u);1!==b.m.Uh&&(m=m*b.m.Uh|0,f=f*b.m.Uh|0,b.Gz.style.height=m+"px",b.Gz.style.fontSize=f+"px",b.kB.style.height=
m+"px",b.kB.style.fontSize=f+"px",b.Zz.style.height=m+"px",b.Zz.style.fontSize=f+"px",b.sB.style.height=m+"px",b.sB.style.lineHeight=m+"px");b.vc.canvas.focus();b.vc.canvas.blur();return b.Sw=!1}function l(b){var m=q(b);m=m.getElementsByTagName(A.cr)[0];b=c(m);var f=D.Yx(),u;if(f)(u=f[2])&&u.reset(),u=f[1],u.element=m,u.EF(u);else{f=document.createElement("canvas");f.width=y.Uc;f.height=y.mn+80;f.style.display="block";f.contentEditable="false";var z=document.createElement("a");z.setAttribute("href",
"#");z.innerHTML="&nbsp;X&nbsp;";z.style.textDecoration="none";z.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";z.style.color="#FFFFFF";z.style.backgroundColor="#C75050";z.style.cssFloat="right";z.style.height="28px";z.style.fontSize="18px";var B=document.createElement("a");B.innerHTML="&nbsp;X&nbsp;";B.style.textDecoration="none";B.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";B.style.visibility="hidden";B.style.cssFloat="left";B.style.height="28px";B.style.fontSize=
"18px";var C=document.createElement("div");C.style.textAlign="center";C.style.color="rgb(83,100,130)";C.style.fontFamily="Arial, Verdana, Helvetica, sans-serif";C.style.fontSize="18px";C.style.height="28px";var E=document.createTextNode(y.ss);C.style.cursor="default";C.appendChild(E);registerEvent(z,"click",a,!1);registerEvent(z,"touchend",a,!1);var G=document.createElement("div");G.style.display="none";G.style.position="fixed";G.style.border="1px solid rgb(128,128,128)";G.style.zIndex="101";G.style.left=
"2048px";G.style.top="0px";G.style.textAlign="right";G.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";G.style.margin="1px";var F=document.createElement("div");F.className=A.Kv;F.style.backgroundColor="#FFFFFF";F.style.height="28px";F.style.lineHeight="28px";F.style.margin="0px";F.style.border="0px";F.appendChild(B);F.appendChild(z);F.appendChild(C);G.appendChild(F);G.appendChild(f);document.body.appendChild(G);g(b,f,y.Uc,!0,m);D.pE=D.Zd.length-1;f=D.Yx();u=f[1];u.ly=
E;u.Gz=z;u.kB=B;u.Zz=C;u.sB=F;u.ns=G}m=f[0].parentNode;""!==m.style.display&&(m.style.display="");u.J=y.Uc;u.I=y.mn+80;u.resize();u.j.notification.clear(!0,!0);u.j.notification.clear(!1,!0);u.Sw=!0;u.Di(b,!0);u.Sw||e(u)}function k(b,m,f){b=b.getElementsByTagName("a")[0];var u=document.createElement("a"),z=null;u.setAttribute("href","#");u.innerHTML="Show Pattern Error";registerEvent(u,"click",function(B){B.stopPropagation&&B.stopPropagation();B.preventDefault();alert(f)},!1);b?(z=document.createTextNode(" / "),
b.parentNode.appendChild(z),b.parentNode.appendChild(u)):m.parentNode.appendChild(u)}function p(b,m){var f=m[0],u=m[1];m=m[2];if(b&&b.$e&&!b.Zg){if(null!==u){u=u.getElementsByTagName("a")[0];var z=document.createElement("a");z.setAttribute("href","#");z.innerHTML="Show in Viewer";registerEvent(z,"click",v,!1);u?(m=document.createTextNode(" / "),u.parentNode.appendChild(m),u.parentNode.appendChild(z)):m.parentNode.appendChild(z)}A.cb&&(D.bf[D.bf.length]=new w(b.name,f,b.H+b.cq,b.width,b.height))}}
function r(b,m){var f=m[1];m=m[2];b&&null!==f&&k(f,m,b.H+" - "+b.Xw)}function t(b,m,f,u,z){m=f.create("",b,m,p,r,[b,u,z],!1,null);f.Cw||p(m,[b,u,z])}function v(b){l(this);b.stopPropagation&&b.stopPropagation();b.preventDefault();return!1}function x(){var b=document.getElementsByTagName("div"),m,f;var u=new Allocator;var z=new PatternManager;var B=document.getElementsByTagName("meta");for(m=0;m<B.length;m+=1){var C=B[m];if(C.name===A.tagName&&(A.lB=!1,A.dt=!1,C=C.content,(f=C.match(/\S+/g))&&2<=f.length&&
7>=f.length))for(A.Jv=f[0],A.cr=f[1],C=2;C<f.length;C+=1)switch(f[C]){case A.iN:A.lB=!0;break;case A.CN:A.dt=!0;break;case A.UN:A.cb=!0;break;case A.AM:A.fullScreen=!0;break;default:if("/"===f[C][0])A.OD=f[C];else if("."===f[C][0]||"?"===f[C][0])A.kJ=f[C];else{var E=f[C];!isNaN(parseFloat(E))&&isFinite(Number(E))&&(A.bx=parseFloat(E)|0)}}}AliasManager.Ye();for(B=0;B<b.length;B+=1)(C=b[B],C.className===A.Jv)?(m=C.getElementsByTagName(A.cr)[0],C=C.getElementsByTagName("canvas")[0],(f=m.getElementsByTagName(A.cr)[0])&&
(m=f),typedArrays&&m&&(f=c(m),A.cb&&t(f,u,z,null,null),C&&C.getContext?(-1<A.bx&&m.clientHeight>A.bx&&(m.style.height=A.bx+"px"),C.contentEditable="false",g(f,C,m.offsetWidth,!1,m)):A.lB&&C&&(C.style.display="none"))):typedArrays&&C.className===A.Kv&&C.parentNode.className!==A.Jv&&(m=C.getElementsByTagName(A.cr)[0])&&(f=c(m),t(f,u,z,C,m));b=document.getElementsByTagName("a");for(B=0;B<b.length;B+=1)u=b[B],""!==u.accessKey&&-1!==y.RK.indexOf(u.accessKey)&&(u.accessKey="")}var A={tagName:"LifeViewer",
AM:"fullscreen",iN:"hide",UN:"multi",CN:"limit",Jv:"rle",cr:"code",bx:37,lB:!0,fullScreen:!1,dt:!1,cb:!1,Kv:"codebox",OD:"",kJ:"",bf:[]},y={RK:"0123456789rtyopasghjklxcbn",dH:"workaround",XB:18,WB:10,gI:1048576,Fl:0,Uv:1,WA:2,mr:64,jt:1,Hw:4096,ZB:1,Gw:4096,Nw:1,Fw:100,bQ:[0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,3],ju:[1,10,11,17,18,2,3,4,5,7,12,13,14,15,16,0,6,8,9,19,20],ar:0,BI:1,CI:2,zI:3,EI:4,DI:5,FI:6,GI:7,AI:8,sI:9,eO:"Top Left;Top;Top Right;Right;Bottom Right;Bottom;Bottom Left;Left;Middle".split(";"),
Pv:15,ZN:5,Jk:1E8,pu:0,WE:1,XE:2,YE:3,aF:4,bF:5,$E:6,ZE:7,aD:0,Yw:1,yC:2,UC:3,AC:4,ZC:5,$w:6,$q:7,KC:8,VC:9,OC:10,CC:11,MC:12,EC:13,IC:14,QC:15,Zw:3,oF:[1,3,7,6],SP:[0,1],TP:[0,1],kN:[0,1,0,1,0,1,0],lN:[0,1,2,3,4,5,6],ZP:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1],YP:[0,1,2,3,4,5,6,3,4,1,0,1,0,1,2,1,2,1,2,1,2,1,2,1,2,1],se:Math.sqrt(3),zL:65536,BL:500,CL:17,CH:13750737,DH:15066597,Yv:7368816,Zv:5263440,wJ:.016,OP:16,rI:16384,$G:.7,Vw:16384,uP:"Script errors",Bh:-8,Ah:8,mI:2,hI:4,bH:4,QJ:16.7,
jI:9,dI:14,PL:13,Fs:null,iI:1,bI:16,YG:3,Bg:0,Tk:1,DG:2,Uk:3,tA:4,xv:5,vA:6,SG:7,TG:8,EG:9,KG:10,JG:11,IG:12,LG:13,MG:14,HG:15,wA:16,uA:17,GG:18,Av:19,yv:20,Bv:21,Dv:22,Cv:23,zv:24,sA:25,xA:26,FG:27,PG:28,OG:29,CG:30,QG:31,NG:32,$N:0,aO:1,jN:2,VH:3,ZH:4,XH:5,NH:6,fb:[0,6,2,5,3,4,1],Ei:"dead alive history mark1 markOff mark2 kill".split(" "),OQ:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),hO:0,gO:160,II:10,FQ:!1,RA:1800,ss:"LifeViewer",vy:813,TJ:"Chris Rowett",Lw:1,Dw:10,gC:0,Sq:1,af:2,$k:3,
nn:0,pn:1,on:2,Cy:1.25,pN:.99,Kw:0,cI:10,Do:10,aI:32,bb:.03125,Ob:64,kt:-5,UB:5,it:-32,gt:-1,Qq:-2048,Nq:-1,Rq:1/2048,Oq:2048,kj:1,wi:1,Kg:64,VG:.1,Wm:.05,oH:"Courier",vF:"Arial",Mh:"18px Arial",Lh:"14px Arial",Wx:"9px Arial",Tu:"rgb(240,255,255)",YK:"rgb(0,0,0)",NI:"rgb(240,255,255)",OI:"rgb(0,0,0)",$F:2,Mw:1,Ew:64,XK:.2,OH:"rgb(240,255,255)",AN:"rgb(0,0,0)",zN:18,kI:4,eI:128,yN:"Arial",Wj:"rgb(32,255,255)",Cs:"#000000",Oj:"rgb(255,96,96)",LN:64,KN:64,lI:480,Uc:600,IN:4096,eN:80,ek:240,ht:4096,mn:480,
RI:560,wu:172,Dy:292,yJ:0,VP:1,zJ:2,JN:0,EN:16,Th:0,zB:1,cE:2,qw:3,IE:4,eA:5,Dz:6,YB:7,Hz:8},D={B:new Allocator,Zd:[],pE:-1,mx:null,bf:[],Yx:function(){var b=null;-1!==this.pE&&(b=this.Zd[this.pE]);return b},IM:function(b){var m=null;0<=b&&b<this.Zd.length&&(m=this.Zd[b][1]);return m},LQ:function(){return this.Zd.length},BQ:function(){var b=0,m;for(m=0;m<this.Zd.length;m+=1){var f=this.Zd[m][1];f.ib&&(b+=1)}return b},YI:function(){var b,m=0;for(b=0;b<this.Zd.length;b+=1){var f=this.Zd[b][1];f.Zb.current=
f.Md(y.gC,!0,f);f.j.og(!0);m+=1}return m},BJ:function(){var b,m=0;for(b=0;b<this.Zd.length;b+=1){var f=this.Zd[b][1];f.ib&&!f.Ns&&(f.Zb.current=f.Md(y.af,!0,f),m+=1)}return m},xE:function(b){var m,f=0;for(m=0;m<this.Zd.length;m+=1){var u=this.Zd[m][1];u!==b&&u.ib&&!u.Ns&&(u.Zb.current=u.Md(y.af,!0,u),f+=1)}return f}};h.prototype.ov=function(){var b,m=this.kg,f=this.fh,u=[];for(b=0;10>b;b+=1){var z=b===f?"current ":"activate ";z+="clipboard";null!==m[b]?(z+=" ("+m[b].width+" x "+m[b].height+", "+m[b].count+
" cell",1!==m[b].count&&(z+="s"),z+=")"):z+=" (empty)";u[b]=z+" [Alt "+b+"]"}this.js.F=u};h.prototype.RH=function(b){window.confirm("Open last saved pattern?")&&d(b.element)};h.prototype.Fc=function(){var b=1<<y.Pv,m=this.qd>>y.Pv;m===this.Bo.length&&(this.Bo[m]=this.g.B.T(Int16,b,"View.currentEdit"+m));return this.Bo[m]};h.prototype.ed=function(b,m,f){var u=this.g.getState(b,m,!1),z=this.qd,B=y.Pv;var C=z>>B;var E=1<<B,G=E-1,F=this.Bo,I=(this.g.width>>1)-(this.Ra>>1),L=(this.g.height>>1)-(this.Wa>>
1);var M=this.g.i;var H=2<M&&!(this.g.za||this.g.L||this.g.ca||this.g.O),K=!1;0<u&&H&&(u=M-u);-1===M&&(M=this.g.ta?7:2);0>f?f=0:f>=M&&(f=M-1);if(f!==u){if(!this.oe){C>=F.length&&this.Fc();M=F[C];z&=G;H=f<<8|u;if(0<z)if(4<=z){var J=M[z-1];16384<=J?M[z-3]===H&&M[z-2]===m-L&&M[z-4]===b-I-(J-16384)-2&&(M[z-1]+=1,K=!0):M[z-2]===H&&M[z-1]===m-L&&M[z-3]===b-I-1&&(M[z]=16384,z+=1,this.qd+=1,z===E&&this.Fc(),K=!0)}else C=this.qd,J=F[C-1>>B][C-1&G],16384<=J?M[C-3>>B][C-3&G]===H&&M[C-2>>B][C-2&G]===m-L&&M[C-
4>>B][C-4&G]===b-I-(J-16384)-2&&(M[C-1>>B][C-1&G]+=1,K=!0):F[C-2>>B][C-2&G]===H&&F[C-1>>B][C-1&G]===m-L&&F[C-3>>B][C-3&G]===b-I-1&&(M[z]=16384,z+=1,this.qd+=1,z===E&&(M=this.Fc()),K=!0);K||(M[z]=b-I,z+=1,this.qd+=1,z===E&&(M=this.Fc(),z=0),M[z]=f<<8|u,z+=1,this.qd+=1,z===E&&(M=this.Fc(),z=0),M[z]=m-L,this.qd+=1,z+1===E&&this.Fc())}this.Dg=-1;return this.g.qj(b,m,f,!0)}return 0};h.prototype.cD=function(b,m){var f=0,u=(this.g.width>>1)-(this.Ra>>1),z=(this.g.height>>1)-(this.Wa>>1),B=0;if(b)if(m)for(f=
b.length;0<f;){var C=b[f-1];16384<=C&&--f;f-=3;m=b[f]+u;var E=b[f+1]&255;var G=b[f+2]+z;B|=this.g.qj(m,G,E,!0);if(16384<=C)for(C-=16384;0<=C;)m+=1,B|=this.g.qj(m,G,E,!0),--C}else for(;f<b.length;)if(m=b[f]+u,E=(b[f+1]&65280)>>8,G=b[f+2]+z,B|=this.g.qj(m,G,E,!0),f+=3,C=b[f],16384<=C)for(f+=1,C-=16384;0<=C;)m+=1,B|=this.g.qj(m,G,E,!0),--C;this.g.ta&&B&&this.g.Tf()};h.prototype.Sx=function(b){for(var m=this.Gc-1,f=this.Vb,u=!1;0<=m&&!u;)this.Fg[m].ri<=b?("advance outside"===this.Fg[m].action&&--m,u=
!0):--m;u&&(this.Gc=m+1,b=this.Gc>=this.fp?this.Fg[this.Gc-1]:this.Fg[this.Gc],b.selection?(f.o=b.selection.o,f.s=b.selection.s,f.u=b.selection.u,f.v=b.selection.v,this.yb=!0):this.yb=!1,this.fi=!1,this.Dj())};h.prototype.Dj=function(){var b=this.Gc,m=this.fp,f=this.Fg;if(1<b){var u="undo ";var z=f[b-1];if(null===z.Ho){var B=z.ri;1<b&&(B=f[b-2].ri);this.g.counter===B?u+=z.action:(u=1<this.g.counter-B?u+"play":u+"step",u+=" from "+B)}else u=""===z.action?u+"edit":u+z.action;"undo "===u&&(u="undo");
this.yk.F=u+" [Ctrl Z]"}b<m&&(u="redo ",z=f[b],null===z.Ho?(B=z.ri,B===this.g.counter?u+=z.action:(u=1<B-this.g.counter?u+"play":u+"step",u+=" to "+B)):u=""===z.action?u+"edit":u+z.action,"redo "===u&&(u="redo"),this.pp.F=u+" [Ctrl Y]")};h.prototype.Lu=function(b){var m=this.yb?this.Vb:null;return null===b&&null===m?!0:null===b&&null!==m||null!==b&&null===m?!1:b.o===m.o&&b.s===m.s&&b.u===m.u&&b.v===m.v?!0:!1};h.prototype.lo=function(b,m,f,u){var z=!1;if(0<this.Gc){var B=this.Fg[this.Gc-1];B.ri===
b&&null===m&&""===f&&this.Lu(B.selection)&&(z=!0)}z||(this.Fg[this.Gc]={ri:b,Ho:m,action:f,selection:u},this.Gc+=1)};h.prototype.rb=function(b){var m=this.g.counter,f=null,u=null,z=this.Vb,B=null,C=y.Pv,E=1<<C,G=E-1;C=this.qd>>C;if(!this.oe){this.ib&&(0<this.Gc&&(B=this.Fg[this.Gc-1]),B&&B.selection&&(u=new BoundingBox(B.selection.o,B.selection.s,B.selection.u,B.selection.v)),this.lo(m,f,"",u),u=null);this.yb&&(u=new BoundingBox(z.o,z.s,z.u,z.v));if(0<this.qd){f=this.g.B.T(Int16,this.qd,"View.editCells"+
this.Gc);for(B=z=0;z<C;)f.set(this.Bo[z].slice(),B),z+=1,B+=E;this.qd&G&&f.set(this.Bo[z].slice(0,this.qd&G),B);this.qd=0}this.lo(m,f,b,u);this.fp=this.Gc;this.Dj()}};h.prototype.pF=function(b){var m=b.g.counter,f=b.Gc,u=b.Vb,z=1,B=!1;if(!b.oe){this.ib&&(b.Zb.current=b.Md(y.af,!0,b),f=b.Gc);if(0<f)for(;0<z;){var C=b.Fg[f-1];var E=C.ri;var G=C.selection;B||"advance outside"!==C.action||(B=!0,z=3);null===C.Ho&&1<f&&(E=b.Fg[f-2].ri);1<f&&(G=b.Fg[f-2].selection);E<m?(0===E?b.reset(b):b.Tt(E),m=b.g.counter):
b.cD(C.Ho,!0);G?(u.o=G.o,u.s=G.s,u.u=G.u,u.v=G.v,b.yb=!0):b.yb=!1;b.fi=!1;"reverse playback"===C.action&&(b.g.Ad=!0);--f;b.Gc=f;--z}else 0<m&&b.reset(b);this.Dj();this.g.zh();this.g.ta&&this.g.Tf()}};h.prototype.MD=function(b){var m=b.g.counter,f=b.Vb,u=1,z=!1;if(!b.oe){for(;0<u&&b.Gc<b.fp;){var B=b.Fg[b.Gc];z||"advance outside"!==B.action||(z=!0,u=3);B.ri===m&&null===B.Ho&&""===B.action&&(b.Gc+=1);B.ri>m?(b.nP(B.ri),m=b.g.counter):b.cD(B.Ho,!1);B.selection?(f.o=B.selection.o,f.s=B.selection.s,f.u=
B.selection.u,f.v=B.selection.v,b.yb=!0):b.yb=!1;b.fi=!1;"reverse playback"===B.action&&(b.g.Ad=!0);b.Gc+=1;--u}this.Dj();this.g.zh();this.g.ta&&this.g.Tf()}};h.prototype.$A=function(){var b="";if(this.g.ia)b="Margolus";else if(-1!==this.g.ve)b="1D";else if(this.g.ax){b="Hexagonal";if(this.g.hg===this.A.Oo||this.g.oa&&this.g.pa.type===this.A.Gi)b="Tripod";this.g.oa&&this.g.pa.type===this.A.ii&&(b="Asterisk");1<this.g.pa.uh&&(b+=" range "+this.g.pa.uh)}else if(this.g.oa){switch(this.g.pa.type){case this.A.xh:b=
"Corner/Edge";break;case this.A.ne:b="Moore";break;case this.A.Vf:b="von Neumann";break;case this.A.Rk:b="Circular";break;case this.A.Mj:b="Cross";break;case this.A.qk:b="Saltire";break;case this.A.sk:b="Star";break;case this.A.Xk:b="L2";break;case this.A.dj:b="Hexagonal";break;case this.A.Lj:b="Checkerboard";break;case this.A.Ej:b="Aligned Checkerboard";break;case this.A.Vj:b="Hash";break;case this.A.Sm:b="Custom";break;case this.A.Gi:b="Tripod";break;case this.A.ii:b="Asterisk";break;case this.A.yj:b=
"Triangular";break;case this.A.aj:b="Gaussian";break;case this.A.Rp:b="Weighted"}this.g.pa.type===this.A.xh?b+=" range "+this.g.pa.cg+"/"+this.g.pa.eg:1<this.g.pa.uh&&(b+=" range "+this.g.pa.uh);this.g.pa.Rr&&(b+=" (non-deterministic)")}else if(this.g.M)switch(b="Triangular",this.g.Ld){case this.A.Pp:b+=" Edges";break;case this.A.Qp:b+=" Vertices";break;case this.A.Nr:b+=" Inner";break;case this.A.Or:b+=" Outer";break;case this.A.Mr:b+=" Biohazard";break;case this.A.Pr:b+=" Radiation"}else if(this.g.ca)if(null===
this.g.re)b=4===this.g.Ug?"von Neumann":"Moore";else switch(this.g.pk){case PatternConstants.xr:b="von Neumann";break;case PatternConstants.ur:b="Moore";break;case PatternConstants.hm:b="Hexagonal";break;case PatternConstants.wr:b="1D";break;default:b="unknown"}else b=this.g.Ic||this.g.L?"von Neumann":this.g.za?"none":"Moore";return b};h.prototype.no=function(b,m,f,u){var z=[];u=this.Ca[u];var B=u[0],C=u[1],E=u[2],G=u[3],F=new Pattern("rleToCellList",this.A),I=Keywords.oj.length;u=2>=this.g.i?2:this.g.i;
var L=2<u&&!(this.g.za||this.g.L||this.g.ca||this.g.O);var M=this.nr/100;var H=!1;if(b.substr(0,I)===Keywords.oj){b=b.substr(I);m=parseInt(b.substr(0,b.indexOf(",")),10);f=parseInt(b.substr(b.indexOf(",")+1),10);for(C=b=0;C<f;C+=1)for(B=0;B<m;B+=1)2===u?this.zb.random()<=M&&(z[b]=B,z[b+1]=C,z[b+2]=1,b+=3):this.zb.random()<=M&&(z[b]=B,z[b+1]=C,I=(this.zb.random()*(u-1)|0)+1,L&&(I=u-I),z[b+2]=I,b+=3);H=!0}else if(b+=" ",-1!==this.A.mq(F,b,!1,this.g.B)&&-1!==this.A.mq(F,b,!0,this.g.B)){for(M=0;M<F.height;M+=
1)for(H=F.Dh[M],b=0;b<F.width;b+=1)I=H[b],L&&0<I&&(I=u-I),z[z.length]=m+b*B+M*C,z[z.length]=f+b*E+M*G,z[z.length]=I;H=!0}H||(z[0]="error");return z};h.prototype.uw=function(b){var m=0,f=b.indexOf("["),u=b.indexOf("]");if(-1!==f&&-1!==u&&f<u&&u===b.length-1){for(f+=1;f<u&&0<=m;){var z=b.charCodeAt(f)-48;0>z||9<z?m=-1:(m=10*m+z,f+=1)}0<m&&(this.sw=!0)}return m};h.prototype.oL=function(b){var m=0>this.xn?-this.xn:this.xn,f=0>this.Bn?-this.Bn:this.Bn;m=2*(m<f?f:m);b<m&&(b=m);return b};h.prototype.nL=
function(b){var m=0>this.wn?-this.wn:this.wn,f=0>this.Cn?-this.Cn:this.Cn;m=2*(m<f?f:m);b<m&&(b=m);return b};h.prototype.JK=function(b,m){var f,u=!1;for(f=0;!u&&f<this.gl.length;)b===this.gl[f].name?u=!0:f+=1;if(u)for(b=this.gl[f].SL,f=0;f<b.length;f+=1)m[m.length]=b[f];return u};h.prototype.FK=function(b,m,f){var u,z=!1;if(ScriptParser.To(m))b[b.length]=[Keywords.sr+" "+m,"name is reserved word"];else{for(u=0;!z&&u<this.gl.length;)m===this.gl[u].name?z=!0:u+=1;if(z)b[b.length]=[Keywords.sr+" "+m,
"name already defined"];else{z=!1;for(u=0;!z&&u<f.length;)1>f[u]?z=!0:u+=1;z?b[b.length]=[Keywords.sr+" "+m+" "+f[u],"invalid delta"]:(b=f.slice(),this.gl[this.gl.length]={name:m,SL:b})}}};h.prototype.EK=function(b,m,f,u,z,B){var C,E=!1;if(ScriptParser.To(m))b[b.length]=[Keywords.sp+" "+m,"name is reserved word"];else if(-1!==m.indexOf("["))b[b.length]=[Keywords.sp+" "+m,"name can not contain ["];else{for(C=0;!E&&C<this.mk.length;)m===this.mk[C].name?E=!0:C+=1;E?b[b.length]=[Keywords.sp+" "+m,"name already defined"]:
(f=this.no(f,u,z,B),"error"!==f[0]?this.mk[this.mk.length]={name:m,cells:f}:b[b.length]=[Keywords.sp+" "+m,"invalid RLE"])}};h.prototype.IK=function(b,m,f,u,z,B,C,E,G,F,I){var L=0,M=!1,H=[],K=this.Ca[I],J=K[0],S=K[1],pa=K[2],oa=K[3];K=y.Jk;var O=-y.Jk,ba=y.Jk,R=-y.Jk,Z=E.indexOf("["),fa=E,ka=0,aa=[],ha=Keywords.oj.length,Y=2>=this.g.i?2:this.g.i,ra=2<Y&&!(this.g.za||this.g.L||this.g.ca||this.g.O),la=this.nr/100;-1!==Z&&(fa=E.substr(0,Z),ka=this.uw(E));if(fa.substr(0,ha)===Keywords.oj){fa=fa.substr(ha);
M=parseInt(fa.substr(0,fa.indexOf(",")),10);fa=parseInt(fa.substr(fa.indexOf(",")+1),10);for(ha=L=0;ha<fa;ha+=1)for(Z=0;Z<M;Z+=1)if(2===Y)this.zb.random()<=la&&(H[L]=Z,H[L+1]=ha,H[L+2]=1,L+=3);else if(this.zb.random()<=la){H[L]=Z;H[L+1]=ha;var U=(this.zb.random()*(Y-1)|0)+1;ra&&(U=Y-U);H[L+2]=U;L+=3}M=!0}else for(;L<this.mk.length&&!M;)this.mk[L].name===fa?(M=!0,H=this.mk[L].cells.slice()):L+=1;if(M)for(L=0;L<H.length;)E=H[L],I=H[L+1],H[L]=G+E*J+I*S,H[L+1]=F+E*pa+I*oa,L+=3;else H=this.no(E,G,F,I),
"error"!==H[0]&&(M=!0);-1===ka&&(M=!1);if(M&&0<H.length){for(L=0;L<H.length;)G=H[L],F=H[L+1],G<K&&(K=G),G>O&&(O=G),F<ba&&(ba=F),F>R&&(R=F),L+=3;G<this.xn&&(this.xn=G);G>this.Bn&&(this.Bn=G);F<this.wn&&(this.wn=F);F>this.Cn&&(this.Cn=F);J=Array.matrix(Uint8,R-ba+1,O-K+1,0,this.g.B,"View.rle"+this.mh.length);for(L=0;L<H.length;)G=H[L],F=H[L+1],J[F-ba][G-K]=H[L+2],L+=3;aa[0]=b;for(L=0;L<f.length;L+=1)aa[aa.length]=aa[aa.length-1]+f[L];this.mh[this.mh.length]={bj:aa,end:m,every:u,mode:z,cells:H,map:J,
o:K,s:ba,width:O-K+1,height:R-ba+1,oM:ka,deltaX:B,deltaY:C};0<u&&(this.$j=!0);aa[aa.length-1]>this.Zk&&(this.Zk=aa[aa.length-1])}return M};h.prototype.vO=function(){var b,m,f=this.g.width,u,z=this.g.N;for(b=0;b<this.mh.length;b+=1){var B=this.mh[b];var C=B.oM;if(0<C){var E=B.cells;var G=(f>>1)-(B.width>>1);var F=(f>>1)-(B.height>>1);var I=0;z.o=G;z.u=G+B.width-1;z.s=F;z.v=F+B.height-1;for(this.g.counter=0;I<E.length;)this.g.qj(G+E[I]-B.o,F+E[I+1]-B.s,E[I+2],!0),I+=3;for(;0<C;)this.g.He(!1,!0,!0,this.Ub,
this),this.g.he(),--C;E=[];I=0;var L=u=y.Jk;for(m=z.s;m<=z.v;m+=1)for(C=z.o;C<=z.u;C+=1){var M=this.g.getState(C,m,!1);0!==M&&(E[I]=C-G+B.o,E[I+1]=m-F+B.s,E[I+2]=M,E[I]<u&&(u=E[I]),E[I+1]<L&&(L=E[I+1]),I+=3)}B.cells=E.slice();B.width=z.u-z.o+1;B.height=z.v-z.s+1;B.s=L;B.o=u;B.map=Array.matrix(Uint8,B.height,B.width,0,this.g.B,"View.rle"+b);for(I=0;I<E.length;)C=E[I],m=E[I+1],B.map[m-B.s][C-B.o]=E[I+2],I+=3;this.g.fs(!1)}}this.sw&&this.g.fs(!1)};h.prototype.mo=function(b){var m=!1,f=this.g.counter;
var u=!1;if(this.g.ia||this.g.L)f=this.g.lf;0!==b.every&&(this.g.ia||this.g.L)&&null!==this.g.cd&&f<this.g.ck&&(m=!1,u=!0);if(!u)if(0!==b.every&&f>=b.bj[0]&&0===(f-b.bj[0])%b.every)-1!==b.end&&f>b.end||(m=!0);else for(u=0;u<b.bj.length&&!m;)f===b.bj[u]?m=!0:u+=1;return m};h.prototype.SK=function(){for(var b=!1,m=0,f=this.mh.length;m<f&&!b;)b=this.mo(this.mh[m]),m+=1;return b};h.prototype.xi=function(){var b,m=this.g.counter,f=this.g.width,u=this.g.height;var z=0;var B=this.g.width,C=this.g.height,
E=this.g.i-1;-2===E&&(E=this.g.ta?6:1);for(b=0;b<this.mh.length;b+=1){var G=this.mh[b];if(this.mo(G)){var F=G.mode;var I=(B>>1)-(this.Ra>>1);var L=(C>>1)-(this.Wa>>1);var M=G.map;if(0!==G.every&&(0!==G.deltaX||0!==G.deltaY)){var H=(m-G.bj[0])/G.every;I+=G.deltaX*H;L+=G.deltaY*H}I+=G.o;L+=G.s;for(G=0;G<M.length;G+=1){var K=M[G];if(2<E&&!(this.g.ta||this.g.za||this.g.L||this.g.ca||this.g.O))for(H=0;H<K.length;H+=1){var J=K[H];var S=this.g.getState(I+H,L+G,!1);switch(F){case y.aD:z=0;break;case y.Yw:z=
J&S;break;case y.yC:z=J&E-S;break;case y.UC:z=J;break;case y.AC:z=E-J&S;break;case y.ZC:z=S;break;case y.$w:z=J^S;break;case y.$q:z=J|S;break;case y.KC:z=E-(J|S);break;case y.VC:z=E-(J^S);break;case y.OC:z=E-S;break;case y.CC:z=J|E-S;break;case y.MC:z=E-J;break;case y.EC:z=E-J|S;break;case y.IC:z=E-(J&S);break;case y.QC:z=1}0>z?z=0:z>E&&(z=E-1);for(this.g.qj(I+H,L+G,z,!0);f!==this.g.width||u!==this.g.height;)f!==this.g.width&&(f<<=1,I+=f>>2,this.ad+=f>>2,this.dd+=f>>2,this.ec+=f>>2),u!==this.g.height&&
(u<<=1,L+=u>>2,this.nf+=u>>2,this.Cf+=u>>2,this.fc+=u>>2)}else if(this.g.L||this.g.ca)for(H=0;H<K.length;H+=1){J=K[H];S=this.g.getState(I+H,L+G,!1);switch(F){case y.aD:z=0;break;case y.Yw:z=J&S;break;case y.yC:z=J&E-S;break;case y.UC:z=J;break;case y.AC:z=E-J&S;break;case y.ZC:z=S;break;case y.$w:z=J^S;break;case y.$q:z=J|S;break;case y.KC:z=E-(J|S);break;case y.VC:z=E-(J^S);break;case y.OC:z=E-S;break;case y.CC:z=J|E-S;break;case y.MC:z=E-J;break;case y.EC:z=E-J|S;break;case y.IC:z=E-(J&S);break;
case y.QC:z=1}0>z?z=0:z>=E&&(z=E-1);for(this.g.qj(I+H,L+G,z,!0);f!==this.g.width||u!==this.g.height;)f!==this.g.width&&(f<<=1,I+=f>>2,this.ad+=f>>2,this.dd+=f>>2,this.ec+=f>>2),u!==this.g.height&&(u<<=1,L+=u>>2,this.nf+=u>>2,this.Cf+=u>>2,this.fc+=u>>2)}else if(this.g.ta||this.g.O)for(H=0;H<K.length;H+=1)for(J=K[H],F===y.Zw?z=J:(z=J&1,S=this.g.getState(I+H,L+G,!1),J=S&1,z=0===(F&8>>(z+z|J))?0:1),this.g.qj(I+H,L+G,z,!0);f!==this.g.width||u!==this.g.height;)f!==this.g.width&&(f<<=1,I+=f>>2,this.ad+=
f>>2,this.dd+=f>>2,this.ec+=f>>2),u!==this.g.height&&(u<<=1,L+=u>>2,this.nf+=u>>2,this.Cf+=u>>2,this.fc+=u>>2);else for(H=0;H<K.length;H+=1)if(J=K[H],z=0===J?0:1,S=this.g.getState(I+H,L+G,!1),J=0===S?0:1,z=0===(F&8>>(z+z|J))?0:1,z!==S)for(this.g.qj(I+H,L+G,z,!0);f!==this.g.width||u!==this.g.height;)f!==this.g.width&&(f<<=1,I+=f>>2,this.ad+=f>>2,this.dd+=f>>2,this.ec+=f>>2),u!==this.g.height&&(u<<=1,L+=u>>2,this.nf+=u>>2,this.Cf+=u>>2,this.fc+=u>>2)}}}if(this.$j||m<=this.Zk)this.g.X=1;this.yI()};h.prototype.yI=
function(){var b,m=this.g.counter;for(b=0;b<this.Gc;b+=1)this.Fg[b].ri===m&&this.cD(this.Fg[b].Ho,!1);this.g.zh()};h.prototype.Em=function(b){this.Qo=this.gn=this.Ss=this.Us=this.Pl=this.Ts=this.Rs=this.Vs=this.Qs=this.Ro=this.Xs=this.Ws=b};h.prototype.iL=function(){this.Em(!1)};h.prototype.CP=function(){this.Em(!0)};h.prototype.mG=function(){this.dw=[];this.ew=[]};h.prototype.eL=function(b){var m=document.createElement("a");b.Ds(m);m.href=b.Tc.toDataURL("image/png");m.download="screenshot.png";m.click();
m.remove();b.j.notification.notify("Image Saved",15,300,15,!0)};h.prototype.eH=function(b){if("Oscillator"!==b.lb)b.j.notification.notify("No Cell Map",15,300,15,!0);else{var m=document.createElement("a");b.Ds(m);m.href=b.g.Kj.toDataURL("image/png");m.download="cellmap.png";m.click();m.remove();b.j.notification.notify("Cell Map Saved",15,300,15,!0)}};h.prototype.xL=function(b){var m=this.g.kb,f=this.g.U,u=this.g.Ga,z=this.g.mc,B=b.width,C=b.height,E=this.ec,G=this.fc,F=null;var I=Math.round(-this.g.Ea/
2);var L=Math.floor((this.g.Ea-1)/2);var M=Math.round(-this.g.Aa/2);var H=Math.floor((this.g.Aa-1)/2);var K=E-(this.g.width>>1),J=K+B-1,S=G-(this.g.height>>1),pa=S+C-1,oa=this.g.i,O=2===oa&&this.g.oa;if(-1!==this.g.sa){if(0!==this.g.Ea){if(K<I||J>L)this.zy=!0}else I=-this.g.width>>1,L=(this.g.width>>1)-1;if(0!==this.g.Aa){if(pa>H||S<M)this.zy=!0}else M=-this.g.height>>1,H=(this.g.height>>1)-1}b.M&&(0!==(E&1)&&(E+=1),0!==(G&1)&&(G+=1),K=E-(this.g.width>>1),J=K+B-1,S=G-(this.g.height>>1),pa=S+C-1);
b.ia&&(0===(E&1)&&--E,0===(G&1)&&--G,K=E-(this.g.width>>1),J=K+B-1,S=G-(this.g.height>>1),pa=S+C-1);-1!==this.g.sa&&(K=I,J=L,S=M,pa=H);K+=this.g.width>>1;J+=this.g.width>>1;S+=this.g.height>>1;pa+=this.g.height>>1;for(L=0;L<C;L+=1){var ba=b.$e[L];if(L+G>=S&&L+G<=pa){var R=m[L+G];if(this.Hd||this.g.L||this.g.ca||this.g.O||!this.Ba)for(M=b.Dh[L],F=f[L+G],I=0;I<B;I+=1)I+E>=K&&I+E<=J&&(H=M[I],0<H&&(H+=this.K),F[I+E]=H);else if(2<oa)for(M=b.Dh[L],F=f[L+G],I=0;I<B;I+=1)I+E>=K&&I+E<=J&&(H=M[I],0<H&&!this.g.za&&
(H=oa+this.K-H),F[I+E]=H);O&&(F=f[L+G]);for(I=0;I<B;I+=1)I+E>=K&&I+E<=J&&0!==(ba[I>>4]&1<<(~I&15))&&(R[I+E>>4]|=1<<(~(I+E)&15),O&&(F[I+E]=LifeConstants.Qa))}}if(z)for(L=0;L<C;L+=1)if(L+G>=S&&L+G<=pa)for(M=b.Dh[L],m=z[L+G],I=0;I<B;I+=1)I+E>=K&&I+E<=J&&(H=M[I])&&(m[I+E]=y.fb[H]+128);(this.g.L||this.g.ca||this.g.O)&&u.Ha.set(f.Ha)};h.prototype.Tv=function(){var b=!1;-1!==this.g.sa&&0!==this.g.Ea&&0!==this.g.Aa&&(b=!0);return b};h.prototype.fD=function(){var b=!1;-1===this.g.sa||0!==this.g.Ea&&0!==this.g.Aa||
(b=!0);return b};h.prototype.wy=function(b,m,f){b=b[0];m&&(f.Id=b);return[b,100*b]};h.prototype.DF=function(b,m,f){m&&(f.nh=b[0]);return[f.nh,y.eO[f.nh+.5|0]]};h.prototype.LL=function(b){b.Ta||(b.nh=(b.nh+.5|0)+1,b.nh>=y.sI&&(b.nh=0),b.mp.current=b.DF([b.nh,b.nh],!0,b))};h.prototype.fK=function(b,m,f){m&&(f.lk=b[0],f.lk<y.Nw&&(f.lk=y.Nw),f.lk>y.Fw&&(f.lk=y.Fw));return[f.lk,f.lk]};h.prototype.Bm=function(b,m,f){m&&(f.sg=(f.g.i-f.kh)*b[0]|0);b[1]="";0<f.sg&&(b[1]="<");b[1]+=f.sg+"-"+(f.sg+f.kh-1);f.sg+
f.kh<f.g.i&&(b[1]+=">");return b};h.prototype.tl=function(b,m,f){var u=b[0],z=0;m?(f.Jg=!0,f.g.zoom=y.bb*Math.pow(y.Ob/y.bb,b[0])/f.g.Dc):(u=Math.log(f.g.zoom*f.g.Dc/y.bb)/Math.log(y.Ob/y.bb),0>u?u=0:1<u&&(u=1));this.Me&&!this.Uf?z=f.g.zoom*f.g.Dc:z=f.g.zoom;z<y.bb?z=y.bb:z>y.Ob&&(z=y.Ob);1>z&&(z=-1/z);return[u,z]};h.prototype.ZK=function(b){var m=b/6E4|0;b=b%6E4/1E3;var f="";0<m&&(f=m+":",10>b&&(f+="0"));return f+=b.toFixed(2)};h.prototype.hh=function(b,m,f){var u=this.g.zoom,z=this.g.Da,B=this.g.xa,
C=6,E=this.Of,G=this.Vb;var F=(this.g.width>>1)-(this.Ra>>1)+(this.Eb<<1);var I=(this.g.height>>1)-(this.Wa>>1)+(this.Fb<<1);f===y.Uv&&(E.o=G.o+F,E.u=G.u+F,E.o>E.u&&(F=E.u,E.u=E.o,E.o=F),E.s=G.s+I,E.v=G.v+I,E.s>E.v&&(F=E.v,E.v=E.s,E.s=F));this.Bb?(f=this.g.hh(f,E,this.J*this.gf,this.I*this.gf,y.bb,y.Ob,y.Cy,this.Ra,this.Wa,this.Ta&&this.Hd,this.fj,this.tj,this.Kc),f[0]/=this.gf):(G=y.eN,this.Wc&&(G=0),f=this.g.hh(f,E,this.J,this.I-G,y.bb,y.Ob,y.Cy,this.Ra,this.Wa,this.Ta&&this.Hd,this.fj,this.tj,
this.Kc));this.Kc&&!b?(24<this.g.zoom&&(C=3),1<this.xb&&(C=1),this.g.zoom=(this.g.zoom*(C-1)+f[0])/C,this.g.Da=(this.g.Da*(C-1)+f[1])/C,this.g.xa=(this.g.xa*(C-1)+f[2])/C,b=this.g.zoom>u?this.g.zoom/u-1:u/this.g.zoom-1,z=this.g.Da>z?this.g.Da-z:z-this.g.Da,B=this.g.xa>B?this.g.xa-B:B-this.g.xa,this.ro=b,z>this.ro&&(this.ro=z),B>this.ro&&(this.ro=B),.01>=this.ro&&(this.g.zoom=f[0],this.g.Da=f[1],this.g.xa=f[2])):(this.Tn=this.g.width/2-this.g.Da,this.Un=this.g.height/2-this.g.xa,this.zp=this.g.zoom,
this.Qn=this.g.angle,this.Sn=this.g.Sa,this.Cl=this.g.width/2-f[1],this.Jo=this.g.height/2-f[2],this.Ko=f[0],this.qs=this.Qn,this.rq=this.Sn,this.hu=WaypointConstants.hr,m?this.Oh=0:(this.Oh=WaypointConstants.hr,this.qF()));this.Jc&&(this.Jc.current=this.tl([this.g.zoom,this.g.zoom],!1,this));this.Pc&&(this.Pc.current=this.jo([this.g.angle,this.g.angle],!1,this));this.ue&&(this.ue.current=this.Sr([this.ks(this.g.Sa),this.g.Sa],!1,this))};h.prototype.pL=function(b,m,f,u){-1!==this.g.sa?this.mg?(this.ec=
Math.round(this.g.width/2)+this.Eb,this.fc=Math.round(this.g.height/2)+this.Fb):(this.ec=Math.round((this.g.width-f)/2),this.fc=Math.round((this.g.height-u)/2)):(this.ec=Math.round((this.g.width-b)/2)+this.Eb,this.fc=Math.round((this.g.height-m)/2)+this.Fb);!this.Ta&&this.g.ta||!this.A.Dl||-1===this.g.i||(this.Ta=this.Hd=!0)};h.prototype.Yt=function(b){var m=b;0>b&&(b=-b);var f=b+String();1E9<=b?f="1B+":1E8<=b?f=(b/1E6|0)+"M":1E7<=b?f=(Math.floor(Number(b/1E5))/10).toFixed(1)+"M":1E6<=b?f=(Math.floor(Number(b/
1E4))/100).toFixed(2)+"M":1E5<=b&&(f=(b/1E3|0)+"K");0>m&&(f="-"+f);return f};h.prototype.Ur=function(b,m){var f=this.j.fk,u=this.j.gk;m=b+m;var z=-this.g.angle,B=Math.sin(z/180*Math.PI);z=Math.cos(z/180*Math.PI);0>m?m=0:1<m&&(m=1);b=y.bb*Math.pow(y.Ob/y.bb,b);m=y.bb*Math.pow(y.Ob/y.bb,m);m<y.bb?m=y.bb:m>y.Ob&&(m=y.Ob);f-=this.J/2;u-=this.I/2;f=(f-m/b*f)/m;b=(u-m/b*u)/m;this.g.Da-=f*z+b*-B;this.g.xa-=f*B+b*z;m=Math.log(m/y.bb)/Math.log(y.Ob/y.bb);this.Jc.current=this.tl([m,m],!0,this)};h.prototype.es=
function(b,m){var f=y.Kg;b.g.oa&&(f=4*b.g.pa.Ji+1,-1!==b.g.sa&&(f+=2*b.g.pa.Ji),b.g.pa.type===this.A.Vf&&(f=-1!==b.g.sa?f+b.g.Aa/2:f+b.g.pa.Lg/2),f<y.Kg&&(f=y.Kg));b.g.gL(b,m,f)};h.prototype.lG=function(b){var m=!1,f=b.Vb,u=b.Of,z=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<1),B=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<1);u.o=f.o+z;u.s=f.s+B;u.u=f.u+z;u.v=f.v+B;b.es(b,u);z=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<1);B=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<1);0>f.o+z&&(f.o=-z,m=!0);f.o+z>=b.g.width&&(f.o=b.g.width-1-z,m=!0);0>f.u+
z&&(f.u=-z,m=!0);f.u+z>=b.g.width&&(f.u=b.g.width-1-z,m=!0);0>f.s+B&&(f.s=-B,m=!0);f.s+B>=b.g.height&&(f.s=b.g.height-1-B,m=!0);0>f.v+B&&(f.v=-B,m=!0);f.v+B>=b.g.height&&(f.v=b.g.height-1-B,m=!0);return m};h.prototype.nQ=function(b){b.Ng.current=b.g.counter/b.ef*100;b.Ng.l=!1;b.ke.Be=0};h.prototype.lQ=function(b){b.Ng.current=b.pl/b.Dp*100;b.Ng.l=!1;b.ke.Be=0};h.prototype.mQ=function(b,m){b.Ng.current=b.g.counter/m*100;b.Ng.l=!1;b.ke.Be=0};h.prototype.kQ=function(b){var m=!1,f=!1,u=0;b.bd||-1===b.nb||
(m=!0);!b.hf&&b.$c&&(f=!0);if(m||f){var z=!1;if(f&&m)u=b.elapsedTime/b.$.mM(b.nb);else if(f){if(m=b.$.BN().ld)u=b.elapsedTime/m,1<u&&(z=!0)}else 0<b.nb&&(u=b.g.counter/b.nb);1<u&&(u=1);b.Ng.current=100*u}else z=!0;(b.Ng.l=z)?b.ke.Be=b.m.Be:b.ke.Be=0};h.prototype.hM=function(){this.sm.mK(this.g.width/2-this.g.Te,this.g.height/2-this.g.Ue,this.g.qa,this.g.mb,this.g.J,this.g.I,this.g.Ed,this.g.cf[0])};h.prototype.VI=function(){var b=this.m.Pf-this.J/2,m=this.m.lh-this.I/2,f=this.fc-this.g.xa,u=this.ec-
this.g.Da-(this.g.S?this.g.xa/2:0),z=this.g.zoom;var B=this.g.zoom*(this.g.M?y.se:1);var C=-1;-1!==this.m.Pf&&(0!==this.g.mb&&(C=Math.sqrt(b*b+m*m),m=180/Math.PI*Math.atan2(m,b),m-=this.g.mb,b=C*Math.cos(Math.PI/180*m),m=C*Math.sin(Math.PI/180*m)),B=m/B-f+this.g.dc,m=B-Math.floor(B),B-=m,b=b/z+(this.g.S?f/2+B/2:0)-u+this.g.kc,this.g.M&&(b-=this.g.zoom/32*.2),f=b-Math.floor(b),b-=f,this.g.M&&(0===(b+this.ec+B+this.fc&1)?1<f+m&&(b+=1):1>1-f+m&&(b+=1)),C=this.g.getState(b+this.ec,B+this.fc,this.Hd&&
this.Ta));return C};h.prototype.sy=function(b,m){var f=b-this.J/2,u=m-this.I/2;m=this.fc-this.g.xa;var z=this.ec-this.g.Da-(this.g.S?this.g.xa/2:0),B=0,C=0,E=0,G=0,F=this.g.zoom,I=this.g.zoom*(this.g.M?y.se:1);-1!==b&&(0!==this.g.mb&&(b=Math.sqrt(f*f+u*u),u=180/Math.PI*Math.atan2(u,f),u-=this.g.mb,f=b*Math.cos(Math.PI/180*u),u=b*Math.sin(Math.PI/180*u)),B=u/I-m+this.g.dc,E=B-Math.floor(B),B-=E,C=f/F+(this.g.S?m/2+B/2:0)-z+this.g.kc,this.g.M&&!this.g.Tb&&(C-=this.g.zoom/32*.2),G=C-Math.floor(C),C-=
G,this.g.S&&(.25>G?.1>E?(--B,--C):.9<=E&&(B+=1):.75<=G&&(.1>E?--B:.9<=E&&(B+=1,C+=1))));this.g.M&&!this.g.Tb&&(0===(C+this.ec+B+this.fc&1)?1<G+E&&(C+=1):1>1-G+E&&(C+=1));this.Pk=C+this.ec;this.Qk=B+this.fc};h.prototype.cw=function(b,m,f,u,z){var B=Math.abs(f-b),C=Math.abs(u-m),E=b<f?1:-1,G=m<u?1:-1,F=B-C,I=this.g.width,L=this.g.height,M;for(M=this.ed(b,m,z);I!==this.g.width||L!==this.g.height;)I!==this.g.width&&(I<<=1,b+=I>>2,f+=I>>2,this.ad+=I>>2,this.dd+=I>>2,this.g.S&&(this.ad-=L>>3,this.dd-=L>>
3),this.ec+=I>>2),L!==this.g.height&&(L<<=1,m+=L>>2,u+=L>>2,this.nf+=L>>2,this.Cf+=L>>2,this.fc+=L>>2);for(;b!==f||m!==u;){var H=F+F;H>-C&&(F-=C,b+=E);H<B&&(F+=B,m+=G);for(M|=this.ed(b,m,z);I!==this.g.width||L!==this.g.height;)I!==this.g.width&&(I<<=1,b+=I>>2,f+=I>>2,this.ad+=I>>2,this.dd+=I>>2,this.g.S&&(this.ad-=L>>3,this.dd-=L>>3),this.ec+=I>>2),L!==this.g.height&&(L<<=1,m+=L>>2,u+=L>>2,this.nf+=L>>2,this.Cf+=L>>2,this.fc+=L>>2)}return M};h.prototype.GP=function(){var b=170,m=this.tf.Fy,f=this.tf.Ex,
u=this.Ms.Ex;this.Hs.setPosition(Menu.ua,0,b-48);this.$h.Qy(b-48);this.Wk.Qy(b-48+45);this.rf.Qy(b-48+170);this.tf.setPosition(Menu.ua,f,b);this.Ms.setPosition(Menu.ua,u,b);b+=m;this.Ik.setPosition(Menu.ua,f,b);this.Is.setPosition(Menu.ua,u,b);b+=m;"Oscillator"!==this.lb||this.Ig||(this.Ak.setPosition(Menu.ua,f,b),this.Gs.setPosition(Menu.ua,u,b),b+=m);this.Fk.setPosition(Menu.ua,f,b);this.jw.setPosition(Menu.ua,u,b);b+=m;"Spaceship"!==this.lb||this.g.S||this.g.M||(this.Bl.setPosition(Menu.ua,f,b),
this.kw.setPosition(Menu.ua,u,b),b+=m);"Still Life"!==this.lb&&(this.Ml.setPosition(Menu.ua,f,b),this.mw.setPosition(Menu.ua,u,b),b+=m,this.Ig||this.g.S||this.g.M||this.g.ia||(this.Gl.setPosition(Menu.ua,f,b),this.lw.setPosition(Menu.ua,u,b),b+=m));"Spaceship"===this.lb&&(this.g.S||this.g.M||(this.Ol.setPosition(Menu.ua,f,b),this.ow.setPosition(Menu.ua,u,b),b+=m),this.Ql.setPosition(Menu.ua,f,b),this.Ks.setPosition(Menu.ua,u,b),b+=m);"Still Life"===this.lb||this.g.ia||this.g.Lb||(this.El.setPosition(Menu.ua,
f,b),this.Js.setPosition(Menu.ua,u,b),b+=m);"Oscillator"!==this.lb||this.Ig||(this.Rl.setPosition(Menu.ua,f,b),this.Ls.setPosition(Menu.ua,u,b),b+=m,this.Tl.setPosition(Menu.ua,f,b),this.pw.setPosition(Menu.ua,u,b))};h.prototype.pQ=function(b){var m=0;this.Od[this.od]=b;this.od+=1;this.od>=y.ZN&&(this.od=0);for(b=0;b<this.Od.length;b+=1)m+=this.Od[b];m/=this.Od.length;this.Nd.eb=String(Math.round(m));this.Nd.l=!1};h.prototype.bA=function(){var b;for(b=0;b<this.Od.length;b+=1)this.Od[b]=0;this.od=
0;this.Nd.l=!0};h.prototype.ZA=function(b,m){var f=0,u=0,z=this.fc-this.g.xa,B=this.ec-this.g.Da-(this.g.S?this.g.xa/2:0),C=this.g.zoom,E=this.g.zoom*(this.g.M?y.se:1),G=0,F=0;if(0!==this.g.mb){var I=Math.sqrt(f*f+u*u);u=180/Math.PI*Math.atan2(u,f);u-=this.g.mb;f=I*Math.cos(Math.PI/180*u);u=I*Math.sin(Math.PI/180*u)}E=u/E-z+this.g.dc;if(this.g.M&&!this.g.Tb||this.g.S)G=E-Math.floor(E),E-=G;f=f/C+(this.g.S?z/2+E/2:0)-B+this.g.kc;this.g.M&&!this.g.Tb&&(f-=this.g.zoom/32*.2);if(this.g.M&&!this.g.Tb||
this.g.S)F=f-Math.floor(f),f-=F;this.g.S&&(.25>F?.1>G?(--E,--f):.9<=G&&(E+=1):.75<=F&&(.1>G?--E:.9<=G&&(E+=1,f+=1)));this.g.M&&!this.g.Tb&&(0===(f+this.ec+E+this.fc&1)?1<F+G&&(f+=1):1>1-F+G&&(f+=1));return Math.sqrt((f-b)*(f-b)+(E-m)*(E-m))};h.prototype.LP=function(){var b=this.m.Pf-this.J/2,m=this.m.lh-this.I/2,f=this.fc-this.g.xa,u=this.ec-this.g.Da-(this.g.S?this.g.xa/2:0),z=this.g.zoom,B=this.g.zoom*(this.g.M?y.se:1);var C=9999<this.g.ja?99999:9999;var E=this.g.ia?-1:0,G=Math.round(-this.g.Ea/
2)+E;E=Math.round(-this.g.Aa/2)+E;var F=G+this.g.Ea-1,I=E+this.g.Aa-1;if(-1===this.m.Pf)this.Bj.eb="",this.Bj.l=!this.Nh;else{if(0!==this.g.mb){var L=Math.sqrt(b*b+m*m);m=180/Math.PI*Math.atan2(m,b);m-=this.g.mb;b=L*Math.cos(Math.PI/180*m);m=L*Math.sin(Math.PI/180*m)}B=m/B-f+this.g.dc;m=B-Math.floor(B);B-=m;b=b/z+(this.g.S?f/2+B/2:0)-u+this.g.kc;this.g.M&&(b-=this.g.zoom/32*.2);f=b-Math.floor(b);b-=f;this.g.M&&(0===(b+this.ec+B+this.fc&1)?1<f+m&&(b+=1):1>1-f+m&&(b+=1));u=this.g.getState(b+this.ec,
B+this.fc,this.Hd&&this.Ta);b+=this.Eb;B+=this.Fb;-1===this.g.sa||this.mg||(b-=Math.floor(this.Ra/2+(this.qg-this.Ra)/2),B-=Math.floor(this.Wa/2+(this.pg-this.Wa)/2));f=b<-C||b>C?Number(b/1E3).toFixed(1)+"K":String(b);C=B<-C||B>C?Number(B/1E3).toFixed(1)+"K":String(B);-1!==this.g.sa?(0===this.g.Ea&&(G=-this.g.ja,F=this.g.ja),0===this.g.Aa&&(E=-this.g.ja,I=this.g.ja),this.Bj.eb=b<G||b>F||B<E||B>I?f+","+C+"=[boundary]":f+","+C+"="+u+" ("+this.wq(u)+")"):this.Bj.eb=f+","+C+"="+u+" ("+this.wq(u)+")";
this.Bj.l=!1}this.Bj.enabled=this.Nh||!this.ib&&-1!==this.m.Pf?this.ha||this.sc||0===this.Ra?!1:!0:!1;!this.yb&&!this.Vk||this.ha&&!this.sc?this.ll.enabled=!1:(this.ll.enabled=!0,this.ll.l=!1,b=this.Vb.u>this.Vb.o?this.Vb.u-this.Vb.o+1:this.Vb.o-this.Vb.u+1,B=this.Vb.v>this.Vb.s?this.Vb.v-this.Vb.s+1:this.Vb.s-this.Vb.v+1,this.ll.eb=b+" x "+B)};h.prototype.CO=function(b){if(!this.Wc&&!this.Bb)if(0<this.ha)0<b?this.Qx(this,b/125*3):this.Px(this,-b/125*3);else if(0<this.sc)0<b?this.Ox(this,b/125*3):
this.Nx(this,-b/125*3);else if(!this.Rd){var m=this.Jc.current[0];this.Ur(m,b/125*.05)}};h.prototype.fQ=function(b){var m=b.g.counter,f=" ";if(b.g.ia||b.g.L)m=b.g.lf;b.Jl?(0>m&&(f=""),b.ke.lower[0]="+"+f+b.Yt(m),b.ke.F=["toggle generation statistics [G]\ngeneration +"+m]):(0>m+b.ih&&(f=""),b.ke.lower[0]="T"+f+b.Yt(m+b.ih),b.ke.F=["toggle generation statistics [G]\ngeneration "+(m+b.ih)]);b.g.ia||b.g.L?(b.Gg.eb=b.g.counter,b.Gg.F="absolute generation "+b.g.counter):b.Jl?(1E9<=m?b.Gg.eb="1B+":b.Gg.eb=
m,b.Gg.eb=m,b.Gg.F="generation "+m):(m+=b.ih,1E9<=m?b.Gg.eb="1B+":b.Gg.eb=m,b.Gg.F="absolute generation "+m);b.Lo.F=b.Gg.F};h.prototype.zQ=function(b,m){var f=m.$.current;var u=!1,z=!1,B=!1,C=!1,E=!1,G,F=m.g.counter;var I=0;var L=m.g.N,M=new BoundingBox(L.o,L.s,L.u,L.v);var H=1E3/m.Ma;m.Rd=!1;m.xB&&(m.xB=!1,b=0);m.Ta||m.kQ(m);m.tJ(m.rg.current[0]);m.ib?(b>H&&(b-.3>H&&(z=!0),b=H),!m.ib||m.$c&&!m.hf||(m.Mb+=m.oc*m.xb,I=m.Mb/m.Ma|0,I>F?m.mj=!0:m.elapsedTime+=b)):m.mj&&(E=!0,m.Mb=m.oE?m.Mb+m.Ma:m.Mb+
m.xb*m.Ma,I=m.Mb/m.Ma|0);m.rF();m.$c&&!m.hf&&m.ib?(m.$.As&&(m.Jg&&!m.$.aG(m.elapsedTime+b)&&(m.Jg=!1,m.elapsedTime=m.$.KL(m.g.width/2-m.g.Da,m.g.height/2-m.g.xa,m.g.zoom,m.g.angle,m.g.Sa,m.g.aa,m.g.Ze*y.Do,m.g.bg,m.oc,m.xb,m.g.counter,m.elapsedTime)),f.Nf&&(m.hh(!0,!1,y.Fl),m.Jg=!1,f.x=m.g.width/2-m.g.Da,f.y=m.g.height/2-m.g.xa,m.Bb&&(m.g.zoom*=m.gf),f.zoom=m.g.zoom)),(B=m.$.update(m,m.elapsedTime+b,m.g.counter))?(f.Nf&&(f.Nf=!1,m.Bb&&(m.g.zoom=f.zoom/m.gf),m.Jc&&(m.Jc.current=m.tl([m.g.zoom,m.g.zoom],
!1,m))),m.Mb+=m.oc*m.xb,I=m.Mb/m.Ma|0,I>F&&(m.mj=!0)):(m.$.As&&(m.ib&&(m.Rd=!0),m.g.xa=m.g.height/2-f.y,m.g.Da=m.g.width/2-f.x,m.g.S&&(m.g.Da-=m.g.xa/2),m.g.zoom=f.zoom,m.Bb&&(m.g.zoom=m.g.zoom/m.gf),m.Jc&&(m.Jc.current=m.tl([m.g.zoom,m.g.zoom],!1,m)),m.g.S||m.g.M||m.g.za||(m.g.angle=f.angle,m.Pc&&(m.Pc.current=[m.g.angle,m.g.angle]),m.g.Sa=f.Sa,m.ue&&(m.ue.current=[m.ks(m.g.Sa),m.g.Sa]),m.g.aa=f.aa,m.Fe&&(m.Fe.current=[m.g.aa,m.g.aa]),m.g.Ze=f.depth/y.Do+y.Kw,m.rd&&(m.rd.current=[Math.sqrt(m.g.Ze),
m.g.Ze*y.Do]))),m.oc=f.Nc,m.xb=f.step,m.rg.current=m.zk([m.rm(),1],!0,m),f.qc>m.g.counter?(m.mj=!0,m.Mb=f.qc*m.Ma,I=m.Mb/m.Ma|0):m.mj=!1,f.ug!==m.ct&&(""===f.ug?m.j.notification.clear(!1,!1):m.j.notification.notify(ScriptParser.Hr(m,f.ug),15,21600,15,!1),m.ct=f.ug),f.yc!==m.OB&&(m.Kn(f.yc,m.g.Nm,m),m.OB=f.yc)),m.mj||(m.elapsedTime+=b)):m.Kc&&m.ib&&(m.Rd=!0);m.Rd&&(m.Oh=-1);f=0;if(m.mj){if(m.g.X){H=performance.now();var K=I-F;for(G=0;!C&&m.g.counter<I;){f=performance.now()-H;if(m.g.counter===m.lc-
1&&!m.Gf||f>y.QJ&&!E)m.g.counter!==m.lc-1||m.Gf?C=m.Km:C=!0;m.g.Ad&&m.rb("reverse playback");M.set(L);m.Nh&&(m.g.counter===I-1||C)?m.g.He(!0,m.oe,m.Hc,m.Ub,m):m.g.He(!1,m.oe,m.Hc,m.Ub,m);G+=1;(m.g.xj||m.SK()||m.g.counter===I||C)&&!(0===m.g.X&&2<m.g.i)&&(m.g.he(),m.xi(),m.$j||m.g.counter<=m.Zk)&&(m.g.X=1);m.g.xj||0!==m.g.ga||(m.g.X=0);0===m.g.X&&L.set(M);if(-1!==m.nb&&m.g.counter>=m.nb&&!m.bd){for(I=1;I<=G;I+=1)m.Ut(F+I,b,G);m.elapsedTime=0;m.reset(m);I=F=0;m.Kf&&m.eh&&(m.Zb.current=m.Md(y.af,!0,m),
m.j.notification.notify("LOOP reached - Play to continue ",15,180,15,!0));B&&(m.Rd=!0)}m.g.X||(C=!0)}for(I=1;I<=G;I+=1)m.Ut(F+I,b,K);m.g.X||(m.Rv=m.K+(0<m.g.i?m.g.i:0),-1===m.Dg&&(m.Dg=m.g.counter,m.g.O?m.g.X=1:m.g.L||m.g.ca?m.g.fs(!1):m.g.fs(!0),!m.Il||-1!==m.nb&&!m.bd||m.Zm||m.j.notification.notify("Life ended at generation "+m.Dg,15,600,15,!1),m.Zm=!1));m.Mb-=(K-G)*m.Ma;0>m.Mb&&(m.Mb=0);G<K&&(m.g.counter!==m.lc||m.Gf)&&m.ik?m.pQ(G):m.bA()}else{m.bA();m.Rv&&(--m.Rv,C=m.g.counter,m.g.counter=m.Dg,
m.g.he(),m.g.counter=C);for(I=0;I<m.xb;I+=1)m.g.counter+=1,m.Ut(m.g.counter,b,m.xb);-1!==m.nb&&m.g.counter>=m.nb&&!m.bd&&(m.elapsedTime=0,m.reset(m),B&&(m.Rd=!0))}m.g.counter!==m.lc||m.Gf||(m.Zb.current=m.Md(y.af,!0,m),m.Il&&m.j.notification.notify("STOP reached - Play to continue ",15,180,15,!0))}else m.bA();m.mj&&!m.ib&&m.rb("");m.Pc.locked=m.Rd&&m.$c||m.g.S||m.g.M||m.g.za;m.ue.locked=m.Rd&&m.$c||m.g.S||m.g.M||m.g.za;m.Gj.locked=m.Rd&&m.$c;m.$m.locked=m.Rd||m.Kc&&m.ib;m.rg.locked=m.Rd&&m.$c;m.bu.locked=
m.Rd&&m.$c;m.wj.locked=m.Rd&&m.$c;m.Jc.locked=m.Rd;m.Fe.locked=m.Rd&&m.$c||m.g.S||m.g.M||m.g.za;m.rd.locked=m.Rd&&m.$c||m.g.S||m.g.M||m.g.za;m.$t.locked=m.g.S||m.g.M||m.g.za;m.wheelDelta&&(m.CO(m.wheelDelta),m.wheelDelta=0);m.ND(m,z,f,E);m.mj=!1;m.oE=!1;if(m.ib||m.Kc&&m.ro>m.aL||-1!==m.Oh)u=!0;m.j.og(u)};h.prototype.ND=function(b,m,f,u){b.Kc&&(b.ib||b.$c)&&b.hh(!1,!1,y.Fl);b.g.MO(b.ps,b.sj);b.sj&&b.hM();b.ps&&b.j.og(!0);b.g.os();!b.g.Tb&&b.g.S&&4<=b.g.zoom?b.g.fH():!b.g.Tb&&b.g.M&&4<=b.g.zoom&&b.g.gH();
b.tp&&(2===b.tp&&b.g.Mv(b.Gh,1,!0,b.Bb,b),b.eL(b),2===b.tp&&(b.g.os(),!b.g.Tb&&b.g.S&&4<=b.g.zoom?b.g.fH():!b.g.Tb&&b.g.M&&4<=b.g.zoom&&b.g.gH()),b.tp=0);b.g.gM(b);b.g.counter&&b.g.X&&(b.Of.o=b.g.N.o,b.Of.s=b.g.N.s,b.Of.u=b.g.N.u,b.Of.v=b.g.N.v,b.es(b,b.Of));b.rj&&b.$.JA(b);b.Rg&&0<b.nj&&null!==b.g.eq&&(1===b.nj?b.g.eM():b.g.dM());!b.yd||b.De||b.qh||b.g.Mv(b.Gh,b.Id,!1,b.Bb,b);b.ha?Help.Lv(b):b.Jd.length&&Help.LA(b);b.fQ(b);b.Io.eb=b.ZK(b.elapsedTime);b.En.eb=b.Yt(b.g.ga);b.Tv()?b.Mk.eb=(100*b.g.ga/
(b.g.Aa*b.g.Ea)|0)+"%":(b.Mk.eb=b.Yt(b.g.sb),b.Xm.eb=b.Yt(b.g.$a));b.En.F="alive "+b.g.ga;b.Tv()?b.Mk.F="density "+(100*b.g.ga/(b.g.Aa*b.g.Ea)|0)+"%":(b.Mk.F="births "+b.g.sb,b.Xm.F="deaths "+b.g.$a);b.ik?b.eQ(f,m,u,b):b.rg.Qd=b.$m.Qd;b.LP();-1!==b.Oh&&b.qF();b.gQ();b.rQ();b.hQ();b.RJ(b.ha||b.Jd.length);!b.Cc.current[0]||b.ej&&b.ib||(b.vc.globalAlpha=.5,b.vc.fillStyle="black",b.vc.fillRect(0,0,b.Tc.width,b.Tc.height),b.vc.globalAlpha=1)};h.prototype.eQ=function(b,m,f,u){(m||b>y.QJ)&&!f?u.bl<y.gO&&
(u.bl+=y.II):u.bl>y.hO&&(u.bl-=y.II);b=u.qy>>16;m=u.qy>>8&255;f=u.qy&255;128<=b?64<=m||64<=f?(m-=u.bl,f-=u.bl,0>m&&(m=0),0>f&&(f=0)):(m+=u.bl,255<m&&(m=255)):(b+=u.bl,255<b&&(b=255));u.rg.Qd="rgb("+b+","+m+","+f+")"};h.prototype.rF=function(){var b=this.Mb/this.Ma;if(this.Me&&!this.Uf){this.g.kc=b*(this.eo+this.Mp)/2;this.g.dc=b*(this.Lp+this.fo)/2;var m=this.g.kK(0,this.Lp,this.eo,this.fo,this.Mp,this.J,this.I-80,y.bb,y.Ob,y.Cy);b=this.g.kK(b,this.Lp,this.eo,this.fo,this.Mp,this.J,this.I-80,y.bb,
y.Ob,y.Cy);this.g.Dc=b/m}else this.g.kc=0,this.g.dc=0,this.g.Dc=1;this.Jc.current=this.tl([this.g.zoom,this.g.zoom],!1,this)};h.prototype.RJ=function(b){var m=!(this.ha&&this.Yj===y.Th),f,u=0,z=[],B=[],C=this.Cc.current[0];this.Zb.jg[1]=this.oe||0===this.g.counter&&(!this.g.ia&&!this.g.L||null===this.g.cd)?!0:!1;var E=b||!this.nl;for(f=0;f<=this.g.Bf;f+=1)this.G[f].l=E;this.Tp.l=E;this.Fm.l=E;this.Up.l=E;this.Sp.l=E;for(f=0;f<y.ju.length;f+=1)y.ju[f]===this.g.Bf&&(this.G[f].locked=!this.Nj);E=b||
!this.Rg||"Empty"===this.lb||"none"===this.lb||C;this.$h.l=b||!this.Rg||C;this.Wk.l=b||!this.Rg||null===this.g.eq||C;this.rf.l=b||!this.Rg||null===this.g.eq||C;E=E||0<this.nj;this.Hs.l=E;this.tf.l=E;this.Ik.l=E;this.Fk.l=E;this.Bl.l=E||"Spaceship"!==this.lb||this.g.S||this.g.M;this.Ml.l=E||"Still Life"===this.lb;this.Gl.l=E||"Still Life"===this.lb||this.Ig||this.g.S||this.g.M||this.g.ia;this.Ak.l=E||"Oscillator"!==this.lb||this.Ig;this.Ol.l=E||"Spaceship"!==this.lb||this.g.S||this.g.M;this.Ql.l=E||
"Spaceship"!==this.lb;this.El.l=E||"Still Life"===this.lb||this.g.ia||this.g.Lb;this.Rl.l=E||"Oscillator"!==this.lb||this.Ig;this.Tl.l=E||"Oscillator"!==this.lb||this.Ig;this.Ms.l=E;this.Is.l=E;this.jw.l=E;this.kw.l=E||"Spaceship"!==this.lb||this.g.S||this.g.M;this.mw.l=E||"Still Life"===this.lb;this.lw.l=E||"Still Life"===this.lb||this.Ig||this.g.S||this.g.M||this.g.ia;this.Gs.l=E||"Oscillator"!==this.lb||this.Ig;this.ow.l=E||"Spaceship"!==this.lb||this.g.S||this.g.M;this.Ks.l=E||"Spaceship"!==this.lb;
this.Js.l=E||"Still Life"===this.lb||this.g.ia||this.g.Lb;this.Ls.l=E||"Oscillator"!==this.lb||this.Ig;this.pw.l=E||"Oscillator"!==this.lb||this.Ig;this.pp.locked=this.Gc===this.fp;this.yk.locked=1>=this.Gc||"undo [Ctrl Z]"===this.yk.F;this.Gj.l=b;this.Jc.l=b;this.$m.l=b;this.cj.l=b;this.to.l=b;this.Wn.l=b;this.Rh.l=b;this.ln.l=b;this.ud.l=b;E=(this.iq.l=b)||!this.yd||this.De||this.qh||C;this.Wq.l=E;this.Ek.l=E;this.Mq.l=E;this.be.l=!(this.Ub||-1!==this.ef);this.be.locked=!1;this.Lo.l=b;this.Gg.l=
b;this.Pd.l=b;this.Io.l=b;this.nd.l=b;E=(this.En.l=b)||this.fD();this.Lk.l=E;E=(this.Mk.l=E)||this.Tv();this.gd.l=E;this.Xm.l=E;this.il.l=b;this.$m.l=b;this.$g.l=b||!this.wm;this.ea.l=!(this.Ud||this.Jd.length);this.nm||this.mm||this.om||this.ml||this.pm||this.nl||this.lm?(this.Hj.eb="Back",this.Hj.F="back to previous menu [Backspace]"):(this.Hj.eb="Close",this.Hj.F="close menu [Backspace]");E=(this.Hj.l=b)||this.nl;this.rd.l=E;this.Pc.l=E;this.ue.l=E;this.Fe.l=E;E=b||this.nl||this.mm||this.ml||this.nm||
this.om||this.pm||this.ml||this.lm;this.wt.l=E;this.Ni.l=E;this.wj.l=E;this.Os.l=E;this.ms.l=E;this.Bk.l=E;this.gx.l=E;this.bn.l=E;E=b||!this.mm;this.bm.l=E;this.Ck.l=E;this.Wh.l=E;this.Vh.l=E;this.Oi.l=E;this.Xh.l=E;E=b||!this.ml;this.em.l=E;this.jm.l=E;this.am.l=E;this.Zl.l=E;this.qr.l=E;this.Pi.l=E;this.Dq.l=E;this.Yh.l=E;this.ym.l=E;this.tm.l=E;E=b||!this.om;this.vq.l=E;this.ku.l=E;this.tr.l=E;this.tr.locked=!this.Hl;this.Ui.l=E;this.Vi.l=E;this.Qi.l=E;E=b||!this.nm;this.Zj.l=E;this.bq.l=E;this.Yk.l=
E;this.Dr.l=E;this.jn.l=E;this.$p.l=E;this.po.l=E;this.lr.l=E;this.Mt.l=E;this.Eq.l=E;E=b||!this.lm;this.ei.l=E;this.Ii.l=E;this.Li.l=E;this.$t.l=E;this.Si.l=E;this.Ri.l=E;E=b||!this.pm;this.Zh.l=E;this.Cq.l=E;this.Zn.l=E;this.Mn.l=E;this.Sl.l=E;this.aq.l=E;E=this.g.za||!this.Ba;this.qr.locked=E;this.Pi.locked=E;this.Dq.locked=E||this.Ta;this.Yh.locked=E||this.Ta;this.Wh.locked=E;this.Vh.locked=E;this.Xh.locked=E;this.Oi.locked=E;this.Zh.locked=!this.Ba||this.Ta;this.lr.locked=2<this.g.i||this.g.oa||
this.g.L||this.g.ta||this.g.O||this.g.ca||this.g.ia;this.Wi.l=b||!(this.nm||this.mm||this.om||this.pm||this.ml||this.lm);this.Wi.eb=this.nm?"Display":this.om?"Advanced":this.pm?"Playback":this.ml?"Pattern":this.mm?"Clipboard":this.lm?"General":"";this.Sl.locked=-1!==this.g.ve||this.g.ax||this.g.oa&&!(1===this.g.pa.Ji&&this.g.pa.type===this.A.ne&&2===this.g.pa.Jn)||this.g.M||this.g.Ic;this.wj.locked=this.Hd||this.g.za||this.g.ca||this.g.O;this.Yk.locked=this.g.S&&!this.g.Tb||this.g.M&&!this.g.Tb||
0===this.g.gg;this.Zj.locked=!(this.g.S||this.g.M);E=b||0===this.$.Ec.length||C;this.lt.l=E;this.It.l=E;E=b||!this.sd||this.De||this.qh||this.yd;this.vf.l=E;this.ic.l=E;this.wf.l=E;this.rc.l=E;this.uf.l=E;this.ab.l=E;this.Wl.l=E;this.ai.l=E;this.ci.l=E;this.di.l=E;this.bi.l=E;this.pb.l=E;this.Qb.l=E;this.$b.l=E;this.Gb.l=E;this.Jd.length?(this.ea.F="close errors [Esc]",this.ea.eb="Esc",this.ea.hb("16px Arial"),this.ea.Qd=this.Gj.Qd):(this.ea.F="close window [Esc]",this.ea.eb="X",this.ea.hb("24px Arial"),
this.ea.Qd="red");this.Dk.l=!(this.dv&&this.ha&&this.Yj===y.Th);this.Cj.l=!(this.ha&&this.Yj!==y.Th);this.na.l=!(this.ha&&this.Yj!==y.Th)||!this.Zt;this.Ve.l=m;this.We.l=m;this.Se.l=m;this.qf.l=m;this.Re.l=m;this.Ne.l=m;this.hd.l=m;this.Qe.l=m||0===this.$.ep();this.Ti.l=!(this.ha&&this.Yj!==y.Th)||this.Zt;if(this.zm){this.zm=!1;u=this.na.y;for(f=0;f<this.ma.length&&u<this.I-66*this.m.Uh;)z[f]=this.ma[f][1],B[f]="Top"===z[f]?"go to top of topic [Home]":"",u+=26*this.m.Uh,f+=1;this.na.lower=z;this.na.F=
B;this.na.BP(26*z.length);this.na.current=0}E=b||!this.qh||C;this.Yg.l=E;this.so.l=E;this.ae.l=E;this.Ul.l=E;this.js.l=E;this.mp.l=E;this.zn.l=E;this.ze.l=E;this.Ae.l=E;this.Og.l=E;E=b||!this.qh||C;this.ce.l=E;this.Af.l=E;this.Qf.l=E;this.Mg.l=E;this.xf.l=E;this.Oe.l=E;this.Pe.l=E;this.Vg.l=E;this.Pg.l=E;this.Ya.l=E;this.ee.l=E;this.de.l=E;this.Lm.l=E||!(this.g.ta||this.g.O);this.Y.l=E;this.fl.l=E;E=b||!this.qh||C||2>=this.g.i||this.g.za;this.wc.l=E||this.g.L;E=this.Ta;this.mp.locked=E;this.zn.locked=
E;E=!this.yb;this.ze.locked=E;this.ae.locked=E;E=!(this.yb||this.td)||this.Ta;this.ce.Cg(E);this.Y.Cg(E);this.wc.Cg(E);this.fl.Cg(E);this.Af.Cg(E);this.Qf.Cg(E);this.Mg.Cg(E);this.xf.Cg(E);this.Oe.Cg(E);this.Pe.Cg(E);this.Vg.Cg(E);this.Pg.Cg(E);this.Ya.Cg(E);this.ee.Cg(E);this.de.Cg(E);this.Lm.Cg(E);E=!this.yb||this.Ta;this.Ae.locked=E;E=!this.ds||this.td||null===this.kg[this.fh]||this.Ta;this.Og.locked=E;this.Sl.locked=-1!==this.g.i;this.Sl.locked&&(this.Sl.current=[!1]);E=b||!this.De||!this.Nn||
C;this.Wd.l=E;this.C.l=E;if(2>=this.g.i&&!this.g.ca)for(f=0;f<this.C.lower.length;f+=1)2>=f?0===f?u=f:u=1===f?LifeConstants.Qa:LifeConstants.zl:u=128+y.fb[f],this.C.uo[f]="rgb("+this.g.Xa[u]+","+this.g.Va[u]+","+this.g.Ua[u]+")";else for(f=0;f<this.C.lower.length;f+=1)u=0===f+this.sg?0:this.g.za||this.g.L||this.g.ca||this.g.O?f+this.sg+this.K:this.K+this.g.i-(f+this.sg),this.C.uo[f]="rgb("+this.g.Xa[u]+","+this.g.Va[u]+","+this.g.Ua[u]+")";E=b||!this.De||C;this.yi.l=E;this.yt.l=E;this.Cr.l=E;this.Gr.l=
E;this.sh.l=b||!this.De||!this.Nn||this.g.i<=this.kh||C;this.Qh.l=b||!this.De||!this.Nn||this.g.i<=this.kh||C;this.g.i>this.kh&&this.tF();if(0<this.ha){f=0;for(u=-1;f<this.ma.length&&-1===u;)this.ma[f][0]>this.ha?u=this.ma[f][0]:f+=1;f===this.ma.length&&(u=f);-1!==u&&(this.na.current=f-1)}this.ej&&(this.m.l=this.ib?!0:!1);E=this.I<y.mn;this.Cc.locked=E};h.prototype.hQ=function(){var b=-(this.g.width/2-this.g.Da-this.g.kc|0),m=-(this.g.height/2-this.g.xa-this.g.dc|0),f=String(b),u=String(m);this.vf.l=
!this.sd;this.ic.l=!this.sd;this.wf.l=!this.sd;this.rc.l=!this.sd;this.uf.l=!this.sd;this.ab.l=!this.sd;this.Wl.l=!this.sd;this.ai.l=!this.sd;this.ci.l=!this.sd;this.di.l=!this.sd;this.bi.l=!this.sd;this.pb.l=!this.sd;this.Qb.l=!this.sd;this.Gb.l=!this.sd;this.$b.l=!this.sd;if(-99999>b||99999<b)f=(b/1E3|0)+"K";if(-99999>m||99999<m)u=(m/1E3|0)+"K";this.ic.eb=f;this.rc.eb=u;this.ab.eb=this.g.angle.toFixed(0)+"\u00b0";this.pb.eb=this.pv.toFixed(3);this.Qb.eb=this.rv.toFixed(3);this.$b.eb=this.sv.toFixed(3);
this.Gb.eb=this.qv.toFixed(3)};h.prototype.rQ=function(){0===this.g.counter?this.sv=this.pv=this.rv=this.qv=0:(this.rv=(this.g.N.v-this.g.ig.v)/this.g.counter,this.qv=(this.g.N.s-this.g.ig.s)/this.g.counter,this.pv=(this.g.N.u-this.g.ig.u)/this.g.counter,this.sv=(this.g.N.o-this.g.ig.o)/this.g.counter)};h.prototype.gQ=function(){this.Gj.current=[this.Kc];this.to.current=[!this.eh&&this.Kf];this.to.locked=!this.Kf;this.Me?(this.Rh.lower[0]="TRACK",this.Rh.current=[!this.Uf&&this.Me],this.Rh.locked=
!this.Me,this.Rh.F=["toggle track mode [W]"]):(this.Rh.lower[0]="WAYPT",this.Rh.current=[!this.hf&&this.$c],this.Rh.locked=!this.$c,this.Rh.F=["toggle waypoint mode [W]"]);this.ln.current=[!this.bd&&-1!==this.nb];this.ln.locked=-1===this.nb;this.ln.F=["loop at "+this.nb+" [Shift P]"];this.Wn.current=[!this.Gf&&-1!==this.lc];this.Wn.locked=-1===this.lc;this.Wn.F=["stop at "+this.lc+" [Alt P]"]};h.prototype.Ut=function(b,m,f){if(b>=this.Ka.length){var u=this.g.B.T(Float32,this.Ka.length+y.rI,"View.elapsedTimes");
u.set(this.Ka);this.Ka=u}this.elapsedTime+=m/f;this.Ka[b]=this.elapsedTime};h.prototype.vQ=function(b){var m=b.$P,f=b.Dp-b.pl;if(b.pl<b.Dp)if(0<b.iA)--b.iA;else if(b.rw)b.um.innerHTML=b.iu,b.pl=b.Dp;else{f<m&&(m=f);var u=document.createElement("textarea");b.Ds(u);if(m!==f)for(;"\n"!==b.iu[b.pl+m];)--m;u.innerHTML=b.iu.substr(b.pl,m);b.pl+=m;b.um.appendChild(u)}else b.lv||(b.j.notification.notify("Press Enter to complete copy",15,1E4,15,!0),b.lv=!0);b.lQ(b);b.g.os();b.rj&&b.$.JA(b);b.yd&&b.g.Mv(b.Gh,
b.Id,!1,b.Bb,b);b.ha?Help.Lv(b):b.Jd.length&&Help.LA(b);b.j.og(!0)};h.prototype.du=function(b,m,f){b.m.locked=!1;m?f&&b.j.notification.notify("Cancelled",15,80,15,!0):b.Il&&(f||-1!==b.Rn)&&(b.j.notification.notify("Arrived at generation "+b.g.counter,15,150,15,!0),-1!==b.Rn&&(f=(performance.now()-b.Rn)/1E3,m=b.tE/f|0,b.j.notification.notify("Calculated "+b.tE+" gens in "+f.toFixed(1)+"s = "+m+"gps",15,600,15,!1)));-1===b.Rn&&b.j.notification.clear(!1,!1);b.rb("");b.ef=-1;b.Rn=-1};h.prototype.AQ=function(b){var m=
performance.now();for(b.m.locked=!0;0!==b.g.ga&&b.g.counter<b.ef&&(-1!==b.Rn||13>performance.now()-m);){b.g.He(!1,b.oe,b.Hc,b.Ub,b);0===b.g.X&&2<b.g.i||(b.g.xj||b.g.counter===b.ef)&&b.g.he();0===b.g.X&&2>=b.g.i&&(b.g.X=1,b.g.He(!1,!1,b.Hc,b.Ub,b),--b.g.counter);b.xi();b.g.counter&&b.g.X&&(b.Of.o=b.g.N.o,b.Of.s=b.g.N.s,b.Of.u=b.g.N.u,b.Of.v=b.g.N.v,b.es(b,b.Of));if(b.$j||b.g.counter<=b.Zk)b.g.X=1;b.Ut(b.g.counter,0,1);0===b.g.ga&&(b.ef=b.g.counter,-1===b.Dg&&(b.Dg=b.g.counter))}b.ND(b,!1,0,!1);b.nQ(b);
b.Mb=b.g.counter*b.Ma;b.j.og(!0);b.g.counter>=b.ef&&(b.du(b,!b.g.X,!1),0===b.g.ga&&b.j.notification.notify("Life ended at generation "+b.Dg,15,240,15,!1))};h.prototype.xQ=function(b){var m=performance.now();for(b.m.locked=!0;b.Ub&&13>performance.now()-m&&b.g.X;){b.g.He(!1,b.oe,b.Hc,b.Ub,b);b.g.he();b.g.counter&&b.g.X&&(b.Of.o=b.g.N.o,b.Of.s=b.g.N.s,b.Of.u=b.g.N.u,b.Of.v=b.g.N.v,b.es(b,b.Of));b.xi();b.Ut(b.g.counter,0,1);if(b.$j||b.g.counter<=b.Zk)b.g.X=1;if(b.g.X){var f=b.g.bO(b.Po,b);0<f.length&&
(f[0]===LifeConstants.fG?(f[0]="Nothing Identified",b.NB="none",b.lb="none",b.$s="",b.Lq="",b.Zs="",b.ww="",b.Hq="",b.bt="",b.Kq="",b.Iq="",b.Xo="",b.Wo="",b.Jq="",b.vw="",b.xw=""):(b.NB=f[0],b.lb=f[1],"Empty"!==b.lb&&(b.$s=f[2],b.Lq=f[3],b.Zs=f[4],b.ww=f[5],b.Hq=f[6],b.bt=f[7],b.Kq=f[8],b.Iq=f[9],b.Xo=f[10],b.Wo=f[11],b.Jq=f[12],b.vw=f[13],b.xw=f[14],b.Ms.eb=b.lb,b.Is.eb=b.Hq,b.Is.F=-1===b.Hq.indexOf("|")?"":"min | max | average",b.jw.eb=b.Zs,b.kw.eb=b.$s,b.mw.eb=b.Kq,b.ow.eb=b.bt,b.Ks.eb=b.Lq,b.Ks.F=
-1===b.Lq.indexOf("|")?"":"simplified | unsimplified",b.Js.eb=b.Iq,b.Js.F=-1===b.Iq.indexOf("|")?"":"min | max | average",b.pw.eb=""===b.Wo?b.Xo+" | N/A":b.Xo+" | "+b.Wo,b.pw.F="normal | strict",b.lw.eb=b.Jq,b.Gs.eb=b.vw,b.Gs.F="rotor | stator | total",b.Ls.eb=b.xw,b.Ls.F="active | rotor"),b.Rg=!0,b.Ig=b.Po,b.GP()),b.Ub=!1,b.ib&&(b.Zb.current=b.Md(y.af,!0,b)),b.rb(""),b.Hs.eb=f[0],"Empty"===b.lb||"none"===b.lb?(b.j.notification.notify(f[0],15,240,15,!1),b.Rg=!1):(b.j.notification.clear(!0,!1),b.j.notification.clear(!1,
!1),b.hh(!0,!1,y.Fl)),b.g.Ps(b.Ub),b.Po=!1,b.m.locked=!1)}else b.Ub=!1,b.ib&&(b.Zb.current=b.Md(y.af,!0,b)),b.rb(""),b.Rg=!1,b.g.Ps(b.Ub),b.Po=!1,b.m.locked=!1,b.Dg=b.g.counter,b.Rv=b.K+(0<b.g.i?b.g.i:0),b.j.notification.notify("Life ended at generation "+b.Dg,15,240,15,!1),b.j.notification.clear(!0,!1)}b.ND(b,!1,0,!1);b.Mb=b.g.counter*b.Ma;b.j.og(!0)};h.prototype.wQ=function(b){for(var m=b.gA,f=performance.now(),u,z=b.g.rh.GN*LifeConstants.au;b.g.counter<m-1&&13>performance.now()-f;)if(u=m-1-b.g.counter<=
z?!1:!0,b.g.He(!1,u,b.Hc,b.Ub,b),b.g.he(),b.xi(),b.$j||b.g.counter<=b.Zk)b.g.X=1;if(b.g.counter===m-1){b.g.He(b.Nh,!1,b.Hc,b.Ub,b);b.g.he();b.xi();if(b.$j||b.g.counter<=b.Zk)b.g.X=1;b.zo=!1;b.fA&&b.j.notification.clear(!0,!1);b.m.locked=!1}else b.m.locked=!0;b.mQ(b,m);b.g.os();b.rj&&b.$.JA(b);b.yd&&b.g.Mv(b.Gh,b.Id,!1,b.Bb,b);b.ha?Help.Lv(b):b.Jd.length&&Help.LA(b);b.j.og(!0)};h.prototype.yQ=function(b){var m=b.g.Fd?4278190080:255;b.$o===y.XB&&(b.m.locked=!0,b.Bj.enabled=!1,b.ll.enabled=!1,b.RJ(0),
b.j.og(!0),b.g.Ed&&b.g.Ed.fill(m));b.$o===y.WB&&(b.VA=performance.now());--b.$o;0===b.$o&&(b.Vo=performance.now(),b.Ma=Math.round(1E3/((b.Vo-b.VA)/(y.WB-1))),62>=b.Ma&&(b.Ma=60),b.j.Ma=b.Ma,b.rE&&(b.xb=1),b.qE&&(b.oc=b.Ma),b.rg.current=b.zk([b.rm(),1],!0,b),b.m.locked=!1);m=b.g.Sa;b.g.Sa=0;b.g.os();b.g.Sa=m};h.prototype.Wy=function(b,m){m.zo?m.wQ(m):m.Ub?m.xQ(m):m.hs?m.vQ(m):-1!==m.ef?m.AQ(m):0<m.$o?m.yQ(m):m.zQ(b,m)};h.prototype.EF=function(b){b.g.counter=0;b.g.lf=0;b.g.ck=0;b.Mb=0;b.elapsedTime=
0;b.g.Da=b.g.width>>1;b.g.xa=b.g.height>>1;b.g.Da&=b.g.width-1;b.g.xa&=b.g.height-1;b.g.X=1;b.xB=!0;b.Dg=-1;b.$o=y.XB};h.prototype.hK=function(b,m,f){m&&(f.sj=b[0]);return[f.sj]};h.prototype.$J=function(b,m,f){m&&(f.fj=b[0]);return[f.fj]};h.prototype.cK=function(b,m,f){m&&(f.g.Ll=b[0]);return[f.g.Ll]};h.prototype.aK=function(b,m,f){m&&(f.sd=b[0]);return[f.sd]};h.prototype.AF=function(b,m,f){m&&(f.yd=b[0],f.yd&&f.ud.current!==y.on&&(f.ud.current=f.sl(y.on,!0,f)),f.Cc.current[0]&&(f.Cc.current=f.co([!1],
!0,f)));return[f.yd]};h.prototype.ez=function(b,m,f){m&&(f.g.vh=b[0]);return[f.g.vh]};h.prototype.bK=function(b,m,f){m&&(f.rj=b[0]);return[f.rj]};h.prototype.XJ=function(b,m,f){m&&(f.g.pd=b[0]);return[f.g.pd]};h.prototype.VJ=function(b,m,f){m&&(f.Yi=b[0],f.Yi&&!f.g.tc&&(f.De||f.qh)&&(f.cj.current=f.Lr([!0],!0,f)));return[f.Yi]};h.prototype.eK=function(b,m,f){m&&(f.g.Zc=b[0],f.g.nG(),f.g.lA(),0===(f.g.counter&1)?f.g.Jx(f.g.kb):f.g.Jx(f.g.cc));return[f.g.Zc]};h.prototype.UJ=function(b,m,f){m&&(f.g.Gm=
b[0]);return[f.g.Gm]};h.prototype.WJ=function(b,m,f){m&&(f.ej=b[0]);return[f.ej]};h.prototype.BF=function(b,m,f){m&&(f.g.Tb=b[0],f.PJ());return[f.g.Tb]};h.prototype.GF=function(b,m,f){m&&(f.j.Ln=b[0]);f.j.og(!0);return[f.j.Ln]};h.prototype.ko=function(b,m,f){m&&(f.j.ol=b[0]);f.j.og(!0);return[f.j.ol]};h.prototype.Kn=function(b,m,f){if(f.g.bg!==b){f.g.IP(b,m,f);1<f.g.Nm&&(f.j.io=f.g.Nm);for(m=0;m<=this.g.Bf;m+=1)this.G[m].current=b!==y.ju[m]?[!1]:[!0];f.W.op=!0;f.W.Cx=f.g.cn}};h.prototype.rm=function(){var b=
y.VG;this.oc>this.Ma&&(this.oc=this.Ma);var m=Math.sqrt((this.oc-y.kj)/(this.Ma-y.kj));var f=(this.xb-y.wi)/(y.Kg-y.wi);return 0===f?m*(1-b):f*(1-b)+1+b};h.prototype.tJ=function(b){var m=y.VG;this.oc>this.Ma&&(this.oc=this.Ma);b<=1-m?(b/=1-m,this.oc=Math.round(y.kj+b*b*(this.Ma-y.kj)),this.xb=1):(b<1+m?b=0:(b-=1+m,b/=1-m),this.oc=this.Ma,this.xb=Math.round(y.wi+b*(y.Kg-y.wi)))};h.prototype.zk=function(b,m,f){var u=f.rm();m&&(u=b[0],f.tJ(u));f.oc>f.Ma&&(f.oc=f.Ma);return[u,Math.round(f.oc)<f.Ma?Math.round(f.oc)+
"/s":Math.round(f.xb)+"x"]};h.prototype.ZD=function(b){b.yr=b.g.zoom;b.Bb&&(b.yr=b.yr*b.gf);b.aE=b.g.angle;b.tP=b.g.Sa;b.dd=b.g.Da;b.Cf=b.g.xa};h.prototype.aJ=function(b){b.Tn=b.g.width/2-b.g.Da;b.Un=b.g.height/2-b.g.xa;b.zp=b.g.zoom;b.Qn=b.g.angle;b.Sn=b.g.Sa;b.Cl=b.g.width/2-b.dd;b.Jo=b.g.height/2-b.Cf;b.qs=b.aE;b.rq=b.tP;b.Bb?b.Ko=b.yr/b.gf:b.Ko=b.yr;b.Oh=0};h.prototype.VO=function(b,m){b.g.zoom=b.cH;b.Bb&&(b.g.zoom=b.g.zoom/b.gf);b.Jc&&(b.Jc.current=b.tl([b.g.zoom,b.g.zoom],!1,b));b.g.angle=b.nq;
b.Pc&&(b.Pc.current=[b.nq,b.nq]);b.g.Sa=b.pq;b.ue&&(b.ue.current=[b.ks(b.pq),b.pq]);b.g.Da=b.ad;b.g.xa=b.nf;m&&(b.Kn(b.Fv,1,b),b.Hd&&(b.g.Mm=0),b.oc=b.ZG,b.xb=b.aH,b.rg.current=b.zk([b.rm(),1],!0,b),b.g.aa=b.oq,b.Fe.current=[b.oq,b.oq],m=Math.sqrt(b.CA),b.rd.current=b.Am([m,m],!0,b))};h.prototype.UF=function(b){b?(this.g.Da+=this.g.kc,this.g.xa+=this.g.dc,this.g.zoom*=this.g.Dc):(this.rF(),this.g.Da-=this.g.kc,this.g.xa-=this.g.dc,this.g.zoom/=this.g.Dc,this.rF());this.g.zoom<y.bb?this.g.zoom=y.bb:
this.g.zoom>y.Ob&&(this.g.zoom=y.Ob)};h.prototype.ZI=function(b){b.elapsedTime=0;b.Hd||(b.g.St(b,b.oe),b.g.X=1,b.g.Kx())};h.prototype.reset=function(b){var m=!1,f=!1;this.ps&&this.g.JH();0===b.g.counter&&b.j.bJ();if(0===b.elapsedTime||b.aw)m=!0;b.bd||-1===b.nb||b.g.counter>=b.nb&&(f=!0);b.g.lf=0;b.g.ck=0;f||m||(b.$c&&(b.hf=!0),b.Me&&(b.Uf=!0),-1!==b.nb&&(b.bd=!0),-1!==b.lc&&(b.Gf=!0),b.Vu&&(b.Kc=!1));b.elapsedTime=0;b.g.kc=0;b.g.dc=0;b.g.Dc=1;if(m){(this.g.ia||this.g.L)&&null!==this.g.cd&&b.Lx&&(b.g.Ad=
!0);b.$c&&(b.hf=!1);b.Me&&(b.Uf=!1);b.Vu&&(b.Kc=!0);if(!f||b.$c&&b.$.As||b.Kc)b.VO(b,m),b.Kc&&b.hh(!0,!1,y.Fl);b.bd=!1;f||(b.Gf=!1)}b.Hd||(b.g.St(b,b.oe),m=b.g.vh,b.g.vh=!1,b.g.he(),b.g.vh=m,b.g.X=1);b.Hc||b.g.$I();b.g.Kx();b.ct="";b.OB=-1;b.Jg=!1;b.$.XO();b.Ub&&(b.Ub=!1,b.j.notification.clear(!0,!1));b.g.Ps(b.Ub);b.j.notification.clear(!1,!1);b.Dg=-1;b.g.ot=0;b.Sx(b.g.counter);b.Rg=!1;b.yI()};h.prototype.Rx=function(b){var m=this.g.zd;if(b){var f="pause";b="pause [Enter]"}else b="play [Enter]",this.g.ia||
this.g.L?(this.g.Ad&&(m=!m),f=m?"reverse":"play"):f="play";if(this.g.ia||this.g.L)if(m=this.g.zd,this.g.Ad&&(m=!m),m){var u="stepback";m="stepforward";var z="step back [Shift Tab]";var B="step forward [Tab]"}else u="stepforward",m="stepback",z="step forward [Tab]",B="step back [Shift Tab]";else u="stepforward",m="stepback",z="step forward [Tab]",B="step back [Shift Tab]";this.Zb.icon[y.af]=this.W.icon(u);this.Zb.F[y.af]=z;this.Zb.icon[y.Sq]=this.W.icon(m);this.Zb.F[y.Sq]=B;this.Zb.icon[y.$k]=this.W.icon(f);
this.Zb.F[y.$k]=b};h.prototype.Sv=function(b){localStorage.setItem(y.dH,"y");b.kG()};h.prototype.Jh=function(b,m){m.Yj=b;m.ha=1;m.Zt=!0;m.dw=[];m.ew=[];this.zm=!0};h.prototype.mF=function(b){b.Jh(y.zB,b)};h.prototype.zz=function(b){b.Jh(y.cE,b)};h.prototype.JD=function(b){b.Jh(y.qw,b)};h.prototype.NA=function(b){b.Jh(y.IE,b)};h.prototype.Ku=function(b){b.Jh(y.eA,b)};h.prototype.zu=function(b){b.Jh(y.Dz,b)};h.prototype.JF=function(b){b.Jh(y.YB,b)};h.prototype.Au=function(b){b.Jh(y.Hz,b)};h.prototype.$y=
function(b,m,f){m&&(f.ha=f.ma[b][0],f.Zt=!1);return b};h.prototype.yF=function(b,m,f){m&&(f.Hk=b[0],f.Hk&&f.Zr(f));return[f.Hk]};h.prototype.Ey=function(b){b.Zr(b)};h.prototype.zF=function(b,m,f){m&&(f.ni=b[0],f.ni&&(f.ay=!0));return[f.ni]};h.prototype.sl=function(b,m,f){var u=b;if(m){switch(b){case y.nn:f.gr=!1;f.Ta||f.g.za?u=f.ud.current:(f.De=!0,f.yi.current=f.rl([!1],!0,f),f.qh=!1);f.av(f);f.Yi&&(f.cj.current=f.Lr([!0],!0,f));break;case y.pn:f.De=!1;f.yi.current=f.rl([!1],!0,f);f.qh=!0;f.Yi&&
(f.cj.current=f.Lr([!0],!0,f));break;case y.on:f.De=!1,f.qh=!1,f.yi.current=f.rl([!1],!0,f),f.av(f),f.Yi&&(f.cj.current=f.Lr([!1],!0,f))}f.dw=[];f.ew=[];f.Cc.current[0]&&(f.Cc.current=f.co([!1],!0,f),f.j.vg=!0)}f.jE(u);return u};h.prototype.jE=function(b){if(this.ha||this.sc)this.m.bv("grab");else switch(b){case y.nn:this.m.bv("auto");break;case y.on:this.m.bv("grab");break;case y.pn:this.m.bv("crosshair")}};h.prototype.YJ=function(b,m,f){m&&(f.fh=b,f.ov(),f.Ul.current=[!1],f.j.vg=!0,f.td?f.dD(f,
b):f.j.notification.notify("Clipboard "+b+" active",15,80,15,!0));return f.fh};h.prototype.Bw=function(){return y.oF[this.zn.current]};h.prototype.CF=function(b,m,f){m&&(f.yn=b,f.xd=y.oF[b]);return f.yn};h.prototype.ML=function(b){b.Ta||(b.yn+=1,3<b.yn&&(b.yn=0),b.zn.current=b.CF(b.yn,!0,b))};h.prototype.FM=function(b){var m=-1,f,u=0,z=0,B=0,C=0;'"'===b.charAt(0)&&(b=b.substr(1,b.length-2));if(this.g.ca)for(f=0;f<this.Ei.length&&-1===m;)void 0!==this.Ei[f]&&this.Ei[f]===b&&(m=f),f+=1;else if(2>=this.g.i)if(this.g.ta)for(f=
0;f<y.Ei.length&&-1===m;)y.Ei[f]===b&&(m=f),f+=1;else"alive"===b?m=1:"dead"===b&&(m=0);else if("dead"===b)m=0;else if(this.g.L){for(f=0;f<b.length&&-1===m;){switch(b.charAt(f)){case "N":u+=1;break;case "S":z+=1;break;case "E":B+=1;break;case "W":C+=1;break;default:m=-2}f+=1}if(1<u||1<z||1<B||1<C)m=-2;-2!==m&&(m=u|B<<1|z<<2|C<<3)}else if(this.g.O)for(f=0;f<LifeConstants.Qw.length&&-1===m;)LifeConstants.Qw[f]===b&&(m=f),f+=1;else"alive"===b?m=1:"dying "===b.substr(0,6)&&(m=Number(b.substr(6))+1,m>=
this.g.i&&(m=-1));return m};h.prototype.wq=function(b){var m="";if(this.g.ca)void 0===this.Ei[b]?m="state "+String(b):m=this.Ei[b];else if(2>=this.g.i)if(this.g.ta)m=y.Ei[b];else switch(b){case 0:m="dead";break;case 1:m="alive";break;default:m="state "+String(b)}else 0===b?m="dead":this.g.L?(0!==(b&1)&&(m+="N"),0!==(b&2)&&(m+="E"),0!==(b&4)&&(m+="S"),0!==(b&8)&&(m+="W")):this.g.O?m=LifeConstants.Qw[b]:m=this.g.za?"state "+String(b):1===b?"alive":"dying "+String(b-1);return m};h.prototype.FF=function(b,
m,f){var u=b;m&&(2>=f.g.i?f.pf=b:(b+=f.sg,0===b?f.pf=0:f.g.za||f.g.L||f.g.ca||f.g.O?f.pf=b:f.pf=f.g.i-b),f.yi.current=f.rl([!1],!0,f),f.j.notification.notify("Drawing with state "+b+" ("+f.wq(b)+")",15,120,15,!0));return u};h.prototype.vk=function(b){var m=this.g.i,f=this.kh;-1===m&&(f=m=2);this.g.ta&&(f=m=7);b<m&&(b>=f?(this.sg=b-f+1,b=f-1):b>=this.sg?b-=this.sg:(this.sg=b,b=0),this.Wd.current=this.FF(b,!0,this),this.sh.current=this.Bm([this.sg/(this.g.i-this.kh),0],!0,this))};h.prototype.gz=function(b,
m,f){var u=0;if(m)for(;u<b.length;)b[u]&&(b[u]=!1,f.Wd.current=f.FF(u,!0,f)),u+=1;return b};h.prototype.UO=function(b){var m=0,f=this.pf,u=this.g.me;var z=this.Vb;var B=u.o,C=u.u;var E=u.s;u=u.v;var G=(this.g.width>>1)-(this.Ra>>1)+(this.Eb<<1);var F=(this.g.height>>1)-(this.Wa>>1)+(this.Fb<<1);2<this.g.i&&!(this.g.za||this.g.L||this.g.ca||this.g.O)&&0<b&&(b=this.g.i-b);this.yb&&(B=z.o+G,C=z.u+G,B>C&&(G=C,C=B,B=G),E=z.s+F,u=z.v+F,E>u&&(G=u,u=E,E=G));if(f!==b){for(;E<=u;E+=1)for(z=B;z<=C;z+=1)F=this.g.getState(z,
E,!1),2<this.g.i&&!(this.g.O||this.g.L||this.g.ca)&&0<F&&(F=this.g.i-F),F===b&&(this.ed(z,E,f),m+=1);0<m&&(!this.g.ta||6!==b&&6!==f||this.g.Tf(),this.rb("replace states"))}else this.j.notification.notify("Cell and drawing state are the same",15,120,15,!0)};h.prototype.ev=function(b,m,f){var u=b.pf,z=b.g.me,B=0,C=0;if(0<u)if(2<b.g.i&&!(b.g.za||b.g.L||b.g.ca||b.g.O)&&(u=b.g.i-u),b.g.ta&&1<u&&(C=u&1),b.g.ta&&m)if(f){for(f=z.s;f<=z.v;f+=1)for(m=z.o;m<=z.u;m+=1){var E=b.g.getState(m,f,!1);3<=E&&5>=E&&
(b.ed(m,f,E&1),B+=1)}0<B&&(b.O?b.rb("clear [R]Super marked cells"):b.rb("clear [R]History marked cells"))}else{for(f=z.s;f<=z.v;f+=1)for(m=z.o;m<=z.u;m+=1)E=b.g.getState(m,f,!1),1<E&&(b.ed(m,f,E&1),B+=1);0<B&&(b.O?b.rb("clear Super cells"):(this.g.Tf(),b.rb("clear History cells")))}else{for(f=z.s;f<=z.v;f+=1)for(m=z.o;m<=z.u;m+=1)E=b.g.getState(m,f,!1),E===u&&(b.ed(m,f,C),B+=1);0<B&&(b.g.ta&&6===u&&this.g.Tf(),b.rb("clear state "+u+" cells"))}return B};h.prototype.Md=function(b,m,f){var u=b,z=f.Gf,
B=f.bd,C=f.hf,E=f.eh,G=f.Kc,F=f.Uf,I=40,L=0,M=0,H=0,K=0,J=0,S=0,pa=0;if(m){f.gr=!1;switch(b){case y.gC:f.eh=f.aw||f.Kf&&0===f.g.counter&&0===f.elapsedTime?!1:!0;f.Kf&&!f.eh?(b=y.$k,f.ib=!0,f.Zm=0===f.g.ga?!0:!1):(b=y.af,f.ib=!1);f.rb("");f.reset(f);f.qd=0;m="Reset";!f.bd&&B&&-1!==f.nb&&(M=1);f.bd&&!B&&-1!==f.nb&&(M=-1);!f.Gf&&z&&-1!==f.lc&&(H=1);f.Gf&&!z&&-1!==f.lc&&(H=-1);!G&&f.Kc&&(pa=1);G&&!f.Kc&&(pa=-1);!f.hf&&C&&(K=1);f.hf&&!C&&(K=-1);!f.Uf&&F&&(J=1);f.Uf&&!F&&(J=-1);!f.eh&&E&&f.Kf&&(S=1);f.eh&&
!E&&f.Kf&&(S=-1);if(0!==M||0!==H||0!==K||0!==J||0!==S||0!==pa)m="",0!==M&&(L+=1,m+="Loop"),0!==H&&(0<L&&(m=0<Math.abs(K)+Math.abs(J)+Math.abs(S)+Math.abs(pa)?m+", ":m+" and "),L+=1,m+="Stop"),0!==K&&(0<L&&(m=0<Math.abs(J)+Math.abs(S)+Math.abs(pa)?m+", ":m+" and "),L+=1,m+="Waypoints"),0!==J&&(0<L&&(m=0<Math.abs(S)+Math.abs(pa)?m+", ":m+" and "),L+=1,m+="Track"),0!==S&&(0<L&&(m=0!==pa?m+", ":m+" and "),L+=1,m+="AutoStart"),0!==pa&&(0<L&&(m+=" and "),m+="AutoFit"),m=0<H||0<M||0<K||0<J||0<S||0<pa?m+
" On":m+" Off",I=120;f.j.notification.notify(m,15,I,15,!0);break;case y.$k:f.ib?(f.ib=!1,f.rb(""),(f.g.counter!==f.lc||f.Gf||f.Il)&&f.j.notification.notify("Pause",15,40,15,!0),f.Yo=performance.now()-f.Yo,f.Ux&&f.j.notification.notify("Playback time "+(f.Yo/1E3).toFixed(2),15,300,15,!1)):(f.$c&&!f.hf&&(f.g.ia||f.g.L)&&(f.g.zd||!f.g.zd&&f.g.Ad)&&f.HA(f),f.ib=!0,f.rb(""),f.Zm=0===f.g.ga?!0:!1,f.Qv&&D.xE(f),f.j.notification.notify("Play",15,40,15,!0),f.Yo=performance.now());break;case y.Sq:if(f.ib)f.ib=
!1,f.rb(""),f.j.notification.notify("Pause",15,40,15,!0);else if((f.g.ia||f.g.L)&&null!==f.g.cd){f.g.Ad=!f.g.Ad;f.g.Ad&&f.rb("reverse playback");f.rb("");for(z=0;z<f.xb;z+=1)f.g.He(!0,f.oe,f.Hc,f.Ub,f),f.g.he(),f.Mb=f.g.counter*f.Ma;f.g.Ad=!0}else 0<f.g.counter&&(f.Sx(f.g.counter-f.xb),f.Tt(f.g.counter-f.xb));break;case y.af:f.ib?(f.ib=!1,f.rb(""),(f.g.counter!==f.lc||f.Gf||f.Il)&&f.j.notification.notify("Pause",15,40,15,!0),f.Yo=performance.now()-f.Yo,f.Ux&&f.j.notification.notify("Playback time "+
(f.Yo/1E3).toFixed(2),15,300,15,!1)):(f.mj=!0,f.rb(""),f.Zm=0===f.g.ga?!0:!1)}u=b;f.Rx(f.ib)}return u};h.prototype.jo=function(b,m,f){m&&(f.Jg=!0,f.g.angle=b[0]);return[f.g.angle,f.g.angle]};h.prototype.ks=function(b){var m=.5/(.5-y.Wm/2);b=(b-y.kt)/(y.UB-y.kt);b<.5-y.Wm/2?b*=m:b>.5+y.Wm/2?(b-=.5+y.Wm/2,b=b*m+.5):b=.5;return b};h.prototype.tL=function(b){var m=.5/(.5-y.Wm/2);b<.5-y.Wm/2?b*=m:b>.5+y.Wm/2?(b-=.5+y.Wm/2,b=b*m+.5):b=.5;return(y.UB-y.kt)*b+y.kt};h.prototype.Sr=function(b,m,f){m&&(f.Jg=
!0,f.g.Sa=f.tL(b[0]));return[b[0],f.g.Sa]};h.prototype.tu=function(b,m,f){m?(f.Jg=!0,f.g.aa=b[0]+.5|0,b=b[0]):b=f.g.aa;return[b,f.g.aa]};h.prototype.Am=function(b,m,f){return m?(f.Jg=!0,f.g.Ze=b[0]*b[0],[b[0],f.g.Ze*y.Do]):[Math.sqrt(f.g.Ze),f.g.Ze*y.Do]};h.prototype.fM=function(b,m,f,u){var z=this.pf;-1===f&&-1===u?(this.zt=this.VI(),2<this.g.i&&!(this.g.za||this.g.L||this.g.ca||this.g.O)&&(z=this.g.i-z),this.zt=this.xp&&this.zt===z?0:this.pf):(this.sy(f,u),f=this.Pk,u=this.Qk,this.sy(b,m),b=this.Pk,
m=this.Qk,this.cw(f,u,b,m,this.zt)&&this.g.Tf());0<this.g.ga&&(this.Dg=-1,this.g.X=1)};h.prototype.iz=function(b,m,f,u){u.ej&&!f&&(u.Zb.current=u.Md(y.af,!0,u))};h.prototype.Yy=function(b,m,f,u){u.Wc||u.ZJ(b,m,f,u,!1)};h.prototype.aM=function(b,m){m=(b.hj-m)/b.Bs;-1!==b.hj&&(0<m?b.Px(b,m):0>m&&b.Qx(b,-m))};h.prototype.$L=function(b,m){m=(b.hj-m)/b.Bs;-1!==b.hj&&(0<m?b.Nx(b,m):0>m&&b.Ox(b,-m))};h.prototype.bM=function(b,m,f){m=(b.Uo-m)/b.g.qa;f=(b.hj-f)/b.g.qa/(b.g.M?y.se:1);if(-1!==b.hj){var u=b.g.S||
b.g.M?0:-b.g.angle;if(b.Rd)b.$c&&!b.hf&&(b.Zb.current=b.Md(y.af,!0,b));else{var z=Math.sin(u/180*Math.PI);u=Math.cos(u/180*Math.PI);b.Jg=!0;b.g.Da+=m*u+f*-z;b.g.xa+=m*z+f*u}}};h.prototype.WL=function(b,m,f){var u=b.ib,z=b.qd;b.cl||(b.ib&&b.fr&&(b.ib=!1,b.gr=!0),u&&(b.qd=0,b.rb(""),b.qd=z),b.fM(m,f,b.Uo,b.hj),u&&b.rb(""))};h.prototype.cM=function(b,m,f){b.td||b.VL(b,m,f)};h.prototype.sH=function(b,m){var f=this.g.width>>1,u=this.g.height>>1;this.mg?(f-=Math.floor(this.qg/2)-this.Eb-this.Eb,u-=Math.floor(this.pg/
2)-this.Fb-this.Fb):(f-=Math.floor(this.qg/2),u-=Math.floor(this.pg/2));0===this.g.Ea?(b.o=0,b.u=this.g.width-1):(b.o=Math.round((this.g.width-this.g.Ea)/2)+m,this.mg||(b.o+=Math.floor((this.qg-this.Ra)/2)),b.u=b.o+this.g.Ea-1);0===this.g.Aa?(b.s=0,b.v=this.g.height-1):(b.s=Math.round((this.g.height-this.g.Aa)/2)+m,this.mg||(b.s+=Math.floor((this.pg-this.Wa)/2)),b.v=b.s+this.g.Aa-1);return[f,u]};h.prototype.VL=function(b,m,f){var u=b.Vb,z=new BoundingBox(0,0,0,0),B=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<
1),C=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<1),E=b.g.ia?-1:0;-1!==b.g.sa&&(C=b.sH(z,E),B=C[0],C=C[1]);if(-1!==m&&-1!==f)if(this.sy(m,f),-1===b.hj)b.oJ=m,b.pJ=f,b.yb=!1,b.fi=!1;else{if(b.Vk)u.u=b.Pk-B,u.v=b.Qk-C;else if(m!==b.oJ||f!==b.pJ)m=!1,-1!==b.g.sa&&(b.Pk<z.o||b.Pk>z.u||b.Qk<z.s||b.Qk>z.v)&&(m=!0),m||(b.Vk=!0,u.o=b.Pk-B,u.u=u.o,u.s=b.Qk-C,u.v=u.s);b.Vk&&(b.lG(b),-1!==b.sa?(C=b.sH(z,E),B=C[0],C=C[1]):(B=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<1),C=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<1)));b.Vk&&-1!==b.g.sa&&(z.o-=
B,z.u-=B,z.s-=C,z.v-=C,u.o<u.u?(u.o<z.o&&(u.o=z.o),u.u>z.u&&(u.u=z.u)):(u.u<z.o&&(u.u=z.o),u.o>z.u&&(u.o=z.u)),u.s<u.v?(u.s<z.s&&(u.s=z.s),u.v>z.v&&(u.v=z.v)):(u.v<z.s&&(u.v=z.s),u.s>z.v&&(u.s=z.v)))}};h.prototype.Gx=function(b){b.yb=!1;b.fi=!1;b.rb("cancel selection");b.Vk=!1};h.prototype.ZL=function(b){b.td?b.hD(b,b.Pk,b.Qk,!0):b.UL(b)};h.prototype.Zr=function(b){var m=b.Vb,f=b.g.N,u=m.o,z=m.s,B=m.u,C=m.v,E,G=0,F=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<1),I=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<1);if(u>B){var L=
u;u=B;B=L}z>C&&(L=z,z=C,C=L);u<f.o-F&&(u=f.o-F);z<f.s-I&&(z=f.s-I);B>f.u-F&&(B=f.u-F);C>f.v-I&&(C=f.v-I);f=B+1;L=u-1;var M=C+1;var H=z-1;for(E=z;E<=C;E+=1)for(z=u;z<=B;z+=1){var K=b.g.getState(z+F,E+I,!1);0<K&&(E<M&&(M=E),E>H&&(H=E),z<f&&(f=z),z>L&&(L=z),G+=1)}0<G&&(m.o=f,m.s=M,m.u=L,m.v=H)};h.prototype.UL=function(b){var m=b.Vb;if(b.Vk)if(b.yb=!0,b.Vk=!1,b.fi=!1,b.Hk&&b.Zr(b),b.yb){var f=m.u<m.o?m.o-m.u+1:m.u-m.o+1;m=m.v<m.s?m.s-m.v+1:m.v-m.s+1;b.rb("selection ("+f+" x "+m+")")}else b.Gx(b)};h.prototype.YL=
function(b,m,f){-1!==m&&-1!==f&&(b.wB=!0,m=b.VI(),b.Dt?(b.UO(m),b.Dt=!1,b.yi.current=b.rl([!1],!0,b)):(b.zt=m,b.vk(m)))};h.prototype.XL=function(b){b.gr&&(b.ib=!0,b.gr=!1,b.j.og(!0));0<b.qd&&(b.g.zh(),b.rb(""))};h.prototype.ZJ=function(b,m,f,u,z){-1!==b&&-1!==m&&u.j.hasFocus&&(f?(u.Cc.current[0]||(u.ha?u.aM(u,m):u.sc?u.$L(u,m):!u.De&&!u.qh||z?u.bM(u,b,m):u.De?u.WL(u,b,m):u.qh&&u.cM(u,b,m)),u.Uo=b,u.hj=m):-1!==u.Uo?(u.ha||u.Cc.current[0]||(u.De?u.cl?u.YL(u,b,m):u.XL(u):u.qh&&u.ZL(u)),u.Uo=-1,u.hj=
-1):u.ha||u.Cc.current[0]||(u.cl?u.j.notification.notify("Now click on a cell",15,180,15,!0):u.td&&u.j.notification.notify("Now click to paste",15,180,15,!0)))};h.prototype.rn=function(b,m){8>this.g.zoom&&(0>b?b=-8:0<b&&(b=8),0>m?m=-8:0<m&&(m=8));this.hj=this.Uo=0;this.ZJ(b,m,!0,this,!0);this.hj=this.Uo=-1};h.prototype.cv=function(b){var m=y.Fs;null===m&&(m=new Image,m.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABzAAAAAoCAIAAAAe3vulAAAABnRSTlMAAAAAAABupgeRAAAUBElEQVR4nO2dS5LlqA6GfW70TnpTvYwa17zntWN64JsEBwEWQhIP/9/ghBMwEi8BMnZeFwAAAAAAAAAAAAAAAAAAAJDx69cv0/A3Y123qPMXcjc6bXrr8CxNI4FdLAAAAAAAAAA0OHWv/ddsBQDQJ4SQhXw+H4ecZ8mdRQjBRw03QQBM4c+fP79+/frz549buGyNMhKbco9on1+mSmB3MB8BACyQDXkYCgCALljnnAocsuBYLExJ2/06V64/1OWhYsEt8jwA1ANQhDptb3cqDdeKjcAbCyzAfAQAENM10jl2AIYCAKDLxHVOdD5YWDbTzLfgf7MVAMCE22bZ5V+zgLPkzuJt5QXgSIrnao1i3byx6zy7Aj5gPgLXdYVvZqsD9iAb2qkxoaMedgAAMIXp6xx16ZimLzhkwcHY2ay2tZoldxZvKy8Ap3J/2cAoNl5nJ1iNfmE93gnmo14v5HZ7ofDEdV2fH5jpAcjoGu/FjoSuBQCwYPo6R1E67OQNPlkATsZiW87JcJbcWbytvACchOfx2MvFW5r5fMEsikfM0vV3VzizNTEfXZ3bKnHpxFupwcqs3U4LEn2yjVtGNAGnwuk5aRqfjrSdIQIAWOC/zsmsnIr0zGxuatxqa9cucEIWHI7uOolvgGbJncXbygtqLHjmaEGVMm7HJT1hah1+k/pMaTJxbM1Xm21fi+fUaufXHsPvP0eWqlPO000RejAT56N1GutRExVVP/2MCwUwC6aE+kOgWPMxKn0tI02THtD2UVuAxfy7slwAjsF/nZMlGB+/jczfxtAHyy2o9a3eh9tdyqeZjJRavdK0FBOLjkJV6pmTTyZXC5WmEWTiIJf/n821yN4+zmLVn5ip5NmQxcx8bj1fZjZZN9uJJqvIFvN96rh0u6YXRZXUY2/SXlfc+tY60mN4dmSp3eI0AXN1azfR84X2jtxi1VkPWOaErlXt0+cjowVML8xmLQ69XkGCewcnncbtjY70eM7RB601Ybx+NHHMlL1y+Swul98ixfli0Cz36jMSW7vlvlCcf1eWq4L6KG4zfUIBS7HIOoem7Bq/zN2Z89a78cJfA9uF9KznTqGCVvrHTAbVlt3+qJVzW1CJKvXMyce/sEdSM2Fa4WcwPrg869liUKjbPVqlE4ezismypnia1TR8buz105PVewjtipz0nGnOtCPJhArUaOejWCIBbrXtwCLaPtaeSt22M++9a1DoCrlxxI0Xnz86dAfR4zg1Gryz5BY1odfFwCykSx+Z8uK7FNtofbkq4sYlrtCZ38mU+jyvKQf758jtC/o3VNr3+ZMFJ3UgCxTrh5+VaaMs0tyLqAEOJnuC98IuF1+1E9wbmpuQLHzKAqgrfBb0eez94r9deBrb0Moo9iLfE9B6iznNJ3R+1I8O/8dXrcctxhSh4CXUzqfUQoAn4vov3ojWHKRoV0PJkRqnlTQ8HWt03hGssromr6itbBq1mH9XlitGd7PvcAugTNySHIbs3bJiYhwAv+H+U6+wxntYS6E7njlmIosST8AcNVbAooAAXIlBEyx8T+LUIfbmNmUSfaZt56libHQNB973BEboyp+/Ovz8fA8hvXf8eYZAqEAieBuf749aFvuY0Rg8clqJqAxAgelo7w7OrnNT6Dowel2zBxvR/fe4dBxsEXpve8rQav10dub/qoheFky4Z+DgQnkVH9H/+II3tgbXIXsDt+yNunUeeVqu2BwLzjpvs5gnmare7uRf2HR5vWDnXxzZZNyVUsBjO249phSJ51hrR2jtYh12ceK9Iie9uOcrCvUkysXYOQOjFSw9k4sO06bXdMTEteOZnrTl2hkrC7l0vij6Q6MRLh56jbcLjsQ+qlcUpyvlgjeW4DDnzhpHb6P2bsFhHThbraVWgl5fwwakdzF8kotDnT6H7M2bV1oHG8dli3aexXwP/Ibz7H7RgsVXkNxeeloKFUeS4MU6FdGNzAEHlX/b1c65xmonZNO7uvLv1+v/yPwps3yyUa5g7ae1XNxl2Vk7WDeS5+A5u8YhWev6bJ/orEVp9RZB+vU7GLCg4X7NXLTUJ97w4arQPtuuO40KvLGnbtCwmDyJV71bkBanfa3Syfk+WXhj2zx/Q7ZG9GW8BNPyivulVodevCkXVw9sB11bo485YFrJnMyxAoiIPappbPE/iTVib7JdnNboS/NJTzN15cBPLPa4iU+3+dsoU8NYzHn3Efr5oRgoY1yleJ02qK4fp+jq9S9sptIU0V1K+gsFNWhzFBsofYr/Kc0Cijbz0Vv0GX5KV5w3u35pPr1ytfRXAdsBAB5prCWKw6fmjcVwi8gdsjdvqMqJZfRZLG7RglsoCdYHz+huLB4LZ3XrPGYfi8Mpb2iim+am5tO0C8/w/+9eQeQt7eIjPbnTpVVxN87Pv0u9iTNgSD7tophnLeq1NtkOtyqN9u3sBZvA20tX8ujnK/P5OUEW+3O8rk1e8ZZ44aqxBgJv7I7FrEGXZ69FvSrm1m3RkeLgXfGnqziKZW/7ZAP23QwknyygxFlKJbd1mGs+iiHqKm00/cg22MdTc4jYhbffR16ZEUuFei6yzoq8rQa/0Wsp6ZJCZXNyey3TU6X3tXV4jZHPETxmfiP2lvIJ5PwOk2WnGP+BlnofdH2yjwVZx6ocQ6zS6XU7cb+wzlZlBR0Ah0/pNGi8yKaY7Hnb4DTHvF1xPhV4Y8/oyZhuiij2q/FMwOJkS4vao6kzLIYrzfM9LYzkaqV/zKSdrUXxx8srEMos5mNKLYkClUADa+8hh67GcmjZWhfq7Vf+ntkbppKcZIO1TWvscdhaD+Q0zxFZjcRp/rXfhg5tfe5GL55yNQ3PEtTSqMRG0kq7zF5dVO9jbblMcUb934JQmpdVsmWOUDtzYcfKCkfFFDXkGMyaGr0Z8tPYiR5HfRBppXyt3C4Nmf0nSyarBKMi0Hup5r2/NJ9euVr6y24XMK6z/zjioyh3VhGWUsZNbu8YHBFUvL131AjqZAX/RoZK+45+soCyyKgT46x/UVbjAUIxSqbwps20qdoXsVPiNGcwq3TtFyt2J3wvke1EWEvpInyfe3J4ABu0j4pk51jdwjPsjsemSx962kilydJ8wnFvUzoz2J8b2fITb3eSIvycI165701XbOJboiu8oDpdAVOKa1fxglY3txrprJFe1HZntdjGW4zMRh8vmiCH4rwpOCHbO7gs5v0ujt9kRUI/2e0johU1AYMo1mdt3PX6r1aYlBdB55MFlPC9QwarsbWZC6e8JvNmlmrBpZRRoTFGFIePOCvFCn+caywat7Y5URfkhueXZOleTp2T3qb0p9aTUZ9tVq4f2qbUatm54Olr3T6PzWaJfi2NeVBQ7bq5ccRdyaqm6KaM4VniTOdaLEeB8SKM3F5c2DB9sruw9VJtCrJWRj37024maqyMdKBNv52VaNDu2OKyWzlkAQAgI53UnZdxxZ3YYduzrEp9SidoR2tvbAy062ONzYmFuMNw2MXtu1c8m64xsuloWnBaybyu8U86ZSylNtgR3d249d4+nbhrvlS6wGhPLjFW5padyBu8sQC8ion7bhWYX0LTCuf/G4zHZDExM6WVQ3a7Jn8bW/sO0Ls2JW246d7Ywyie1KDh4/MxNR2zLMmjk93hAOYx3tj7gwONVYtiLE7I7oisMukgTUdKuk+ohdTyWZPFe100jEU9LUZNUYpi/muKfjnZbKi75LDonzXfK015Q0/RpoHpxYjCzPGoOGZfckI2bR1PihLp3LcgMt12XxXvSG0nSK+LibV04CjGhHpIa59H0wrnwOzbXUXW/4ZsfCq4Kc76F2U1mrkYJbaVgrums6naIBLsv3NKxfHDd+TxsIZuna8wBuceeT5jW0Ix/XBBvM6qK/bPQdJ8DnCRT+Guw2wV5OCko2ooinNjNSMQfpityHUlw9NfJTvRi9TtgnBcnLNyo9B2bDwZyqJip0qVjCFLGYQixXlT4I3tHVwW834X/q3DdPdbyO1FSzea1YgmQIz6vrs27nr9V+ssUXp57Jy9vVfTIXvS4PEsy4isQT23a6/tFE7hTDNvmIo+xqcXG0IjWzyUZvLoBbj7ku6cN7fe5npjL4MTsrVDptbhaWxbN8VYB2/px8tFLi7FLmtQIz0bTbNLzRQJCcVAAWI1srXEJ3GdNFYgW9e/J6ioNrqLWNMlcZozbdbUl5EOIqZiI/3kcTzqTnO1hU37V0v6FJy3WkVZK29DxnVbuXTn0ZjZaax602TWgA6u3c1FRqMCBXWrsyZWbNSa3JqI3vSPmdAbfaqiKKW9ShgR9yg6y1+lnjn5cJQ5Bmq8aMhjJo1TaUYwD/l3rRSNvCc1x6vAeTe9nmkV9ZZCt5JlM+u4AsVSCxq0kXmND+NNN36aSOq19LwuKmD6ZySQc0a6HSOQ8ztGtBcP4+mdyWqsZj+7MuTczjQmC9bYgtS6fQxvjwutiVs2+jh3PaaxE50mvi+m9Em+GdE1OIubr0ukYbRR2ayUDRY6p3jOMu0RPZj5VZo3+b80n165WvqrZMVkROKs8ctHsVaNMhxR48a/Pv3l2kEbtOG+eIzq3YxP/2RBCrUbyk1Mn9IX0RTZlKuV/jGTXkFaFcLMX0scUzo/wWqCtoCWUavUdl+85tOlv1ETF2tSsVN51rNdKcTURmsDFYmcwF0onmY1DWcqYBF7E21d/FOl+bJ8HLqErGMrDgddaqbSTbSd3XgVtepKR5zg9t7Eslbj3PWYxk50TKmCQEmqgFZKXbmzkGkYvpffxVhOIM2QrwNHQ74CXTkHMm/2/tJ8euVq6a+Vod3gTaV0KTMoEVzz6tNNrsDuiQVldqNdxloCQZ2s4N/IUGlf+ScLnM/5T8e0vOIm1Brbizfl4uqB9aGGcvdOVXwDZYoObgTLs7GzoE9o728L2IXfqHwrtia0FnuTnazRmlvTfIL925Rp5l36P774sggr6wZqhPqhOaMRYeSwWJaDi/Za4pT0uLoIP15IzmjawtQX503BCdneedxi3lfBx7nxNhfKOynOhmdMkZndyKKK6dM/4y1nDITUDIoz+WtE8AuJr3XMVkQf6+2rmDf3t91ZrUelc8BcTVRYoRRddmNc4cO8sROJntOi29Qu9nJ509M6f0XLZqqnALGjGVzHTTGPNIq52uwPQIP2jjpa6fgbvt/Wz+6imQwaBLrQsrAwAm/savOXFgdv9sHZpNuibEFSjFIRF2lYg8yIHWY6xsvS55A9qe5GULfUYmeo+oPB1aYfdLl9Qdu9BKbdGOwPVAS8sSPEc6zt13YUY6N/1mEXZ7pXHN8Yn70wfS1tH806NIbGymovwoLrZEpRQ92nBVSEf8+xa4jH1UUaFbeE7ecT4z7Zkds5wBubAbcsGKExWRgNnPaTIWq1BuldDGPp24DrkEWVUXQtdeymtUPgNMruAal6tjKO73XqT9EBB1SyOv52A97YQR7PsdrF7ntCVtEHQRemI7lZoLheH89qwfqhLK4e0CIdvGs2ur8jYHey+eLxcQX1Sxaj2hn2apj+abQBFPweD9yyQEzRFJ8xcGQWCT7ZGs/fkE2nGUBRrB9+VqaNskhzL6IGOAz0qx3JXrTJ9j9AQPsfjNrFXqX3PVW2Omk+cUs8nm3MWX1VTftwTdDuZCUKCXcIrYpPgp+iGkQDNVuRFvfoyPZF66u9DutXVFHD9dWeQuz5cVBko4Ma6hhOR80///zz+/fvLMNxPt+o5HnN++das+SK2XEyAitA1zazNFFk5PlQzZy+nJZDFtaHj0VdTRzD09tdXQGtiX8XuW4Egn+eNH0gp1c23duDlOgyOKkd6Vv/t0PTLjyF//+7FGNDyVv66LN7DE//LO6TFdF9EKuSTxcNa7m1qVxhPrprb9as3RAdyJG96JY9z646sH51HekIsODz/YZibThk68ksMPL333//+++/NOUg6pYty7wmixm+l1wxsJNAQMNcCJi+zgkVbyx//G7tk6V11YaZLcwKOJDwvfEIejvzds5T5LYdLhY03kS+Jr2dSk2e+pppej0rdiewFOmRUs9rjj4jsY2U4fuE7H2Rmbh43RWe7qi1hkxt9amIg4i34T8fBfJG86BoGTXRzirJxHHuekxjJ3pHtAbCqwjf/tmLUYFZsnQOWrlrWcy/K8sF4CSmrHPSP1XGL42KOG+9H/dHV7/7GNYJvJd0tKg/eGlkPksupWbCtMIp4ec9L2Z6n6wssK7bxrlChnZgS+5GL55yNQ1PY+m1bmzEZ4BjvLyZWfNR8UxE73mKDJnO2YLBfzjYlfcxjWdVg9eS9pla59HtVOioAIBIcF/nqM+Yggz9/RsZRuuK52/IArAvweC5NOdtxFlyZ/G28gKgy/2CP302ax2exrZ1U4x1ODEUVL8hC/Zi4nxU/ODDZwyZtp/ZnyMwLa/K/oeq2l9K8DpiB4uj7PI6A4WOCgC48V/nZFEq0rNMtli0WyxpLjhkwcHY7fkfbdYUubN4W3kn0vtcrpfZ5QOTMf1PX/E6JN5So9/P2m+JAjswH0VOdd/0boe09kvgbJij+5N8x+DxXvQuAIA609c5itJhJG/+mq0AACZY78ZrNmuW3Fn4lBf2+sKkBSzxPCT7+f6ynvWvrELAjmA+AgDIoOO6PdgD/hUeAMCdzC6pm6DHdY6RRN08twMOWXAs6fDWMh8ckzFLrj/UZKuUl+aJPTAAusg+qzQSG4E3FliA+QgAoEg8DEvHewwJ+J9pAAAvjJYfnHWO9dNuu8y3AA5ZcCB2A7ud8yy5s3DTas3iA7Av9PMCtzu19tmB8djIPZx9fsF7wHwEAFBn1rIfAAAysM4BAAAAAAAAAAAAAAAAAIb4DxDOEKro7HQqAAAAAElFTkSuQmCC",
y.Fs=m);this.W=new IconManager(m,b);this.W.add("play",40,40);this.W.add("pause",40,40);this.W.add("tostart",40,40);this.W.add("menu",40,40);this.W.add("stepback",40,40);this.W.add("stepforward",40,40);this.W.add("autofit",40,40);this.W.add("fit",40,40);this.W.add("grid",40,40);this.W.add("shrink",40,40);this.W.add("draw",40,40);this.W.add("hexgrid",40,40);this.W.add("lines",40,40);this.W.add("pan",40,40);this.W.add("pick",40,40);this.W.add("states",40,40);this.W.add("hexagongrid",40,40);this.W.add("trianglegrid",
40,40);this.W.add("inside",40,40);this.W.add("undo",40,40);this.W.add("redo",40,40);this.W.add("drawpause",40,40);this.W.add("invertselection",40,40);this.W.add("autoshrink",40,40);this.W.add("selectlibrary",40,40);this.W.add("cut",40,40);this.W.add("copy",40,40);this.W.add("paste",40,40);this.W.add("flipx",40,40);this.W.add("flipy",40,40);this.W.add("rotatecw",40,40);this.W.add("rotateccw",40,40);this.W.add("random",40,40);this.W.add("smart",40,40);this.W.add("outside",40,40);this.W.add("select",
40,40);this.W.add("reverse",40,40);this.W.add("uturn",40,40);this.W.add("nudgeright",40,40);this.W.add("nudgeleft",40,40);this.W.add("nudgeup",40,40);this.W.add("nudgedown",40,40);this.W.add("shrinksel",40,40);this.W.add("cancelsel",40,40);this.W.add("trirectgrid",40,40);this.W.add("download",40,40)};h.prototype.jJ=function(b){var m=!1,f=null;""===b&&(b="Life");try{f=this.A.create("","x = 1, y = 1, rule = "+(b+"\nb!"),this.g.B,null,null,[],this)}catch(u){f=null}f&&f.$e&&(m=!0);return m};h.prototype.iG=
function(b){var m=window.prompt("Change rule",(""===b.Yc?b.vb:b.Yc)+b.Dn);if(null!==m)if(b.jJ(m)){""===m&&(m="Life");var f=m.indexOf(":");-1!==f?(b.vb=m.substr(0,f),b.Dn=m.substr(f)):(b.vb=m,b.Dn="");b.Yc="";f=b.g.Uu(b,b.g,!0,b.g.i,b.g.i,[],!0);b.Ud&&(b.J=b.tn,b.I=b.sn);b.Di(f,!1)}else b.j.notification.notify("Invalid rule",15,180,15,!0)};h.prototype.hA=function(b,m,f,u,z){var B=this.vb;""!==b&&(B=B.substr(0,B.length-b.length));this.Yc=this.vb=B+=m;b=this.g.Uu(this,this.g,!0,f,u,z,!0);this.Ud&&(this.J=
this.tn,this.I=this.sn);this.Di(b,!1)};h.prototype.sL=function(b){b.hA(b.g.ta?"History":"","Super",b.g.ta?7:2,26,b.g.ta?y.lN:y.TP)};h.prototype.qL=function(b){b.hA(b.g.O?"Super":"","History",b.g.O?26:2,7,b.g.O?y.YP:y.SP)};h.prototype.rL=function(b){b.hA(b.g.ta?"History":"Super","",b.g.ta?7:26,2,b.g.ta?y.kN:y.ZP)};h.prototype.wG=function(){var b=this.g.pa.uh;var m="",f,u;var z="R"+b+",C"+(this.g.pa.Jn+",");b=this.A.Pq(b,this.g.pa.type,this.g.pa.dg);switch(this.g.pa.type){case this.A.xh:m="FC"+this.g.pa.cg+
"E"+this.g.pa.eg;break;case this.A.ne:m="";break;case this.A.Vf:m="N";break;case this.A.Rk:m="C";break;case this.A.Xk:m="2";break;case this.A.Mj:m="+";break;case this.A.qk:m="X";break;case this.A.sk:m="*";break;case this.A.dj:m="H";break;case this.A.Lj:m="B";break;case this.A.Ej:m="D";break;case this.A.Vj:m="#";break;case this.A.Sm:m="@"+this.g.pa.Dd;this.g.S?m+="H":this.g.M&&(m+="L");break;case this.A.Gi:m="3";break;case this.A.ii:m="A";break;case this.A.yj:m="L";break;case this.A.aj:m="G";break;
case this.A.Rp:m="W"+this.g.pa.Dd,this.g.S?m+="H":this.g.M&&(m+="L")}var B=this.zb.random()*b/b;z+="S";var C=-1;for(f=u=0;u<b;)this.zb.random()<B?-1===C&&(0<f&&(z+=","),z+=String(u),C=u,f+=1):-1!==C&&(C!==u-1&&(z+="-"+String(u-1)),C=-1),u+=1;-1!==C&&C!==u-1&&(z+="-"+String(u-1));0===f&&(C=this.zb.random()*b|0,z+=String(C));z+=",B";B=this.zb.random()*(b-1)/(b-1);C=-1;u=1;for(f=0;u<b;)this.zb.random()<B?-1===C&&(0<f&&(z+=","),z+=String(u),C=u,f+=1):-1!==C&&(C!==u-1&&(z+="-"+String(u-1)),C=-1),u+=1;
-1!==C&&C!==u-1&&(z+="-"+String(u-1));0===f&&(C=this.zb.random()*(b-1)|1,z+=String(C));""!==m&&(z+=",N"+m);this.g.pa.Rr&&(z+=",P");return z};h.prototype.xG=function(){var b=this.g.pa.uh;var m="";var f="R"+b+",C"+(this.g.pa.Jn+",");f+="M1,";b=this.A.Pq(b,this.g.pa.type,this.g.pa.dg);b+=1;switch(this.g.pa.type){case this.A.xh:m="FC"+this.g.pa.cg+"E"+this.g.pa.eg;break;case this.A.ne:m="M";break;case this.A.Vf:m="N";break;case this.A.Rk:m="C";break;case this.A.Xk:m="2";break;case this.A.Mj:m="+";break;
case this.A.qk:m="X";break;case this.A.sk:m="*";break;case this.A.dj:m="H";break;case this.A.Lj:m="B";break;case this.A.Ej:m="D";break;case this.A.Vj:m="#";break;case this.A.Sm:m="@"+this.g.pa.Dd;this.g.S?m+="H":this.g.M&&(m+="L");break;case this.A.Gi:m="3";break;case this.A.ii:m="A";break;case this.A.yj:m="L";break;case this.A.aj:m="G";break;case this.A.Rp:m="W"+this.g.pa.Dd,this.g.S?m+="H":this.g.M&&(m+="L")}var u=this.zb.random()*b|0;f+="S"+String(u);u=(this.zb.random()*(b-u)|0)+u;f+=".."+String(u);
u=(this.zb.random()*(b-1)|0)+1;f+=",B"+String(u);u=(this.zb.random()*(b-u)|0)+u;f+=".."+String(u);return f+(",N"+m)};h.prototype.AG=function(){var b="W";var m=2*(127*this.zb.random()|0);return b+=String(m)};h.prototype.yG=function(b){var m="B",f,u,z=8,B="";if(this.g.S)switch(this.g.hg){case this.A.Bq:z=6;B=this.A.gw;break;case this.A.Oo:z=3,B=this.A.jB}else if(this.g.M)switch(this.g.Ld){case this.A.Pp:z=3;B=this.A.qu;break;case this.A.Nr:z=6;B=this.A.ny;break;case this.A.Or:z=6;B=this.A.oy;break;
case this.A.Qp:z=9;B=this.A.su;break;case this.A.ho:z=12;B=this.A.ru;break;case this.A.Mr:z=9;B=this.A.my;break;case this.A.Pr:z=3,B=this.A.py}else this.g.Ic&&(z=4,B=this.A.yy);var C=new Uint8Array(z+1);var E=new Uint8Array(z+1);var G=u=50;-1!==this.cm&&(G=u=this.cm);-1!==this.dm&&(u=this.dm);-1!==this.In&&(G=this.In);for(f=0;f<=z;f+=1)C[f]=u,E[f]=G;-1===this.cm&&-1===this.dm&&(C[0]=25);for(f=0;f<this.zi.length;f+=2)this.zi[f]<=z&&(C[this.zi[f]]=this.zi[f+1]);for(f=0;f<this.kk.length;f+=2)this.kk[f]<=
z&&(E[this.kk[f]]=this.kk[f+1]);for(f=2<this.g.i||b?1:0;f<=z;)100*this.zb.random()<=C[f]&&(m+=String(f)),f+=1;m+="/S";for(f=0;f<=z;f+=1)100*this.zb.random()<=E[f]&&(m+=String(f));2<this.g.i&&!this.g.O&&(m+="/"+this.g.i);return m+=B.toUpperCase()};h.prototype.zG=function(b){var m=b?this.A.fO.toUpperCase()+",":"M",f,u=!1;var z=0;var B=[];var C=this.g.xg;if(this.Ax){u=new Uint8Array(16);b=new Uint8Array(16);for(f=0;16>f;f+=1)u[f]=f,b[f]=C[f];for(f=0;16>f;f+=1){var E=C[f];for(z=b=0;16>z;z+=1)E===C[z]&&
(b+=1);var G=new Uint8Array(b);for(z=b=0;16>z;z+=1)E===C[z]&&(G[b]=z,b+=1);B[f]=G}for(f=1;16>f;f+=1).5>=this.zb.random()&&(G=B[f],b=this.zb.random()*G.length|0,b=G[b],C=u[f],u[f]=u[b],u[b]=C);for(f=0;15>f;f+=1)m+=u[f]+",";m+=u[f]}else if(this.yx){f=16;b?(b=0,z|=1):(b=16*this.zb.random()|0,15===b?(u=!0,z|=32769,--f):(b=0,z|=1));m+=String(b);for(--f;65535!==z;){b=this.zb.random()*f|0;for(E=0;0<=b;)0===(z&1<<E)&&--b,E+=1;m+=","+String(E-1);z|=1<<E-1;--f}u&&(m+=",0")}else{b?b=0:(b=16*this.zb.random()|
0,15===b?u=!0:b=0);m+=String(b)+",";for(f=1;15>f;f+=1)b=16*this.zb.random()|0,m+=String(b)+",";b=u?0:16*this.zb.random()|0;m+=String(b)}return m};h.prototype.Nt=function(b,m){var f="",u,z,B=0,C,E=[],G=b.xx,F=b.Bx,I=b.nr/100,L=!1;-1!==b.vb.indexOf("|")&&(L=!0);if(2>=b.g.i||b.Pt){E[0]="b";E[1]="o";var M=2}else for(M=b.g.i,E[0]=".",z=0;z<M-1;z+=1)E[z+1]=24<=z?String.fromCharCode(112+(z/24|0)-1)+String.fromCharCode(65+z%24):String.fromCharCode(65+z);-1!==b.g.ve&&(G=1);for(u=0;u<G;u+=1){var H=this.zb.random()<=
I?(this.zb.random()*(M-1)|0)+1:0;for(z=C=1;z<F;z+=1)B=this.zb.random()<=I?(this.zb.random()*(M-1)|0)+1:0,B!==H&&(1<C&&(f+=C),f+=E[H],C=0,H=B),C+=1;0!==B&&(1<C&&(f+=C),f+=E[B]);u<G-1&&(f+="$\n")}f+="!\n";b.Ot||m||(b.g.ca||(b.g.ia||b.g.L?(b.vb=b.zG(b.g.L),L&&(b.vb+="|"+b.zG(b.g.L))):b.g.oa?b.IF?(b.vb=b.xG(),L&&(b.vb+="|"+b.xG())):(b.vb=b.wG(),L&&(b.vb+="|"+b.wG())):-1!==b.g.ve?(b.vb=b.AG(),L&&(b.vb+="|"+b.AG())):(b.vb=b.yG(L),L&&(b.vb+="|"+b.yG(L)))),b.g.ta&&(b.vb+="History"),b.g.O&&(b.vb+="Super"),
m=AliasManager.vs(b.vb),null!==m?b.Yc=m:b.Yc="");m=b.g.Lc;m+="x = "+y.mr+", y = "+y.mr+", rule = ";m+=(""===b.Yc?b.vb:b.Yc)+b.Dn+"\n";m=m+f+b.g.ah;if(b.yk.locked||b.wx||window.confirm("Create new random pattern?"))b.Ud&&(b.J=b.tn,b.I=b.sn),b.Di(m,!1),b.$D(b)};h.prototype.oI=function(b){var m=window.prompt("Create new pattern with rule",(""===b.Yc?b.vb:b.Yc)+b.Dn);null!==m&&(b.jJ(m)?(""===m&&(m="Life"),b.Ud&&(b.J=b.tn,b.I=b.sn),b.Di("x = 1, y = 1, rule = "+(m+"\nb!"),!1)):b.j.notification.notify("Invalid rule",
15,180,15,!0))};h.prototype.PJ=function(){this.cj.icon=this.g.S?this.g.Tb?[this.W.icon("hexgrid")]:[this.W.icon("hexagongrid")]:this.g.M?this.g.Tb?[this.W.icon("trirectgrid")]:[this.W.icon("trianglegrid")]:[this.W.icon("grid")]};h.prototype.kz=function(b,m){b.j.hasFocus&&(b.zo||(b.wheelDelta=-m.deltaY,1===m.deltaMode&&(b.wheelDelta*=45),b.j.og(!0)),m.preventDefault())};h.prototype.qF=function(){var b=this.$.bG(0===this.hu?0:this.Oh/this.hu),m=this.Qn,f=this.qs,u=this.Sn,z=this.rq;this.g.Da=this.g.width/
2-(this.Tn+b*(this.Cl-this.Tn));this.g.xa=this.g.height/2-(this.Un+b*(this.Jo-this.Un));this.g.zoom=this.zp*Math.pow(this.Ko/this.zp,b);180<f-m?m+=360:-180>f-m&&(f+=360);this.g.angle=(m+b*(f-m))%360;this.g.Sa=u+b*(z-u);this.Iv&&(this.g.Ze=this.sE+b*(this.OA-this.sE),this.rd.current=this.Am([this.g.Ze,this.g.Ze],!1,this));this.Aw&&(this.g.aa=this.uE+b*(this.PA-this.uE),this.Fe.current=this.tu([this.g.aa,this.g.aa],!1,this));this.Oh+=1;this.Oh>this.hu&&(this.Oh=-1,this.g.zoom=this.Ko,this.g.angle=f%
360,this.g.Sa=this.rq,this.g.Da=this.g.width/2-this.Cl,this.g.xa=this.g.height/2-this.Jo,this.Iv&&(this.g.Ze=this.OA,this.rd.current=this.Am([this.g.Ze,this.g.Ze],!1,this)),this.Aw&&(this.g.aa=this.PA,this.Fe.current=this.tu([this.g.aa,this.g.aa],!1,this)));this.Jc&&(this.Jc.current=this.tl([this.g.zoom,this.g.zoom],!1,this));this.Pc&&(this.Pc.current=this.jo([this.g.angle,this.g.angle],!1,this));this.ue&&(this.ue.current=this.Sr([this.ks(this.g.Sa),this.g.Sa],!1,this))};h.prototype.IL=function(){var b=
this.$,m=b.yf.length,f,u=this.Ra,z=this.Wa,B=b.jq();for(f=0;f<m;f+=1){var C=b.yf[f];B.ui=!0;B.x=-C.x+u/2;B.wg=!0;B.y=-C.y+z/2;B.Yf=!0;B.zoom=C.zoom;B.we=!0;b.add(B);f<m-1&&(B=b.jq())}};h.prototype.iE=function(b,m){var f=b.$.Ec[m];b.Tn=b.g.width/2-b.g.Da;b.Un=b.g.height/2-b.g.xa;b.zp=b.g.zoom;b.Qn=b.g.angle;b.Sn=b.g.Sa;f.wg?b.Cl=f.x:b.Cl=b.Tn;f.Yf?b.Jo=f.y:b.Jo=b.Un;b.Ko=f.we?f.zoom:b.zp;b.qs=f.hi?f.angle:b.Qn;b.rq=f.Fi?f.Sa:b.Sn;b.g.S&&(b.Cl+=b.g.xa/2);b.Iv=f.$i;b.Iv&&(b.sE=b.g.Ze,b.OA=f.depth/y.Do);
b.Aw=f.ij;b.Aw&&(b.uE=b.g.aa,b.PA=f.aa);b.Oh=0;b.hu=f.dl;b.qF();f.rp&&b.ZI(b);f.Ch===WaypointConstants.play?b.Zb.current=b.Md(y.$k,!0,b):f.Ch===WaypointConstants.stop&&b.ib&&(b.Zb.current=b.Md(y.af,!0,b));f.Hf&&b.Kn(f.yc,b.g.Nm,b);b.j.notification.notify("POI "+(m+1),15,60,15,!0);""!==f.ug?b.j.notification.notify(f.ug,15,180,15,!1):b.j.notification.clear(!1,!0);f.Vn&&(b.lc=f.lc);f.kn&&(b.nb=f.nb);f.fg&&(b.oc=Math.sqrt((f.Nc-y.kj)/(b.Ma-y.kj)));f.Ff&&(b.xb=f.step);if(f.fg||f.Ff)b.rg.current=b.zk([b.rm(),
1],!0,b);f.gu&&(b.g.counter>f.qc&&b.ZI(b),b.g.counter<f.qc&&(b.zo=!0,b.gA=f.qc,b.fA=!1));f.Kl&&(b.g.tc=f.grid);f.Zx&&(this.sj=f.Pn)};h.prototype.li=function(b,m,f){var u=m/b.g.Dc;f&&(m=1<=m?Math.round(m):1/Math.round(1/m),u=m/b.g.Dc);b.Rd||(b.Tn=b.g.width/2-b.g.Da,b.Un=b.g.height/2-b.g.xa,b.zp=b.g.zoom,b.Qn=b.g.angle,b.Sn=b.g.Sa,b.Cl=b.Tn,b.Jo=b.Un,b.Ko=u,b.qs=b.Qn,b.rq=b.Sn,b.Oh=0)};h.prototype.Cz=function(b){b.rg.current=b.zk([1,1],!0,b)};h.prototype.Sy=function(b){b.pF(b)};h.prototype.mz=function(b){b.MD(b)};
h.prototype.Cu=function(b){b.Ub&&b.nw(b);-1!==b.ef&&b.du(b,!0,!0)};h.prototype.bs=function(b){b.nm||b.om||b.mm||b.ml||b.pm||b.nl||b.lm?(b.nm=!1,b.om=!1,b.ml=!1,b.mm=!1,b.pm=!1,b.lm=!1,b.nl=!1):b.Cc.current=[!1]};h.prototype.Ju=function(b){b.mm=!0};h.prototype.Xy=function(b){b.ml=!0};h.prototype.Ov=function(b){b.nm=!0};h.prototype.yu=function(b){b.lm=!0};h.prototype.Zy=function(b){b.pm=!0};h.prototype.wD=function(b){b.om=!0};h.prototype.OF=function(b){b.oI(b)};h.prototype.lz=function(b){b.Nt(b,!1)};
h.prototype.jz=function(b){b.Nt(b,!0)};h.prototype.xz=function(b){b.$D(b);b.j.notification.notify("Saved",15,120,15,!0)};h.prototype.wF=function(b){b.RH(b)};h.prototype.pz=function(b){b.iG(b)};h.prototype.zA=function(b){b.nl=!0};h.prototype.Ke=function(b,m,f){f&&(m[0]?(this.Kn(y.ju[b],1,this),this.Cc.current[0]&&(this.Cc.current=this.co([!1],!0,this))):(this.Cc.current[0]&&(this.Cc.current=this.co([!1],!0,this)),m[0]=!0));return m};h.prototype.vB=function(b,m,f){return f.Ke(0,b,m)};h.prototype.yB=
function(b,m,f){return f.Ke(1,b,m)};h.prototype.xF=function(b,m,f){return f.Ke(2,b,m)};h.prototype.MF=function(b,m,f){return f.Ke(3,b,m)};h.prototype.NF=function(b,m,f){return f.Ke(4,b,m)};h.prototype.PF=function(b,m,f){return f.Ke(5,b,m)};h.prototype.Hy=function(b,m,f){return f.Ke(6,b,m)};h.prototype.Ky=function(b,m,f){return f.Ke(7,b,m)};h.prototype.My=function(b,m,f){return f.Ke(8,b,m)};h.prototype.Ny=function(b,m,f){return f.Ke(9,b,m)};h.prototype.RB=function(b,m,f){return f.Ke(10,b,m)};h.prototype.VB=
function(b,m,f){return f.Ke(11,b,m)};h.prototype.hC=function(b,m,f){return f.Ke(12,b,m)};h.prototype.tC=function(b,m,f){return f.Ke(13,b,m)};h.prototype.gD=function(b,m,f){return f.Ke(14,b,m)};h.prototype.xD=function(b,m,f){return f.Ke(15,b,m)};h.prototype.KD=function(b,m,f){return f.Ke(16,b,m)};h.prototype.dE=function(b,m,f){return f.Ke(17,b,m)};h.prototype.CE=function(b,m,f){return f.Ke(18,b,m)};h.prototype.nF=function(b,m,f){return f.Ke(19,b,m)};h.prototype.KF=function(b,m,f){return f.Ke(20,b,
m)};h.prototype.oB=function(b){b.Rg=!1};h.prototype.sC=function(b){b.eH(b)};h.prototype.TL=function(b){"Empty"===b.lb||"none"===b.lb||""===b.lb?b.j.notification.notify("No Identify Results",15,120,15,!1):(b.nj=0,b.Wk.current=b.Hp(b.nj,!0,b),b.Rg=!0)};h.prototype.Rw=function(b){b.yd=!1;b.bn.current=b.AF([b.yd],!0,b)};h.prototype.iw=function(b){b.Jd.length?(b.Jd=[],b.sc=0,b.jE(b.ud.current)):n()};h.prototype.SI=function(b){--b.yh;0>b.yh&&(b.yh=b.$.Ec.length-1);b.iE(b,b.yh)};h.prototype.pI=function(b){b.yh+=
1;b.yh>=b.$.Ec.length&&(b.yh=0);b.iE(b,b.yh)};h.prototype.Gy=function(b){b.md+=1;b.md>=D.bf.length&&(b.md=0);b.Di(D.bf[b.md].pattern,!1)};h.prototype.dz=function(b){--b.md;0>b.md&&(b.md=D.bf.length-1);b.Di(D.bf[b.md].pattern,!1)};h.prototype.Bz=function(b){b.AE();b.ha&&(b.ha=0);b.Cc.current[0]=!1;b.j.vg=!0};h.prototype.Az=function(b){b.Zt=!0};h.prototype.Py=function(b){b.Jh(y.Th,b)};h.prototype.jL=function(b,m){var f=0;if((b.g.ta||b.g.O)&&m)for(;f<b.Ib.length;)1<b.Ib[f]&&(b.Ib[f]&=1),f+=1;else for(;f<
b.Ib.length;)b.Ib[f]=0,f+=1};h.prototype.oG=function(b){var m=b.Vb,f=m.o,u=m.u,z=m.s;m=m.v;var B=b.g.N,C=B.o,E=B.u,G=B.s;B=B.v;var F=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<1);var I=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<1),L=0;if(!b.Ta&&b.yb){if(f>u){var M=u;u=f;f=M}z>m&&(M=m,m=z,z=M);f+=F;u+=F;z+=I;m+=I;for(M=G;M<=B;M+=1)for(G=C;G<=E;G+=1)M>=z&&M<=m&&G>=f&&G<=u||(F=b.g.getState(G,M,!1),0!==F&&(L|=b.ed(G,M,0)));b.g.ta&&L&&this.g.Tf();b.g.Wg=!0;b.g.zh();b.rb("clear cells outside selection")}};h.prototype.kL=function(b,
m){var f=b.Vb,u=f.o,z=f.u,B=f.s;f=f.v;var C=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<1),E=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<1);if(!b.Ta&&b.yb){if(u>z){var G=z;z=u;u=G}B>f&&(G=f,f=B,B=G);if((b.g.ta||b.g.O)&&m){for(G=B;G<=f;G+=1)for(B=u;B<=z;B+=1){var F=b.g.getState(B+C,G+E,!1);1<F&&b.ed(B+C,G+E,F&1)}b.g.ta&&this.g.Tf()}else for(G=B;G<=f;G+=1)for(B=u;B<=z;B+=1)F=b.g.getState(B+C,G+E,!1),0!==F&&b.ed(B+C,G+E,0);b.g.Wg=!0;b.g.zh();b.fi=!1;(b.g.ta||b.g.O)&&m?b.g.ta?b.rb("clear History cells in selection"):b.rb("clear Super cells in selection"):
b.rb("clear cells in selection")}};h.prototype.bE=function(b){b.li(b,b.g.zoom*b.g.Dc,!0)};h.prototype.Eu=function(b){b.hh(!0,!0,y.WA)};h.prototype.IA=function(b,m){b.Ta||(b.td?b.jL(b,m):b.kL(b,m))};h.prototype.Iu=function(b){b.IA(b,!1)};h.prototype.Gu=function(b){b.oG(b)};h.prototype.Hu=function(b){b.IA(b,!0)};h.prototype.nJ=function(b){var m=b.Vb,f=b.g.N,u=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<1),z=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<1);0<b.g.ga?(b.g.Wg=!0,b.g.zh(),b.g.O||b.g.ca||!(b.g.L||b.g.oa&&2===b.g.i||
2<b.g.i)?(m.o=f.o-u,m.s=f.s-z,m.u=f.u-u,m.v=f.v-z):(b.g.CM(m),m.o-=u,m.u-=u,m.s-=z,m.v-=z),b.yb=!0,b.fi=!1,f=m.u<m.o?m.o-m.u+1:m.u-m.o+1,m=m.v<m.s?m.s-m.v+1:m.v-m.s+1,b.rb("select all ("+f+" x "+m+")")):(b.j.notification.notify("Empty Pattern",15,120,15,!1),b.yb&&b.Gx(b))};h.prototype.TI=function(b,m,f){b.Ta||(!b.Yl&&b.ni&&(m?b.ls(b,!0):b.Ta?b.ls(b,!0):f?b.mv(b,!0):b.mv(b,!1)),b.yA(b,b.fh,!1,!1))};h.prototype.UG=function(b){b.TI(b,!1,!1)};h.prototype.yA=function(b,m,f,u){var z=b.Vb,B=z.o,C=z.u,E=
z.s;z=z.v;var G,F=0,I=b.g.i,L=2<I&&!(this.g.za||this.g.L||this.g.ca||this.g.O),M=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<1),H=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<1),K=0;if(b.yb){if(B>C){var J=C;C=B;B=J}E>z&&(J=z,z=E,E=J);var S=C-B+1;var pa=z-E+1;var oa=b.g.B.T(Uint8,S*pa,"View.pasteBuffer"+m);J=0;for(G=E;G<=z;G+=1)for(E=B;E<=C;E+=1){var O=b.g.getState(E+M,G+H,!1);0<O&&L&&(O=I-O);oa[J]=O;0<O&&(F+=1);K|=b.ed(E+M,G+H,0);J+=1}b.g.ta&&K&&this.g.Tf();b.kg[m]={buffer:oa,width:S,height:pa,count:F};b.Ib=oa;b.Sf=S;b.Rf=
pa;b.ov();b.g.Wg=!0;b.g.zh();b.ds=!0;b.Sd=!1;b.fi=!0;u||(f?b.rb("advance outside"):b.rb("cut"))}};h.prototype.sx=function(b,m,f){0!==b.ha?(Help.jA=!0,Help.Ao="",Help.Lv(b),b.Om(b,Help.Ao,!1),Help.jA=!1,Help.Ao=""):(b.Yl||!b.ni&&b.yb||(m?b.ls(b,!0):b.Ta?b.ls(b,!0):f?b.mv(b,!0):b.mv(b,!1)),b.yb&&(b.yL(b,b.fh),b.ay||(b.ay=!0,b.j.notification.notify("Disable Sync for faster internal clipboard",15,360,15,!1))))};h.prototype.Vy=function(b){b.Kt(b,!0)};h.prototype.Yu=function(b){b.sx(b,!1,!0)};h.prototype.xu=
function(b){b.sx(b,!0,!1)};h.prototype.Nu=function(b){b.rG(b)};h.prototype.vI=function(b){navigator.clipboard.readText().then(m=>b.DN(b,m))};h.prototype.Ou=function(b){b.sx(b,!1,!1)};h.prototype.DL=function(b){var m=b.Vb,f=m.o,u=m.s,z=m.u,B=m.v,C,E,G=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<1),F=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<1),I=!0;m=[];if(b.yb){if(f>z){var L=f;f=z;z=L}u>B&&(L=u,u=B,B=L);L=z-f+1;if(L!==B-u+1)b.j.notification.notify("Weighted needs a square selection",15,180,15,!0),I=!1;else if(0===(L&
1))b.j.notification.notify("Weighted size must be odd",15,180,15,!0),I=!1;else if(3>L||99<L)b.j.notification.notify("Weighted size must be >= 3 and <= 99",15,180,15,!0),I=!1;if(I){I="";var M=0;for(E=u;E<=B;E+=1)for(C=f;C<=z;C+=1)u=b.g.getState(C+G,E+F,!1),m[m.length]=u,u>M&&(M=u);if(7>=M)for(f=0;f<m.length;f+=1)u=m[f],I+=b.A.fw[u];else for(f=0;f<m.length;f+=1)u=m[f],I+=b.A.fw[u>>4],I+=b.A.fw[u&15];b.g.S?I+="H":b.g.M&&(I+="L");b.Om(b,I,!1);b.j.notification.notify("Weighted R"+(L-1>>1)+" copied to clipboard",
15,180,15,!0)}}else b.j.notification.notify("Weighted needs a selection",15,180,15,!0)};h.prototype.uL=function(b){var m=b.Vb,f=m.o,u=m.s,z=m.u;m=m.v;var B=0,C,E=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<1),G=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<1);var F=!0;if(b.yb){if(f>z){var I=f;f=z;z=I}u>m&&(I=u,u=m,m=I);I=z-f+1;if(I!==m-u+1)b.j.notification.notify("CoordCA needs a square selection",15,180,15,!0),F=!1;else if(0===(I&1))b.j.notification.notify("CoordCA size must be odd",15,180,15,!0),F=!1;else if(3>I||99<I)b.j.notification.notify("CoordCA size must be >= 3 and <= 99",
15,180,15,!0),F=!1;if(F){var L="";var M=u+(m-u+1>>1);F=f+(z-f+1>>1);var H=3;for(C=u;C<=m;C+=1)for(u=f;u<=z;u+=1)if(C!==M||u!==F){var K=b.g.getState(u+E,C+G,!1);0<K&&(B|=1<<H);--H;0>H&&(L+=b.A.fw[B],H=3,B=0)}b.g.S?L+="H":b.g.M&&(L+="L");b.Om(b,L,!1);b.j.notification.notify("CoordCA R"+(I-1>>1)+" copied to clipboard",15,180,15,!0)}}else b.j.notification.notify("CoordCA needs a selection",15,180,15,!0)};h.prototype.rG=function(b){2<b.g.i?b.DL(b):b.uL(b)};h.prototype.yL=function(b,m){var f=b.Vb,u=f.o,
z=f.s,B=f.u;f=f.v;var C,E=0,G=b.g.i,F=2<G&&!(this.g.za||this.g.L||this.g.ca||this.g.O),I=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<1),L=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<1);if(b.yb){if(u>B){var M=u;u=B;B=M}z>f&&(M=z,z=f,f=M);var H=B-u+1;var K=f-z+1;var J=b.g.B.T(Uint8,H*K,"View.pasteBuffer"+m);M=0;for(C=z;C<=f;C+=1)for(z=u;z<=B;z+=1){var S=b.g.getState(z+I,C+L,!1);0<S&&F&&(S=G-S);J[M]=S;0<S&&(E+=1);M+=1}b.kg[m]={buffer:J,width:H,height:K,count:E};b.Ib=J;b.Sf=H;b.Rf=K;b.ov();b.ds=!0;b.Sd=!1;b.fi=!0}};h.prototype.av=
function(b){b.td=!1;b.j.notification.clear(!0,!1);b.Sd&&b.pF(b);b.Sd=!1};h.prototype.pM=function(b,m){var f=this.xd,u=this.ni;m?b.yb?(b.yA(b,b.fh,!0,!1),b.g.He(!0,b.oe,b.Hc,b.Ub,b),b.g.he(),b.rb(""),this.xd=y.Zw,b.Kt(b,!0,!0),this.xd=f):b.j.notification.notify("Advance Outside needs a selection",15,180,15,!0):b.Sd?(b.hH(b),b.Sd||b.j.notification.notify("Advance Selection all cells died",15,180,15,!0)):b.yb?(b.fi||(this.ni=!1,b.UG(b),this.ni=u),b.ds&&(b.hH(b),b.Sd||b.j.notification.notify("Advance Selection no live cells",
15,180,15,!0))):b.j.notification.notify("Advance Selection needs a selection",15,180,15,!0)};h.prototype.hH=function(b){var m,f,u,z=b.Sf,B=b.Rf,C=b.Ib,E=b.Vb,G=b.g.N,F=b.g.me,I=b.sq,L=b.g.grid,M=b.g.Fh,H=b.g.U,K=b.g.wl,J=b.g.ge,S=b.g.Jb,pa=b.g.Ga,oa=b.g.ka,O=b.g.wa,ba=b.g.Oa,R=b.g.ya,Z=b.g.width,fa=b.g.height,ka=b.g.kb,aa=b.g.cc,ha=b.g.Lf,Y=b.g.cs,ra=b.g.Bd,la=b.g.zc,U=b.g.va,P=b.g.ra,X=b.g.Pb,ea=b.g.Nb,ma=b.g.counter,W=new BoundingBox(G.o,G.s,G.u,G.v),N=new BoundingBox(F.o,F.s,F.u,F.v),Q=b.g.Ef,
ja=b.g.uj,V=b.g.tk,T=b.g.Xg,qa=b.g.mc,za=b.g.fd,wa=b.g.jp,va=b.g.al,na=null,ca=null,ia=b.g.X,da=b.g.ga,ua=b.g.sb,ta=b.g.$a;b.g.oa&&(na=b.g.pa.Rb,ca=b.g.pa.fv,b.g.pa.resize(1024,1024));b.g.OK();var xa=Math.round((b.g.width-b.Ra)/2);var sa=Math.round((b.g.height-b.Wa)/2);for(u=m=0;u<B;u+=1)for(f=0;f<z;f+=1){var ya=C[m];0<ya&&b.g.qj(f+xa,u+sa,ya,!0);m+=1}b.g.He(!1,!0,!0,b.Ub,b);b.g.he();if(b.g.X){b.Sf=G.u-G.o+1;b.Rf=G.v-G.s+1;b.Ib=b.g.B.T(Uint8,b.Sf*b.Rf,"View.pasteBuffer");m=0;for(u=G.s;u<=G.v;u+=1)for(f=
G.o;f<=G.u;f+=1)ya=b.g.getState(f,u,!1),0<ya&&2<b.g.i&&!(b.g.O||b.g.L||b.g.ca)&&(ya=b.g.i-ya),b.Ib[m]=ya,m+=1;b.Sd?(I.o+=G.o-xa,I.s+=G.s-sa,I.u=I.o+b.Sf-1,I.v=I.s+b.Rf-1):(I.o=E.o<E.u?E.o+G.o-xa:E.u+G.o-xa,I.s=E.s<E.v?E.s+G.s-sa:E.v+G.s-sa,I.u=I.o+b.Sf-1,I.v=I.s+b.Rf-1);b.Sd=!0}else b.Sd=!1;b.g.grid=L;b.g.Fh=M;b.g.U=H;b.g.wl=K;b.g.ge=J;b.g.Jb=S;b.g.Ga=pa;b.g.ka=oa;b.g.wa=O;b.g.Oa=ba;b.g.ya=R;b.g.width=Z;b.g.height=fa;b.g.kb=ka;b.g.cc=aa;b.g.N.o=W.o;b.g.Lf=ha;b.g.cs=Y;b.g.Bd=ra;b.g.zc=la;b.g.va=U;
b.g.ra=P;b.g.Pb=X;b.g.Nb=ea;b.g.counter=ma;b.g.Ef=Q;b.g.uj=ja;b.g.tk=V;b.g.Xg=T;b.g.mc=qa;b.g.fd=za;b.g.jp=wa;b.g.al=va;G.o=W.o;G.s=W.s;G.u=W.u;G.v=W.v;F.o=N.o;F.s=N.s;F.u=N.u;F.v=N.v;b.g.X=ia;b.g.sb=ua;b.g.$a=ta;b.g.ga=da;b.g.oa&&(b.g.pa.Rb=na,b.g.pa.fv=ca)};h.prototype.hD=function(b,m,f,u){var z=b.Sf,B=b.Rf,C=b.Ib;var E=b.Of;var G=b.g.width;var F=b.g.height;var I=0;switch(b.nh+.5|0){case y.BI:m-=z>>1;break;case y.CI:m-=z-1;break;case y.GI:f-=B>>1;break;case y.AI:m-=z>>1;f-=B>>1;break;case y.zI:m-=
z-1;f-=B>>1;break;case y.FI:f-=B-1;break;case y.DI:m-=z>>1;f-=B-1;break;case y.EI:m-=z-1,f-=B-1}E.o=m;E.s=f;E.u=m+z;E.v=f+B;for(b.es(b,E);G!==b.g.width;)m+=G>>1,G<<=1;for(;F!==b.g.height;)f+=F>>1,F<<=1;switch(this.Bw()){case y.$q:for(F=E=0;F<B;F+=1)for(G=0;G<z;G+=1){var L=C[E];if(this.g.L){var M=this.g.getState(m+G,f+F,!1);I|=b.ed(m+G,f+F,M|L)}else 0<L&&(I|=b.ed(m+G,f+F,L));E+=1}break;case y.Zw:for(F=E=0;F<B;F+=1)for(G=0;G<z;G+=1)L=C[E],I|=b.ed(m+G,f+F,L),E+=1;break;case y.$w:for(F=E=0;F<B;F+=1)for(G=
0;G<z;G+=1)L=C[E],M=this.g.getState(m+G,f+F,!1),I|=b.ed(m+G,f+F,M^L),E+=1;break;case y.Yw:for(F=E=0;F<B;F+=1)for(G=0;G<z;G+=1)L=C[E],M=this.g.getState(m+G,f+F,!1),I|=b.ed(m+G,f+F,M&L),E+=1}b.g.ta&&I&&this.g.Tf();b.td=!1;b.Sd=!1;b.j.notification.clear(!0,!1);u&&b.rb("paste")};h.prototype.An=function(b,m,f){var u=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<1),z=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<1),B=b.Vb,C=B.o,E=B.s,G=B.u,F=B.v;var I=0;var L=b.g.width-1;var M=0;var H=b.g.height-1,K=0;if(!b.Ta&&b.yb){if(C>G){var J=
G;G=C;C=J}E>F&&(J=F,F=E,E=J);J=G-C+1;var S=F-E+1;-1!==b.g.sa&&(0!==b.g.Ea?(I=Math.round((b.g.width-b.g.Ea)/2)-1,L=I+b.g.Ea-1+2):(I=0,L=b.g.width-1),0!==b.g.Aa?(M=Math.round((b.g.height-b.g.Aa)/2)-1,H=M+b.g.Aa-1+2):(M=0,H=b.g.height-1));if(C+u+m>I&&G+u+m<L&&E+z+f>M&&F+z+f<H){b.yA(b,b.fh,!1,!0);u+=m;z+=f;I=0;G=b.kg[b.fh].buffer;for(M=0;M<S;M+=1)for(L=0;L<J;L+=1)F=G[I],K|=b.ed(C+L+u,E+M+z,F),I+=1;b.g.ta&&K&&this.g.Tf();B.o+=m;B.u+=m;B.s+=f;B.v+=f;b.rb("nudge "+(0===m?-1===f?"up":"down":-1===m?"left":
"right"))}else b.j.notification.notify("No room to nudge selection",15,180,15,!0)}};h.prototype.Kt=function(b,m,f){var u=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<1),z=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<1),B=b.Vb,C=b.sq,E=B.o,G=B.s,F=B.u;B=B.v;var I;if(!b.Ta&&null!==b.kg[b.fh])if(m)if(b.yb||b.Sd)if(b.Sd&&(E=C.o,G=C.s,F=C.u,B=C.v),E>F&&(m=E,E=F,F=m),G>B&&(m=G,G=B,B=m),F=F-E+1,B=B-G+1,b.Sf>F||b.Rf>B)b.j.notification.notify("Paste does not fit in selection",15,180,15,!0);else{m=b.nh;b.nh=y.ar;for(I=G;I<=G+B-b.Rf;I+=
b.Rf)for(C=E;C<=E+F-b.Sf;C+=b.Sf)b.hD(b,C+u,I+z,!1);b.nh=m;b.Hk&&b.Zr(b);f?b.rb("advance outside"):b.rb("paste to selection");b.Sd=!1}else b.j.notification.notify("Paste to Selection needs a selection",15,180,15,!0);else b.dD(b,b.fh),b.Sd=!1,b.j.notification.notify("Now click to paste",15,180,15,!0)};h.prototype.dO=function(b){b.Sd?(b.Kt(b,!0,!1),b.fi=!1):b.hD(b,b.Pk,b.Qk,!0)};h.prototype.HI=function(b){b.Kt(b,!1,!1)};h.prototype.dD=function(b,m){0<=m&&m<b.kg.length&&(null!==b.kg[m]?(b.td=!0,b.Sd=
!1,b.Ib=b.kg[m].buffer,b.Sf=b.kg[m].width,b.Rf=b.kg[m].height,b.ud.current!==y.pn&&(b.ud.current=b.sl(y.pn,!0,b))):(b.td=!1,b.Sd=!1,b.j.notification.notify("Clipboard empty",15,180,15,!0)))};h.prototype.EO=function(b,m){var f,u=0,z=b.g.i;-1===z&&(z=2);for(f=0;f<b.Ib.length;f+=1)100*b.zb.random()<=b.lk?2===z||m?u=b.pf:u=(b.zb.random()*(z-1)|0)+1:u=0,b.Ib[f]=u};h.prototype.FO=function(b,m){var f=b.Vb,u=f.o,z=f.u,B=f.s;f=f.v;var C=0,E=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<1),G=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<
1),F=b.g.i,I=0;if(b.yb){if(u>z){var L=z;z=u;u=L}B>f&&(L=f,f=B,B=L);-1===F&&(F=2);for(L=B;L<=f;L+=1)for(B=u;B<=z;B+=1)100*b.zb.random()<=b.lk?2===F||m?C=b.pf:C=(b.zb.random()*(F-1)|0)+1:C=0,I=b.ed(B+E,L+G,C);b.g.ta&&I&&this.g.Tf();b.g.Wg=!0;b.g.zh();b.rb("random "+b.lk+"%")}};h.prototype.vx=function(b,m){b.Ta||(b.td?b.EO(b,m):b.FO(b,m))};h.prototype.hz=function(b){b.Ta||b.vx(b,!1)};h.prototype.fz=function(b){b.vx(b,!0)};h.prototype.tM=function(b){var m=b.Sf,f=b.Rf,u=m>>1,z,B,C;for(B=C=0;B<f;B+=1){if(b.g.L)for(z=
0;z<u;z+=1){var E=b.Ib[C+z];var G=b.Ib[C+m-z-1];b.Ib[C+z]=G&5|(G&2)<<2|(G&8)>>2;b.Ib[C+m-z-1]=E&5|(E&2)<<2|(E&8)>>2}else for(z=0;z<u;z+=1)E=b.Ib[C+z],b.Ib[C+z]=b.Ib[C+m-z-1],b.Ib[C+m-z-1]=E;C+=m}};h.prototype.uM=function(b){var m=b.Vb,f=m.o,u=m.u,z=m.s;m=m.v;var B,C=b.g.i,E=2<C&&!(this.g.za||this.g.L||this.g.ca||this.g.O),G=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<1),F=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<1),I=0;if(b.yb){if(f>u){var L=u;u=f;f=L}z>m&&(L=m,m=z,z=L);L=b.g.B.T(Uint8,u-f+1,"View.flipRow");for(B=z;B<=
m;B+=1){for(z=f;z<=u;z+=1){var M=b.g.getState(z+G,B+F,!1);E&&0<M&&(M=C-M);L[z-f]=M}if(b.g.L)for(z=f;z<=u;z+=1)M=L[u-z],b.ed(z+G,B+F,M&5|(M&2)<<2|(M&8)>>2);else for(z=f;z<=u;z+=1)I|=b.ed(z+G,B+F,L[u-z])}b.g.ta&&I&&this.g.Tf();b.g.Wg=!0;b.g.zh();b.rb("flip horizontally")}};h.prototype.vM=function(b){var m=b.Sf,f=b.Rf,u=f>>1,z,B,C;for(z=C=0;z<m;z+=1){if(b.g.L)for(B=0;B<u;B+=1){var E=b.Ib[C+B*m];var G=b.Ib[C+(f-B-1)*m];b.Ib[C+B*m]=G&10|(G&1)<<2|(G&4)>>2;b.Ib[C+(f-B-1)*m]=E&10|(E&1)<<2|(E&4)>>2}else for(B=
0;B<u;B+=1)E=b.Ib[C+B*m],b.Ib[C+B*m]=b.Ib[C+(f-B-1)*m],b.Ib[C+(f-B-1)*m]=E;C+=1}};h.prototype.wM=function(b){var m=b.Vb,f=m.o,u=m.u,z=m.s;m=m.v;var B,C=b.g.i,E=2<C&&!(this.g.za||this.g.L||this.g.ca||this.g.O),G=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<1),F=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<1),I=0;if(b.yb){if(f>u){var L=u;u=f;f=L}z>m&&(L=m,m=z,z=L);for(L=b.g.B.T(Uint8,m-z+1,"View.flipColumn");f<=u;f+=1){for(B=z;B<=m;B+=1){var M=b.g.getState(f+G,B+F,!1);E&&0<M&&(M=C-M);L[B-z]=M}if(b.g.L)for(B=z;B<=m;B+=1)M=L[m-
B],b.ed(f+G,B+F,M&10|(M&1)<<2|(M&4)>>2);else for(B=z;B<=m;B+=1)I|=b.ed(f+G,B+F,L[m-B])}b.g.ta&&I&&this.g.Tf();b.g.Wg=!0;b.g.zh();b.rb("flip vertically")}};h.prototype.hJ=function(b,m){var f=b.Sf,u=b.Rf,z,B,C=b.g.B.T(Uint8,f*u,"View.pasteBuffer");for(B=0;B<u;B+=1)for(z=0;z<f;z+=1)if(b.g.L)if(m){var E=b.Ib[B*f+z];C[z*u+(u-B-1)]=E<<1&15|(E&8)>>3}else E=b.Ib[B*f+z],C[(f-z-1)*u+B]=E>>1&15|(E&1)<<3;else m?C[z*u+(u-B-1)]=b.Ib[B*f+z]:C[(f-z-1)*u+B]=b.Ib[B*f+z];b.Ib=C;b.Sf=u;b.Rf=f};h.prototype.iJ=function(b,
m,f){b.eP(b,m,f)};h.prototype.eP=function(b,m,f){var u=b.Vb,z=u.o,B=u.u,C=u.s,E=u.v,G=0,F=b.g.i;var I=!0;var L=2<F&&!(this.g.za||this.g.L||this.g.ca||this.g.O),M=b.g.ia?-1:0;var H=Math.round((b.g.width-b.g.Ea)/2)+M;var K=Math.round((b.g.height-b.g.Aa)/2)+M;var J=H+b.g.Ea-1;var S=K+b.g.Aa-1;M=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<1);var pa=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<1),oa=0;if(b.yb){if(z>B){var O=B;B=z;z=O}C>E&&(O=E,E=C,C=O);O=z+(B-z+1-1>>1);var ba=C+(E-C+1-1>>1);var R=O+C-ba;var Z=ba+z-O;var fa=O+
E-ba;ba=ba+B-O;var ka=u.o;var aa=u.s;var ha=u.u;var Y=u.v;u.o=R;u.s=Z;u.u=fa;u.v=ba;u.o>u.u&&(O=u.o,u.o=u.u,u.u=O);u.s>u.v&&(O=u.s,u.s=u.v,u.v=O);if(-1!==b.g.sa){if(u.o+M<H||u.u+M>J||u.s+pa<K||u.v+pa>S)b.j.notification.notify("Rotation does not fit in bounded grid",15,180,15,!0),I=!1}else b.lG(b)?(b.j.notification.notify("Rotation does not fit on grid",15,180,15,!0),I=!1):(M=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<1),pa=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<1));if(I){m?(I=Z,S=fa,J=1,K=-1):(I=ba,S=R,J=-1,K=1);
H=b.g.B.T(Int16,3*(B-z+1)*(E-C+1),"View.rotateCells");for(fa=C;fa<=E;fa+=1){O=I;for(R=z;R<=B;R+=1)Z=b.g.getState(R+M,fa+pa,!1),L?0<Z&&(Z=F-Z):b.g.L&&(Z=m?Z<<1&15|(Z&8)>>3:Z>>1&15|(Z&1)<<3),H[G]=S,H[G+1]=O,H[G+2]=Z,G+=3,O+=J;S+=K}M=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<1);pa=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<1);for(G=0;G<H.length;)R=H[G],fa=H[G+1],Z=H[G+2],oa|=b.ed(R+M,fa+pa,Z),G+=3;for(R=z;R<u.o;R+=1)for(fa=C;fa<=E;fa+=1)oa|=b.ed(R+M,fa+pa,0);for(R=u.u+1;R<=B;R+=1)for(fa=C;fa<=E;fa+=1)oa|=b.ed(R+M,fa+pa,
0);for(fa=C;fa<u.s;fa+=1)for(R=z;R<=B;R+=1)oa|=b.ed(R+M,fa+pa,0);for(fa=u.v+1;fa<=E;fa+=1)for(R=z;R<=B;R+=1)oa|=b.ed(R+M,fa+pa,0);b.g.ta&&oa&&this.g.Tf();b.g.Wg=!0;b.g.zh();b.rb(f)}else u.o=ka,u.s=aa,u.u=ha,u.v=Y}};h.prototype.Du=function(b){b.Gx(b)};h.prototype.Ly=function(b){b.Ta||b.An(b,-1,0)};h.prototype.Oy=function(b){b.Ta||b.An(b,1,0)};h.prototype.Ry=function(b){b.Ta||b.An(b,0,-1)};h.prototype.Jy=function(b){b.Ta||b.An(b,0,1)};h.prototype.pH=function(b){b.Ta||(b.td?b.tM(b):b.uM(b))};h.prototype.qH=
function(b){b.Ta||(b.td?b.vM(b):b.wM(b))};h.prototype.gJ=function(b){b.Ta||(b.td?b.hJ(b,!0):b.iJ(b,!0,"rotate clockwise"))};h.prototype.fJ=function(b){b.Ta||(b.td?b.hJ(b,!1):b.iJ(b,!1,"rotate counter-clockwise"))};h.prototype.rN=function(b){var m=0,f=b.g.i;if(!b.Ta)for(-1===f&&(f=2);m<b.Ib.length;){var u=b.Ib[m];b.Ib[m]=f-u-1;m+=1}};h.prototype.sN=function(b){var m=b.Vb,f=m.o,u=m.u,z=m.s;m=m.v;var B=(b.g.width>>1)-(b.Ra>>1)+(b.Eb<<1),C=(b.g.height>>1)-(b.Wa>>1)+(b.Fb<<1),E=b.g.i,G=0;if(!b.Ta&&b.yb){if(f>
u){var F=u;u=f;f=F}z>m&&(F=m,m=z,z=F);-1===E&&(E=2);for(F=z;F<=m;F+=1)for(z=f;z<=u;z+=1){var I=b.g.getState(z+B,F+C,!1);!(b.g.O||b.g.L||b.g.ca)&&2<E&&0<I&&(I=E-I);G|=b.ed(z+B,F+C,E-I-1)}b.g.ta&&G&&this.g.Tf();b.g.Wg=!0;b.g.zh();b.rb("invert cells in selection")}};h.prototype.KH=function(b){b.Ta||(b.td?b.rN(b):b.sN(b))};h.prototype.HA=function(b){b.g.Ad=b.g.Ad?!1:!0;b.Rx(b.ib);var m=b.g.zd;b.g.Ad&&(m=!m);b.j.notification.notify("Playback "+(m?"Reverse":"Forward"),15,40,15,!0)};h.prototype.tw=function(b){b.hh(!0,
!0,y.Fl);b.ib||(b.Jg=!0)};h.prototype.tG=function(b){var m=b.vb;b.g.ca&&(m=RuleTreeCache.DM(m),""===m&&(m=b.A.Mx));b.Om(b,m,!1)};h.prototype.IH=function(b){0!==b.ha&&(b.ha=0,b.Xj.current=b.ao([b.ha],!0,b));b.g.aA=!1;b.g.$z=0;0===b.g.ga?(b.j.notification.notify("Empty Pattern",15,120,15,!1),b.Ub=!1,b.Rg=!1):(b.Ub?(b.Ub=!1,b.j.notification.notify("Identify Cancelled",15,120,15,!1)):(b.Ub=!0,b.Rg=!1,b.Po?b.j.notification.notify("Identifying (fast)...",15,216E3,15,!1):b.j.notification.notify("Identifying...",
15,216E3,15,!1),b.g.QB.set(b.g.N)),b.rb(""));b.g.Ps(b.Ub);b.ha=0;b.bs(b);b.bs(b);b.j.vg=!0;b.m.locked=!1};h.prototype.rz=function(b){b.tp=1};h.prototype.qz=function(b){b.tp=2};h.prototype.uH=function(b){var m=window.prompt("Enter generation",b.g.counter),f=0,u=!1;b.Rn=-1;null!==m&&("b"===m.substr(m.length-1).toLowerCase()&&(m=m.substr(0,m.length-1),u=!0),"+"===m.charAt(0)?f=b.g.counter+Number(m.substr(1)):f="-"===m.charAt(0)?b.g.counter-Number(m.substr(1)):Number(m),0<=f&&f<=y.gI?f!==b.g.counter&&
(b.ef=f,b.Cc.current=b.co([!1],!0,b),b.j.vg=!0,b.Il&&b.j.notification.notify("Going to generation "+f,15,1E4,15,!1),b.j.notification.clear(!0,!1),f<b.g.counter&&(b.g.St(b,!1),b.Sx(b.g.counter)),u&&(b.Rn=performance.now()),b.tE=f-b.g.counter):b.j.notification.notify("Invalid generation specified",15,240,15,!0))};h.prototype.nw=function(b){b.Po=!1;b.IH(b)};h.prototype.iH=function(b){b.Po=!0;b.IH(b)};h.prototype.Lr=function(b,m,f){m&&(f.g.tc=b[0]);return[f.g.tc]};h.prototype.GJ=function(b,m,f){m&&(f.Gh=
b[0]);return[f.Gh]};h.prototype.IJ=function(b,m,f){m&&(f.fr=b[0]);return[f.fr]};h.prototype.RE=function(b,m,f){m&&(f.ik=b[0]);return[f.ik]};h.prototype.UE=function(b,m,f){m&&(f.Km=b[0]);return[f.Km]};h.prototype.co=function(b,m,f){m&&(0!==f.ha&&b[0]&&(f.ha=0,f.Xj.current=f.ao([f.ha],!0,f)),b[0]||f.bs(f),b[0]&&(f.j.notification.clear(!1,!1),f.j.notification.clear(!0,!1)));return b};h.prototype.SE=function(b,m,f){m&&(f.xp=b[0]);return[f.xp]};h.prototype.TE=function(b,m,f){m&&(f.Nn=b[0]);return[f.Nn]};
h.prototype.Hp=function(b,m,f){m&&(f.nj=b);return f.nj};h.prototype.rl=function(b,m,f){m&&(f.cl=b[0],f.cl?f.Dt?f.j.notification.notify("Replace: Now click on a cell",15,180,15,!0):f.j.notification.notify("Pick: Now click on a cell",15,180,15,!0):(f.wB||f.j.notification.clear(!0,!1),f.wB=!1,f.Dt=!1));return[f.cl]};h.prototype.FJ=function(b,m,f){m&&(f.Kc=b[0],f.Kc&&!f.ib&&f.hh(!0,!0,y.Fl));return[f.Kc]};h.prototype.XA=function(b,m,f){m&&-1!==f.nb&&(f.bd=!b[0],f.$c?(f.hf=f.bd,f.j.notification.notify("Loop and Waypoints "+
(f.bd?"Off":"On"),15,40,15,!0)):f.Me?(f.Uf=f.bd,f.j.notification.notify("Loop and Track "+(f.bd?"Off":"On"),15,40,15,!0),f.UF(f.Uf)):f.j.notification.notify("Loop "+(f.bd?"Off":"On"),15,40,15,!0));return[f.bd]};h.prototype.UA=function(b,m,f){m&&f.Kf&&(f.eh=!b[0]);return[f.eh]};h.prototype.gB=function(b,m,f){m&&-1!==f.lc&&(f.Gf=!b[0]);return[f.Gf]};h.prototype.VE=function(b,m,f){m&&(f.Me?(f.Uf=!b[0],f.UF(f.Uf),-1!==f.nb?(f.bd=f.Uf,f.j.notification.notify("Loop and Track "+(f.bd?"Off":"On"),15,40,15,
!0)):f.j.notification.notify("Track "+(f.Uf?"Off":"On"),15,40,15,!0)):f.$c&&(f.hf=!b[0],f.hf?(f.j.notification.clear(!1,!1),f.ct=""):(f.Jg=!0,f.elapsedTime=f.$.rM(f.g.counter)),-1!==f.nb?(f.bd=f.hf,f.j.notification.notify("Loop and Waypoints "+(f.bd?"Off":"On"),15,40,15,!0)):f.j.notification.notify("Waypoints "+(f.hf?"Off":"On"),15,40,15,!0)));return f.Me?[f.Uf]:[f.hf]};h.prototype.ao=function(b,m,f){m&&(f.ha=b[0],f.ha?(f.Cc.current[0]&&(f.Cc.current=f.co([!1],!0,f)),f.j.notification.clear(!1,!1),
f.j.notification.clear(!0,!1)):(f.Jh(y.Th,f),f.ha=0));f.jE(f.ud.current);return[f.ha]};h.prototype.yz=function(b){b.ZD(b)};h.prototype.oz=function(b){b.aJ(b)};h.prototype.xJ=function(b){var m=b.Pc.current[0];m=45*Math.floor((m+22.5)/45);360<=m&&(m=0);b.Pc.current=b.jo([m,m],!0,b)};h.prototype.Tz=function(){D.BJ()};h.prototype.Yz=function(b){D.xE(b)};h.prototype.nz=function(){D.YI()};h.prototype.Fu=function(b){b.ev(b,!1,!1)};h.prototype.gK=function(b,m,f){m&&(f.Jl=b[0]);return[f.Jl]};h.prototype.dK=
function(b,m,f){m&&(f.g.Hh=b[0],f.g.rB());return[f.g.Hh]};h.prototype.xy=function(b,m,f){m&&(f.Nh=b[0],f.Nh&&(f.g.X?0<f.g.counter&&-1===f.g.i&&!f.g.ia&&!f.g.L&&(--f.g.counter,f.g.He(!0,f.oe,f.Hc,f.Ub,f),f.xi()):(f.g.ga=0,f.g.sb=0,f.g.$a=0)));f.j.og(!0);return[f.Nh]};h.prototype.Ox=function(b,m){1<b.sc&&(b.sc-=m,1>b.sc&&(b.sc=1))};h.prototype.Nx=function(b,m){b.sc<b.Jd.length-b.vd+1&&(b.sc+=m,b.sc>b.Jd.length-b.vd+1&&(b.sc=b.Jd.length-b.vd+1))};h.prototype.Qx=function(b,m){1<b.ha&&(b.ha-=m,1>b.ha&&
(b.ha=1))};h.prototype.Px=function(b,m){b.ha<b.Uq-b.vd&&(b.ha+=m,b.ha>b.Uq-b.vd&&(b.ha=b.Uq-b.vd))};h.prototype.uO=function(b){for(var m=b.ma.length-1,f=!1;0<=m&&!f;)b.ha<=b.ma[m][0]?--m:f=!0;f&&(b.ha=b.ma[m][0])};h.prototype.XN=function(b){for(var m=0,f=!1;m<b.ma.length&&!f;)b.ha>=b.ma[m][0]?m+=1:f=!0;f&&(b.ha=b.ma[m][0])};h.prototype.nP=function(b){for(this.g.L&&this.g.counter<b&&(1===(this.g.counter&1)?this.g.U.Ha.fill(0):this.g.Ga.Ha.fill(0));this.g.counter<b-1;)this.g.X?(this.g.He(!1,!1,this.Hc,
this.Ub,this),0===this.g.X&&2<this.g.i||this.g.he(),0===this.g.X&&2>=this.g.i&&(this.g.X=1,this.g.He(!1,!1,this.Hc,this.Ub,this),--this.g.counter)):(this.g.counter+=1,this.g.he()),this.xi();this.g.counter<b&&(this.g.X?(this.g.He(this.Nh,!1,this.Hc,this.Ub,this),0===this.g.X&&2<this.g.i||this.g.he(),0===this.g.X&&2>=this.g.i&&(this.g.X=1,this.g.He(!1,!1,this.Hc,this.Ub,this),--this.g.counter)):(this.g.counter+=1,this.g.he()),this.xi());this.elapsedTime=this.Ka[b];this.Mb=b*this.Ma};h.prototype.Tt=
function(b){var m=this.K+(0<this.g.i?this.g.i:0);!this.oe&&this.j.vD&&(this.j.vD=!1,0>b&&(b=0),this.elapsedTime=this.Ka[b],this.Mb=b*this.Ma,-1!==this.Dg&&b>this.Dg+m?this.g.counter=b:this.g.Tt(b,this.Nh,this.Hc,this),this.elapsedTime=this.Ka[b],this.Mb=b*this.Ma,this.$.WP(this.elapsedTime),this.Jg=!0,b!==this.g.counter&&(this.zo=!0,this.gA=b,this.g.St(this,!1),this.j.notification.notify("Computing previous generations",15,1E4,15,!0),this.fA=!0))};h.prototype.Ds=function(b){b.style.width="2em";b.style.height=
"2em";b.style.padding=0;b.style.border="none";b.style.outline="none";b.style.boxShadow="none";b.style.background="transparent";b.style.position="fixed";b.style.left="-100px";b.style.top="0px"};h.prototype.Om=function(b,m,f){var u="textarea";b.mJ=document.documentElement.scrollTop||document.body.scrollTop;b.iu=m;b.pl=0;b.Dp=m.length;if(f){var z=performance.now()-b.nv;z<y.BL&&b.Dp<y.zL?f=!1:b.rw||(u="div")}b.Cp=document.createElement("div");b.Cp.contentEditable=!0;b.Ds(b.Cp);b.um=document.createElement(u);
b.Ds(b.um);b.um.contentEditable=!0;b.Cp.appendChild(b.um);document.body.appendChild(b.Cp);f?(b.iA=y.CL,b.j.notification.notify("Copying...",15,1E4,15,!0),b.hs=!0,b.lv=!1,b.m.locked=!0):(b.um.innerHTML=m,b.qG(b,f))};h.prototype.qG=function(b,m){var f=null;if(b.rw)var u=b.um;else m?u=b.Cp:(u=b.um,u.contentEditable="true",u.readOnly="false");u.focus();var z=document.createRange();z.selectNodeContents(u);try{m?document.execCommand("selectAll"):(f=window.getSelection(),f.removeAllRanges(),f.addRange(z),
u.setSelectionRange(0,999999)),document.execCommand("copy")}catch(B){}document.body.removeChild(b.Cp);b.iu="";b.j.Pj||b.vc.canvas.focus();b.j.notification.notify("Copied to external clipboard",15,180,15,!0);m&&(b.hs=!1,b.m.locked=!1);document.documentElement.scrollTop=document.body.scrollTop=b.mJ;b.nv=-1};h.prototype.Fj=function(b){var m=ColourManager.wh,f=Object.keys(m),u=b.red,z=b.green;b=b.blue;for(var B="",C=!1,E=null,G=0;G<f.length&&!C;)E=m[f[G]],E[1]===u&&E[2]===z&&E[3]===b?(C=!0,G=f.length):
G+=1;C?B=E[0]:B=u+" "+z+" "+b;return B};h.prototype.Zp=function(b,m){return b.red===m.red&&b.green===m.green&&b.blue===m.blue};h.prototype.sG=function(b,m){var f="#C "+Keywords.up+" ",u=String(-(b.g.width/2-b.g.Da-b.g.kc|0)),z=String(-(b.g.height/2-b.g.xa-b.g.dc|0)),B=b.g.zoom,C=b.g.angle|0,E=b.g.Sa|0,G=b.g.Kb[b.g.bg];0!==b.g.counter&&(f+=Keywords.fu+" "+b.g.counter+" ");f+=Keywords.Xf+" "+u+" "+Keywords.Zf+" "+z+" ";f+=Keywords.xe+" "+(B===(B|0)?String(B):String(B.toFixed(2)))+" ";f+=Keywords.Im+
" "+C+" ";0!==b.g.Sa&&(f+=Keywords.$n+" "+E+" ");f+=Keywords.zr+"\n";if(m){f+="#C "+Keywords.up+" ";if(b.Nj){if(2<b.g.i){if(f+=Keywords.Na+" "+Keywords.ey+" "+b.Fj(G.zj),f+=" "+Keywords.Na+" "+Keywords.by+" "+b.Fj(G.bh),b.Zp(G.Sc.da,G.zj)||(f+=" "+Keywords.Na+" "+Keywords.hy+" "+b.Fj(G.Sc.da)),b.Zp(G.Sc.ba,G.Sc.da)||(f+=" "+Keywords.Na+" "+Keywords.gy+" "+b.Fj(G.Sc.ba)),G.Ym||(f+=" "+Keywords.Na+" "+Keywords.HE+" "+b.Fj(G.jc.da)),G.Ym||!b.Zp(G.jc.ba,G.jc.da))f+=" "+Keywords.Na+" "+Keywords.GE+" "+
b.Fj(G.jc.ba)}else f+=Keywords.Na+" "+Keywords.ey+" "+b.Fj(G.wb),f+=" "+Keywords.Na+" "+Keywords.by+" "+b.Fj(G.Hb.ba),b.Zp(G.Hb.ba,G.Hb.da)||(f+=" "+Keywords.Na+" "+Keywords.FE+" "+b.Fj(G.Hb.da)),b.Zp(G.tb.da,G.wb)||(f+=" "+Keywords.Na+" "+Keywords.hy+" "+b.Fj(G.tb.da)),b.Zp(G.tb.ba,G.tb.da)||(f+=" "+Keywords.Na+" "+Keywords.gy+" "+b.Fj(G.tb.ba));f+=" "+Keywords.zr+"\n#C "+Keywords.up+" "}f+=Keywords.vm+" "+G.name+" ";b.K!==b.ft&&(f+=Keywords.Es+" "+b.K+" ");b.Xi!==b.$H&&(f+=Keywords.Vr+" "+b.Xi+
" ");f+=Keywords.Tr+" "+b.J+" ";f+=Keywords.zq+" "+b.I+" ";f+=Keywords.zr+"\n"}b.Om(b,f,!1)};h.prototype.$D=function(b){b.element.innerHTML=b.g.Uu(b,b.g,!0,b.g.i,b.g.i,[],!1);b.element.value=b.element.innerHTML};h.prototype.DN=function(b,m){if(b.yk.locked||b.wx||window.confirm("Open clipboard?"))b.element.innerHTML=m,b.element.value=b.element.innerHTML,d(b.element)};h.prototype.ls=function(b,m){b.nv=performance.now();A.cb?b.Om(b,D.bf[b.md].pattern,m):b.Om(b,c(b.element),m)};h.prototype.mv=function(b,
m){b.nv=performance.now();b.Om(b,b.g.Uu(b,b.g,m,b.g.i,b.g.i,[]),!1)};h.prototype.BE=function(b,m){var f=m.charCode||m.keyCode;if(b.zo?KeyProcessor.AO(b,f,m):b.Ub?KeyProcessor.BO(b,f,m):b.hs?KeyProcessor.yO(b,f,m):-1!==b.ef?KeyProcessor.zO(b,f,m):KeyProcessor.xO(b,f,m))b.j.og(!0),m.preventDefault()};h.prototype.oQ=function(){this.g.ta||this.g.O?(this.Ya.setPosition(Menu.jb,-85,-130),this.g.ta?(this.Y.setPosition(Menu.jb,-130,-130),this.Y.F="random fill [Shift 5]",this.fl.setPosition(Menu.jb,-235,-130)):
(this.Y.setPosition(Menu.jb,-175,-130),this.Y.F="random multi-state fill [Shift 5]",this.wc.setPosition(Menu.jb,-130,-130),this.fl.setPosition(Menu.jb,-280,-130))):2>=this.g.i?(this.Ya.setPosition(Menu.jb,-40,-130),this.Y.setPosition(Menu.jb,-85,-130),this.Y.F="random fill [Shift 5]",this.fl.setPosition(Menu.jb,-190,-130)):(this.Ya.setPosition(Menu.jb,-40,-130),this.g.L?(this.Y.setPosition(Menu.jb,-85,-130),this.Y.F="random multi-state fill [Shift 5]",this.fl.setPosition(Menu.jb,-190,-130)):(this.Y.setPosition(Menu.jb,
-130,-130),this.Y.F="random multi-state fill [Shift 5]",this.wc.setPosition(Menu.jb,-85,-130),this.fl.setPosition(Menu.jb,-235,-130)))};h.prototype.qQ=function(){if(this.I<y.mn)this.Ve.setPosition(Menu.jd,10,50),this.We.setPosition(Menu.ua,0,50),this.Se.setPosition(Menu.uc,-160,50),this.qf.setPosition(Menu.jd,10,100),this.Re.setPosition(Menu.ua,0,100),this.Ne.setPosition(Menu.uc,-160,100),0<this.$.ep()?(this.hd.setPosition(Menu.jd,10,150),this.Qe.setPosition(Menu.uc,-160,150)):this.hd.setPosition(Menu.ua,
0,150);else{var b=0<this.$.ep()?-175:-150;this.Ve.setPosition(Menu.Ia,0,b);this.We.setPosition(Menu.Ia,0,b+50);this.Se.setPosition(Menu.Ia,0,b+100);this.qf.setPosition(Menu.Ia,0,b+150);this.Re.setPosition(Menu.Ia,0,b+200);this.Ne.setPosition(Menu.Ia,0,b+250);this.hd.setPosition(Menu.Ia,0,b+300);this.Qe.setPosition(Menu.Ia,0,b+350)}};h.prototype.sJ=function(){var b="white",m="black",f="rgb(0,240,32)",u="blue",z="grey",B="white";var C=this.Rc[y.Av];-1!==C?(b="rgb("+(C>>16)+","+(C>>8&255)+","+(C&255)+
")",this.W.op=!0,this.W.LD=this.g.Fd?-16777216|(C&255)<<16|(C>>8&255)<<8|C>>16:C>>16<<24|(C>>8&255)<<16|(C&255)<<8|255):(this.W.op=!0,C=16777215,this.W.LD=this.g.Fd?-16777216|(C&255)<<16|(C>>8&255)<<8|C>>16:C>>16<<24|(C>>8&255)<<16|(C&255)<<8|255);C=this.Rc[y.xv];-1!==C?(this.W.op=!0,this.W.Cx=this.g.Fd?-16777216|(C&255)<<16|(C>>8&255)<<8|C>>16:C>>16<<24|(C>>8&255)<<16|(C&255)<<8|255):(this.W.op=!0,C=7368816,this.W.Cx=this.g.Fd?-16777216|(C&255)<<16|(C>>8&255)<<8|C>>16:C>>16<<24|(C>>8&255)<<16|(C&
255)<<8|255);C=this.Rc[y.yv];-1!==C?m="rgb("+(C>>16)+","+(C>>8&255)+","+(C&255)+")":C=0;this.qy=C;this.W.kE=this.g.Fd?-16777216|(C&255)<<16|(C>>8&255)<<8|C>>16:C>>16<<24|(C>>8&255)<<16|(C&255)<<8|255;C=this.Rc[y.Bv];-1!==C&&(f="rgb("+(C>>16)+","+(C>>8&255)+","+(C&255)+")");C=this.Rc[y.Dv];-1!==C&&(u="rgb("+(C>>16)+","+(C>>8&255)+","+(C&255)+")");C=this.Rc[y.Cv];-1!==C?z="rgb("+(C>>16)+","+(C>>8&255)+","+(C&255)+")":C=8421504;this.W.BH=this.g.Fd?-16777216|(C&255)<<16|(C>>8&255)<<8|C>>16:C>>16<<24|
(C>>8&255)<<16|(C&255)<<8|255;C=this.Rc[y.zv];-1!==C&&(B="rgb("+(C>>16)+","+(C>>8&255)+","+(C&255)+")");this.j.Xt(b,m,f,u,z,B,this.Wj)};h.prototype.Ev=function(){var b,m=0;this.$o=10;this.m=this.j.rK(this.Wy,this.EF,this);this.m.Go=this.Yy;this.m.HF=this.iz;this.Hs=this.m.Ja(Menu.ua,0,52,480,48,"Banner");this.Hs.hb("32px Arial");this.tf=this.m.Ja(Menu.ua,-160,100,160,32,"Type");this.Ik=this.m.Ja(Menu.ua,-160,140,160,32,"Cells");this.Fk=this.m.Ja(Menu.ua,-160,180,160,32,"Bounding Box");this.Bl=this.m.Ja(Menu.ua,
-160,240,160,32,"Direction");this.Ml=this.m.Ja(Menu.ua,-160,280,160,32,"Period");this.Ol=this.m.Ja(Menu.ua,-160,320,160,32,"Slope");this.Ql=this.m.Ja(Menu.ua,-160,360,160,32,"Speed");this.El=this.m.Ja(Menu.ua,-160,400,160,32,"Heat");this.Tl=this.m.Ja(Menu.ua,-160,440,160,32,"Volatility");this.Gl=this.m.Ja(Menu.ua,-160,460,160,32,"Mod");this.Ak=this.m.Ja(Menu.ua,-160,500,160,32,"Active Cells");this.Rl=this.m.Ja(Menu.ua,-160,540,160,32,"Temperature");this.Ms=this.m.Ja(Menu.ua,80,100,320,32,"");this.Is=
this.m.Ja(Menu.ua,80,140,320,32,"");this.jw=this.m.Ja(Menu.ua,80,180,320,32,"");this.kw=this.m.Ja(Menu.ua,80,220,320,32,"");this.mw=this.m.Ja(Menu.ua,80,260,320,32,"");this.ow=this.m.Ja(Menu.ua,80,300,320,32,"");this.Ks=this.m.Ja(Menu.ua,80,340,320,32,"");this.Js=this.m.Ja(Menu.ua,80,380,320,32,"");this.pw=this.m.Ja(Menu.ua,80,420,320,32,"");this.lw=this.m.Ja(Menu.ua,80,460,320,32,"");this.Gs=this.m.Ja(Menu.ua,80,500,320,32,"");this.Ls=this.m.Ja(Menu.ua,80,540,320,32,"");this.vf=this.m.Ja(Menu.jd,
0,40,16,20,"X");this.vf.hb(y.Lh);this.vf.Ir=Menu.Xe;this.wf=this.m.Ja(Menu.jd,70,40,16,20,"Y");this.wf.hb(y.Lh);this.wf.Ir=Menu.Xe;this.uf=this.m.Ja(Menu.jd,140,40,16,20,"A");this.uf.hb(y.Lh);this.uf.Ir=Menu.Xe;this.ic=this.m.Ja(Menu.jd,16,40,54,20,"");this.ic.hb(y.Lh);this.ic.textAlign=Menu.right;this.ic.F="camera X position";this.rc=this.m.Ja(Menu.jd,86,40,54,20,"");this.rc.hb(y.Lh);this.rc.textAlign=Menu.right;this.rc.F="camera Y position";this.ab=this.m.Ja(Menu.jd,156,40,40,20,"");this.ab.hb(y.Lh);
this.ab.textAlign=Menu.right;this.ab.F="camera angle";this.Wl=this.m.Ja(Menu.jd,196,40,4,20,"");this.ai=this.m.Ja(Menu.uc,-280,40,20,20,"E");this.ai.hb(y.Lh);this.ci=this.m.Ja(Menu.uc,-210,40,20,20,"S");this.ci.hb(y.Lh);this.di=this.m.Ja(Menu.uc,-140,40,20,20,"W");this.di.hb(y.Lh);this.bi=this.m.Ja(Menu.uc,-70,40,20,20,"N");this.bi.hb(y.Lh);this.pb=this.m.Ja(Menu.uc,-260,40,50,20,"");this.pb.hb(y.Lh);this.pb.textAlign=Menu.right;this.pb.F="bounding box east edge velocity";this.Qb=this.m.Ja(Menu.uc,
-190,40,50,20,"");this.Qb.hb(y.Lh);this.Qb.textAlign=Menu.right;this.Qb.F="bounding box south edge velocity";this.$b=this.m.Ja(Menu.uc,-120,40,50,20,"");this.$b.hb(y.Lh);this.$b.textAlign=Menu.right;this.$b.F="bounding box west edge velocity";this.Gb=this.m.Ja(Menu.uc,-50,40,50,20,"");this.Gb.hb(y.Lh);this.Gb.textAlign=Menu.right;this.Gb.F="bounding box north edge velocity";this.to=this.m.qb(this.UA,Menu.uc,-210,0,38,20,["START"],[!1],Menu.cb);this.to.hb(y.Wx);this.to.F=["autostart [Alt O]"];this.Wn=
this.m.qb(this.gB,Menu.uc,-210,20,38,20,["STOP"],[!1],Menu.cb);this.Wn.hb(y.Wx);this.Wn.F=["stop [Alt P]"];this.Rh=this.m.qb(this.VE,Menu.uc,-172,0,38,20,["WAYPT"],[!1],Menu.cb);this.Rh.hb(y.Wx);this.Rh.F=["toggle waypoint mode [W]"];this.ln=this.m.qb(this.XA,Menu.uc,-172,20,38,20,["LOOP"],[!1],Menu.cb);this.ln.hb(y.Wx);this.ln.F=["toggle loop mode [Shift P]"];this.ud=this.m.qb(this.sl,Menu.jd,90,0,120,40,["","",""],y.on,Menu.qm);this.ud.icon=[this.W.icon("draw"),this.W.icon("select"),this.W.icon("pan")];
this.ud.F=["draw [F2]","select [F4]","pan [F5]"];this.na=this.m.qb(this.$y,Menu.uc,-80,100,80,60,["1","2"],0,Menu.qm);this.na.orientation=Menu.vertical;this.na.F=["",""];this.na.hb("14px Arial");this.Dk=this.m.la(this.Sv,Menu.uc,-110,40,60,["OK"]);this.Dk.F="confirm setting disabled and hide warning";this.Xj=this.m.qb(this.ao,Menu.uc,-40,0,40,40,["Help"],[!1],Menu.cb);this.Xj.F=["toggle help display [H]"];this.Xj.hb("16px Arial");this.Cj=this.m.la(this.Py,Menu.uc,-40,50,40,["^"]);this.Cj.F="show help topics [Backspace]";
this.Ti=this.m.la(this.Az,Menu.uc,-40,100,40,["<"]);this.Ti.F="show help sections";this.Ve=this.m.la(this.mF,Menu.ua,0,50,150,["Keys"]);this.Ve.F="show keyboard shortcuts [K]";this.We=this.m.la(this.zz,Menu.ua,0,100,150,["Scripts"]);this.We.F="show script commands [S]";this.Se=this.m.la(this.JD,Menu.ua,0,150,150,["Info"]);this.Se.F="show pattern and engine information [I]";this.qf=this.m.la(this.NA,Menu.ua,0,200,150,["Themes"]);this.qf.F="show colour Themes [T]";this.Re=this.m.la(this.Ku,Menu.ua,
0,250,150,["Colours"]);this.Re.F="show colour names [C]";this.Ne=this.m.la(this.zu,Menu.ua,0,300,150,["Aliases"]);this.Ne.F="show rule aliases [A]";this.hd=this.m.la(this.JF,Menu.ua,0,350,150,["Memory"]);this.hd.F="show memory usage [Y]";this.Qe=this.m.la(this.Au,Menu.ua,0,350,150,["Annotations"]);this.Qe.F="show annotations [N]";this.Gj=this.m.qb(this.FJ,Menu.jd,0,0,40,40,["Auto"],[!1],Menu.cb);this.Gj.icon=[this.W.icon("autofit")];this.Gj.F=["toggle autofit [Shift F]"];this.Gj.hb("16px Arial");
this.$m=this.m.la(this.tw,Menu.jd,45,0,40,"");this.$m.icon=this.W.icon("fit");this.$m.F="fit pattern to display [F]";this.cj=this.m.qb(this.Lr,Menu.uc,-85,0,40,40,["Grid"],[!1],Menu.cb);this.cj.icon=[this.W.icon("grid")];this.cj.F=["toggle gridlines [X]"];this.cj.hb("16px Arial");this.Ng=this.m.HK();this.Ng.locked=!0;this.Lo=this.m.Ja(Menu.Ci,0,-130,42,30,"Gen");this.Lo.textAlign=Menu.left;this.Lo.hb(y.Mh);this.Lo.F="generation";this.Gg=this.m.Ja(Menu.Ci,42,-130,98,30,"");this.Gg.textAlign=Menu.right;
this.Gg.hb(y.Mh);this.Gg.F="generation";this.Pd=this.m.Ja(Menu.Ci,0,-100,70,30,"Time");this.Pd.textAlign=Menu.left;this.Pd.hb(y.Mh);this.Pd.F="elapsed time";this.Io=this.m.Ja(Menu.Ci,70,-100,70,30,"");this.Io.textAlign=Menu.right;this.Io.hb(y.Mh);this.Io.F="elapsed time";this.ll=this.m.Ja(Menu.Ci,210,-70,130,30,"");this.ll.textAlign=Menu.left;this.ll.hb(y.Mh);this.ll.F="selection size";this.Bj=this.m.Ja(Menu.Ci,0,-70,210,30,"");this.Bj.textAlign=Menu.left;this.Bj.hb(y.Mh);this.Bj.F="cell state at cursor position";
this.ke=this.m.qb(this.xy,Menu.Ci,0,-40,100,40,["T 0"],[this.Nh],Menu.cb);this.ke.F=["toggle generation statistics [G]\ngeneration "+(this.g.counter+this.ih)];this.Ai=this.m.Ja(Menu.Ci,0,-40,this.J-40,40,"");this.Ai.textAlign=Menu.left;this.Ai.l=!0;this.nd=this.m.Ja(Menu.jb,-70,-130,70,30,"Alive");this.nd.textAlign=Menu.left;this.nd.hb(y.Mh);this.nd.F="current population";this.En=this.m.Ja(Menu.jb,-140,-130,70,30,"");this.En.textAlign=Menu.right;this.En.hb(y.Mh);this.En.F="alive";this.Lk=this.m.Ja(Menu.jb,
-70,-100,70,30,"Births");this.Lk.textAlign=Menu.left;this.Lk.hb(y.Mh);this.Lk.F="cells born this generation";this.Mk=this.m.Ja(Menu.jb,-140,-100,70,30,"");this.Mk.textAlign=Menu.right;this.Mk.hb(y.Mh);this.Mk.F="births";this.gd=this.m.Ja(Menu.jb,-70,-70,70,30,"Deaths");this.gd.textAlign=Menu.left;this.gd.hb(y.Mh);this.gd.F="cells died this generation";this.Xm=this.m.Ja(Menu.jb,-140,-70,70,30,"");this.Xm.textAlign=Menu.right;this.Xm.hb(y.Mh);this.Xm.F="deaths";this.il=this.m.Ja(Menu.Ci,0,-160,140,
30,this.vb);this.il.hb(y.Mh);this.Jc=this.m.Gk(this.tl,Menu.ua,0,0,y.wu,40,0,1,.1,"Zoom ","",1);this.Jc.F="camera zoom [[ / ]]";this.Fe=this.m.Gk(this.tu,Menu.Nv,-84,0,40,292,y.Dw,y.Lw,1,"Layers ","",0);this.Fe.F="number of layers [Q / A]";this.rd=this.m.Gk(this.Am,Menu.Nv,-40,0,40,292,1,0,.1,"Depth ","",2);this.rd.F="depth between layers [P / L]";this.ue=this.m.Gk(this.Sr,Menu.LF,0,0,40,292,0,1,.5,"Tilt ","",1);this.ue.F="camera tilt [' / /]";this.Pc=this.m.Gk(this.jo,Menu.ua,0,50,390,40,0,359,0,
"Angle ","\u00b0",0);this.Pc.F="camera angle [< / >]";this.$g=this.m.la(this.Bz,Menu.jb,-40,-90,40,"");this.$g.icon=this.W.icon("shrink");this.$g.F="shrink to thumbnail [N]";this.Wi=this.m.Ja(Menu.ua,0,100,120,40,"");this.Zj=this.m.qb(this.BF,Menu.Ia,-100,-100,180,40,["Use Rectangles"],[this.g.Tb],Menu.cb);this.Zj.F=["toggle hexagonal cells [?]"];this.bq=this.m.qb(this.XJ,Menu.Ia,100,-100,180,40,["Cell Borders"],[this.g.pd],Menu.cb);this.bq.F=["toggle cell borders [Alt B]"];this.Yk=this.m.qb(this.cK,
Menu.Ia,-100,-50,180,40,["Major GridLines"],[this.g.Ll],Menu.cb);this.Yk.F=["toggle major gridlines [Shift X]"];this.Dr=this.m.qb(this.hK,Menu.Ia,100,-50,180,40,["Starfield"],[this.sj],Menu.cb);this.Dr.F=["toggle starfield display [S]"];this.jn=this.m.qb(this.bK,Menu.Ia,-100,0,180,40,["Annotations"],[this.rj],Menu.cb);this.jn.F=["toggle annotations [Alt L]"];this.lr=this.m.qb(this.eK,Menu.Ia,100,0,180,40,["Rainbow"],[this.g.Zc],Menu.cb);this.lr.F=["toggle rainbow mode [Alt W]"];this.$p=this.m.qb(this.VJ,
Menu.Ia,-100,50,180,40,["Auto GridLines"],[this.Yi],Menu.cb);this.$p.F=["automatically turn on gridlines for Draw and Select and off for Pan [Ctrl G]"];this.po=this.m.qb(this.UJ,Menu.Ia,100,50,180,40,["Alt GridLines"],[this.g.Gm],Menu.cb);this.po.F=["toggle alternating gridlines [Alt D]"];this.Eq=this.m.qb(this.aK,Menu.Ia,-100,100,180,40,["Info Bar"],[this.sd],Menu.cb);this.Eq.F=["toggle Information Bar [Shift I]"];this.Mt=this.m.qb(this.dK,Menu.Ia,100,100,180,40,["Render Quality"],[this.g.Hh],Menu.cb);
this.Mt.F=["toggle anti-aliased cell display [Ctrl Q]"];this.Zh=this.m.la(this.uH,Menu.Ia,-100,-50,180,"Go To Gen");this.Zh.F="go to specified generation [Shift N]";this.Cq=this.m.qb(this.$J,Menu.Ia,100,-50,180,40,["AutoFit History"],[this.fj],Menu.cb);this.Cq.F=["toggle AutoFit History [Shift H]"];this.Zn=this.m.qb(this.UE,Menu.Ia,-100,0,180,40,["Throttle"],[this.Km],Menu.cb);this.Zn.F=["toggle playback throttling [Alt T]"];this.Mn=this.m.qb(this.RE,Menu.Ia,100,0,180,40,["Perf. Warning"],[this.ik],
Menu.cb);this.Mn.F=["toggle performance warning display [Shift W]"];this.Sl=this.m.qb(this.ez,Menu.Ia,-100,50,180,40,["Kill Gliders"],[this.g.vh],Menu.cb);this.Sl.F=["toggle kill escaping gliders [Ctrl L]"];this.aq=this.m.qb(this.WJ,Menu.Ia,100,50,180,40,["AutoHide UI"],[this.ej],Menu.cb);this.aq.F=["toggle hide UI on playback [Alt U]"];this.em=this.m.la(this.pz,Menu.Ia,-100,-100,180,"Change Rule");this.em.F="change rule [Alt R]";this.am=this.m.la(this.OF,Menu.Ia,100,-100,180,"New Pattern");this.am.F=
"new pattern [Alt N]";this.Zl=this.m.la(this.wF,Menu.Ia,-100,-50,180,"Load Pattern");this.Zl.F="load last saved pattern [Ctrl O]";this.jm=this.m.la(this.xz,Menu.Ia,100,-50,180,"Save Pattern");this.jm.F="save pattern [Ctrl S]";this.qr=this.m.la(this.lz,Menu.Ia,-100,0,180,"Rand All");this.qr.F="randomize pattern and rule [Alt Z]";this.Pi=this.m.la(this.jz,Menu.Ia,100,0,180,"Rand Pattern");this.Pi.F="randomize pattern and keep rule [Ctrl Alt Z]";this.Dq=this.m.la(this.nw,Menu.Ia,-100,50,180,"Identify");
this.Dq.F="identify oscillator or spaceship period [F6]";this.Yh=this.m.la(this.iH,Menu.Ia,100,50,180,"Fast Identify");this.Yh.F="quickly identify oscillator or spaceship period [Ctrl F6]";this.ym=this.m.la(this.rz,Menu.Ia,-100,100,180,"Save Image");this.ym.F="save image [O]";this.tm=this.m.la(this.qz,Menu.Ia,100,100,180,"Save Graph");this.tm.F="save population graph image [Shift O]";this.bm=this.m.la(this.vI,Menu.Ia,-100,-50,180,"Open Clipboard");this.bm.F="open clipboard as pattern [Ctrl Shift O]";
this.Ck=this.m.la(this.xu,Menu.Ia,100,-50,180,"Copy Original");this.Ck.F="copy original pattern [Ctrl Shift C]";this.Wh=this.m.la(this.tG,Menu.Ia,-100,0,180,"Copy Rule");this.Wh.F="copy rule definition [Ctrl J]";this.Vh=this.m.la(this.Nu,Menu.Ia,100,0,180,"Copy Nhood");this.Vh.F="copy CoordCA neighbourhood definition [Ctrl B]";this.Xh=this.m.la(this.Yu,Menu.Ia,-100,50,180,"Copy All");this.Xh.F="copy with comments [Ctrl Alt C]";this.Oi=this.m.la(this.Vy,Menu.Ia,100,50,180,"Paste To Seln");this.Oi.F=
"paste to selection [Ctrl Shift V]";this.Jt=this.m.la(this.dz,Menu.yp,-135,-100,120,"Prev");this.Jt.F="go to previous universe [Page Up]";this.mt=this.m.la(this.Gy,Menu.yp,135,-100,120,"Next");this.mt.F="go to next universe [Page Down]";this.ea=this.m.la(this.iw,Menu.jb,-40,-85,40,"Esc");this.ea.F="close errors";this.ea.hb("16px Arial");this.It=this.m.la(this.SI,Menu.LF,10,0,40,"<");this.It.F="go to previous POI [Shift J]";this.lt=this.m.la(this.pI,Menu.Nv,-50,0,40,">");this.lt.F="go to next POI [J]";
this.Wq=this.m.Gk(this.wy,Menu.ua,0,45,172,40,0,1,this.Id,"Opacity ","%",0);this.Wq.F="graph opacity [7 / 9]";this.Mq=this.m.qb(this.GJ,Menu.uc,-85,45,40,40,[""],[!1],Menu.cb);this.Mq.icon=[this.W.icon("lines")];this.Mq.F=["toggle graph lines/points [Shift Y]"];this.$h=this.m.la(this.oB,Menu.uc,-40,45,40,"X");this.$h.F="close results [Esc]";this.Wk=this.m.qb(this.Hp,Menu.uc,-40,45,40,120,["Res","Tbl","Map"],this.nj,Menu.qm);this.Wk.F=["show Identify results [Shift F6]","toggle cell period table [E]",
"toggle cell period map [D]"];this.Wk.hb("15px Arial");this.Wk.Ir=Menu.Xe;this.rf=this.m.la(this.sC,Menu.uc,-40,45,40,"");this.rf.F="download cell period map [Shift D]";this.rf.icon=this.W.icon("download");this.Ek=this.m.la(this.Rw,Menu.uc,-40,45,40,"X");this.Ek.F="close graph [Y]";this.yi=this.m.qb(this.rl,Menu.jd,0,45,40,40,[""],[this.cl],Menu.cb);this.yi.icon=[this.W.icon("pick")];this.yi.F=["pick state [F3]"];this.Gr=this.m.qb(this.TE,Menu.jd,45,45,40,40,[""],[this.Nn],Menu.cb);this.Gr.icon=[this.W.icon("states")];
this.Gr.F=["toggle states display [Ctrl D]"];this.yt=this.m.qb(this.IJ,Menu.jd,90,45,40,40,[""],[this.fr],Menu.cb);this.yt.icon=[this.W.icon("drawpause")];this.yt.F=["toggle pause playback while drawing [Ctrl P]"];this.Cr=this.m.qb(this.SE,Menu.jd,135,45,40,40,[""],[this.xp],Menu.cb);this.Cr.icon=[this.W.icon("smart")];this.Cr.F=["toggle smart drawing [Shift F2]"];this.Cc=this.m.qb(this.co,Menu.jb,-40,-40,40,40,[""],[!1],Menu.cb);this.Cc.icon=[this.W.icon("menu")];this.Cc.F=["toggle settings menu [M]"];
this.wt=this.m.la(this.Xy,Menu.Ia,-100,-75,150,"Pattern");this.wt.F="pattern actions";this.Ni=this.m.la(this.Ju,Menu.Ia,100,-75,150,"Clipboard");this.Ni.F="clipboard actions";this.wj=this.m.la(this.zA,Menu.Ia,-100,75,150,"Theme");this.wj.F="choose colour theme";this.bn=this.m.qb(this.AF,Menu.Ia,100,75,150,40,["Graph"],[this.yd],Menu.cb);this.bn.F=["toggle population graph display [Y]"];this.ms=this.m.la(this.Ov,Menu.Ia,-100,-25,150,"Display");this.ms.F="display settings";this.gx=this.m.la(this.Zy,
Menu.Ia,100,-25,150,"Playback");this.gx.F="playback settings and actions";this.Bk=this.m.la(this.yu,Menu.Ia,-100,25,150,"General");this.Bk.F="general actions";this.ei=this.m.la(this.bE,Menu.Ia,-100,-50,180,"Integer Zoom");this.ei.F="set zoom to nearest integer [Shift 1]";this.Ii=this.m.la(this.Eu,Menu.Ia,100,-50,180,"Center Pattern");this.Ii.F="center pattern [Ctrl M]";this.Li=this.m.la(this.Fu,Menu.Ia,-100,0,180,"Clear Drawing");this.Li.F="clear drawing state cells [Ctrl Alt K]";this.$t=this.m.la(this.xJ,
Menu.Ia,100,0,180,"Snap Angle");this.$t.F="snap angle to nearest 45 degrees [Alt /]";this.Si=this.m.la(this.yz,Menu.Ia,-100,50,180,"Save View");this.Si.F="save current view [Shift V]";this.Ri=this.m.la(this.oz,Menu.Ia,100,50,180,"Restore View");this.Ri.F="restore saved view [V]";this.Os=this.m.la(this.wD,Menu.Ia,100,25,150,"Advanced");this.Os.F="advanced settings and actions";this.vq=this.m.qb(this.ko,Menu.Ia,-100,-50,180,40,["Frame Times"],[this.j.ol],Menu.cb);this.vq.F=["toggle timing display [T]"];
this.ku=this.m.qb(this.GF,Menu.Ia,100,-50,180,40,["Timing Details"],[this.j.Ln],Menu.cb);this.ku.F=["toggle timing details [Shift T]"];this.tr=this.m.qb(this.gK,Menu.Ia,-100,0,180,40,["Relative Gen"],[this.Jl],Menu.cb);this.tr.F=["toggle absolute/relative generation display [Shift G]"];this.Qi=this.m.la(this.nz,Menu.Ia,100,0,180,"Reset All");this.Qi.F="reset all Viewers [Shift R]";this.Ui=this.m.la(this.Tz,Menu.Ia,-100,50,180,"Stop All");this.Ui.F="stop all Viewers [Shift Z]";this.Vi=this.m.la(this.Yz,
Menu.Ia,100,50,180,"Stop Others");this.Vi.F="stop other Viewers [Z]";this.Hj=this.m.la(this.bs,Menu.yp,0,-100,120,"Back");this.Hj.F="back to previous menu [Backspace]";this.be=this.m.la(this.Cu,Menu.yp,0,-100,120,"Cancel");this.be.F="cancel operation [Esc]";this.be.vn=!0;var f=-1;for(b=0;b<=this.g.Bf;b+=1){var u=y.ju[b];var z=y.bQ[b];z!==f?(m=120,f=z):m+=60;this.G[b]=this.m.qb(null,Menu.ua,140*z-210,m,120,40,[this.iy(u)],[!1],Menu.cb);this.G[b].F=["select "+this.iy(u)+" theme"];this.G[b].hb("20px Arial")}this.G[0].Xb=
this.vB;this.G[1].Xb=this.yB;this.G[2].Xb=this.xF;this.G[3].Xb=this.MF;this.G[4].Xb=this.NF;this.G[5].Xb=this.PF;this.G[6].Xb=this.Hy;this.G[7].Xb=this.Ky;this.G[8].Xb=this.My;this.G[9].Xb=this.Ny;this.G[10].Xb=this.RB;this.G[11].Xb=this.VB;this.G[12].Xb=this.hC;this.G[13].Xb=this.tC;this.G[14].Xb=this.gD;this.G[15].Xb=this.xD;this.G[16].Xb=this.KD;this.G[17].Xb=this.dE;this.G[18].Xb=this.CE;this.G[19].Xb=this.nF;this.G[20].Xb=this.KF;this.Tp=this.m.Ja(Menu.ua,-210,60,120,40,"Default");this.Fm=this.m.Ja(Menu.ua,
-70,60,120,40,"Classic");this.Up=this.m.Ja(Menu.ua,70,60,120,40,"Program");this.Sp=this.m.Ja(Menu.ua,210,60,120,40,"Basic");this.bu=this.m.la(this.Cz,Menu.jb,-405,-40,40,"1x");this.bu.F="set 1x playback speed [0]";this.rg=this.m.Gk(this.zk,Menu.jb,-360,-40,105,40,0,2,1,"","",-1);this.rg.F="playback speed [+ / -]";this.Nd=this.m.Ja(Menu.jb,-284,-30,27,20,0);this.Nd.hb(y.Mh);this.Nd.l=!0;this.yk=this.m.la(this.Sy,Menu.jb,-495,-40,40,"");this.yk.icon=this.W.icon("undo");this.yk.F="undo [Ctrl Z]";this.pp=
this.m.la(this.mz,Menu.jb,-450,-40,40,"");this.pp.icon=this.W.icon("redo");this.pp.F="redo [Ctrl Y]";this.iq=this.m.qb(this.zF,Menu.uc,-130,0,40,40,["Sync"],[this.ni],Menu.cb);this.iq.F=["sync cut and copy with external clipboard [Alt S]"];this.iq.hb("15px Arial");this.Zb=this.m.qb(this.Md,Menu.jb,-205,-40,160,40,["","","",""],y.af,Menu.qm);this.Zb.icon=[this.W.icon("tostart"),this.W.icon("stepback"),this.W.icon("stepforward"),this.W.icon("play")];this.Zb.F=["reset [R]","previous generation [Shift Tab]",
"next generation [Tab]","play [Enter]"];this.Wd=this.m.qb(this.FF,Menu.uc,-280,45,280,20,"0123456".split(""),this.pf,Menu.qm);this.Wd.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.Wd.hb("14px Arial");this.C=this.m.qb(this.gz,Menu.uc,-280,65,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],Menu.cb);this.C.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.C.Be=1;this.Qh=this.m.la(null,Menu.jd,175,45,5,"");this.Qh.Be=0;this.Qh.locked=!0;this.Qh.border=0;this.sh=
this.m.Gk(this.Bm,Menu.jd,180,45,130,40,0,1,0,"","",-1);this.sh.F="select drawing states range";this.Yg=this.m.la(this.nJ,Menu.jd,0,45,40,"All");this.Yg.icon=this.W.icon("select");this.Yg.F="select all cells [Ctrl A]";this.Yg.hb("16px Arial");this.so=this.m.qb(this.yF,Menu.jd,45,45,40,40,["Auto"],[this.Hk],Menu.cb);this.so.icon=[this.W.icon("autoshrink")];this.so.F=["toggle auto shrink selection [Alt A]"];this.so.hb("16px Arial");this.ae=this.m.la(this.Ey,Menu.jd,90,45,40,"");this.ae.icon=this.W.icon("shrinksel");
this.ae.F="shrink selection [Shift A]";this.Ul=this.m.qb(null,Menu.jd,135,45,40,40,[""],[!1],Menu.cb);this.Ul.icon=[this.W.icon("selectlibrary")];this.Ul.F=["toggle clipboard library [Shift B]"];this.js=this.m.qb(this.YJ,Menu.ua,0,90,400,40,"0123456789".split(""),this.fh,Menu.qm);this.ov();this.zn=this.m.qb(this.CF,Menu.uc,-160,45,160,40,["AND","CPY","OR","XOR"],y.oF[this.yn],Menu.qm);this.zn.F=["paste mode [Shift M]","paste mode [Shift M]","paste mode [Shift M]","paste mode [Shift M]"];this.zn.hb("16px Arial");
this.Ae=this.m.la(this.UG,Menu.jd,180,45,40,"");this.Ae.icon=this.W.icon("cut");this.Ae.F="cut [Ctrl X]";this.ze=this.m.la(this.Ou,Menu.jd,225,45,40,"");this.ze.icon=this.W.icon("copy");this.ze.F="copy [Ctrl C]";this.Og=this.m.la(this.HI,Menu.jd,270,45,40,"");this.Og.icon=this.W.icon("paste");this.Og.F="paste [Ctrl V]";this.ce=this.m.la(this.Du,Menu.jb,-220,-175,40,"");this.ce.icon=this.W.icon("cancelsel");this.ce.F="cancel selection [Ctrl K]";this.Af=this.m.la(this.Ly,Menu.jb,-175,-175,40,"");this.Af.icon=
this.W.icon("nudgeleft");this.Af.F="nudge left [Alt Left]";this.Qf=this.m.la(this.Oy,Menu.jb,-130,-175,40,"");this.Qf.icon=this.W.icon("nudgeright");this.Qf.F="nudge right [Alt Right]";this.Mg=this.m.la(this.Ry,Menu.jb,-85,-175,40,"");this.Mg.icon=this.W.icon("nudgeup");this.Mg.F="nudge up [Alt Up]";this.xf=this.m.la(this.Jy,Menu.jb,-40,-175,40,"");this.xf.icon=this.W.icon("nudgedown");this.xf.F="nudge down [Alt Down]";this.Oe=this.m.la(this.pH,Menu.jb,-265,-85,40,"");this.Oe.icon=this.W.icon("flipx");
this.Oe.F="flip horizontally [Alt X]";this.Pe=this.m.la(this.qH,Menu.jb,-220,-85,40,"");this.Pe.icon=this.W.icon("flipy");this.Pe.F="flip vertically [Alt Y]";this.Vg=this.m.la(this.gJ,Menu.jb,-175,-85,40,"");this.Vg.icon=this.W.icon("rotatecw");this.Vg.F="rotate clockwise [>]";this.Pg=this.m.la(this.fJ,Menu.jb,-130,-85,40,"");this.Pg.icon=this.W.icon("rotateccw");this.Pg.F="rotate counter-clockwise [<]";this.ee=this.m.la(this.Iu,Menu.jb,-85,-85,40,"");this.ee.icon=this.W.icon("inside");this.ee.F=
"clear cells in selection [Del]";this.de=this.m.la(this.Gu,Menu.jb,-40,-85,40,"");this.de.icon=this.W.icon("outside");this.de.F="clear cells outside selection [Shift Del]";this.Lm=this.m.la(this.Hu,Menu.jb,-40,-130,40,"R");this.Lm.icon=this.W.icon("select");this.Lm.F="clear History cells [Ctrl Del]";this.Lm.hb("16px Arial");this.Ya=this.m.la(this.KH,Menu.jb,-85,-130,40,"");this.Ya.icon=this.W.icon("invertselection");this.Ya.F="invert cells in selection [Ctrl I]";this.Y=this.m.la(this.hz,Menu.jb,-130,
-130,40,"");this.Y.icon=this.W.icon("random");this.Y.F="random fill [Shift 5]";this.wc=this.m.la(this.fz,Menu.jb,-175,-130,40,"2");this.wc.icon=this.W.icon("random");this.wc.F="random 2-state fill [Ctrl Shift 5]";this.fl=this.m.Gk(this.fK,Menu.jb,-275,-130,100,40,1,100,this.lk,"","%",0);this.fl.F="random fill density";this.mp=this.m.Gk(this.DF,Menu.uc,-265,45,100,40,0,y.sI-1,this.nh,"","",-1);this.mp.F="paste location [Shift L]";this.mp.hb("16px Arial");this.qq=this.m.la(this.HA,Menu.jb,-250,-40,
40,"");this.qq.icon=this.W.icon("uturn");this.qq.F="reverse playback direction [U]";this.Ul.Qu([this.js]);this.Cc.Qu([this.Wi,this.Fe,this.rd,this.Pc,this.ue,this.Hj,this.wj,this.wt,this.Ni,this.Os,this.ms,this.gx,this.Zn,this.Mn,this.$g,this.ea,this.aq,this.$p,this.po,this.ei,this.Ii,this.Zj,this.bq,this.jn,this.Sl,this.bn,this.vq,this.Li,this.ku,this.Eq,this.Dr,this.Qi,this.Ui,this.Vi,this.$t,this.Cq,this.Yk,this.Jt,this.mt,this.Bk,this.Si,this.Ri]);this.ke.Qu([this.nd,this.En,this.Lk,this.Mk,this.gd,
this.Xm,this.Lo,this.Gg,this.Pd,this.Io,this.il]);this.Xj.Qu([this.na,this.Cj,this.Ti])};h.prototype.Bu=function(b){var m=this,f=0,u=0;this.Tc=b;this.Tc.getContext&&(f=this.Tc.width,u=this.Tc.height,f!==this.jj&&A.dt&&(f=this.jj),f<y.Uc&&(f=y.Uc),u<y.ek&&(u=y.ek),f&=-8,this.Tc.width!==f&&(this.Tc.width=f),this.Tc.height!==u&&(this.Tc.height=u),this.vc=this.Tc.getContext("2d",{alpha:!1}),this.vc.globalAlpha=1,this.vc.fillStyle="black",this.vc.imageSmoothingEnabled=!1,this.vc.imageSmoothingQuality=
"low",this.vc.fillRect(0,0,this.Tc.width,this.Tc.height),this.vc.textAlign="left",this.vc.textBaseline="middle",this.J=this.Tc.width,this.I=this.Tc.height,this.g=new Life(this.vc,this.J,this.I,512,256,this.A,this),this.g.nN(this.vc,this.J,this.I),this.Ka=this.g.B.T(Float32,y.rI,"View.elapsedTimes"),this.sm=new Stars(y.Vw,this.g.B),this.cv(this.vc),this.j=new MenuManager(this.Tc,this.vc,"24px Arial",this.W,this,this.Iw),this.j.ol=!1,this.g.FL(),this.Ev(),registerEvent(this.Tc,"wheel",function(z){m.kz(m,
z)},!1),this.j.notification.enabled=!0,this.j.CK(this.m),registerEvent(this.Tc,"keydown",function(z){m.BE(m,z)},!1))};h.prototype.iy=function(b){var m=this.g.Kb,f="";b|=0;b<m.length&&(f=m[b].name);return f};h.prototype.aQ=function(b){var m=!1,f=this.g.Kb,u=0;for(b=b.toLowerCase();u<f.length-1&&!m;)f[u].name.toLowerCase()===b?m=!0:u+=1;m||(u=-1);return u};h.prototype.uQ=function(b){var m=this.$.us();m.wg||(m.x=this.g.width/2-this.g.Da);m.Yf||(m.y=this.g.height/2-this.g.xa);m.we||(m.zoom=this.g.zoom);
m.hi||(m.angle=this.g.angle);m.Fi||(m.Sa=this.g.Sa);m.ij||(m.aa=this.g.aa);m.$i||(m.depth=this.g.Ze);m.fg||(m.Nc=this.oc);m.Ff||(m.step=this.xb);m.Hf||(m.yc=this.g.bg);this.$.tO(b,this)};h.prototype.sM=function(b){var m=b,f=this.vc,u=b.length;f.font=(18*this.m.Uh|0)+"px "+y.vF;var z=f.measureText(b).width;if(500<z){--u;for(z=f.measureText(b.substr(0,u)+"...").width;500<z;)--u,z=f.measureText(b.substr(0,u)+"...").width;m=m.substr(0,u)+"..."}return m};h.prototype.GO=function(b,m){ScriptParser.cO(this,
b,m)};h.prototype.ZO=function(){this.Ux=!1;this.g.Zc=!1;this.ef=-1;this.Ns=this.Qv=!1;this.g.ja=1<<y.PL;this.Co=this.jy=-1;this.Pt=this.Qt=this.DD=this.Yl=this.nC=this.Tw=this.Wc=!1;this.g.kc=0;this.g.dc=0;this.g.Dc=1;this.sd=this.Vu=this.Kc=!1;this.xl=this.pi=this.Sb=null;this.Oj=y.Oj;this.yl=null;this.Wj=y.Wj;this.g.Sj=this.g.bN;this.g.Rj=this.g.aN;this.g.Qj=this.g.$M;this.g.Tj=this.g.cN;this.g.Uj=this.g.dN;this.eh=this.Kf=this.aw=!1;this.lc=-1;this.Gf=!1;this.nb=-1;this.Nh=this.Uf=this.Op=this.Me=
this.Kp=this.$c=this.hf=this.bd=!1;this.K=this.ft=2<this.g.i?63<=256-this.g.i?63:256-this.g.i:63;this.Xi=this.$H;this.De=!1;this.g.vh=!1;this.g.ot=0};h.prototype.zE=function(){this.wk?(l(this.element),this.j.hasFocus=!1):(this.J=this.Wp,this.I=this.KE,this.Kc?(this.Bb=!1,this.hh(!0,!1,y.Fl)):this.g.zoom=this.Xp,this.Jc&&(this.Jc.current=this.tl([this.g.zoom,this.g.zoom],!1,this)),this.ha=this.Vp,this.Bb=!1,this.j.Bb=!1,this.m.l=!1,this.j.Pj||this.j.notification.notify("Shrink with hotkey N",15,100,
15,!0),this.resize())};h.prototype.Iw=function(b){b.Bb?(b.zE(),b.ME&&!b.ib&&(b.Zb.current=b.Md(y.$k,!0,b))):b.Wc&&(b.Yl||b.ls(b,!1));b.lv=!1};h.prototype.resize=function(){this.lx&&(D.mx.QD=this.Xl-this.J,this.Xl=this.J,this.lx=!1);this.Tc.width=this.J;this.Tc.height=this.I;this.vc.textBaseline="middle";this.g.cJ(this.J,this.I)};h.prototype.AE=function(){this.Wp=this.J;this.KE=this.I;this.Xp=this.g.zoom;this.Vp=this.ha;this.J=this.J/this.gf|0;this.I=this.I/this.gf|0;this.g.zoom=this.g.zoom/this.gf;
this.J&=-8;this.m.l=!0;this.j.Bb=!0;this.j.gf=this.gf;this.j.hasFocus=!1;this.Bb=!0;this.resize()};h.prototype.tF=function(){var b=this.g.i,m;b>this.kh&&(b=this.kh);this.Wd.lower=[];this.Wd.F=[];this.Wd.Kh(40*b);this.C.lower=[];this.C.F=[];this.C.current=[];this.C.Kh(40*b);this.C.Be=1;for(m=0;m<b;m+=1){var f=m+this.sg;this.Wd.lower[m]=String(f);var u=this.wq(f);10>f&&(u+=" [Ctrl "+f+"]");this.Wd.F[m]=u;this.C.lower[m]="";this.C.F[m]=u;this.C.current[m]=!1}f=this.pf;0<f&&(this.g.za||this.g.L||this.g.ca||
this.g.O||(f=this.g.i-f));this.Wd.current=f-this.sg};h.prototype.vJ=function(){var b=this.g.i,m=this.m.$d;this.pf=1;this.sg=0;this.Gr.current=[this.TE([!0],!0,this)];this.kh=7+((this.J/m-y.Uc)/(40*m)|0);this.kh>b&&(this.kh=b);this.g.ta?(this.Wd.lower="0123456".split(""),this.Wd.Kh(280),this.Wd.F="dead [Ctrl 0];alive [Ctrl 1];history [Ctrl 2];mark 1 [Ctrl 3];mark off [Ctrl 4];mark 2 [Ctrl 5];kill [Ctrl 6]".split(";"),this.Wd.current=this.pf,this.C.lower="      ".split(" "),this.C.Kh(280),this.C.F=
"dead [Ctrl 0];alive [Ctrl 1];history [Ctrl 2];mark 1 [Ctrl 3];mark off [Ctrl 4];mark 2 [Ctrl 5];kill [Ctrl 6]".split(";"),this.C.Be=1,this.C.current=[!1,!1,!1,!1,!1,!1,!1]):2>=b?(this.Wd.lower=["0","1"],this.Wd.Kh(80),this.Wd.F=["dead [Ctrl 0]","alive [Ctrl 1]"],this.Wd.current=this.pf,this.C.lower=["",""],this.C.Kh(80),this.C.F=["dead [Ctrl 0]","alive [Ctrl 1]"],this.C.Be=1,this.C.current=[!1,!1]):(this.pf=this.g.za||this.g.L||this.g.ca||this.g.O?1:b-1,this.tF(),this.Wd.Kh(40*this.kh),this.C.Kh(40*
this.kh),this.sh.current=this.Bm([0,0],!0,this));this.Wd.setPosition(Menu.uc,-this.Wd.Dx,45);this.C.setPosition(Menu.uc,-this.C.Dx,65)};h.prototype.zP=function(b){var m=this.g.Bf;-1===b&&(b=this.Nj?m:this.g.ta?10:2<this.g.i&&!(this.g.O||this.g.L||this.g.ca)?11:this.g.ia?17:this.g.L||this.g.ca?18:1);this.Kn(b,1,this)};h.prototype.lJ=function(){var b=window.innerWidth,m=window.innerHeight,f=this.J,u=this.I+80;f*=this.devicePixelRatio;u*=this.devicePixelRatio;var z=this.devicePixelRatio;this.Wf=1;if(f>
b||u>m)if(z=f/b,u/m>z&&(z=u/m),f/=z,u=this.I*this.devicePixelRatio/z,z=f/this.J,u/this.I<z&&(z=u/this.I),f<y.Uc||u<y.ek)z=f/y.Uc,u/y.ek<z&&(z=u/y.ek),f/=z,u/=z,this.Wf=z,z=1;this.J=f&-8;this.I=u|0;this.j.Wf=this.Wf;D.mx.Wf=this.Wf;this.m.aP(z);this.W.setScale(z);this.Bs=18*z|0;this.Aq=this.Bs+"px "+y.oH;this.en=this.Bs+"px "+y.vF;this.J!==this.Xl&&(this.lx=!0)};h.prototype.pG=function(){this.Hl=!1;this.ih=0;this.mg=!1;this.Gn=this.Fn=0;this.xt=this.br=this.Dn=this.Yc=this.vb="";this.ex=this.er=this.Wa=
this.Ra=0;this.hk="(none)";this.g.za=!1;this.g.ia=!1;this.g.L=!1;this.g.ta=!1;this.g.O=!1;this.g.S=!1;this.g.hg=this.A.Bq;this.g.M=!1;this.g.Ld=this.A.ho;this.g.Ic=!1;this.g.ve=-1;this.g.ax=!1;this.g.i=-1;this.g.sa=-1;this.Ba=this.Hd=this.g.oa=!1;this.g.ca=!1;this.g.jl=null;this.g.kl=null;this.g.Je=null;this.g.qe=null;this.g.ph=[];this.g.re=null;this.g.oh=0;this.g.pk=0;this.g.gm=0};h.prototype.Di=function(b,m){this.oc=60;this.xb=1;this.rg.current=this.zk([this.rm(),1],!0,this);this.Bj.l=!0;this.ll.l=
!0;this.tn=this.J;this.sn=this.I;b=this.A.create("",b,this.g.B,this.hq,this.Mu,[m],this);this.PH=this.A.D;if(this.A.Cw){b=this.A.qg;var f=this.A.pg;var u=this.A.create("","x=1,y=1,rule=Life\n!",this.g.B,this.hq,this.hq,[m],this);this.hq(u,[m],this);this.A.qg=b;this.A.pg=f;this.J=this.tn;this.I=this.sn;this.j.notification.clear(!1,!0);this.j.notification.notify("Loading rule...",15,1E4,15,!0)}else this.hq(b,[m],this)};h.prototype.Mu=function(b,m,f){m[m.length]=b.title;m[m.length]=b.wd;f.A.D=f.PH;f.A.Ba=
!0;f.hq(null,m,f)};h.prototype.kG=function(){var b,m=0,f=!1;if(navigator.userAgentData){var u=navigator.userAgentData;if("Windows"===u.platform&&u.brands)for(b=0;b<u.brands.length;b+=1)if("Google Chrome"===u.brands[b].brand||"Brave Browser"===u.brands[b].brand)f=!0,m=Number(u.brands[b].version)}f&&103<=m&&107>m&&(b=localStorage.getItem(y.dH),"y"!==b?(this.j.notification.notify("If there are no cells displayed click on Help",15,300,15,!1),this.dv=!0):this.dv=!1)};h.prototype.hq=function(b,m,f){var u,
z,B=!1;var C=u=0;var E=m[0],G="";f.rw=-1!==window.navigator.userAgent.indexOf("Edge")?!0:!1;f.g.Hh=!1;f.g.Sk=null;f.Zm=!1;f.Dg=-1;f.Zn.current=f.UE([!0],!0,f);f.nl=!1;f.om=!1;f.nm=!1;f.lm=!1;f.pm=!1;f.ml=!1;f.mm=!1;f.g.bg=-1;f.j.bJ();f.ni=!0;f.Hk=!1;f.yb=!1;f.Vk=!1;f.kg=[];for(z=0;10>z;z+=1)f.kg[z]=null;f.fh=0;f.ds=!1;f.Ib=null;f.td=!1;f.Sf=0;f.Rf=0;f.Sd=!1;f.fi=!1;f.zn.current=f.CF(2,!0,f);f.gr=!1;f.gl=[];f.rr=[];f.Jd=[];f.mk=[];f.Fg=[];f.Bo=[];f.qd=0;f.Gc=0;f.fp=0;f.g.Wg=!1;f.mh=[];f.xd=y.$q;f.Zq=
0;f.tt=-1;f.Yq=[];f.ut=0;f.$j=!1;f.wC=0;f.xC=0;f.Zk=0;f.sw=!1;f.xn=y.Jk;f.Bn=-y.Jk;f.wn=y.Jk;f.Cn=-y.Jk;f.j.notification.clear(!0,!0);f.j.notification.clear(!1,!0);f.g.zd=!1;f.g.Ad=!1;f.IF=!1;if(b){f.Hl=f.A.Hl;f.ih=f.A.YA;f.mg=f.A.mg;f.Fn=f.A.nx;f.Gn=f.A.ox;f.qg=f.A.qg;f.pg=f.A.pg;f.Ra=b.width;f.Wa=b.height;-1===f.qg&&(f.qg=f.Ra);-1===f.pg&&(f.pg=f.Wa);f.br=b.name;f.xt=b.wI;f.hk=b.hk;""===f.hk&&(f.hk="(none)");f.er=b.wd;f.ex=b.qt;f.vb=b.H;f.Yc=b.zg;f.Dn=b.cq;f.g.Lc=b.Lc;f.g.ah=b.ah;f.Ba=f.A.Ba;f.g.ta=
b.Bc;f.g.O=b.O;f.Lm.F="clear History cells [Ctrl Del]";f.g.O&&(f.Lm.F="clear Super cells [Ctrl Del]");f.g.i=b.i;!f.Ba&&2<b.wd&&(f.g.i=b.wd);f.g.re=null;f.g.ph=null;f.Ei=[];-1!==b.df?(f.g.Ug=b.Ug,f.g.df=b.df,f.g.i=b.df,f.g.Bi=b.Bi,f.g.im=b.im,f.g.jl=b.jl,f.g.kl=b.kl,f.g.Je=b.Je,f.g.qe=b.qe,f.Ei=b.vr,f.g.ca=!0):f.g.ca=!1;null!==b.re&&(f.g.ph=b.ph,f.g.re=b.re,f.g.oh=b.oh,f.g.pk=b.pk,f.g.gm=b.gm,f.g.i=b.Tg,f.g.Je=b.Je,f.g.qe=b.qe,f.Ei=b.vr,f.g.ca=!0);f.g.wO(b.qe);if(f.g.oa=b.oa)f.g.pa.sb=b.fe,f.g.pa.Yn=
b.ff,f.g.pa.Jn=b.i,f.g.pa.Rr=b.qx,f.g.pa.KP(b.ub,b.Vd,b.Dd,b.dg,b.M,b.If,b.Sh,b.cg,b.eg),f.A.Lb?(f.g.pa.Wr=b.oo,f.g.pa.Xr=b.qo,f.g.pa.Lb=!0):f.g.pa.Lb=!1,f.IF=b.Ee;f.g.za=b.za;f.g.ia=b.ia;f.g.Gm=f.g.ia;f.g.L=b.L;f.g.Tb=!1;f.g.S=b.S;f.g.ax=b.S;f.g.hg=b.hg;f.g.M=b.M;f.g.Ld=b.Ld;f.g.Ic=b.Ic;f.g.ve=b.ve;f.g.sa=b.Ac;f.g.Ea=b.sf;f.g.Aa=b.jh;f.g.vo=b.ws;f.g.wo=b.yq;f.g.Zu=b.dB;f.g.Wz=b.$v;f.g.$u=b.eB;var F=-1===f.g.i?2:f.g.i;f.dr=new Uint32Array(F);for(z=0;z<F;z+=1)f.dr[z]=f.A.Ap[z]}else f.pG();f.g.NP();
f.rj=!0;f.yd=!1;f.Gh=!0;f.Id=y.$G;f.Hc=b?!1:!0;f.Il=!0;f.Jl=!1;f.D=f.A.D;f.g.X=1;f.g.Rt=y.YG;f.Eb=0;f.Fb=0;f.yh=-1;f.Oh=-1;f.zo=!1;f.hs=!1;f.m.locked=!1;f.fj=!1;f.tj=!1;f.g.yM();f.g.zM();f.g.ta&&f.g.vG();f.g.ta&&f.g.BG();f.Aj="";f.sj=!1;ColourManager.Ye();f.g.le=y.Zv;f.g.Hg=y.Yv;f.g.gg=10;f.g.RL=10;f.g.Ll=!0;f.wv=-1;f.vv=-1;f.oc=60;f.xb=1;f.g.aa=1;f.g.Ze=.1;f.g.angle=0;f.g.Sa=0;f.g.zoom=6;f.g.WO(f.QL,f.OL);f.g.fs(!1);f.g.Da=f.g.width/2;f.g.xa=f.g.height/2;f.FA=!1;f.DA=!1;f.EA=!1;f.ad=0;f.nf=0;f.Ie=
-1;f.Qg=-1;f.ng=-1;f.pj=-1;f.Rc.fill(-1);f.qA=y.OH;f.pA=y.Tu;f.rA=y.NI;f.Bb&&f.zE();f.wm=!1;f.j.Bb=!1;f.gf=y.bH;f.wk=!1;f.j.wk=!1;f.ky=!1;f.Hd=b?!1:!0;f.Ta=!1;f.g.tc=!1;f.g.pd=!1;f.Zb.l=!1;f.ud.l=!1;f.ke.l=!1;f.rg.l=!1;f.Cc.l=!1;f.Fe.l=!1;f.rd.l=!1;f.wj.l=!1;f.Zn.l=!1;f.Mn.l=!1;f.m.l=!1;f.Ng.l=!1;f.yk.l=!1;f.pp.l=!1;f.wt.l=!1;f.Os.l=!1;f.gx.l=!1;f.ms.l=!1;f.Hj.l=!1;f.qq.l=!1;f.bu.l=!1;f.Cc.current=[!1];f.ke.current=[!1];f.ha=0;f.sc=0;f.Ul.current=[!1];f.so.current=f.yF([f.Hk],!0,f);f.iq.current=f.zF([f.ni],
!0,f);f.ay=!1;f.ud.current=f.sl(y.on,!0,f);f.fl.current=f.fK([50,50],!0,f);f.mp.current=f.DF([y.ar,y.ar],!0,f);f.Xj.current=f.ao([f.ha],!0,f);f.Qm=[96,96,96];f.g.vl=f.g.Fd?4284506208:1616929023;f.Rm=[128,128,128];f.g.Jm=f.g.Fd?4286611584:2155905279;f.Um=[0,255,0];f.g.fE="rgb(0,255,0)";f.Tm=[255,0,0];f.g.uC="rgb(255,0,0)";f.Pm=[255,255,0];f.g.Ru="rgb(255,255,0)";f.Vm=[255,128,0];f.g.gE="rgb(255,128,0)";f.$.reset();f.$c=!1;f.$.hL();f.ej=!1;f.oe=!1;f.ik=!0;f.Nj=!1;f.kq=!1;f.g.Eg=!1;f.Bx=y.mr;f.xx=y.mr;
f.nr=50;f.Ot=!1;f.yx=!1;f.Ax=!1;f.cm=-1;f.dm=-1;f.In=-1;f.zi=[];f.kk=[];f.Lx=!1;f.ME=!1;f.rE=!0;f.qE=!0;b?b.title&&(G=b.title):(1<m.length&&(G=m[1]),f.sJ());f.g.ta?(f.wh=[0,65280,128,14221272,16711680,16776960,6316128],f.hv="[R]History"):(f.wh=ColourManager.AA,f.hv="(default)");f.ZO();f.pr=Date.now().toString();!f.Ud&&A.fullScreen&&(f.J=document.body.clientWidth&-8,f.I=window.innerHeight-128,f.J<y.Uc&&(f.J=y.Uc),f.I<y.ek&&(f.I=y.ek),B=!0);""!==G&&(F=b?-1===b.i?b.wd:b.i:m[2],f.g.ta&&(F=7),f.g.L&&(F=
16),f.g.O&&(F=26),f.GO(G,F),f.Jd.length&&(f.sc=1),f.Bb&&E&&(f.Bb=!1),-1<f.Ie&&(f.Ie&=-8,f.Ie!==f.J&&(f.J=f.Ie,B=!0)),-1<f.Qg&&f.Qg!==f.I&&(f.I=f.Qg,B=!0),f.Ud&&(-1<f.ng?(f.ng&=-8,f.ng!==f.J&&(f.J=f.ng,B=!0)):f.J<y.Uc&&(f.J=y.Uc),-1<f.pj&&f.pj!==f.I&&(f.I=f.pj,B=!0)));f.g.Zc&&(2<f.g.i||f.g.oa||f.g.L||f.g.ta||f.g.O||f.g.ca||f.g.ia)&&(f.g.Zc=!1);if(!f.Ba||f.g.ca||f.g.O)f.K=0;f.zb.Ye(f.pr);f.g.oa&&f.g.pa.EP(f.pr);f.Ud&&(f.tn=f.J,f.sn=f.I,f.lJ());b&&b.Zg&&0===f.mh.length&&(f.Ba=!1);f.vJ();f.sJ();f.qQ();
f.oQ();f.g.DO();f.g.K=f.K;f.g.Xi=f.Xi;f.wk&&!f.yd&&(f.Hc=!0,f.yd=!1);f.g.NK(!f.Hc);b&&(b.width>f.g.ja||b.height>f.g.ja)&&(f.D="Pattern too big (maximum "+f.g.ja+"x"+f.g.ja+")",b.Zg=!0,f.Ba=!1,f.pG());b&&-1!==b.Ac&&(F=6,b.oa&&(F=6*b.Vd),b.Ee&&(F=6*b.kd),b.sf>=f.g.ja-F||b.jh>=f.g.ja-F)&&(f.D="Bounded grid is too big",f.Ba=!1,f.g.sa=-1);f.g.iQ(f);f.sw&&(f.g.lA(),f.vO());f.zy=!1;b&&(-1!==f.g.sa?(u=f.g.Ea,C=f.g.Aa,0===u&&(u=b.width),0===C&&(C=b.height)):(u=b.width,C=b.height,0<f.mh.length&&(u=f.oL(u),
C=f.nL(C))));F=y.Kg;f.g.oa&&(F=4*f.g.pa.Ji+1,-1!==f.g.sa&&(F+=2*f.g.pa.Ji),f.g.pa.type===f.A.Vf&&(F=-1!==f.g.sa?F+f.g.Aa/2:F+u/2),F<y.Kg&&(F=y.Kg));z=f.g.ja/2-F;f.mg&&(f.Fn<-z?f.Fn=-z:f.Fn>=z&&(f.Fn=z-1),f.Gn<-z?f.Gn=-z:f.Gn>=z&&(f.Gn=z-1),f.Eb+=f.Fn,f.Fb+=f.Gn);f.Eb<-z?f.Eb=-z:f.Eb>=z&&(f.Eb=z-1);f.Fb<-z?f.Fb=-z:f.Fb>=z&&(f.Fb=z-1);z=f.g.width<f.g.ja&&u+F+2*Math.abs(f.Eb)>=f.g.width;for(m=f.g.height<f.g.ja&&C+F+2*Math.abs(f.Fb)>=f.g.height;z||m;)f.g.zs(z,m),z&&(f.ad+=f.g.width>>2),m&&(f.nf+=f.g.height>>
2),z&&(f.dd+=f.g.width>>2),m&&(f.Cf+=f.g.height>>2),f.g.S&&m&&(f.ad-=f.g.height>>3,f.dd-=f.g.height>>3),z=f.g.width<f.g.ja&&u+F+2*Math.abs(f.Eb)>=f.g.width,m=f.g.height<f.g.ja&&C+F+2*Math.abs(f.Fb)>=f.g.height;b&&b.oa&&f.g.pa.resize(f.g.width,f.g.height);b&&f.pL(f.Ra,f.Wa,f.qg,f.pg);b&&f.g.ta&&f.A.Ap[6]&&f.g.sO(b,f.ec,f.fc);f.pi?f.j.notification.Ag="rgb("+f.pi[0]+","+f.pi[1]+","+f.pi[2]+")":f.j.notification.Ag=f.j.notification.px;if(null===f.Sb)for(z=0;z<f.wh.length;z+=1)f.uv[z]=f.A.Ap[z]?y.zJ:y.yJ;
f.g.mc?(f.g.GL(f.wh,f.Sb),f.g.Eg=!0):f.g.Eg=!1;b&&!b.Zg&&f.xL(b);f.il.eb=""!==f.Yc?f.Yc:f.vb;f.il.F=f.vb;""!==f.Yc&&(f.il.F+=" alias "+f.Yc);f.il.F+="\n"+f.$A();f.Rg=!1;f.NB="none";f.lb="none";f.Kq="none";f.$s="none";f.Lq="none";f.Zs="none";f.ww="none";f.Hq="none";f.bt="none";f.Iq="none";f.Xo="none";f.Wo="none";f.Jq="none";f.Ub=!1;f.Dq.current=[f.Ub];f.g.Ps(f.Ub);f.Mn.current=f.RE([f.ik],!0,f);(f.g.ca||f.g.za)&&-1!==f.Rc[y.Bg]&&(null===f.Sb?(f.Sb=f.g.B.T(Int32,256,"View.customColours"),f.Sb.fill(-1),
f.Sb[0]=f.Rc[y.Bg],f.Rc[y.Bg]=-1,f.Rc[y.Tk]=-1):-1===f.Sb[0]&&(f.Sb[0]=f.Rc[y.Bg]));f.g.lA();f.zP(f.jy);f.g.Sb=f.Sb;f.g.za||!f.Ba&&2<f.g.i?f.g.uG(f.wh,f.Sb):f.g.mA();f.g.ie(1);f.g.yP();f.bq.current=[f.g.pd];f.Cr.current=f.SE([f.xp],!0,f);f.Wq.current=f.wy([f.Id,f.Id],!1,f);f.Mq.current=[f.Gh];f.Gj.current=[f.Kc];f.cj.current=[f.g.tc];f.lr.current=[f.g.Zc];f.g.counter=0;f.g.lf=0;f.g.ck=0;f.Mb=0;f.elapsedTime=0;f.ud.jg=[!1,!1,!1];if(f.Hd)b&&(f.g.PD(f.tj),f.Sb&&(f.wh=f.Sb)),f.lL=f.wh.length,f.g.uG(f.wh,
f.Sb),f.g.rh.reset(),f.Hc=!0,f.yd=!1;else{f.g.PD(f.tj);f.g.Kx();2>=f.g.i&&f.g.Jx(f.g.kb);f.g.ta&&f.A.Ap[2]&&f.g.AL(b,f.ec,f.fc);f.xi();0<f.mh.length&&(f.g.PD(f.tj),f.g.Kx(),2>=f.g.i&&f.g.Jx(f.g.kb));f.g.YO(f.g.kb,f.g.U);F=0;u=f.g.i;-1===u&&(u=2);for(z=1;z<u;z+=1)F+=f.dr[z];b&&0===F&&0===f.g.ga&&!f.$j?(f.Zm=!0,f.g.za||(b.Zg?f.j.notification.notify("Pattern too big!",15,y.RA,15,!1):f.j.notification.notify("New Pattern",15,300,15,!1))):f.Zm=!1;-1!==f.g.sa&&f.g.hE();f.g.qP(f.oe,f);f.g.St(f,f.oe)}f.bn.locked=
f.Hc;f.bn.current=[f.yd];f.Mn.current=[f.ik];f.Zn.current=[f.Km];f.Sl.current=[f.g.vh];f.aq.current=[f.ej];f.$p.current=[f.Yi];f.po.current=[f.g.Gm];f.po.locked=!f.g.ia;f.g.M?(f.Zj.current=[f.g.Tb],f.Zj.F=["toggle triangular cells [?]"]):(f.Zj.F=["toggle hexagonal cells [?]"],f.Zj.current=f.g.S?[f.g.Tb]:[!0]);f.qq.locked=(f.g.ia||f.g.L)&&null!==f.g.cd?!1:!0;0===f.$.ep()?(f.jn.locked=!0,f.rj=!1):(f.jn.locked=!1,f.rj=!0);f.jn.current=[f.rj];f.Eq.current=[f.sd];f.tr.current=[f.Jl];f.Mt.current=[f.g.Hh];
f.Dr.current=[f.sj];f.Cq.current=[f.fj];f.$.Ec.length?(f.It.l=!1,f.lt.l=!1):(f.It.l=!0,f.lt.l=!0);0===f.g.gg?(f.Yk.current=[!1],f.Yk.locked=!0):(f.Yk.current=[f.g.Ll],f.Yk.locked=!1);f.Hc||f.g.$I();F=f.g.zoom;u=f.g.Da;C=f.g.xa;z=f.Bb;f.Bb=!1;f.hh(!0,!1,y.Fl);f.Bb=z;f.FA?f.g.zoom=F:!f.Kc&&f.g.zoom>y.aI&&(f.g.zoom=y.aI);f.DA&&(f.g.Da=u);f.EA&&(f.g.xa=C);f.$c&&f.uQ(f.Jd);f.Bb&&f.ky&&(f.g.zoom=f.OE);f.cH=f.g.zoom;f.Jc.current=f.tl([f.g.zoom,f.g.zoom],!1,f);f.ad=f.g.Da;f.nf=f.g.xa;f.nq=f.g.angle;f.Pc.current=
[f.nq,f.nq];f.pq=f.g.Sa;f.ue.current=[f.ks(f.pq),f.pq];f.Fv=f.g.bg;f.Kn(f.Fv,f.g.Nm,f);f.ZG=f.oc;f.aH=f.xb;f.rg.current=f.zk([f.rm(),1],!0,f);f.oq=f.g.aa;f.Fe.current=[f.oq,f.oq];f.CA=f.g.Ze;F=Math.sqrt(f.CA);f.rd.current=f.Am([F,F],!0,f);f.g.X=1;f.Kf&&!f.eh?(f.ib=!0,f.Zb.current=y.$k):(f.ib=!1,f.Zb.current=y.af);f.Rx(f.ib);f.J>y.Uc&&!f.Ud?(z=f.J-y.Uc+y.wu,z>y.Dy&&(z=y.Dy),f.Jc.Kh(z)):f.Jc.Kh(y.wu);if(B||f.Bb)f.Bb?f.AE():f.resize();b||(f.A.Zg?f.j.notification.notify("Pattern too big!",15,y.RA,15,
!1):f.j.notification.notify("Invalid pattern!",15,y.RA,15,!1));f.Jd.length?f.ha=0:f.sc=0;f.Ba||(f.Ta=!0,f.g.Eg=!1,f.g.za=!0,f.g.ta=!1,f.g.O=!1);if(f.Ta||f.g.za)f.ud.jg[y.nn]=!0,f.ud.jg[y.pn]=!0;f.Ta?(f.Zb.l=!0,f.Ng.l=!0,f.rg.l=!0,f.yk.l=!0,f.pp.l=!0,f.qq.l=!0,f.bu.l=!0,f.Hd&&(f.Fe.l=!0,f.rd.l=!0,f.wj.l=!0,f.g.aa=1),f.Ai.l=!1,""===f.D?(f.Ai.eb=" "+Keywords.uu,f.Ai.je=f.j.je,f.Ai.setPosition(Menu.Ci,f.ke.width,-40),f.Ai.Kh(f.J-(40+f.ke.width)),f.ke.l=!1):(f.Ai.eb=f.D,f.Ai.je=f.Oj,f.Ai.setPosition(Menu.Ci,
0,-40),f.Ai.Kh(f.J-40),f.ke.l=!0)):f.Ai.l=!0;540>f.I?f.Hj.setPosition(Menu.yp,0,-85):f.Hj.setPosition(Menu.yp,0,-100);f.PJ();f.Jg=!1;f.ct="";f.ZD(f);f.Tv()?(f.Lk.eb="Density",f.Lk.F="cell density"):(f.Lk.eb="Births",f.Lk.F="cells born this generation");f.j.vg=!0;f.j.og(!0);f.Ud&&f.ly&&(""===f.Aj?f.ly.nodeValue=y.ss:f.ly.nodeValue=f.sM(f.Aj));A.cb?(B=f.br,""===B&&(B="Universe "+(f.md+1)),f.j.notification.notify(B,15,120,15,!0),f.Jt.l=!1,f.mt.l=!1):(f.Jt.l=!0,f.mt.l=!0);f.rb("");f.Sw&&e(f);(8===f.g.zoom||
.125===f.g.zoom)&&0<f.gp&&0===(f.gp&3)&&1===(f.mk.length&5)?(f.ps=!0,f.g.JH()):f.ps=!1;f.g.rB();(f.g.ia||f.g.L)&&null!==f.g.cd&&f.Lx&&(f.g.Ad=!0,f.Rx(f.ib));f.Qt&&""===f.D&&(f.wx||(f.wx=!0,f.Nt(f,!0)),f.wx=!1);-1!==f.ef&&(f.Il&&f.j.notification.notify("Going to generation "+f.ef,15,1E4,15,!1),f.j.notification.clear(!0,!1));b||(b=f.g.za,f.g.za=!1,f.g.Mm=1,f.g.mA(),f.g.za=b);f.nj=0;f.Wk.current=f.Hp(f.nj,!0,f);f.kG()};registerEvent(window,"load",x,!1);window.onresize=function(){if(A.fullScreen){var b=
D.Zd[0][1];b.J=document.body.clientWidth&-8;b.I=window.innerHeight-128;b.J<y.Uc&&(b.J=y.Uc);b.I<y.RI&&(b.I=y.RI);if(b.J>y.Uc&&!b.Ud){var m=b.J-y.Uc+y.wu;m>y.Dy&&(m=y.Dy);b.Jc.Kh(m)}else b.Jc.Kh(y.wu);m=b.pf;b.vJ();b.pf=m;b.tF();b.resize();b.j.og(!0)}};window.DocConfig=A;window.Controller=D;window.ViewConstants=y;window.startAllViewers=x;window.updateViewer=l;window.updateMe=d;window.hideViewer=n;window.lifeViewerBuild=y.vy}(),function(){var w={km:0,Ao:"",jA:!1,XP:function(h){h=LifeConstants.Qw[h];
10<h.length&&(h=h.replace(/marked/,"mkd"),h=h.replace(/trail/,"trl"),10<h.length&&(h="1"<=h.substr(-1)&&"9">=h.substr(-1)?h.substr(0,9)+h.substr(-1):h.substr(0,10)));return h},NO:function(h,g,q,n,a,c,d,e,l,k){var p=e,r=h.m.$d,t=this.km*r,v=this.km*h.m.$d,x=!1,A=h.fa;c&&(c.fillStyle===ViewConstants.Cs&&(x=!0),A>=k&&A<=k+h.vd&&(c.font=h.Aq,x||(c.fillStyle=1<(h.ha|0)?h.Wj:h.j.zf),c.fillText(g,d+t,e+v),x||(c.fillStyle=h.Wj),c.fillText(q,d+t+c.measureText(g).width,e+v),x||(c.fillStyle=(h.ha|0)<h.Uq-h.vd?
h.Wj:h.j.zf),c.fillText(n,d+t+c.measureText(g+q).width,e+v),x||(c.fillStyle=h.Wj),c.font=h.en,c.fillText(a,d+t+h.Z[0]*r,e+v),p+=l));h.fa+=1;return p},Qz:function(h){h/=1048576;return 10>h?String(h.toFixed(1)):String(h.toFixed(0))},La:function(h,g,q,n,a,c,d,e,l){var k=h.fa;a&&(e-=6,k>=l&&k<=l+h.vd&&(h=a.fillStyle,h!==ViewConstants.Cs&&(a.fillStyle="rgb("+g+","+q+","+n+")"),a.fillRect(c,d-(e>>1)-1,e,e),a.fillStyle=h))},measureText:function(h,g,q,n){var a=n?h.ew:h.dw;a[h.fa]?g=a[h.fa]:(g.font=0===n?
h.Aq:h.en,g=g.measureText(q).width,a[h.fa]=g);return g},h:function(h,g,q,n,a,c,d,e){var l=c,k=String(q).indexOf("\t"),p=0,r=h.m.$d,t=this.km*r,v=this.km*h.m.Uh,x=h.fa>=e&&h.fa<=e+h.vd;w.jA&&0===w.km&&(""===g?w.Ao+=q+"\n":"H / Esc"!==g&&(w.Ao+=g+"\t"+q+"\n"));if(g.length){x&&(n.font=h.Aq,n.fillText(g,a+t,c+v));g=this.measureText(h,n,g,0);g>h.Z[p]*r&&""!==q&&(x&&(c+=d,l+=d),h.fa+=1,x=h.fa>=e&&h.fa<=e+h.vd);x&&(n.font=h.en);for(;-1!==k;)x&&n.fillText(q.substr(0,k),a+t+h.Z[p]*r,c+v),p+=1,q=q.substr(k+
1),k=q.indexOf("\t");k=!1;if(h.th&&(g=this.measureText(h,n,q,1),a+h.Z[p]*r+g>n.canvas.width)){var A=q.toLowerCase();g=A.indexOf("|");-1===g&&("r"===A[0]?g=A.indexOf("b"):"m"!==A[0]&&(g=A.indexOf("s")),-1===g&&(g=A.indexOf("/"),-1!==g&&"m"!==A[0]?g+=1:(g=q.length>>1,A=A.indexOf(",",g),-1!==A&&(g=A+1))));-1!==g&&(x&&(n.fillText(q.substr(0,g),a+t+h.Z[p]*r,c+v),c+=d,l+=d),h.fa+=1,(x=h.fa>=e&&h.fa<=e+h.vd)&&n.fillText("  "+q.substr(g),a+t+h.Z[p]*r,c+v),k=!0)}k||x&&n.fillText(q,a+t+h.Z[p]*r,c+v)}else n.font=
h.en,x&&n.fillText(q,a+t,c+v);x&&(l+=d);h.fa+=1;return l},Ab:function(h,g,q){var n=ColourManager.wh,a=Object.keys(n),c,d=!1,e=0;for(c="    "+h+"\t"+g+"\t"+q+("\t#"+(16777216|h<<16|g<<8|q).toString(16).slice(-6).toUpperCase());e<a.length&&!d;){var l=n[a[e]];l[1]===h&&l[2]===g&&l[3]===q?(c+="\t"+l[0],d=!0,e=a.length):e+=1}return c},Sg:function(h){return this.Ab(h.red,h.green,h.blue)},TK:function(h){var g=0,q=0;h.g.X&&(g=h.g.N.u-h.g.N.o+1,q=h.g.N.v-h.g.N.s+1);-1!==h.g.sa&&(0!==h.g.Ea&&(g=h.g.Ea),0!==
h.g.Aa&&(q=h.g.Aa));return g+" x "+q},$K:function(h){var g="AutoFit";h.fj&&(g+=" History");h.tj&&(g+=" State 1");return g},xI:function(h,g){g-=h.length;for(var q="";0<g;)q+=" ",--g;return q+h},cA:function(h){var g=h.indexOf(","),q=h.lastIndexOf(",");return[h.substring(4,g),h.substring(g+1,q),h.substring(q+1,h.length-1)]},XI:function(h,g,q,n,a,c){var d=n;switch(h.Yj){case ViewConstants.Th:this.TO(h,g,q,n,a,c);break;case ViewConstants.zB:this.PO(h,g,q,n,a,c);break;case ViewConstants.cE:this.RO(h,g,
q,n,a,c);break;case ViewConstants.qw:this.OO(h,g,q,n,a,c);break;case ViewConstants.IE:this.SO(h,g,q,n,a,c);break;case ViewConstants.eA:this.KO(h,g,q,n,a,c);break;case ViewConstants.Dz:this.IO(h,g,q,n,a,c);break;case ViewConstants.YB:this.QO(h,g,q,n,a,c);break;case ViewConstants.Hz:this.JO(h,g,q,n,a,c)}h.Uq=h.fa-1;h.fa=1;h.Z[0]=120;n=d+a*(h.vd+2);n=h.Yj!==ViewConstants.Th?this.NO(h,"Up"," / ","Down","scroll help",g,q,n,a,0):n+a;h.Ud?this.h(h,"H","close help",g,q,n,a,0):this.h(h,"H / Esc","close help",
g,q,n,a,0)},TO:function(h,g,q,n,a,c){h.fa=1;h.th=!1;h.ma=[];h.Z[0]=108;h.ma[0]=[h.fa,"Top"];n=this.h(h,"",ViewConstants.ss+" build "+ViewConstants.vy+" by "+ViewConstants.TJ,g,q,n,a,c);h.dv&&(n=this.h(h,"","",g,q,n,a,c),n=this.h(h,"","If there are no cells displayed please go to chrome://flags",g,q,n,a,c),this.h(h,"","and set Out-of-process 2D canvas rasterization to Disabled. ",g,q,n,a,c))},JO:function(h,g,q,n,a,c){var d,e=0,l=h.m.$d;h.fa=1;h.th=!1;h.ma=[];h.ma[e]=[h.fa,"Top"];e+=1;h.Z[0]=128;h.Z[1]=
208;h.Z[2]=288;h.Z[3]=368;n=this.h(h,"","Annotations",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[e]=[h.fa,"Labels"];e+=1;n=this.h(h,"","Labels:",g,q,n,a,c);n=this.h(h,"Number",h.$.yf.length,g,q,n,a,c);for(d=0;d<h.$.yf.length;d+=1){var k="Label "+String(d+1);n=this.h(h,k,h.$.uN(d),g,q,n,a,c);n=this.h(h," ",h.$.vN(d),g,q,n,a,c);n=this.h(h," ",h.$.wN(d),g,q,n,a,c);k=this.cA(h.$.xN(d));this.La(h,k[0],k[1],k[2],g,q+h.Z[0]*l,n,a,c);n=this.h(h,"Colour",this.Ab(k[0],k[1],k[2]),g,q,n,a,c)}n=this.h(h,"","",
g,q,n,a,c);h.ma[e]=[h.fa,"Arrows"];e+=1;n=this.h(h,"","Arrows:",g,q,n,a,c);n=this.h(h,"Number",h.$.ag.length,g,q,n,a,c);for(d=0;d<h.$.ag.length;d+=1)k="Arrow "+String(d+1),n=this.h(h,k,h.$.UK(d),g,q,n,a,c),n=this.h(h," ",h.$.VK(d),g,q,n,a,c),n=this.h(h," ",h.$.WK(d),g,q,n,a,c),k=this.cA(h.$.Tu(d)),this.La(h,k[0],k[1],k[2],g,q+h.Z[0]*l,n,a,c),n=this.h(h,"Colour",this.Ab(k[0],k[1],k[2]),g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[e]=[h.fa,"Polygons"];n=this.h(h,"","Polygons:",g,q,n,a,c);n=this.h(h,
"Number",h.$.lg.length,g,q,n,a,c);for(d=0;d<h.$.lg.length;d+=1)k="Polygon "+String(d+1),n=this.h(h,k,h.$.oO(d),g,q,n,a,c),n=this.h(h," ",h.$.pO(d),g,q,n,a,c),n=this.h(h," ",h.$.qO(d),g,q,n,a,c),k=this.cA(h.$.rO(d)),this.La(h,k[0],k[1],k[2],g,q+h.Z[0]*l,n,a,c),n=this.h(h,"Colour",this.Ab(k[0],k[1],k[2]),g,q,n,a,c)},PO:function(h,g,q,n,a,c){var d,e=0;h.fa=1;h.ma=[];h.th=!0;h.Z[0]=124;h.ma[e]=[h.fa,"Top"];e+=1;n=this.h(h,"","Keyboard commands",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[e]=[h.fa,"Playback"];
e+=1;n=this.h(h,"","Playback controls:",g,q,n,a,c);if(h.Hd)n=this.h(h,"R","reset",g,q,n,a,c);else{n=this.h(h,"Enter","toggle play / pause",g,q,n,a,c);n=this.h(h,"Space","pause / next generation",g,q,n,a,c);n=this.h(h,"B","pause / previous generation",g,q,n,a,c);n=this.h(h,"Backspace","pause / previous generation",g,q,n,a,c);n=this.h(h,"Tab","pause / next step",g,q,n,a,c);n=this.h(h,"Shift Tab","pause / previous step",g,q,n,a,c);if(h.g.ia||h.g.L)n=this.h(h,"U","toggle playback direction",g,q,n,a,c);
n=h.Ud?this.h(h,"Esc","close LifeViewer",g,q,n,a,c):this.h(h,"Esc","pause if playing",g,q,n,a,c);n=this.h(h,"R","reset to generation 0",g,q,n,a,c);n=this.h(h,"Shift N","go to generation",g,q,n,a,c);n=this.h(h,"-","decrease playback speed",g,q,n,a,c);n=this.h(h,"+","increase playback speed",g,q,n,a,c);n=this.h(h,"Shift -","minimum playback speed",g,q,n,a,c);n=this.h(h,"Shift +","maximum playback speed",g,q,n,a,c);n=this.h(h,"0","reset step and speed",g,q,n,a,c);n=this.h(h,"Ctrl P","toggle pause playback while drawing",
g,q,n,a,c);n=this.h(h,"Alt T","toggle throttling",g,q,n,a,c);h.$c?-1!==h.nb?(n=this.h(h,"W","toggle waypoint playback and loop",g,q,n,a,c),n=this.h(h,"Shift P","toggle just loop",g,q,n,a,c)):n=this.h(h,"W","toggle waypoint playback",g,q,n,a,c):-1!==h.nb&&(n=this.h(h,"W","toggle loop",g,q,n,a,c));h.Kf&&(n=this.h(h,"Alt O","toggle autostart",g,q,n,a,c));-1!==h.lc&&(n=this.h(h,"Alt P","toggle stop",g,q,n,a,c))}n=this.h(h,"","",g,q,n,a,c);h.ma[e]=[h.fa,"Multi"];e+=1;n=this.h(h,"","Multi-Viewer controls:",
g,q,n,a,c);DocConfig.cb&&(n=this.h(h,"Page Up","previous universe",g,q,n,a,c),n=this.h(h,"Page Down","next universe",g,q,n,a,c),n=this.h(h,"Home","first universe",g,q,n,a,c),n=this.h(h,"End","last universe",g,q,n,a,c));n=this.h(h,"Shift R","reset all LifeViewers to generation 0",g,q,n,a,c);n=this.h(h,"Z","stop playback in all other LifeViewers",g,q,n,a,c);n=this.h(h,"Shift Z","stop playback in all LifeViewers",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[e]=[h.fa,"Camera"];e+=1;n=this.h(h,"","Camera controls:",
g,q,n,a,c);if(h.I>=ViewConstants.mn||(h.Bb&&h.KE)>=ViewConstants.mn)n=this.h(h,"M","toggle settings menu",g,q,n,a,c);n=this.h(h,"V","restore saved camera position",g,q,n,a,c);n=this.h(h,"Shift V","save current camera position",g,q,n,a,c);var l=h.$.Ec.length;if(0<l&&(n=this.h(h,"J","jump to next point of interest",g,q,n,a,c),n=this.h(h,"Shift J","jump to previous point of interest",g,q,n,a,c),9<l&&(l=9),!h.De&&!h.qh))for(d=1;d<=l;d+=1)n=this.h(h,"Alt "+String(d),"jump to POI #"+String(d),g,q,n,a,c);
n=this.h(h,"F","fit pattern to display",g,q,n,a,c);n=this.h(h,"Shift F","toggle autofit",g,q,n,a,c);n=this.h(h,"Shift H","toggle autofit history mode",g,q,n,a,c);n=this.h(h,"Ctrl F","fit selection to display",g,q,n,a,c);n=this.h(h,"Ctrl M","center pattern on display",g,q,n,a,c);h.g.ta&&(n=this.h(h,"Shift S","toggle autofit state 1 mode",g,q,n,a,c));n=this.h(h,"[","zoom out",g,q,n,a,c);n=this.h(h,"]","zoom in",g,q,n,a,c);n=this.h(h,"Shift [","halve zoom",g,q,n,a,c);n=this.h(h,"Shift ]","double zoom",
g,q,n,a,c);n=this.h(h,"1","1x zoom",g,q,n,a,c);n=this.h(h,"2","2x zoom",g,q,n,a,c);n=this.h(h,"4","4x zoom",g,q,n,a,c);n=this.h(h,"8","8x zoom",g,q,n,a,c);n=this.h(h,"6","16x zoom",g,q,n,a,c);n=this.h(h,"3","32x zoom",g,q,n,a,c);n=this.h(h,"Shift 1","integer zoom",g,q,n,a,c);n=this.h(h,"Shift 2","-2x zoom",g,q,n,a,c);n=this.h(h,"Shift 4","-4x zoom",g,q,n,a,c);n=this.h(h,"Shift 8","-8x zoom",g,q,n,a,c);n=this.h(h,"Shift 6","-16x zoom",g,q,n,a,c);n=this.h(h,"Shift 3","-32x zoom",g,q,n,a,c);n=this.h(h,
"Left","pan left",g,q,n,a,c);n=this.h(h,"Right","pan right",g,q,n,a,c);n=this.h(h,"Up","pan up",g,q,n,a,c);n=this.h(h,"Down","pan down",g,q,n,a,c);n=this.h(h,"Shift Left","pan north west",g,q,n,a,c);n=this.h(h,"Shift Right","pan south east",g,q,n,a,c);n=this.h(h,"Shift Up","pan north east",g,q,n,a,c);n=this.h(h,"Shift Down","pan south west",g,q,n,a,c);n=this.h(h,"<","rotate left",g,q,n,a,c);n=this.h(h,">","rotate right",g,q,n,a,c);n=this.h(h,"Shift <","rotate left 90 degrees",g,q,n,a,c);n=this.h(h,
"Shift >","rotate right 90 degrees",g,q,n,a,c);n=this.h(h,"Alt <","rotate left 45 degrees",g,q,n,a,c);n=this.h(h,"Alt >","rotate right 45 degrees",g,q,n,a,c);n=this.h(h,"5","reset angle",g,q,n,a,c);n=this.h(h,"Alt /","snap angle to nearest 45 degrees",g,q,n,a,c);n=this.h(h,"'","tilt down",g,q,n,a,c);n=this.h(h,"/","tilt up",g,q,n,a,c);n=this.h(h,"@","reset tilt",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.Hd||(h.ma[e]=[h.fa,"View"],e+=1,n=this.h(h,"","View controls:",g,q,n,a,c),n=this.h(h,"Q","increase number of layers",
g,q,n,a,c),n=this.h(h,"A","decrease number of layers",g,q,n,a,c),n=this.h(h,"P","increase layer depth",g,q,n,a,c),n=this.h(h,"L","decrease layer depth",g,q,n,a,c),n=this.h(h,"C","next colour theme",g,q,n,a,c),n=this.h(h,"Shift C","previous colour theme",g,q,n,a,c),n=this.h(h,"Alt C","default theme",g,q,n,a,c),n=this.h(h,"","",g,q,n,a,c));h.ma[e]=[h.fa,"Display"];e+=1;n=this.h(h,"","Display controls:",g,q,n,a,c);h.Hd||(n=this.h(h,"G","toggle generation statistics",g,q,n,a,c),n=this.h(h,"Shift G","toggle generation display mode",
g,q,n,a,c),h.Hc||(n=this.h(h,"Y","toggle population graph",g,q,n,a,c),n=this.h(h,"Shift Y","toggle graph lines",g,q,n,a,c),n=this.h(h,"7","decrease graph opacity",g,q,n,a,c),n=this.h(h,"9","increase graph opacity",g,q,n,a,c)),n=this.h(h,"Shift W","toggle performance warning",g,q,n,a,c));h.g.S?n=this.h(h,"?","toggle hexagons for hexagonal grid",g,q,n,a,c):h.g.M&&(n=this.h(h,"?","toggle triangles for triangular grid",g,q,n,a,c));n=this.h(h,"T","toggle timing information",g,q,n,a,c);n=this.h(h,"Shift T",
"toggle extended timing information",g,q,n,a,c);n=this.h(h,"I","toggle pattern and engine information",g,q,n,a,c);n=this.h(h,"Shift I","toggle information bar",g,q,n,a,c);n=this.h(h,"Ctrl Q","toggle cell anti-aliasing",g,q,n,a,c);n=this.h(h,"Alt B","toggle cell borders",g,q,n,a,c);n=this.h(h,"X","toggle gridlines",g,q,n,a,c);0<h.g.gg&&(n=this.h(h,"Shift X","toggle major gridlines",g,q,n,a,c));n=this.h(h,"Ctrl G","toggle auto gridlines",g,q,n,a,c);h.g.ia&&(n=this.h(h,"Alt D","toggle alternating gridlines",
g,q,n,a,c));if(h.g.ta||h.g.O||-1===h.g.i)n=this.h(h,"Alt G","convert pattern to [R]Super",g,q,n,a,c),n=this.h(h,"Alt H","convert pattern to [R]History",g,q,n,a,c),n=this.h(h,"Alt J","convert pattern to [R]Standard",g,q,n,a,c);0<h.$.ep()&&(n=this.h(h,"Alt L","toggle annotation display",g,q,n,a,c));n=this.h(h,"Ctrl L","toggle kill escaping gliders",g,q,n,a,c);h.wm&&(n=this.h(h,"N","toggle thumbnail view",g,q,n,a,c));n=this.h(h,"S","toggle stars",g,q,n,a,c);n=this.h(h,"O","save screenshot",g,q,n,a,c);
n=this.h(h,"Shift O","save population graph screenshot",g,q,n,a,c);n=this.h(h,"Shift U","toggle UI",g,q,n,a,c);n=this.h(h,"Alt U","toggle autohide UI during playback",g,q,n,a,c);-1===h.g.i&&(n=this.h(h,"Alt W","toggle rainbow mode",g,q,n,a,c));n=this.h(h,"D","toggle cell period map",g,q,n,a,c);n=this.h(h,"Shift D","download cell period map",g,q,n,a,c);n=this.h(h,"E","toggle cell period table",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[e]=[h.fa,"Pattern"];e+=1;n=this.h(h,"","Pattern controls:",g,
q,n,a,c);n=this.h(h,"Alt N","new pattern",g,q,n,a,c);n=this.h(h,"Alt R","change rule",g,q,n,a,c);n=this.h(h,"Ctrl O","open original or last saved pattern",g,q,n,a,c);n=this.h(h,"Ctrl+Shift O","open clipboard as pattern",g,q,n,a,c);n=this.h(h,"Ctrl S","save pattern",g,q,n,a,c);n=this.h(h,"Alt Z","randomize pattern and rule",g,q,n,a,c);n=this.h(h,"Ctrl+Alt Z","randomize pattern only",g,q,n,a,c);n=this.h(h,"F6","toggle oscillator and spaceship identification",g,q,n,a,c);n=this.h(h,"Ctrl F6","fast identification",
g,q,n,a,c);n=this.h(h,"Shift F6","display last identification result",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[e]=[h.fa,"Clipboard"];e+=1;n=this.h(h,"","External clipboard controls:",g,q,n,a,c);n=this.h(h,"Alt S","toggle sync cut and copy with external clipboard",g,q,n,a,c);n=this.h(h,"Ctrl+Shift C","copy original pattern",g,q,n,a,c);n=this.h(h,"Ctrl C","copy current selection",g,q,n,a,c);n=this.h(h,"Ctrl+Alt C","copy current selection with comments",g,q,n,a,c);n=this.h(h,"Ctrl+Shift X","cut original pattern",
g,q,n,a,c);n=this.h(h,"Ctrl X","cut current selection",g,q,n,a,c);n=this.h(h,"Ctrl+Alt X","cut current selection with comments",g,q,n,a,c);n=this.h(h,"Ctrl J","copy rule definition",g,q,n,a,c);n=this.h(h,"K","copy camera position",g,q,n,a,c);n=this.h(h,"Shift K","copy camera position and view",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[e]=[h.fa,"Edit"];e+=1;n=this.h(h,"","Edit controls:",g,q,n,a,c);n=this.h(h,"F1","toggle draw/pan mode",g,q,n,a,c);n=this.h(h,"F2","draw mode",g,q,n,a,c);n=this.h(h,
"Shift F2","toggle smart drawing",g,q,n,a,c);n=this.h(h,"F3","pick mode",g,q,n,a,c);n=this.h(h,"F4","select mode",g,q,n,a,c);n=this.h(h,"F5","pan mode",g,q,n,a,c);n=this.h(h,"Ctrl A","select all",g,q,n,a,c);n=this.h(h,"Shift A","shrink selection",g,q,n,a,c);n=this.h(h,"Alt A","toggle auto-shrink selection",g,q,n,a,c);n=this.h(h,"Ctrl C","copy",g,q,n,a,c);n=this.h(h,"Ctrl D","toggle states display",g,q,n,a,c);n=this.h(h,"Ctrl I","invert selection",g,q,n,a,c);n=this.h(h,"Ctrl K","remove selection",
g,q,n,a,c);n=this.h(h,"Ctrl V","paste",g,q,n,a,c);n=this.h(h,"Ctrl+Shift V","paste to selection",g,q,n,a,c);n=this.h(h,"Ctrl X","cut",g,q,n,a,c);n=this.h(h,"Ctrl Y","redo edit",g,q,n,a,c);n=this.h(h,"Ctrl Z","undo edit",g,q,n,a,c);n=this.h(h,"Ctrl+Shift Z","redo edit",g,q,n,a,c);n=this.h(h,"Ctrl Space","advance selection",g,q,n,a,c);n=this.h(h,"Shift Space","advance outside",g,q,n,a,c);n=this.h(h,"Shift L","cycle paste location",g,q,n,a,c);n=this.h(h,"Shift M","cycle paste mode",g,q,n,a,c);2<h.g.i?
(n=this.h(h,"Shift 5","multi-state random fill",g,q,n,a,c),h.g.L||(n=this.h(h,"Ctrl+Shift 5","2-state random fill",g,q,n,a,c))):n=this.h(h,"Shift 5","random fill",g,q,n,a,c);n=this.h(h,"Alt K","pick cell state to replace with drawing state",g,q,n,a,c);n=this.h(h,"Ctrl+Alt K","clear current drawing state cells",g,q,n,a,c);n=this.h(h,"Del","clear cells in selection",g,q,n,a,c);n=this.h(h,"Shift Del","clear outside selection",g,q,n,a,c);h.g.ta&&(n=this.h(h,"Ctrl Del","clear [R]History cells",g,q,n,a,
c),n=this.h(h,"Alt Del","clear [R]History marked cells",g,q,n,a,c));n=this.h(h,">","rotate selection clockwise",g,q,n,a,c);n=this.h(h,"<","rotate selection counter-clockwise",g,q,n,a,c);n=this.h(h,"Alt X","flip selection horizontally",g,q,n,a,c);n=this.h(h,"Alt Y","flip selection vertically",g,q,n,a,c);n=this.h(h,"Alt Left","nudge selection 1 cell left",g,q,n,a,c);n=this.h(h,"Alt Right","nudge selection 1 cell right",g,q,n,a,c);n=this.h(h,"Alt Up","nudge selection 1 cell up",g,q,n,a,c);n=this.h(h,
"Alt Down","nudge selection 1 cell down",g,q,n,a,c);n=this.h(h,"Esc","hide paste",g,q,n,a,c);n=this.h(h,"Enter","perform paste",g,q,n,a,c);h.g.ta?l=7:(l=-1===h.g.i?2:h.g.i,10<l&&(l=10));for(d=0;d<l;d+=1)n=this.h(h,"Ctrl "+d,"select state "+d+" for drawing",g,q,n,a,c);n=this.h(h,"Shift B","toggle clipboard library",g,q,n,a,c);for(d=0;10>d;d+=1)n=this.h(h,"Alt "+d,"make clipboard "+d+" active",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[e]=[h.fa,"Help"];n=this.h(h,"","Help controls:",g,q,n,a,c);n=this.h(h,
"Up","scroll up one line",g,q,n,a,c);n=this.h(h,"Down","scroll down one line",g,q,n,a,c);n=this.h(h,"Page Up","scroll up one page",g,q,n,a,c);n=this.h(h,"Page Down","scroll down one page",g,q,n,a,c);n=this.h(h,"Shift Page Up","scroll up one section",g,q,n,a,c);n=this.h(h,"Shift Page Down","scroll down one section",g,q,n,a,c);n=this.h(h,"Home","go to first help page",g,q,n,a,c);this.h(h,"End","go to last help page",g,q,n,a,c)},RO:function(h,g,q,n,a,c){var d=0;h.fa=1;h.th=!1;h.ma=[];h.Z[0]=252;h.ma[d]=
[h.fa,"Top"];d+=1;n=this.h(h,"","Scripts",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);n=this.h(h,"","Scripts must be embedded in pattern comments",g,q,n,a,c);n=this.h(h,"","Commands must be surrounded by whitespace",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[d]=[h.fa,"Params"];d+=1;n=this.h(h,"","Parameter conventions:",g,q,n,a,c);n=this.h(h,"A|B","either A or B",g,q,n,a,c);n=this.h(h,"(A)","A is optional",g,q,n,a,c);n=this.h(h,"A*","zero or more A",g,q,n,a,c);n=this.h(h,"A+","one or more A",g,q,n,a,
c);n=this.h(h,"<1..3>","integer range",g,q,n,a,c);n=this.h(h,"<1.0..3.0>","decimal range",g,q,n,a,c);n=this.h(h,'"<string>"',"text string",g,q,n,a,c);n=this.h(h," "+Keywords.Yd+"B","program build number",g,q,n,a,c);n=this.h(h," "+Keywords.Yd+"N","pattern name",g,q,n,a,c);n=this.h(h," "+Keywords.Yd+"O","pattern originator",g,q,n,a,c);n=this.h(h," "+Keywords.Yd+"R","rule name",g,q,n,a,c);n=this.h(h," "+Keywords.Yd+"A","rule alias",g,q,n,a,c);n=this.h(h," "+Keywords.Yd+"D","rule neighbourhood",g,q,n,
a,c);n=this.h(h," "+Keywords.Yd+"T","program title",g,q,n,a,c);n=this.h(h," "+Keywords.Yd+"S","random seed",g,q,n,a,c);n=this.h(h," "+Keywords.Yd+"G","current generation (Labels)",g,q,n,a,c);n=this.h(h," "+Keywords.Yd+"H","reversible generation (Labels)",g,q,n,a,c);n=this.h(h," "+Keywords.Yd+"I","current generation relative (Labels)",g,q,n,a,c);n=this.h(h," "+Keywords.Yd+"J","reversible generation relative (Labels)",g,q,n,a,c);n=this.h(h," "+Keywords.Yd+"P","current population (Labels)",g,q,n,a,c);
n=this.h(h," "+Keywords.Yd+"0..9","saved timing as average fps",g,q,n,a,c);n=this.h(h," "+Keywords.Yd+Keywords.Yd,Keywords.Yd+" symbol",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[d]=[h.fa,"General"];d+=1;n=this.h(h,"","General:",g,q,n,a,c);n=this.h(h,Keywords.up,"start script section",g,q,n,a,c);n=this.h(h,Keywords.zr,"end script section",g,q,n,a,c);n=this.h(h,Keywords.yE,"suppress overwrite warning",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[d]=[h.fa,"Playback"];d+=1;n=this.h(h,"","Playback:",
g,q,n,a,c);n=this.h(h,Keywords.Xu+" ("+Keywords.gb+")","start play automatically",g,q,n,a,c);n=this.h(h,Keywords.bk+" <1..>|"+Keywords.gb,"loop at generation",g,q,n,a,c);n=this.h(h,Keywords.uk+" <1..>|"+Keywords.gb,"stop at generation",g,q,n,a,c);n=this.h(h,Keywords.$x+" <1..>","play to generation on load",g,q,n,a,c);n=this.h(h,Keywords.Mo+" <"+ViewConstants.kj+".."+h.Ma+">","set steps per second",g,q,n,a,c);n=this.h(h,Keywords.Bp+" <"+ViewConstants.wi+".."+ViewConstants.Kg+">","set generations per step",
g,q,n,a,c);(h.g.ia||h.g.L)&&h.g.cd&&(n=this.h(h,Keywords.RD,"set initial playback to Reverse",g,q,n,a,c));n=this.h(h,Keywords.fB,"always use hard reset",g,q,n,a,c);n=this.h(h,Keywords.uu,"disable playback",g,q,n,a,c);n=this.h(h,Keywords.kC,"disable step back",g,q,n,a,c);n=this.h(h,Keywords.mC,"disable stop messages",g,q,n,a,c);n=this.h(h,Keywords.lC,"disable performance warning",g,q,n,a,c);n=this.h(h,Keywords.pC,"disable playback throttling",g,q,n,a,c);n=this.h(h,Keywords.SA,"starting playback pauses others",
g,q,n,a,c);n=this.h(h,Keywords.qB,"ignore other pause requests",g,q,n,a,c);n=this.h(h,Keywords.iD,"show playback duration",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[d]=[h.fa,"Camera"];d+=1;n=this.h(h,"","Camera:",g,q,n,a,c);n=this.h(h,Keywords.Im+" <0..359>","set camera angle",g,q,n,a,c);n=this.h(h,Keywords.$n+" <0.0..5.0>","set camera tilt",g,q,n,a,c);n=this.h(h,Keywords.Xf+" <-"+(h.g.ja>>1)+".."+(h.g.ja>>1)+">","set camera x position",g,q,n,a,c);n=this.h(h,Keywords.Zf+" <-"+(h.g.ja>>1)+".."+(h.g.ja>>
1)+">","set camera y position",g,q,n,a,c);n=this.h(h,Keywords.xe+" <"+Number(-1/ViewConstants.bb).toFixed(1)+".."+ViewConstants.Ob.toFixed(1)+">","set camera zoom",g,q,n,a,c);n=this.h(h,Keywords.Fz,"same as "+Keywords.xe,g,q,n,a,c);n=this.h(h,Keywords.Wu+" ("+Keywords.gb+")","fit pattern to display",g,q,n,a,c);n=this.h(h,Keywords.nB+" ("+Keywords.gb+")","autofit uses pattern history",g,q,n,a,c);n=this.h(h,Keywords.vE+" ("+Keywords.gb+")","autofit only uses state 1",g,q,n,a,c);n=this.h(h,Keywords.ou+
" X Y","camera tracking",g,q,n,a,c);n=this.h(h," X ","horizontal speed cells/gen",g,q,n,a,c);n=this.h(h," Y ","vertical speed cells/gen",g,q,n,a,c);n=this.h(h,Keywords.Np+" E S W N","camera box tracking",g,q,n,a,c);n=this.h(h," E ","east edge speed cells/gen",g,q,n,a,c);n=this.h(h," S ","south edge speed cells/gen",g,q,n,a,c);n=this.h(h," W ","west edge speed cells/gen",g,q,n,a,c);n=this.h(h," N ","north edge speed cells/gen",g,q,n,a,c);n=this.h(h,Keywords.nu+" P X Y","camera tracking with loop",
g,q,n,a,c);n=this.h(h," P ","period",g,q,n,a,c);n=this.h(h," X ","horizontal speed cells/gen",g,q,n,a,c);n=this.h(h," Y ","vertical speed cells/gen",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[d]=[h.fa,"Waypoints"];d+=1;n=this.h(h,"","Waypoints:",g,q,n,a,c);n=this.h(h,Keywords.fu+" <0..>","waypoint at generation",g,q,n,a,c);n=this.h(h,Keywords.eD+" <0.0..>","pause for time",g,q,n,a,c);n=this.h(h,Keywords.vi+" "+Keywords.dh+"|"+Keywords.Xf+"|"+Keywords.Zf+"|"+Keywords.xe,"linear motion",g,q,n,a,c);
n=this.h(h,Keywords.Ij+" "+Keywords.dh+"|"+Keywords.Xf+"|"+Keywords.Zf+"|"+Keywords.xe,"bezier motion (default)",g,q,n,a,c);n=this.h(h,Keywords.EJ,"save timing at waypoint start",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[d]=[h.fa,"POIs"];d+=1;n=this.h(h,"","Points of interest:",g,q,n,a,c);n=this.h(h,Keywords.ix,"define point of interest",g,q,n,a,c);n=this.h(h,Keywords.hx+" <0..>","start POI at generation",g,q,n,a,c);n=this.h(h,Keywords.Et,"reset generation at POI",g,q,n,a,c);n=this.h(h,Keywords.ir,
"start playback at POI",g,q,n,a,c);n=this.h(h,Keywords.jr,"stop playback at POI",g,q,n,a,c);n=this.h(h,Keywords.Ft+" <"+WaypointConstants.MI+".."+WaypointConstants.LI+">","set POI transition speed",g,q,n,a,c);n=this.h(h,"<command>|ALL "+Keywords.pc,"use initial value for POI",g,q,n,a,c);n=this.h(h,Keywords.Kd+"<string>"+Keywords.Kd,"define message",g,q,n,a,c);n=this.h(h,Keywords.jD,"add Labels as POIs",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[d]=[h.fa,"Annotations"];d+=1;n=this.h(h,"","Annotations:",
g,q,n,a,c);n=this.h(h,Keywords.Ys+" X Y ZOOM","define label at position",g,q,n,a,c);n=this.h(h," ("+Keywords.Td+") "+Keywords.Kd+"<string>"+Keywords.Kd,"... fix position, label text ",g,q,n,a,c);n=this.h(h,Keywords.EB+" <"+ViewConstants.kI+".."+ViewConstants.eI+">","define label font size",g,q,n,a,c);n=this.h(h," ("+Keywords.Td+")","... optionally fix size",g,q,n,a,c);n=this.h(h,Keywords.BB+" <0.0..1.0>","define label font alpha",g,q,n,a,c);n=this.h(h,Keywords.FB+" <0..> <0..> <0..>","generation range / fade",
g,q,n,a,c);n=this.h(h,Keywords.CB+" <0..359>","label angle",g,q,n,a,c);n=this.h(h," ("+Keywords.Td+")","... optionally fix angle",g,q,n,a,c);n=this.h(h,Keywords.HB+" D|"+Keywords.gb,"label view distance",g,q,n,a,c);n=this.h(h,Keywords.IB+" MINZOOM MAXZOOM|"+Keywords.gb,"label zoom visibility",g,q,n,a,c);n=this.h(h,Keywords.GB+" DX DY|"+Keywords.Td,"label move per generation",g,q,n,a,c);n=this.h(h,Keywords.DB+" ("+Keywords.gb+")","turn label shadow on or off",g,q,n,a,c);n=this.h(h,Keywords.Yr+" X1 Y1 X2 Y2 ZOOM",
"define arrow at position",g,q,n,a,c);n=this.h(h," ("+Keywords.Td+")","... fix position",g,q,n,a,c);n=this.h(h,Keywords.Lz+" <"+ViewConstants.Mw+".."+ViewConstants.Ew+"> <0.0..1.0>","line width and head multiple",g,q,n,a,c);n=this.h(h,Keywords.Iz+" <0.0..1.0>","define arrow alpha",g,q,n,a,c);n=this.h(h,Keywords.Mz+" <0..> <0..> <0..>","generation range / fade",g,q,n,a,c);n=this.h(h,Keywords.Jz+" <0..359>","arrow angle",g,q,n,a,c);n=this.h(h," ("+Keywords.Td+")","... optionally fix angle",g,q,n,a,
c);n=this.h(h,Keywords.Oz+" D|"+Keywords.gb,"arrow view distance",g,q,n,a,c);n=this.h(h,Keywords.Pz+" MINZOOM MAXZOOM|"+Keywords.gb,"arrow zoom visibility",g,q,n,a,c);n=this.h(h,Keywords.Nz+" DX DY|"+Keywords.Td,"arrow move per generation",g,q,n,a,c);n=this.h(h,Keywords.Kz+" ("+Keywords.gb+")","turn arrow shadow on or off",g,q,n,a,c);n=this.h(h,Keywords.mD+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",g,q,n,a,c);n=this.h(h," ("+Keywords.Td+")","... fix position",g,q,n,a,c);n=this.h(h,Keywords.jx+
" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",g,q,n,a,c);n=this.h(h," ("+Keywords.Td+")","... fix position",g,q,n,a,c);n=this.h(h,Keywords.oD+" <"+ViewConstants.Mw+".."+ViewConstants.Ew+">","line width",g,q,n,a,c);n=this.h(h,Keywords.kD+" <0.0..1.0>","define polygon alpha",g,q,n,a,c);n=this.h(h,Keywords.pD+" <0..> <0..> <0..>","generation range / fade",g,q,n,a,c);n=this.h(h,Keywords.lD+" <0..359>","polygon angle",g,q,n,a,c);n=this.h(h," ("+Keywords.Td+")","... optionally fix angle",g,q,n,a,c);n=
this.h(h,Keywords.rD+" D|"+Keywords.gb,"polygon view distance",g,q,n,a,c);n=this.h(h,Keywords.sD+" MINZOOM MAXZOOM|"+Keywords.gb,"polygon zoom visilibility",g,q,n,a,c);n=this.h(h,Keywords.qD+" DX DY|"+Keywords.Td,"polygon move per generation",g,q,n,a,c);n=this.h(h,Keywords.nD+" ("+Keywords.gb+")","turn polygon shadow on or off",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[d]=[h.fa,"Display"];d+=1;n=this.h(h,"","Display:",g,q,n,a,c);n=this.h(h,Keywords.Tr+" <"+ViewConstants.Uc+".."+h.jj+">","set LifeViewer width",
g,q,n,a,c);n=this.h(h,Keywords.zq+" <"+ViewConstants.ek+".."+ViewConstants.ht+">","set LifeViewer height",g,q,n,a,c);n=this.h(h,Keywords.Ht+" <"+ViewConstants.Uc+".."+h.jj+">","set popup width",g,q,n,a,c);n=this.h(h,Keywords.Gt+" <"+ViewConstants.ek+".."+ViewConstants.ht+">","set popup height",g,q,n,a,c);n=this.h(h,Keywords.Kr+" "+Keywords.Kd+"<string>"+Keywords.Kd,"set popup window title",g,q,n,a,c);n=this.h(h,Keywords.Zo+" <"+ViewConstants.Lw+".."+ViewConstants.Dw+">","set number of layers",g,q,
n,a,c);n=this.h(h,Keywords.Eo+" <"+ViewConstants.Kw.toFixed(1)+".."+ViewConstants.cI.toFixed(1)+">","set layer depth",g,q,n,a,c);n=this.h(h,Keywords.ys+" ("+Keywords.gb+")","display gridlines",g,q,n,a,c);n=this.h(h,Keywords.xs+" <0..16>","set major grid line interval",g,q,n,a,c);n=this.h(h,Keywords.Vr+" <0.."+(2<h.g.i?1:63)+">","number of age states to draw",g,q,n,a,c);n=this.h(h,Keywords.Es+" <0.."+(2<h.g.i?1:63)+">","number of history states to draw",g,q,n,a,c);n=this.h(h,Keywords.cu+" ("+Keywords.gb+
")","display stars",g,q,n,a,c);h.g.S?(n=this.h(h,Keywords.iB,"hexagonal cells for grid",g,q,n,a,c),n=this.h(h,Keywords.Xx,"offset square cells for grid",g,q,n,a,c)):h.g.M&&(n=this.h(h,Keywords.kF,"triangular cells for grid",g,q,n,a,c),n=this.h(h,Keywords.Xx,"rectangualr cells for grid",g,q,n,a,c));n=this.h(h,Keywords.Vz,"display cell borders",g,q,n,a,c);n=this.h(h,Keywords.jC,"disable menus and hotkeys",g,q,n,a,c);n=this.h(h,Keywords.mB,"hide menus during playback",g,q,n,a,c);n=this.h(h,Keywords.nE,
"show timing information",g,q,n,a,c);n=this.h(h,Keywords.TA,"extended timing information",g,q,n,a,c);n=this.h(h,Keywords.lE,"show generation statistics",g,q,n,a,c);n=this.h(h,Keywords.mE,"show information bar",g,q,n,a,c);n=this.h(h,Keywords.UI,"use rainbow colours",g,q,n,a,c);n=this.h(h,Keywords.yD,"use high quality rendering",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[d]=[h.fa,"Thumb"];d+=1;n=this.h(h,"","Thumbnails:",g,q,n,a,c);n=this.h(h,Keywords.QE+" ("+Keywords.gb+")","start at 1/"+h.gf+" size",
g,q,n,a,c);n=this.h(h,Keywords.LE+" <"+ViewConstants.mI+".."+ViewConstants.hI+">","set thumbnail divisor",g,q,n,a,c);n=this.h(h,Keywords.JE+" ("+Keywords.gb+")","thumbnail launches viewer",g,q,n,a,c);n=this.h(h,Keywords.PE+" <"+Number(-1/ViewConstants.bb).toFixed(1)+".."+ViewConstants.Ob.toFixed(1)+">","set thumbnail zoom",g,q,n,a,c);n=this.h(h,Keywords.NE,"start playback on thumbnail expand",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[d]=[h.fa,"Graph"];d+=1;n=this.h(h,"","Population Graph:",g,q,
n,a,c);n=this.h(h,Keywords.Wv,"display population graph",g,q,n,a,c);n=this.h(h,Keywords.bB+" <0.0..1.0>","population graph opacity",g,q,n,a,c);n=this.h(h,Keywords.cB,"population graph use points",g,q,n,a,c);n=this.h(h,Keywords.Uw,"disable population graph",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[d]=[h.fa,"Colours"];d+=1;n=this.h(h,"","Colours:",g,q,n,a,c);n=this.h(h,Keywords.vm+" <0.."+(h.g.Bf-1)+">|name","set theme",g,q,n,a,c);n=this.h(h," name = "+Keywords.Jr,"set custom theme",g,q,n,a,c);n=
this.h(h,Keywords.Na+" "+Keywords.ey+" R G B","set theme background",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.by+" R G B","set theme alive color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.FE+" R G B","set theme alive ramp",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.hy+" R G B","set theme dead color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.gy+" R G B","set theme dead ramp",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.HE+" R G B","set theme dying color",g,q,n,a,c);n=this.h(h,
Keywords.Na+" "+Keywords.GE+" R G B","set theme dying ramp",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.cG+" R G B","set boundary color",g,q,n,a,c);n=this.h(h,Keywords.Na+" <0.."+(-1===h.g.i?h.g.ta?"6":"1":String(h.g.i-1))+"> R G B","set state color",g,q,n,a,c);h.g.ta&&(n=this.h(h,Keywords.Na+" "+Keywords.tI+" R G B","set [R]History state color "+ViewConstants.$N,g,q,n,a,c),n=this.h(h,Keywords.Na+" "+Keywords.uI+" R G B","set [R]History state color "+ViewConstants.aO,g,q,n,a,c),n=this.h(h,Keywords.Na+
" "+Keywords.HH+" R G B","set [R]History state color "+ViewConstants.jN,g,q,n,a,c),n=this.h(h,Keywords.Na+" "+Keywords.UH+" R G B","set [R]History state color "+ViewConstants.VH,g,q,n,a,c),n=this.h(h,Keywords.Na+" "+Keywords.YH+" R G B","set [R]History state color "+ViewConstants.ZH,g,q,n,a,c),n=this.h(h,Keywords.Na+" "+Keywords.WH+" R G B","set [R]History state color "+ViewConstants.XH,g,q,n,a,c),n=this.h(h,Keywords.Na+" "+Keywords.MH+" R G B","set [R]History state color "+ViewConstants.NH,g,q,n,
a,c));h.g.L&&(n=this.h(h,Keywords.Na+" N*E*S*W* R G B","set PCA state color",g,q,n,a,c));n=this.h(h,Keywords.Na+" "+Keywords.eG+" R G B","set bounded color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.qJ+" R G B","set select color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.$l+" R G B","set paste color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.VF+" R G B","set advance color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.rJ+" R G B","set selected cells color",g,q,n,a,c);n=this.h(h,Keywords.Na+
" "+Keywords.ys+" R G B","set grid color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.xs+" R G B","set grid major color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.cu+" R G B","set star color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.DE+" R G B","set waypoint message color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.QA+" R G B","set error message color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.hB+" R G B","set help message color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.xH+
" R G B","set graph background color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.wH+" R G B","set graph axis color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.vH+" R G B","set graph alive color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.yH+" R G B","set graph birth color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.zH+" R G B","set graph death color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.Ys+" R G B","set label text color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.Yr+
" R G B","set arrow line color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.QI+" R G B","set polygon color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.LJ+" R G B","set UI foreground color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.JJ+" R G B","set UI background color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.MJ+" R G B","set UI highlight text color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.OJ+" R G B","set UI selected color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.NJ+
" R G B","set UI locked color",g,q,n,a,c);n=this.h(h,Keywords.Na+" "+Keywords.KJ+" R G B","set UI border color",g,q,n,a,c);n=this.h(h,Keywords.dA,"same as "+Keywords.Na,g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[d]=[h.fa,"Pattern"];d+=1;n=this.h(h,"","Pattern:",g,q,n,a,c);n=this.h(h,Keywords.Ay+" <-"+(h.g.ja>>1)+".."+(h.g.ja>>1)+">","set pattern x offset",g,q,n,a,c);n=this.h(h,Keywords.By+" <-"+(h.g.ja>>1)+".."+(h.g.ja>>1)+">","set pattern y offset",g,q,n,a,c);n=this.h(h,Keywords.GA+" <"+ViewConstants.iI+
".."+ViewConstants.bI+">","set boundary delete range",g,q,n,a,c);n=this.h(h,Keywords.iC,"disable pattern source copy",g,q,n,a,c);n=this.h(h,Keywords.oC,"hide pattern source",g,q,n,a,c);n=this.h(h,Keywords.TB+" <"+ViewConstants.jI+".."+ViewConstants.dI+">","set maximum grid size 2^n",g,q,n,a,c);n=this.h(h,Keywords.sr+" name X Y (<1..>)+","create a named recipe",g,q,n,a,c);n=this.h(h,Keywords.sp+" name rle|"+Keywords.oj+" W H","create a named set of cells",g,q,n,a,c);n=this.h(h," (X Y) (TRANS)","... X Y and transformation",
g,q,n,a,c);n=this.h(h," "+Keywords.fF,"identity",g,q,n,a,c);n=this.h(h," "+Keywords.cF,"flip",g,q,n,a,c);n=this.h(h," "+Keywords.dF,"flip X",g,q,n,a,c);n=this.h(h," "+Keywords.eF,"flip Y",g,q,n,a,c);n=this.h(h," "+Keywords.iF,"swap X and Y",g,q,n,a,c);n=this.h(h," "+Keywords.jF,"swap X and Y and flip",g,q,n,a,c);n=this.h(h," "+Keywords.hF,"rotate clockwise",g,q,n,a,c);n=this.h(h," "+Keywords.gF,"rotate counter-clockwise",g,q,n,a,c);n=this.h(h,Keywords.$l+" name|rle|"+Keywords.oj+" W H (X Y)","paste cells at optional X Y",
g,q,n,a,c);n=this.h(h," (TRANS)","... optional transformation",g,q,n,a,c);n=this.h(h,Keywords.vt+" <0..>","set paste generation",g,q,n,a,c);n=this.h(h," (recipe|<1..>+)*","... optional delta list",g,q,n,a,c);n=this.h(h,Keywords.vt+" "+Keywords.rs+" <1..>","set paste interval",g,q,n,a,c);n=this.h(h," (<0..> (<1..>))","... optional start and end",g,q,n,a,c);n=this.h(h,Keywords.vC+" X Y","set position delta for "+Keywords.vt+" "+Keywords.rs,g,q,n,a,c);n=this.h(h,Keywords.TC+" <0..15>|mode","set paste mode",
g,q,n,a,c);n=this.h(h," 0   0000  "+Keywords.bD,"",g,q,n,a,c);n=this.h(h," 1   0001  "+Keywords.GC,"",g,q,n,a,c);n=this.h(h," 2   0010  "+Keywords.zC,"",g,q,n,a,c);n=this.h(h," 3   0011  "+Keywords.XC+"|"+Keywords.HC,"",g,q,n,a,c);n=this.h(h," 4   0100  "+Keywords.BC,"",g,q,n,a,c);n=this.h(h," 5   0101  "+Keywords.$C,"",g,q,n,a,c);n=this.h(h," 6   0110  "+Keywords.YC,"",g,q,n,a,c);n=this.h(h," 7   0111  "+Keywords.SC,"",g,q,n,a,c);n=this.h(h," 8   1000  "+Keywords.LC,"",g,q,n,a,c);n=this.h(h," 9   1001  "+
Keywords.WC,"",g,q,n,a,c);n=this.h(h," 10  1010  "+Keywords.PC,"",g,q,n,a,c);n=this.h(h," 11  1011  "+Keywords.DC,"",g,q,n,a,c);n=this.h(h," 12  1100  "+Keywords.NC,"",g,q,n,a,c);n=this.h(h," 13  1101  "+Keywords.FC,"",g,q,n,a,c);n=this.h(h," 14  1110  "+Keywords.JC,"",g,q,n,a,c);n=this.h(h," 15  1111  "+Keywords.RC,"",g,q,n,a,c);n=this.h(h,Keywords.AB,"suppress escaping gliders",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[d]=[h.fa,"Randomize"];n=this.h(h,"","Randomize:",g,q,n,a,c);n=this.h(h,Keywords.ID,
"create random pattern",g,q,n,a,c);n=this.h(h,Keywords.HD,"create 2-state random pattern",g,q,n,a,c);n=this.h(h,Keywords.ED+" <string>","set random seed",g,q,n,a,c);n=this.h(h,Keywords.GD+" <"+ViewConstants.jt+".."+ViewConstants.Hw+">","set random pattern width",g,q,n,a,c);n=this.h(h,Keywords.BD+" <"+ViewConstants.ZB+".."+ViewConstants.Gw+">","set random pattern height",g,q,n,a,c);n=this.h(h,Keywords.AD+" <"+ViewConstants.Nw+".."+ViewConstants.Fw+">","set random pattern fill percentage",g,q,n,a,c);
n=this.h(h,Keywords.ux+" "+Keywords.Td,"keep rule fixed",g,q,n,a,c);h.g.ia||h.g.L?(n=this.h(h,Keywords.CD,"only generate reversible rules",g,q,n,a,c),this.h(h,Keywords.FD,"only generate fixed population rules",g,q,n,a,c)):h.g.oa||-1!==h.g.ve||(n=this.h(h,Keywords.ux+" <item> <0..100>","set percentage chance for <item>",g,q,n,a,c),n=this.h(h," "+Keywords.dh,"all conditions",g,q,n,a,c),n=this.h(h," "+Keywords.tx,"all birth conditions",g,q,n,a,c),n=this.h(h," "+Keywords.zx,"all survival conditions",
g,q,n,a,c),n=this.h(h," "+Keywords.tx+"<0..n>","specified birth condition",g,q,n,a,c),this.h(h," "+Keywords.zx+"<0..n>","specified survival condition",g,q,n,a,c))},OO:function(h,g,q,n,a,c){var d,e,l=Controller.Zd.length,k=h.g.Kb[h.g.bg];var p=0;var r=h.m.$d;h.fa=1;h.th=!1;h.ma=[];h.Z[0]=128;h.Z[1]=210;h.Z[2]=270;h.Z[3]=330;h.Z[4]=430;h.ma[p]=[h.fa,"Top"];p+=1;n=this.h(h,"","Information",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[p]=[h.fa,"Display"];p+=1;n=this.h(h,"","Display:",g,q,n,a,c);n=this.h(h,
"Size",h.J+" x "+h.I,g,q,n,a,c);n=this.h(h,"Scale",h.m.$d.toFixed(2),g,q,n,a,c);n=this.h(h,"Pixel Ratio",h.devicePixelRatio.toFixed(2),g,q,n,a,c);n=this.h(h,"Window Zoom",h.Wf.toFixed(2),g,q,n,a,c);n=this.h(h,"Refresh",h.Ma+"Hz ("+((h.Vo-h.VA)/(ViewConstants.WB-1)).toFixed(1)+"ms)",g,q,n,a,c);DocConfig.dt&&(n=this.h(h,"Limit Width",h.jj,g,q,n,a,c));var t=h.g.qa;1>t&&(t=-1/t);n=this.h(h,"View","X "+-(h.g.width/2-(h.g.Da+h.g.kc)|0)+"  Y "+-(h.g.height/2-(h.g.xa+h.g.dc)|0)+"  Z "+t.toFixed(2)+"  ANGLE "+
h.g.angle.toFixed(0),g,q,n,a,c);t=h.yr;1>t&&(t=1/t);n=this.h(h,"Saved View","X "+-(h.g.width/2-h.dd|0)+"  Y "+-(h.g.height/2-h.Cf|0)+"  Z "+t.toFixed(2)+"  ANGLE "+h.aE.toFixed(0),g,q,n,a,c);n=this.h(h,"Origin","X "+h.g.kc.toFixed(2)+"  Y "+h.g.dc.toFixed(2)+"  Z "+h.g.Dc.toFixed(3),g,q,n,a,c);var v=h.Ta?h.Hd?"Multi-State Viewer":"Viewer":h.g.ta?"History Player":"Player";v=h.Ud?v+" (PopUp)":v+" (InLine)";n=this.h(h,"Type",v,g,q,n,a,c);v=h.g.S?"Hexagonal":h.g.M?"Triangular":"Square";n=this.h(h,"Mode",
v,g,q,n,a,c);v="Rectangular";h.g.S&&!h.g.Tb?v="Hexagonal":h.g.M&&!h.g.Tb&&(v="Triangular");n=this.h(h,"Cells",v,g,q,n,a,c);n=this.h(h,"Quality",h.g.Hh?"High":"Standard",g,q,n,a,c);h.wm&&(n=this.h(h,"Thumbnail","1/"+h.gf,g,q,n,a,c));n=this.h(h,"","",g,q,n,a,c);h.ma[p]=[h.fa,"Pattern"];p+=1;n=this.h(h,"","Pattern:",g,q,n,a,c);""!==h.br&&(n=this.h(h,"Name",h.br,g,q,n,a,c));""!==h.xt&&(n=this.h(h,"Originator",h.xt,g,q,n,a,c));n=this.h(h,"Actual Size",h.Ra+" x "+h.Wa,g,q,n,a,c);-1!==h.qg&&-1!==h.pg&&(n=
this.h(h,"Specified",h.qg+" x "+h.pg,g,q,n,a,c));0<h.mh.length&&(n=this.h(h,"Pastes",h.mh.length,g,q,n,a,c),n=this.h(h,"Paste Size",h.Bn-h.xn+1+" x "+(h.Cn-h.wn+1)+" from ("+h.xn+", "+h.wn+") to ("+h.Bn+", "+h.Cn+")",g,q,n,a,c),n=this.h(h,"Paste Max T",h.Zk+(h.$j?" + "+Keywords.rs:""),g,q,n,a,c));0<h.mk.length&&(n=this.h(h,"RLEs",h.mk.length,g,q,n,a,c));0<h.gl.length&&(n=this.h(h,"Recipes",h.gl.length,g,q,n,a,c));n=this.h(h,"Offset","X "+h.Eb+"  Y "+h.Fb,g,q,n,a,c);h.Hl&&(n=this.h(h,"CXRLE Gen",h.ih,
g,q,n,a,c));h.mg&&(n=this.h(h,"CXRLE Pos","X "+h.Fn+"  Y "+h.Gn,g,q,n,a,c));h.zy&&(n=this.h(h,"Clipped",(0===h.g.Ea?"Inf":h.g.Ea)+" x "+(0===h.g.Aa?"Inf":h.g.Aa)+" "+h.A.dG(h.g.sa),g,q,n,a,c));h.Ba?v=h.vb:(v=h.vb,""===v&&(v="(none)"));if("MAP"===v.substr(0,3)&&v.length===h.A.TH+3)for(n=this.h(h,"Rule","MAP",g,q,n,a,c),t=3;t<h.A.TH+3;)n=this.h(h,"  "+(t-3),v.substr(t,16),g,q,n,a,c),t+=16;else h.th=!0,n=this.h(h,"Rule",v,g,q,n,a,c),h.th=!1;""!==h.Yc&&(n=this.h(h,"Alias",h.Yc,g,q,n,a,c));h.g.ca&&(n=
null===h.g.re?this.h(h,"Type","@TREE ["+h.g.Bi+"]",g,q,n,a,c):this.h(h,"Type","@TABLE ["+h.g.oh+(0<h.g.gm?" / "+h.g.gm:"")+"]",g,q,n,a,c));n=this.h(h,"N'hood",h.$A(),g,q,n,a,c);if(h.g.oa)switch(h.g.pa.type){case h.A.Rp:t=2*h.g.pa.uh+1;for(d=0;d<t;d+=1)v=h.g.pa.Dd.length>t*t?" "+h.g.pa.Dd.substr(d*t*2,2*t):" "+h.g.pa.Dd.substr(d*t,t),n=this.h(h,v,"",g,q,n,a,c);break;case h.A.Sm:for(t=2*h.g.pa.uh+1,d=0;d<t;d+=1){v=" ";for(e=0;e<t;e+=1)v+=h.g.pa.ap[d][e]?"1":"0";n=this.h(h,v,"",g,q,n,a,c)}}v=h.er;2<
h.er&&h.ex!==h.er&&(v=h.ex+" of "+v);n=this.h(h,"States",v,g,q,n,a,c);if(h.dr)for(d=1;d<h.er;d+=1)h.dr[d]&&(n=this.h(h,"State "+d,h.dr[d]+"\t"+h.wq(d),g,q,n,a,c));if(h.g.qe)if(h.Z[1]=200,h.Z[2]=280,h.Z[3]=360,h.Z[4]=440,h.g.qe[0].Xz!==PatternConstants.UD)n=this.h(h,"Icons",PatternConstants.lP[h.g.qe[0].Xz],g,q,n,a,c);else for(n=this.h(h,"Icons","Size\tNumber\tColours\tGrayScale",g,q,n,a,c),d=0;d<h.g.qe.length;d+=1)t=h.g.qe[d].width,v=t+"x"+t+"\t"+h.g.qe[d].height/t+"\t"+h.g.qe[d].qI+"\t"+(h.g.qe[d].AH?
"Yes":"No"),n=this.h(h,"  Set "+d,v,g,q,n,a,c);n=this.h(h,"Decoder",h.hk,g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);if("none"!==h.lb&&"Empty"!==h.lb){h.ma[p]=[h.fa,"Identify"];p+=1;n=this.h(h,"","Identify:",g,q,n,a,c);n=this.h(h,"Type",h.lb,g,q,n,a,c);n=this.h(h,"Cells",h.Hq,g,q,n,a,c);"Oscillator"!==h.lb||h.Ig||(n=this.h(h,"ActiveCells",h.vw,g,q,n,a,c));n=this.h(h,"BoundingBox",h.Zs,g,q,n,a,c);"Oscillator"===h.lb?(n=this.h(h,"Period",h.Kq,g,q,n,a,c),h.Ig||(n=this.h(h,"Mod",h.Jq,g,q,n,a,c))):"Still Life"!==
h.lb&&(n=this.h(h,"Direction",h.$s,g,q,n,a,c),n=this.h(h,"Period",h.Kq,g,q,n,a,c),h.Ig||(n=this.h(h,"Mod",h.Jq,g,q,n,a,c)),n=this.h(h,"Slope",h.bt,g,q,n,a,c),n=this.h(h,"Speed",h.Lq,g,q,n,a,c));"Still Life"!==h.lb&&(n=this.h(h,"Heat",h.Iq,g,q,n,a,c));if("Oscillator"===h.lb&&!h.Ig)if(n=this.h(h,"Temperature",h.xw,g,q,n,a,c),""===h.Wo)n=this.h(h,"Volatility",h.Xo+" | N/A",g,q,n,a,c);else for(n=this.h(h,"Volatility",h.Xo+" | "+h.Wo,g,q,n,a,c),h.Z[1]=210,h.Z[2]=310,h.Z[3]=410,n=this.h(h,"  Period","Count\t% Total\t% Rotor",
g,q,n,a,c),d=h.g.pe.length-1;0<d;--d)t=h.g.pe[d],0<t&&(n=1<d?this.h(h,"  "+d,t+"\t"+(100*t/h.g.kx).toFixed(2)+"%\t"+(100*t/h.g.tD).toFixed(2)+"%",g,q,n,a,c):this.h(h,"  "+d,t+"\t"+(100*t/h.g.kx).toFixed(2)+"%",g,q,n,a,c));n=this.h(h,"Generation",h.ww,g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c)}h.ma[p]=[h.fa,"Grid"];p+=1;n=this.h(h,"","Grid:",g,q,n,a,c);n=this.h(h,"Size",h.g.width+" x "+h.g.height,g,q,n,a,c);n=this.h(h,"Maximum",h.g.ja+" x "+h.g.ja,g,q,n,a,c);n=this.h(h,"Area",this.TK(h),g,q,n,a,c);n=0!==
(h.g.counter&1)?this.h(h,"Tiles",h.g.xm(h.g.wa)+" ["+h.g.xm(h.g.te)+"] / "+h.g.xm(h.g.Oa)+" / "+h.g.xm(h.g.ya),g,q,n,a,c):this.h(h,"Tiles",h.g.xm(h.g.ka)+" ["+h.g.xm(h.g.te)+"] / "+h.g.xm(h.g.Oa)+" / "+h.g.xm(h.g.ya),g,q,n,a,c);h.g.Xg&&(n=this.h(h,"State6",h.g.xm(h.g.Xg),g,q,n,a,c));n=this.h(h,"Tile Size",(h.g.Fp<<3)+" x "+h.g.Gp,g,q,n,a,c);n=this.h(h,"Generation",h.g.counter,g,q,n,a,c);0!==h.ih&&(n=this.h(h,"AbsoluteGen",h.g.counter+h.ih,g,q,n,a,c));h.g.ia&&(n=this.h(h,"MargolusGen",h.g.lf+h.ih,
g,q,n,a,c));h.g.L&&(n=this.h(h,"PCAGen",h.g.lf+h.ih,g,q,n,a,c));(h.g.ia||h.g.L)&&h.g.cd&&(t=h.g.zd,h.g.Ad&&(t=!t),n=this.h(h,"Direction",t?"Reverse":"Forward",g,q,n,a,c));n=this.h(h,"DeleteRange",h.g.Rt,g,q,n,a,c);h.g.vh&&(n=this.h(h,"KillGliders",h.g.ot,g,q,n,a,c));n=this.h(h,"","",g,q,n,a,c);-1!==h.g.sa&&(h.ma[p]=[h.fa,"Bounded"],p+=1,n=this.h(h,"","Bounded grid:",g,q,n,a,c),n=this.h(h,"Type",h.A.dG(h.g.sa),g,q,n,a,c),n=0===h.g.Ea?this.h(h,"Width","Infinite",g,q,n,a,c):this.h(h,"Width",h.g.Ea,g,
q,n,a,c),4!==h.g.sa?(n=0===h.g.Aa?this.h(h,"Height","Infinite",g,q,n,a,c):this.h(h,"Height",h.g.Aa,g,q,n,a,c),2===h.g.sa&&(n=h.g.Zu?this.h(h,"Twist","Horizontal",g,q,n,a,c):this.h(h,"Twist","Vertical",g,q,n,a,c)),0!==h.g.vo&&(n=this.h(h,"H'Shift",h.g.vo,g,q,n,a,c)),0!==h.g.wo&&(n=this.h(h,"V'Shift",h.g.wo,g,q,n,a,c))):n=h.g.$u?this.h(h,"Axis","Top Left",g,q,n,a,c):this.h(h,"Axis","Top Right",g,q,n,a,c),n=this.h(h,"","",g,q,n,a,c));h.ma[p]=[h.fa,"AutoFit"];p+=1;n=this.h(h,"","AutoFit:",g,q,n,a,c);
n=this.h(h,"Enabled",h.Kc?"On":"Off",g,q,n,a,c);n=this.h(h,"Mode",this.$K(h),g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[p]=[h.fa,"Track"];p+=1;n=this.h(h,"","Track:",g,q,n,a,c);n=this.h(h,"Enabled",h.Me&&!h.Uf?"On":"Off",g,q,n,a,c);h.Me&&(h.Kp?(n=this.h(h,"Mode","Track Box",g,q,n,a,c),n=this.h(h,"Definition","E "+h.eo.toFixed(3)+"  S "+h.fo.toFixed(3)+"  W "+h.Mp.toFixed(3)+"  N "+h.Lp.toFixed(3),g,q,n,a,c)):(n=this.h(h,"Mode","Track",g,q,n,a,c),n=this.h(h,"Definition","X "+h.eo.toFixed(3)+"  Y "+
h.fo.toFixed(3),g,q,n,a,c)));n=this.h(h,"Current","E "+h.pv.toFixed(3)+"  S "+h.rv.toFixed(3)+"  W "+h.sv.toFixed(3)+"  N "+h.qv.toFixed(3),g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[p]=[h.fa,"Undo/Redo"];p+=1;n=this.h(h,"","Undo/Redo:",g,q,n,a,c);n=this.h(h,"Enabled",h.oe?"Off":"On",g,q,n,a,c);if(!h.oe)for(n=this.h(h,"Snapshots",h.g.rh.sQ()+"/"+h.g.rh.Jj.length,g,q,n,a,c),n=this.h(h,"Buffer",(h.g.rh.bufferSize()>>10)+"K",g,q,n,a,c),n=this.h(h,"Next Gen",h.g.bp,g,q,n,a,c),n=this.h(h,"Undo",h.Gc,
g,q,n,a,c),n=this.h(h,"Redo",h.fp-h.Gc,g,q,n,a,c),d=0;9>=d;d+=1)null!==h.kg[d]&&(n=this.h(h,"Clip "+d+(d===h.fh?"*":""),h.kg[d].width+" x "+h.kg[d].height,g,q,n,a,c));n=this.h(h,"","",g,q,n,a,c);h.ma[p]=[h.fa,"Engine"];p+=1;n=this.h(h,"","Engine:",g,q,n,a,c);n=this.h(h,"Name",ViewConstants.ss,g,q,n,a,c);n=this.h(h,"Build",ViewConstants.vy,g,q,n,a,c);n=this.h(h,"Author",ViewConstants.TJ,g,q,n,a,c);n=this.h(h,"Decoders","RLE, Life 1.06, Life 1.05, Cells",g,q,n,a,c);n=this.h(h,"N'hoods","Moore, Hexagonal, von Neumann, Triangular, 1D,",
g,q,n,a,c);n=this.h(h," ","Circular, Cross, L2, Saltire, Star, Checkerboard,",g,q,n,a,c);n=this.h(h," ","Aligned Checkerboard, Hash, Tripod, Asterisk,",g,q,n,a,c);n=this.h(h," ","Far Corners/Edges and Custom (CoordCA)",g,q,n,a,c);n=this.h(h,"Rules","Wolfram, Totalistic, Generations, Margolus,",g,q,n,a,c);n=this.h(h," ","Isotropic Non-Totalistic (Hensel, Callahan),",g,q,n,a,c);n=this.h(h," ","Alternating, MAP, Larger than Life (LtL),",g,q,n,a,c);n=this.h(h," ","Higher-range outer-totalistic (HROT), Gaussian,",
g,q,n,a,c);n=this.h(h," ","Partitioned cellular automata (PCA), Weighted,",g,q,n,a,c);n=this.h(h," ","[R]History, [R]Super and Non-Deterministic",g,q,n,a,c);n=this.h(h,"Repository","RuleTable (@TABLE, @TREE, @COLORS and",g,q,n,a,c);n=this.h(h," ","@NAMES)",g,q,n,a,c);n=this.h(h,"BoundedGrid","Plane, Torus, Klein, Cross-surface and Sphere",g,q,n,a,c);n=this.h(h,"Viewers",l,g,q,n,a,c);n=this.h(h,"Playing",Controller.BQ(),g,q,n,a,c);if(DocConfig.cb){t=Controller.bf.length;n=this.h(h,"Universe","Multi ("+
(h.md+1)+" of "+t+")",g,q,n,a,c);h.th=!0;for(d=0;d<t;d+=1)n=this.h(h,String(d+1)+(d===h.md?"*":""),Controller.bf[d].name,g,q,n,a,c),n=this.h(h," ",Controller.bf[d].fP,g,q,n,a,c),n=this.h(h," ",Controller.bf[d].width+" x "+Controller.bf[d].height,g,q,n,a,c);h.th=!1}else n=this.h(h,"Universe","Single",g,q,n,a,c);n=this.h(h,"Exclusive",h.Qv?"Yes":"No",g,q,n,a,c);n=this.h(h,"IgnorePause",h.Ns?"Yes":"No",g,q,n,a,c);n=this.h(h,"Endian",littleEndian?"Little":"Big",g,q,n,a,c);n=this.h(h,"ArrayFill",arrayFill?
"Yes":"No",g,q,n,a,c);n=this.h(h,"ArraySlice",arraySlice?"Yes":"No",g,q,n,a,c);n=this.h(h,"CopyWithin",copyWithin?"Yes":"No",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.Z[1]=300;h.Z[2]=380;h.Z[3]=460;h.ma[p]=[h.fa,"Rule Cache"];p+=1;n=this.h(h,"","Rule Cache:",g,q,n,a,c);n=this.h(h,"Entries",RuleTreeCache.rules.length,g,q,n,a,c);if(0<RuleTreeCache.rules.length)for(n=this.h(h,"Entry","Name\tSize Kb\tFetch\tDecode",g,q,n,a,c),d=0;d<RuleTreeCache.rules.length;d+=1)v=RuleTreeCache.rules[d].name,17<v.length&&
(v=v.substr(0,17)+"*"),n=this.h(h,String(d),v+"\t"+(RuleTreeCache.Jw[d].size>>10)+"\t"+RuleTreeCache.Jw[d].fetch+"ms\t"+RuleTreeCache.Jw[d].decode+"ms",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.Z[1]=210;h.Z[2]=270;h.Z[3]=330;h.ma[p]=[h.fa,"Theme"];p+=1;n=this.h(h,"","Theme:",g,q,n,a,c);h.g.ca||h.g.O||h.g.za||(n=this.h(h,"Name",h.g.Kb[h.g.bg].name,g,q,n,a,c),n=this.h(h,"History",h.K,g,q,n,a,c),2>=h.g.i&&(n=this.h(h,"Age",h.Xi,g,q,n,a,c)));this.La(h,h.g.Xa[0],h.g.Va[0],h.g.Ua[0],g,q+h.Z[0]*r,n,a,c);
n=this.h(h,"Background",this.Ab(h.g.Xa[0],h.g.Va[0],h.g.Ua[0]),g,q,n,a,c);if(h.g.za||h.g.ca)for(d=1;d<h.g.i;d+=1)this.La(h,h.g.Xa[d],h.g.Va[d],h.g.Ua[d],g,q+h.Z[0]*r,n,a,c),n=this.h(h,"State "+d,this.Ab(h.g.Xa[d],h.g.Va[d],h.g.Ua[d]),g,q,n,a,c);else if(h.g.L){for(d=1;16>d;d+=1)e=d+h.K,this.La(h,h.g.Xa[e],h.g.Va[e],h.g.Ua[e],g,q+h.Z[0]*r,n,a,c),v="",d&1&&(v+="N"),d&2&&(v+="E"),d&4&&(v+="S"),d&8&&(v+="W"),n=this.h(h,v,this.Ab(h.g.Xa[e],h.g.Va[e],h.g.Ua[e]),g,q,n,a,c);0<h.K&&(e=h.K,this.La(h,h.g.Xa[e],
h.g.Va[e],h.g.Ua[e],g,q+h.Z[0]*r,n,a,c),n=this.h(h,"Dead",this.Ab(h.g.Xa[e],h.g.Va[e],h.g.Ua[e]),g,q,n,a,c),1<h.K&&(e=1,this.La(h,h.g.Xa[e],h.g.Va[e],h.g.Ua[e],g,q+h.Z[0]*r,n,a,c),n=this.h(h,"DeadRamp",this.Ab(h.g.Xa[e],h.g.Va[e],h.g.Ua[e]),g,q,n,a,c)))}else if(2<h.g.i)if(h.g.O)for(d=1;d<h.g.i;d+=1)this.La(h,h.g.Xa[d],h.g.Va[d],h.g.Ua[d],g,q+h.Z[0]*r,n,a,c),n=this.h(h,this.XP(d),this.Ab(h.g.Xa[d],h.g.Va[d],h.g.Ua[d]),g,q,n,a,c);else{e=h.g.i+h.K-1;this.La(h,h.g.Xa[e],h.g.Va[e],h.g.Ua[e],g,q+h.Z[0]*
r,n,a,c);n=this.h(h,"Alive",this.Ab(h.g.Xa[e],h.g.Va[e],h.g.Ua[e]),g,q,n,a,c);for(d=1;d<h.g.i-1;d+=1)e=h.g.i-d+h.K-1,this.La(h,h.g.Xa[e],h.g.Va[e],h.g.Ua[e],g,q+h.Z[0]*r,n,a,c),n=this.h(h,"Dying "+d,this.Ab(h.g.Xa[e],h.g.Va[e],h.g.Ua[e]),g,q,n,a,c);0<h.K&&(e=h.K,this.La(h,h.g.Xa[e],h.g.Va[e],h.g.Ua[e],g,q+h.Z[0]*r,n,a,c),n=this.h(h,"Dead",this.Ab(h.g.Xa[e],h.g.Va[e],h.g.Ua[e]),g,q,n,a,c),1<h.K&&(e=1,this.La(h,h.g.Xa[e],h.g.Va[e],h.g.Ua[e],g,q+h.Z[0]*r,n,a,c),n=this.h(h,"DeadRamp",this.Ab(h.g.Xa[e],
h.g.Va[e],h.g.Ua[e]),g,q,n,a,c)))}else this.La(h,k.Hb.ba.red,k.Hb.ba.green,k.Hb.ba.blue,g,q+h.Z[0]*r,n,a,c),n=this.h(h,"Alive",this.Sg(k.Hb.ba),g,q,n,a,c),k.Hb.ba.red!==k.Hb.da.red||k.Hb.ba.green!==k.Hb.da.green||k.Hb.ba.blue!==k.Hb.da.blue?(this.La(h,k.Hb.da.red,k.Hb.da.green,k.Hb.da.blue,g,q+h.Z[0]*r,n,a,c),n=this.h(h,"AliveRamp",this.Sg(k.Hb.da),g,q,n,a,c)):n=this.h(h,"AliveRamp","    (none)",g,q,n,a,c),0<h.K&&(this.La(h,k.tb.da.red,k.tb.da.green,k.tb.da.blue,g,q+h.Z[0]*r,n,a,c),n=this.h(h,"Dead",
this.Sg(k.tb.da),g,q,n,a,c),1<h.K&&(k.tb.ba.red!==k.tb.da.red||k.tb.ba.green!==k.tb.da.green||k.tb.ba.blue!==k.tb.da.blue?(this.La(h,k.tb.ba.red,k.tb.ba.green,k.tb.ba.blue,g,q+h.Z[0]*r,n,a,c),n=this.h(h,"DeadRamp",this.Sg(k.tb.ba),g,q,n,a,c)):n=this.h(h,"DeadRamp","    (none)",g,q,n,a,c)));if(h.g.ta)for(d=3;6>=d;d+=1)t=128+ViewConstants.fb[d],l=this.Ab(h.g.Xa[t],h.g.Va[t],h.g.Ua[t]),v=ViewConstants.Ei[d],this.La(h,h.g.Xa[t],h.g.Va[t],h.g.Ua[t],g,q+h.Z[0]*r,n,a,c),n=this.h(h,v,l,g,q,n,a,c);-1!==h.g.sa&&
(-1!==h.g.sa&&256>h.g.i+h.g.K?(this.La(h,h.Rm[0],h.Rm[1],h.Rm[2],g,q+h.Z[0]*r,n,a,c),n=this.h(h,"Bounded",this.Ab(h.Rm[0],h.Rm[1],h.Rm[2]),g,q,n,a,c)):(this.La(h,h.g.Xa[2],h.g.Va[2],h.g.Ua[2],g,q+h.Z[0]*r,n,a,c),n=this.h(h,"Bounded*",this.Ab(h.g.Xa[2],h.g.Va[2],h.g.Ua[2]),g,q,n,a,c)));this.La(h,h.Qm[0],h.Qm[1],h.Qm[2],g,q+h.Z[0]*r,n,a,c);n=this.h(h,"Boundary",this.Ab(h.Qm[0],h.Qm[1],h.Qm[2]),g,q,n,a,c);h.pi?(this.La(h,h.pi[0],h.pi[1],h.pi[2],g,q+h.Z[0]*r,n,a,c),n=this.h(h,"Text*",this.Ab(h.pi[0],
h.pi[1],h.pi[2]),g,q,n,a,c)):(this.La(h,255,255,255,g,q+h.Z[0]*r,n,a,c),n=this.h(h,"Text",this.Ab(255,255,255),g,q,n,a,c));h.xl?(this.La(h,h.xl[0],h.xl[1],h.xl[2],g,q+h.Z[0]*r,n,a,c),n=this.h(h,"Error*",this.Ab(h.xl[0],h.xl[1],h.xl[2]),g,q,n,a,c)):(this.La(h,255,96,96,g,q+h.Z[0]*r,n,a,c),n=this.h(h,"Error",this.Ab(255,96,96),g,q,n,a,c));h.yl?(this.La(h,h.yl[0],h.yl[1],h.yl[2],g,q+h.Z[0]*r,n,a,c),n=this.h(h,"Help*",this.Ab(h.yl[0],h.yl[1],h.yl[2]),g,q,n,a,c)):(this.La(h,32,255,255,g,q+h.Z[0]*r,n,a,
c),n=this.h(h,"Help",this.Ab(32,255,255),g,q,n,a,c));this.La(h,h.Um[0],h.Um[1],h.Um[2],g,q+h.Z[0]*r,n,a,c);n=this.h(h,"Select",this.Ab(h.Um[0],h.Um[1],h.Um[2]),g,q,n,a,c);this.La(h,h.Tm[0],h.Tm[1],h.Tm[2],g,q+h.Z[0]*r,n,a,c);n=this.h(h,"Paste",this.Ab(h.Tm[0],h.Tm[1],h.Tm[2]),g,q,n,a,c);this.La(h,h.Pm[0],h.Pm[1],h.Pm[2],g,q+h.Z[0]*r,n,a,c);n=this.h(h,"Advance",this.Ab(h.Pm[0],h.Pm[1],h.Pm[2]),g,q,n,a,c);this.La(h,h.Vm[0],h.Vm[1],h.Vm[2],g,q+h.Z[0]*r,n,a,c);n=this.h(h,"Selected",this.Ab(h.Vm[0],h.Vm[1],
h.Vm[2]),g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[p]=[h.fa,"UI"];n=this.h(h,"","UI:",g,q,n,a,c);p+=1;t=h.Rc[ViewConstants.Av];-1===t&&(t=16777215);this.La(h,t>>16,t>>8&255,t&255,g,q+h.Z[0]*r,n,a,c);n=this.h(h,"Foreground",this.Ab(t>>16,t>>8&255,t&255),g,q,n,a,c);t=h.Rc[ViewConstants.yv];-1===t&&(t=0);this.La(h,t>>16,t>>8&255,t&255,g,q+h.Z[0]*r,n,a,c);n=this.h(h,"Background",this.Ab(t>>16,t>>8&255,t&255),g,q,n,a,c);t=h.Rc[ViewConstants.Bv];-1===t&&(t=61472);this.La(h,t>>16,t>>8&255,t&255,g,q+h.Z[0]*
r,n,a,c);n=this.h(h,"Highlight",this.Ab(t>>16,t>>8&255,t&255),g,q,n,a,c);t=h.Rc[ViewConstants.Dv];-1===t&&(t=255);this.La(h,t>>16,t>>8&255,t&255,g,q+h.Z[0]*r,n,a,c);n=this.h(h,"Select",this.Ab(t>>16,t>>8&255,t&255),g,q,n,a,c);t=h.Rc[ViewConstants.Cv];-1===t&&(t=8421504);this.La(h,t>>16,t>>8&255,t&255,g,q+h.Z[0]*r,n,a,c);n=this.h(h,"Locked",this.Ab(t>>16,t>>8&255,t&255),g,q,n,a,c);t=h.Rc[ViewConstants.zv];-1===t&&(t=16777215);this.La(h,t>>16,t>>8&255,t&255,g,q+h.Z[0]*r,n,a,c);n=this.h(h,"Border",this.Ab(t>>
16,t>>8&255,t&255),g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[p]=[h.fa,"Gridlines"];p+=1;n=this.h(h,"","Gridlines:",g,q,n,a,c);v=h.g.tc?"On":"Off";h.g.tc&&!h.g.ki()&&(v+=" (Hidden)");n=this.h(h,"Enabled",v,g,q,n,a,c);this.La(h,h.g.le>>16,h.g.le>>8&255,h.g.le&255,g,q+h.Z[0]*r,n,a,c);n=this.h(h,"Line Color",this.Ab(h.g.le>>16,h.g.le>>8&255,h.g.le&255),g,q,n,a,c);this.La(h,h.g.Hg>>16,h.g.Hg>>8&255,h.g.Hg&255,g,q+h.Z[0]*r,n,a,c);n=this.h(h,"Major Color",this.Ab(h.g.Hg>>16,h.g.Hg>>8&255,h.g.Hg&255),g,
q,n,a,c);v=0<h.g.gg&&h.g.Ll?String(h.g.gg):"Off";n=this.h(h,"Interval",v,g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[p]=[h.fa,"Graph"];p+=1;n=this.h(h,"","Population Graph:",g,q,n,a,c);n=this.h(h,"Enabled",h.yd?"On":"Off",g,q,n,a,c);n=this.h(h,"Disabled",h.Hc?"On":"Off",g,q,n,a,c);n=this.h(h,"Mode",h.Gh?"Lines":"Points",g,q,n,a,c);n=this.h(h,"Opacity",h.Id.toFixed(2),g,q,n,a,c);this.La(h,h.g.Sj[0],h.g.Sj[1],h.g.Sj[2],g,q+h.Z[0]*r,n,a,c);n=this.h(h,"Bg Color",this.Ab(h.g.Sj[0],h.g.Sj[1],h.g.Sj[2]),
g,q,n,a,c);this.La(h,h.g.Rj[0],h.g.Rj[1],h.g.Rj[2],g,q+h.Z[0]*r,n,a,c);n=this.h(h,"Axis Color",this.Ab(h.g.Rj[0],h.g.Rj[1],h.g.Rj[2]),g,q,n,a,c);this.La(h,h.g.Qj[0],h.g.Qj[1],h.g.Qj[2],g,q+h.Z[0]*r,n,a,c);n=this.h(h,"Alive Color",this.Ab(h.g.Qj[0],h.g.Qj[1],h.g.Qj[2]),g,q,n,a,c);this.La(h,h.g.Tj[0],h.g.Tj[1],h.g.Tj[2],g,q+h.Z[0]*r,n,a,c);n=this.h(h,"Birth Color",this.Ab(h.g.Tj[0],h.g.Tj[1],h.g.Tj[2]),g,q,n,a,c);this.La(h,h.g.Uj[0],h.g.Uj[1],h.g.Uj[2],g,q+h.Z[0]*r,n,a,c);n=this.h(h,"Death Color",this.Ab(h.g.Uj[0],
h.g.Uj[1],h.g.Uj[2]),g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[p]=[h.fa,"Randomize"];p+=1;n=this.h(h,"","Randomize:",g,q,n,a,c);n=this.h(h,"Pattern",h.Qt?"On":"Off",g,q,n,a,c);n=this.h(h,"States",h.Pt?"2":"All",g,q,n,a,c);n=this.h(h,"Custom Seed",h.DD?"On":"Off",g,q,n,a,c);n=this.h(h,"Seed",h.pr,g,q,n,a,c);n=this.h(h,"Width",h.Bx,g,q,n,a,c);n=this.h(h,"Height",h.xx,g,q,n,a,c);n=this.h(h,"Fill",h.nr+"%",g,q,n,a,c);n=this.h(h,"Rule Fixed",h.Ot?"Yes":"No",g,q,n,a,c);if(!h.Ot)if(h.g.ia||h.g.L)n=this.h(h,
"Reversible",h.yx?"Only":"Any",g,q,n,a,c),n=this.h(h,"FixedPop",h.Ax?"Yes":"No",g,q,n,a,c);else if(!h.g.oa&&-1===h.g.ve){if(-1===h.dm&&-1===h.In){n=this.h(h,"Chance ALL"+(-1===h.cm?"*":""),-1===h.cm?"50%":h.cm+"%",g,q,n,a,c);t=!1;for(d=0;d<h.zi.length;d+=2)0===h.zi[d]&&(t=!0);t||(n=this.h(h,"Chance B0*","25%",g,q,n,a,c))}else n=this.h(h,"Chance B"+(-1===h.dm?"*":""),-1===h.dm?"50%":h.dm+"%",g,q,n,a,c),n=this.h(h,"Chance S"+(-1===h.In?"*":""),-1===h.In?"50%":h.In+"%",g,q,n,a,c);for(d=0;d<h.zi.length;d+=
2)n=this.h(h,"Chance B"+h.zi[d],h.zi[d+1]+"%",g,q,n,a,c);for(d=0;d<h.kk.length;d+=2)n=this.h(h,"Chance S"+h.kk[d],h.kk[d+1]+"%",g,q,n,a,c)}n=this.h(h,"","",g,q,n,a,c);h.ma[p]=[h.fa,"Stars"];p+=1;n=this.h(h,"","Stars:",g,q,n,a,c);n=this.h(h,"Enabled",h.sj?"On":"Off",g,q,n,a,c);this.La(h,h.sm.red,h.sm.green,h.sm.blue,g,q+h.Z[0]*r,n,a,c);n=this.h(h,"Color",this.Sg(h.sm),g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[p]=[h.fa,"Script"];p+=1;n=this.h(h,"","Script:",g,q,n,a,c);n=this.h(h,"Commands",h.gp,g,
q,n,a,c);n=this.h(h,"Errors",h.rC,g,q,n,a,c);if(h.$c)for(n=this.h(h,"","",g,q,n,a,c),h.ma[p]=[h.fa,"Waypoints"],p+=1,n=this.h(h,"","Waypoints:",g,q,n,a,c),n=this.h(h,"Enabled",h.hf?"Off":"On",g,q,n,a,c),n=this.h(h,"Number",h.$.Za.length,g,q,n,a,c),d=0;d<h.$.Za.length;d+=1)v=String(d),d===h.$.vj&&(v=h.$.aG(h.elapsedTime)?v+">":v+"*"),n=this.h(h,v,h.$.CQ(d),g,q,n,a,c);if(h.$.Ec.length)for(n=this.h(h,"","",g,q,n,a,c),h.ma[p]=[h.fa,"POIs"],n=this.h(h,"","Points of interest:",g,q,n,a,c),n=this.h(h,"Number",
h.$.Ec.length,g,q,n,a,c),d=0;d<h.$.Ec.length;d+=1)v=String(d+1),d===h.yh&&(v+="*"),d===h.Co&&(v+=" INITIAL"),t=!1,p=h.$.jO(d),""!==p&&(n=this.h(h,t?" ":v,(t?"  ":"")+p,g,q,n,a,c),t=!0),p=h.$.nO(d),""!==p&&(n=this.h(h,t?" ":v,(t?"  ":"")+p,g,q,n,a,c),t=!0),p=h.$.kO(d),""!==p&&(n=this.h(h,t?" ":v,(t?"  ":"")+p,g,q,n,a,c),t=!0),p=h.$.KI(d),""!==p&&(n=this.h(h,t?" ":v,(t?"  ":"")+p,g,q,n,a,c),t=!0),p=h.$.mO(d),""!==p&&(n=this.h(h,t?" ":v,(t?"  ":"")+p,g,q,n,a,c),t=!0),p=h.$.lO(d),""!==p&&(n=this.h(h,
t?" ":v,(t?"  ":"")+p,g,q,n,a,c))},SO:function(h,g,q,n,a,c){var d,e=0,l=h.m.$d;h.fa=1;h.th=!1;h.ma=[];h.Z[0]=130;h.Z[1]=200;h.Z[2]=250;h.Z[3]=300;h.Z[4]=380;h.ma[e]=[h.fa,"Top"];e+=1;n=this.h(h,"","Themes",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);n=this.h(h,"","Themes are used to provide a visual representation of",g,q,n,a,c);n=this.h(h,"","cell history and longevity and also define grid colours",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[e]=[h.fa,"Grid"];e+=1;n=this.h(h,"","Grid:",g,q,n,a,c);n=this.h(h,
"GRID","grid line colour",g,q,n,a,c);n=this.h(h,"GRIDMAJOR","major grid line colour and interval",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);h.ma[e]=[h.fa,"2-State"];e+=1;n=this.h(h,"","Two-state Themes:",g,q,n,a,c);n=this.h(h,"BACKGROUND","cell never occupied",g,q,n,a,c);n=this.h(h,"ALIVE","cell just born",g,q,n,a,c);n=this.h(h,"ALIVERAMP","cell alive for several generations",g,q,n,a,c);n=this.h(h,"DEAD","cell just died",g,q,n,a,c);n=this.h(h,"DEADRAMP","cell dead for several generations",g,q,n,a,c);
n=this.h(h,"","",g,q,n,a,c);n=this.h(h,"",h.Xi+" ("+Keywords.Vr+") states from ALIVE to ALIVERAMP",g,q,n,a,c);n=this.h(h,"",h.K+" ("+Keywords.Es+") states from DEAD to DEADRAMP",g,q,n,a,c);for(d=0;d<h.g.Kb.length-1;d+=1){n=this.h(h,"","",g,q,n,a,c);var k=h.g.Kb[d];n=this.h(h,"Name"+(d===h.g.bg&&2>=h.g.i?"*":""),k.name,g,q,n,a,c);this.La(h,k.wb.red,k.wb.green,k.wb.blue,g,q+h.Z[0]*l,n,a,c);n=this.h(h,"BACKGROUND",this.Sg(k.wb),g,q,n,a,c);this.La(h,k.Hb.ba.red,k.Hb.ba.green,k.Hb.ba.blue,g,q+h.Z[0]*l,
n,a,c);n=this.h(h,"ALIVE",this.Sg(k.Hb.ba),g,q,n,a,c);if(k.Hb.ba.red!==k.Hb.da.red||k.Hb.ba.green!==k.Hb.da.green||k.Hb.ba.blue!==k.Hb.da.blue)this.La(h,k.Hb.da.red,k.Hb.da.green,k.Hb.da.blue,g,q+h.Z[0]*l,n,a,c),n=this.h(h,"ALIVERAMP",this.Sg(k.Hb.da),g,q,n,a,c);this.La(h,k.tb.da.red,k.tb.da.green,k.tb.da.blue,g,q+h.Z[0]*l,n,a,c);n=this.h(h,"DEAD",this.Sg(k.tb.da),g,q,n,a,c);if(k.tb.ba.red!==k.tb.da.red||k.tb.ba.green!==k.tb.da.green||k.tb.ba.blue!==k.tb.da.blue)this.La(h,k.tb.ba.red,k.tb.ba.green,
k.tb.ba.blue,g,q+h.Z[0]*l,n,a,c),n=this.h(h,"DEADRAMP",this.Sg(k.tb.ba),g,q,n,a,c);k.Kl&&(this.La(h,k.si>>16,k.si>>8&255,k.si&255,g,q+h.Z[0]*l,n,a,c),n=this.h(h,"GRID",this.Ab(k.si>>16,k.si>>8&255,k.si&255),g,q,n,a,c),this.La(h,k.ti>>16,k.ti>>8&255,k.ti&255,g,q+h.Z[0]*l,n,a,c),n=this.h(h,"GRIDMAJOR",this.Ab(k.ti>>16,k.ti>>8&255,k.ti&255),g,q,n,a,c),n=this.h(h,"GRIDMAJOR",k.xq,g,q,n,a,c))}n=this.h(h,"","",g,q,n,a,c);h.ma[e]=[h.fa,"Multi"];n=this.h(h,"","Multi-state Themes:",g,q,n,a,c);n=this.h(h,"BACKGROUND",
"cell never occupied",g,q,n,a,c);n=this.h(h,"ALIVE","cell alive",g,q,n,a,c);n=this.h(h,"DYING","cell just starting dying",g,q,n,a,c);n=this.h(h,"DYINGRAMP","cell about to die",g,q,n,a,c);n=this.h(h,"DEAD","cell just died",g,q,n,a,c);n=this.h(h,"DEADRAMP","cell dead for several generations",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);n=this.h(h,"","Rule defines "+(2>h.g.i?"":String(h.g.i-1)+" ")+"states from DYING to DYINGRAMP",g,q,n,a,c);n=this.h(h,"",h.K+" (HISTORYSTATES) states from DEAD to DEADRAMP",
g,q,n,a,c);for(d=0;d<h.g.Kb.length-1;d+=1){n=this.h(h,"","",g,q,n,a,c);k=h.g.Kb[d];n=this.h(h,"Name"+(d===h.g.bg&&2<h.g.i?"*":""),k.name,g,q,n,a,c);this.La(h,k.zj.red,k.zj.green,k.zj.blue,g,q+h.Z[0]*l,n,a,c);n=this.h(h,"BACKGROUND",this.Sg(k.zj),g,q,n,a,c);this.La(h,k.bh.red,k.bh.green,k.bh.blue,g,q+h.Z[0]*l,n,a,c);n=this.h(h,"ALIVE",this.Sg(k.bh),g,q,n,a,c);this.La(h,k.jc.da.red,k.jc.da.green,k.jc.da.blue,g,q+h.Z[0]*l,n,a,c);n=this.h(h,"DYING",this.Sg(k.jc.da),g,q,n,a,c);if(k.jc.ba.red!==k.jc.da.red||
k.jc.ba.green!==k.jc.da.green||k.jc.ba.blue!==k.jc.da.blue)this.La(h,k.jc.ba.red,k.jc.ba.green,k.jc.ba.blue,g,q+h.Z[0]*l,n,a,c),n=this.h(h,"DYINGRAMP",this.Sg(k.jc.ba),g,q,n,a,c);this.La(h,k.Sc.da.red,k.Sc.da.green,k.Sc.da.blue,g,q+h.Z[0]*l,n,a,c);n=this.h(h,"DEAD",this.Sg(k.Sc.da),g,q,n,a,c);if(k.Sc.ba.red!==k.Sc.da.red||k.Sc.ba.green!==k.Sc.da.green||k.Sc.ba.blue!==k.Sc.da.blue)this.La(h,k.Sc.ba.red,k.Sc.ba.green,k.Sc.ba.blue,g,q+h.Z[0]*l,n,a,c),n=this.h(h,"DEADRAMP",this.Sg(k.Sc.ba),g,q,n,a,c)}},
KO:function(h,g,q,n,a,c){var d,e=ColourManager.wh,l=Object.keys(e),k=h.m.$d;h.fa=1;h.th=!1;h.ma=[];h.Z[0]=260;h.Z[1]=330;h.Z[2]=380;h.Z[3]=430;h.Z[4]=h.J;h.ma[0]=[h.fa,"Top"];n=this.h(h,"","Colours",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);n=this.h(h,"","The following names can be used in place of R G B or hex specification",g,q,n,a,c);n=this.h(h,"","for example [[ COLOUR ALIVE Green ]]",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);for(d=0;d<l.length;d+=1){var p=e[l[d]];this.La(h,p[1],p[2],p[3],g,q+h.Z[0]*
k,n,a,c);n=this.h(h,p[0],this.Ab(p[1],p[2],p[3]),g,q,n,a,c)}},IO:function(h,g,q,n,a,c){var d,e=0,l=AliasManager.Oc,k=AliasManager.eE;h.fa=1;h.th=!1;h.ma=[];h.Z[0]=260;h.ma[e]=[h.fa,"Top"];e+=1;n=this.h(h,"","Aliases",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);n=this.h(h,"","Alias names can be used as rule names in RLE",g,q,n,a,c);n=this.h(h,"","for example 'rule = HighLife'",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);n=this.h(h,"","* denotes duplicate definition",g,q,n,a,c);n=this.h(h,"","+ denotes duplicate alias name",
g,q,n,a,c);h.th=!0;for(d=0;d<l.length;d+=1)""===l[d][1]?(n=this.h(h,"","",g,q,n,a,c),h.ma[e]=[h.fa,k[e-1]],e+=1,n=this.h(h,"",l[d][0]+" Aliases:",g,q,n,a,c)):""!==l[d][0]&&(n=this.h(h,l[d][0]+" "+(l[d][2]?"*":"")+(l[d][3]?"+":""),l[d][1],g,q,n,a,c))},QO:function(h,g,q,n,a,c){var d,e=0,l=Controller.Zd.length,k=0,p=0,r=0,t=0,v;h.fa=1;h.th=!1;h.ma=[];h.Z[0]=128;h.Z[1]=200;h.Z[2]=290;h.Z[3]=530;h.ma[e]=[h.fa,"Top"];e+=1;n=this.h(h,"","Memory usage",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c);if(1<l){h.ma[e]=
[h.fa,"All"];e+=1;n=this.h(h,"","Memory (all "+l+" LifeViewers):",g,q,n,a,c);for(d=0;d<l;d+=1)if(v=Controller.IM(d))k+=v.g.B.nt,r+=v.g.B.Ip>>10,p+=v.g.B.pt,t+=v.g.B.Jp>>10;n=this.h(h,"In Use",k-p+"\t"+((r>>10)-(t>>10))+"M",g,q,n,a,c);n=this.h(h,"Allocations",k+"\t"+(r>>10)+"M",g,q,n,a,c);n=this.h(h,"Frees",p+"\t"+(t>>10)+"M",g,q,n,a,c);n=this.h(h,"","",g,q,n,a,c)}h.ma[e]=[h.fa,"Current"];n=this.h(h,"","Memory (this LifeViewer):",g,q,n,a,c);n=this.h(h,"In Use",h.g.B.nt-h.g.B.pt+"\t"+this.Qz(h.g.B.Ip-
h.g.B.Jp)+"M\t"+(h.g.B.Ip-h.g.B.Jp),g,q,n,a,c);n=this.h(h,"Allocations",h.g.B.nt+"\t"+this.Qz(h.g.B.Ip)+"M\t"+h.g.B.Ip,g,q,n,a,c);n=this.h(h,"Frees",h.g.B.pt+"\t"+this.Qz(h.g.B.Jp)+"M\t"+h.g.B.Jp,g,q,n,a,c);n=this.h(h,this.xI("Bytes",10),"Type\tElements\tName\tCount",g,q,n,a,c);for(d=0;d<h.g.B.gi.length;d+=1)n=this.h(h,this.xI(String(h.g.B.gi[d].size),10),h.g.B.QK(d),g,q,n,a,c);this.h(h,"","",g,q,n,a,c)},Lv:function(h){var g=h.vc,q=h.m.$d,n=h.m.Uh,a=19*n;h.vd=(h.I/a|0)-6;g.fillStyle="black";g.globalAlpha=
.5;g.fillRect(0,0,g.canvas.width,g.canvas.height);g.globalAlpha=1;g.fillStyle=ViewConstants.Cs;this.km=2;w.XI(h,g,6*q,14*n,a,h.ha|0);g.fillStyle=h.Wj;this.km=0;w.XI(h,g,6*q,14*n,a,h.ha|0)},LO:function(h,g,q,n,a,c,d,e,l,k){var p=e,r=h.m.$d,t=this.km*r,v=this.km*h.m.$d,x=0,A=!1,y=h.fa;c.fillStyle===ViewConstants.Cs&&(A=!0);y>=k&&y<=k+h.vd&&(c.font=h.Aq,A||(c.fillStyle=1<(h.sc|0)?h.Oj:h.j.zf),c.fillText(g,d+t,e+v),A||(c.fillStyle=h.Oj),c.fillText(q,d+t+c.measureText(g).width,e+v),A||(c.fillStyle=(h.sc|
0)<h.Jd.length-h.vd+1?h.Oj:h.j.zf),c.fillText(n,d+t+c.measureText(g+q).width,e+v),h.Z[0]&&(x=h.Z[0]*r),A||(c.fillStyle=h.Oj),c.font=h.en,c.fillText(a,d+t+x,e+v),p+=l);return p},Hx:function(h,g,q,n,a,c,d,e){var l=c,k=h.m.$d,p=0,r=h.fa;r>=e&&r<=e+h.vd&&(g.length&&(n.font=h.Aq,n.fillText(g,a,c),p=n.measureText(g+" ").width),h.Z[0]&&(p=h.Z[0]*k),n.font=h.en,n.fillText(q,a+p,c),l+=d);h.fa+=1;return l},WI:function(h,g,q,n,a,c){var d,e=h.Jd,l=n;h.fa=1;h.Z[0]=0;g.font=h.en;n=this.Hx(h,"",ViewConstants.uP,
g,q,n,a,c);for(d=0;d<e.length;d+=1)n=this.Hx(h,e[d][0],e[d][1],g,q,n,a,c);h.Bb||(h.Z[0]=120,h.fa=1,n=l+a*(h.vd+2),n=this.LO(h,"Up"," / ","Down","scroll errors",g,q,n,a,0),n=this.Hx(h,"Esc","clear messages",g,q,n,a,0),this.Hx(h,"H  ","help on script commands",g,q,n,a,0))},LA:function(h){var g=h.vc,q=h.m.$d,n=h.m.Uh,a=19*n,c=7;h.Bb&&(c=1);h.vd=(h.I/a|0)-c;g.fillStyle="black";g.globalAlpha=.5;g.fillRect(0,0,g.canvas.width,g.canvas.height);g.globalAlpha=1;g.fillStyle=ViewConstants.Cs;this.WI(h,g,6*q,
14*n,a,h.sc|0);g.fillStyle=h.Oj;this.WI(h,g,4*q,12*n,a,h.sc|0)}};window.Help=w}(),window.Keywords={Kd:'"',up:"[[",zr:"]]",yD:"QUALITY",EJ:"TIME",iD:"PLAYTIME",yE:"SUPPRESS",hx:"POIT",pc:"INITIAL",gb:"OFF",vE:"STATE1FIT",Et:"POIRESET",ir:"POIPLAY",jr:"POISTOP",Ft:"POITRANS",jD:"POIADDLABELS",fB:"HARDRESET",ou:"TRACK",Np:"TRACKBOX",nu:"TRACKLOOP",mC:"NOREPORT",Wv:"GRAPH",Uw:"NOGRAPH",bB:"GRAPHOPACITY",cB:"GRAPHPOINTS",lC:"NOPERFWARNING",mB:"AUTOHIDEGUI",dh:"ALL",vi:"LINEAR",Ij:"BEZIER",HQ:"HEXDISPLAY",
NQ:"SQUAREDISPLAY",kF:"TRIANGULARCELLS",iB:"HEXCELLS",Xx:"SQUARECELLS",Vz:"CELLBORDERS",oj:"RANDCELLS",ID:"RANDOMIZE",HD:"RANDOMIZE2",ED:"RANDSEED",GD:"RANDWIDTH",BD:"RANDHEIGHT",AD:"RANDFILL",CD:"RANDREVERSIBLE",FD:"RANDFIXEDPOP",ux:"RANDCHANCE",tx:"B",zx:"S",GA:"DELETERANGE",nE:"SHOWTIMING",TA:"EXTENDEDTIMING",lE:"SHOWGENSTATS",mE:"SHOWINFOBAR",oC:"NOSOURCE",ix:"POI",Kr:"TITLE",QI:"POLY",nD:"POLYSHADOW",jx:"POLYFILL",mD:"POLYLINE",kD:"POLYALPHA",oD:"POLYSIZE",pD:"POLYT",lD:"POLYANGLE",sD:"POLYZOOMRANGE",
qD:"POLYTRACK",rD:"POLYVIEWDIST",Yr:"ARROW",Kz:"ARROWSHADOW",Iz:"ARROWALPHA",Lz:"ARROWSIZE",Mz:"ARROWT",Jz:"ARROWANGLE",Pz:"ARROWZOOMRANGE",Nz:"ARROWTRACK",Oz:"ARROWVIEWDIST",Ys:"LABEL",DB:"LABELSHADOW",BB:"LABELALPHA",EB:"LABELSIZE",FB:"LABELT",CB:"LABELANGLE",IB:"LABELZOOMRANGE",GB:"LABELTRACK",HB:"LABELVIEWDIST",Td:"FIXED",TB:"MAXGRIDSIZE",cu:"STARS",Jr:"CUSTOM",Ay:"XOFFSET",By:"YOFFSET",ey:"BACKGROUND",by:"ALIVE",FE:"ALIVERAMP",hy:"DEAD",gy:"DEADRAMP",HE:"DYING",GE:"DYINGRAMP",LJ:"UIFOREGROUND",
RQ:"UIFOREGROUNDA",JJ:"UIBACKGROUND",PQ:"UIBACKGROUNDA",MJ:"UIHIGHLIGHT",SQ:"UIHIGHTLIGHTA",OJ:"UISELECT",UQ:"UISELECTA",NJ:"UILOCKED",TQ:"UILOCKEDA",KJ:"UIBORDER",QQ:"UIBORDERA",cG:"BOUNDARY",eG:"BOUNDED",qJ:"SELECT",VF:"ADVANCE",rJ:"SELECTED",Wu:"AUTOFIT",nB:"HISTORYFIT",Es:"HISTORYSTATES",Vr:"AGESTATES",Bp:"STEP",kC:"NOSTEPBACK",fu:"T",eD:"PAUSE",ys:"GRID",xs:"GRIDMAJOR",DE:"TEXT",QA:"ERROR",hB:"HELP",tI:"OFF",uI:"ON",HH:"HISTORY",UH:"MARK1",YH:"MARKOFF",WH:"MARK2",MH:"KILL",xH:"GRAPHBG",wH:"GRAPHAXIS",
vH:"GRAPHALIVE",yH:"GRAPHBIRTH",zH:"GRAPHDEATH",Na:"COLOR",dA:"COLOUR",$n:"TILT",uu:"VIEWONLY",jC:"NOGUI",iC:"NOCOPY",QE:"THUMBNAIL",LE:"THUMBSIZE",JE:"THUMBLAUNCH",NE:"THUMBSTART",SA:"EXCLUSIVEPLAY",qB:"IGNOREEXCLUSIVE",vm:"THEME",UI:"RAINBOW",$x:"STARTFROM",Xu:"AUTOSTART",bk:"LOOP",uk:"STOP",Im:"ANGLE",Zo:"LAYERS",Eo:"DEPTH",Mo:"GPS",xe:"ZOOM",Fz:"Z",Xf:"X",Zf:"Y",Tr:"WIDTH",zq:"HEIGHT",Ht:"POPUPWIDTH",Gt:"POPUPHEIGHT",PE:"THUMBZOOM",pC:"NOTHROTTLE",RD:"REVERSESTART",AB:"KILLGLIDERS",sr:"RECIPE",
sp:"RLE",$l:"PASTE",vt:"PASTET",vC:"PASTEDELTA",rs:"EVERY",TC:"PASTEMODE",bD:"ZERO",GC:"AND",zC:"0010",XC:"X",BC:"DIFF",$C:"Y",YC:"XOR",SC:"OR",LC:"NOR",WC:"XNOR",PC:"NOTY",DC:"1011",NC:"NOTX",FC:"1101",JC:"NAND",RC:"ONE",HC:"COPY",fF:"IDENTITY",cF:"FLIP",dF:"FLIPX",eF:"FLIPY",iF:"SWAPXY",jF:"SWAPXYFLIP",hF:"RCW",gF:"RCCW",Yd:"#"},function(){window.KeyProcessor={yO:function(w,h,g){var q=!0;if(g.ctrlKey&&82===h)return!0;switch(h){case 13:w.pl===w.Dp&&w.qG(w,!0);break;case 84:w.ko([!w.j.ol],!0,w);break;
default:q=!1}return q},zO:function(w,h,g){var q=!0;if(g.ctrlKey||g.metaKey||g.altKey)h=-1;switch(h){case 84:w.ko([!w.j.ol],!0,w);break;case 27:w.du(w,!0);break;default:q=!1}return q},BO:function(w,h,g){var q=!0;if(g.ctrlKey||g.metaKey||g.altKey)h=-1;switch(h){case 84:w.ko([!w.j.ol],!0,w);break;case 27:case 117:w.nw(w);break;default:q=!1}return q},bo:function(w,h){w.Yj===ViewConstants.Th?w.Jh(h,w):w.Yj===h&&w.Jh(ViewConstants.Th,w)},AO:function(w,h,g){var q=!0;if(g.ctrlKey||g.metaKey||g.altKey)h=-1;
switch(h){case 84:w.ko([!w.j.ol],!0,w);break;default:q=!1}return q},xO:function(w,h,g){var q=!0;if(w.Wc)!w.Tw&&85===h&&g.shiftKey&&(w.Wc=!w.Wc,w.m.l=w.Wc,w.j.Wc=w.Wc);else{g.ctrlKey&&!g.altKey&&37<=h&&40>=h&&(37===h?h=33:38===h?h=36:39===h?h=34:40===h&&(h=35));if(g.altKey&&!g.ctrlKey){if(48<=h&&57>=h)h-=48,w.qh||0===w.$.Ec.length?w.fh===h?w.td?w.dD(w):w.HI(w):w.js.current=w.YJ(h,!0,w):(--h,0<=h&&h<w.$.Ec.length&&(w.yh=h,w.iE(w,w.yh)));else switch(h){case 37:w.An(w,-1,0);break;case 38:w.An(w,0,-1);
break;case 39:w.An(w,1,0);break;case 40:w.An(w,0,1);break;case 46:w.ev(w,!0,!0);w.j.notification.notify("Cleared [R]History marked cells",15,120,15,!0);break;case 65:w.so.current=w.yF([!w.Hk],!0,w);w.j.notification.notify("Auto-Shrink Selection "+(w.Hk?"On":"Off"),15,40,15,!0);break;case 66:w.bq.current=w.XJ([!w.g.pd],!0,w);break;case 67:w.Hd||!w.wj||w.wj.locked||(w.Kn(w.Fv,w.g.Nm,w),w.g.za||w.nl||w.j.notification.notify(w.iy(w.g.bg)+" Theme",15,40,15,!0));break;case 68:w.g.ia&&(w.po.current=w.UJ([!w.g.Gm],
!0,w),w.j.notification.notify("Alternating Gridlines "+(w.g.Gm?"On":"Off"),15,40,15,!0));break;case 71:w.g.ta||-1===w.g.i?w.sL(w):w.g.O?w.j.notification.notify("Rule is already [R]Super",15,120,15,!0):w.j.notification.notify("Unsupported rule for [R]Super",15,120,15,!0);break;case 72:-1===w.g.i&&!w.g.ta||w.g.O?w.qL(w):w.g.ta?w.j.notification.notify("Rule is already [R]History",15,120,15,!0):w.j.notification.notify("Unsupported rule for [R]History",15,120,15,!0);break;case 74:w.g.ta||w.g.O?w.rL(w):
-1===w.g.i?w.j.notification.notify("Rule is already [R]Standard",15,120,15,!0):w.j.notification.notify("Unsupported rule for [R]Standard",15,120,15,!0);break;case 75:w.ud.current!==ViewConstants.nn&&(w.ud.current=w.sl(ViewConstants.nn,!0,w));w.Dt=!0;w.yi.current=w.rl([!0],!0,w);break;case 76:0<w.$.ep()&&(w.jn.current=w.bK([!w.rj],!0,w),w.j.notification.notify("Annotations "+(w.rj?"On":"Off"),15,40,15,!0));break;case 78:w.oI(w);break;case 79:w.Kf&&(w.eh=!w.eh,w.to.current=[w.eh],w.j.notification.notify("AutoStart "+
(w.eh?"Off":"On"),15,40,15,!0));break;case 80:-1!==w.lc&&(w.Gf=!w.Gf,w.Wn.current=[w.Gf],w.j.notification.notify("Stop "+(w.Gf?"Off":"On"),15,40,15,!0));break;case 82:w.iG(w);break;case 83:w.iq.current=w.zF([!w.ni],!0,w);w.j.notification.notify("Sync Clipboard "+(w.ni?"On":"Off"),15,40,15,!0);break;case 84:w.Zn.current=w.UE([!w.Km],!0,w);w.j.notification.notify("Throttling "+(w.Km?"On":"Off"),15,40,15,!0);break;case 85:w.aq.current=w.WJ([!w.ej],!0,w);w.j.notification.notify("AutoHide UI "+(w.ej?"On":
"Off"),15,80,15,!0);break;case 87:2<w.g.i||w.g.oa||w.g.L||w.g.ta||w.g.O||w.g.ca||w.g.ia||(w.lr.current=w.eK([!w.g.Zc],!0,w));break;case 88:w.pH(w);break;case 89:w.qH(w);break;case 90:w.qr.locked||w.Nt(w,!1);break;case 188:h=w.Pc.current[0];h-=45;0>h&&(h+=360);w.Pc.current=w.jo([h,h],!0,w);break;case 190:h=w.Pc.current[0];h+=45;360<=h&&(h-=360);w.Pc.current=w.jo([h,h],!0,w);break;case 191:w.xJ(w)}h=-2}switch(h){case 191:g.shiftKey?w.g.S?(w.Zj.current=w.BF([!w.g.Tb],!0,w),w.j.notification.notify("Hexagonal display uses "+
(w.g.Tb?"Rectangles":"Hexagons"),15,120,15,!0)):w.g.M&&(w.Zj.current=w.BF([!w.g.Tb],!0,w),w.j.notification.notify("Triangular display uses "+(w.g.Tb?"Rectangles":"Triangles"),15,120,15,!0)):w.ue.locked||(h=w.ue.current[0],h-=.02,0>h&&(h=0),w.ue.current=w.Sr([h,h],!0,w));break;case 192:g.shiftKey?w.ue.locked||(w.ue.current=w.Sr([.5,0],!0,w)):w.ue.locked||(h=w.ue.current[0],h+=.02,1<h&&(h=1),w.ue.current=w.Sr([h,h],!0,w));break;case 8:0!==w.ha?w.Yj!==ViewConstants.Th?w.Jh(ViewConstants.Th,w):(w.ha=
0,w.Xj.current=w.ao([w.ha],!0,w),w.j.vg=!0):w.Cc.current[0]?(w.bs(w),w.j.vg=!0):w.Ta||w.Zb.jg[1]||(h=w.xb,w.xb=1,w.Zb.current=w.Md(ViewConstants.Sq,!0,w),w.xb=h);break;case 66:g.ctrlKey?w.rG(w):g.shiftKey?(w.Ul.current=[!w.Ul.current[0]],w.j.vg=!0):w.Ta||w.Zb.jg[1]||(h=w.xb,w.xb=1,w.Zb.current=w.Md(ViewConstants.Sq,!0,w),w.xb=h);break;case 13:w.td||w.Sd?w.dO(w):w.Ta||(w.Zb.current===ViewConstants.$k?w.Zb.current=w.Md(ViewConstants.$k,!0,w):w.De&&w.j.Vc||(w.Zb.current=w.Md(ViewConstants.$k,!0,w)));
break;case 9:w.Ta||(w.ib?w.Zb.current=w.Md(ViewConstants.af,!0,w):g.shiftKey?(w.g.ia||w.g.L)&&null!==w.g.cd?w.Zb.current=w.Md(ViewConstants.Sq,!0,w):0<w.g.counter&&(w.Tt(w.g.counter-w.xb),w.Sx(w.g.counter-w.xb+1)):(w.mj=!0,w.rb("")));break;case 32:w.Ta||(w.ib?w.Zb.current=w.Md(ViewConstants.af,!0,w):g.ctrlKey||g.shiftKey?w.pM(w,g.shiftKey):(w.mj=!0,w.oE=!0,w.rb("")));break;case 87:g.shiftKey?(w.Mn.current=w.RE([!w.ik],!0,w),w.j.notification.notify("Performance Warning "+(w.ik?"On":"Off"),15,40,15,
!0)):w.Me?w.Rh.current=w.VE([w.Uf],!0,w):w.$c&&(w.Rh.current=w.VE([w.hf],!0,w));break;case 68:g.ctrlKey?(w.Gr.current=w.TE([!w.Nn],!0,w),w.j.notification.notify("States Display "+(w.Nn?"On":"Off"),15,80,15,!0)):g.shiftKey?w.eH(w):"Oscillator"===w.lb&&(w.Wk.current=2===w.nj?w.Hp(0,!0,w):w.Hp(2,!0,w));break;case 69:"Oscillator"===w.lb&&(w.Wk.current=1===w.nj?w.Hp(0,!0,w):w.Hp(1,!0,w));break;case 90:g.ctrlKey?(g.altKey&&(w.qr.locked||w.Nt(w,!0)),g.shiftKey?w.MD(w):w.yk.locked||w.pF(w)):g.shiftKey?(h=
Controller.BJ(),0===h?w.j.notification.notify("No LifeViewers playing",15,100,15,!0):1<h&&w.j.notification.notify("Paused all LifeViewers",15,100,15,!0)):(h=Controller.xE(w),0<h&&(1<h?w.j.notification.notify("Paused "+h+" other LifeViewers",15,100,15,!0):w.j.notification.notify("Paused "+h+" other LifeViewer",15,100,15,!0)));break;case 88:g.ctrlKey?w.TI(w,g.shiftKey,g.altKey):g.shiftKey?(w.Yk.current=w.cK([!w.g.Ll],!0,w),0<w.g.gg&&(w.j.notification.notify("Major Grid Lines "+(w.g.Ll?"On":"Off"),15,
40,15,!0),w.mG())):(w.g.tc=!w.g.tc,w.cj.current=w.Lr([w.g.tc],!0,w),w.j.notification.notify("Grid Lines "+(w.g.tc?"On":"Off"),15,40,15,!0));break;case 89:0!==w.ha?this.bo(w,ViewConstants.YB):g.ctrlKey?w.MD(w):w.Hc?w.j.notification.notify("Graph Disabled",15,40,15,!0):g.shiftKey?(w.Gh=!w.Gh,w.Mq.current=w.GJ([w.Gh],!0,w),w.j.notification.notify("Graph "+(w.Gh?"Lines":"Points"),15,40,15,!0)):(w.yd=!w.yd,w.bn.current=w.AF([w.yd],!0,w),w.j.notification.notify("Population Graph "+(w.yd?"On":"Off"),15,
40,15,!0));break;case 75:0!==w.ha?this.bo(w,ViewConstants.zB):g.ctrlKey?g.altKey?(w.ev(w,!1,!1),h=w.pf,2<w.g.i&&!(w.g.za||w.g.L||w.g.ca||w.g.O)&&0<h&&(h=w.g.i-h),w.g.ca?w.j.notification.notify("Cleared state "+h+" cells",15,120,15,!0):w.j.notification.notify("Cleared "+w.wq(h)+" cells",15,120,15,!0)):w.Gx(w):g.shiftKey?(w.sG(w,!0),w.j.notification.notify("Copied view to clipboard",15,180,15,!0)):(w.sG(w,!1),w.j.notification.notify("Copied position to clipboard",15,180,15,!0));break;case 80:g.ctrlKey?
(w.yt.current=w.IJ([!w.fr],!0,w),w.j.notification.notify("Pause while drawing "+(w.fr?"On":"Off"),15,80,15,!0)):g.shiftKey?-1!==w.nb&&(w.bd=!w.bd,w.ln.current=[w.bd],w.j.notification.notify("Loop "+(w.bd?"Off":"On"),15,40,15,!0)):w.Hd||w.rd.locked||(w.rd.current=.99>=w.rd.current[0]?w.Am([w.rd.current[0]+.01,w.rd.current[1]],!0,w):w.Am([1,w.rd.current[1]],!0,w));break;case 76:g.ctrlKey?(w.g.vh=!w.g.vh,w.j.notification.notify("Kill Gliders "+(w.g.vh?"On":"Off"),15,40,15,!0)):g.shiftKey?w.LL(w):w.Hd||
w.rd.locked||(w.rd.current=.01<=w.rd.current[0]?w.Am([w.rd.current[0]-.01,w.rd.current[1]],!0,w):w.Am([0,w.rd.current[1]],!0,w));break;case 81:g.ctrlKey?(w.Mt.current=w.dK([!w.g.Hh],!0,w),w.j.notification.notify((w.g.Hh?"High":"Standard")+" Quality Rendering",15,80,15,!0)):!w.Hd&&!w.Fe.locked&&w.Fe.current[0]<ViewConstants.Dw&&(w.Fe.current=w.tu([w.g.aa+1,w.Fe.current[1]],!0,w));break;case 65:0!==w.ha?this.bo(w,ViewConstants.Dz):g.shiftKey?w.yb&&w.Zr(w):g.ctrlKey?w.ud.jg[ViewConstants.pn]||w.nJ(w):
!w.Hd&&!w.Fe.locked&&w.Fe.current[0]>ViewConstants.Lw&&(w.Fe.current=w.tu([w.g.aa-1,w.Fe.current[1]],!0,w));break;case 82:g.shiftKey?Controller.YI():w.Zb.current=w.Md(ViewConstants.gC,!0,w);break;case 83:0!==w.ha?this.bo(w,ViewConstants.cE):g.ctrlKey?(w.$D(w),w.j.notification.notify("Saved",15,120,15,!0)):g.shiftKey?w.g.ta&&(w.tj=!w.tj,w.j.notification.notify("AutoFit State 1 Mode "+(w.tj?"On":"Off"),15,40,15,!0)):(w.Dr.current=w.hK([!w.sj],!0,w),w.j.notification.notify("Stars "+(w.sj?"On":"Off"),
15,40,15,!0));break;case 78:0!==w.ha?0<w.$.ep()&&this.bo(w,ViewConstants.Hz):g.shiftKey?w.Ta||w.uH(w):w.wm&&(w.Bb?w.zE():(w.AE(),w.ha&&(w.ha=0)));break;case 86:g.ctrlKey?w.Kt(w,g.shiftKey):g.shiftKey?(w.ZD(w),w.j.notification.notify("Saved camera position",15,100,15,!0)):w.Rd||(w.aJ(w),w.j.notification.notify("Restored camera position",15,100,15,!0),w.ib||(w.Jg=!0));break;case 221:w.Rd||(g.shiftKey?w.Ur(w.Jc.current[0],Math.log(w.g.zoom*w.g.Dc*2/ViewConstants.bb)/Math.log(ViewConstants.Ob/ViewConstants.bb)-
w.Jc.current[0]):w.Ur(w.Jc.current[0],.01));break;case 219:w.Rd||(g.shiftKey?w.Ur(w.Jc.current[0],Math.log(w.g.zoom*w.g.Dc/2/ViewConstants.bb)/Math.log(ViewConstants.Ob/ViewConstants.bb)-w.Jc.current[0]):w.Ur(w.Jc.current[0],-.01));break;case 53:case 101:g.ctrlKey?g.shiftKey?w.g.L||w.vx(w,!0):w.vk(5):g.shiftKey?w.vx(w,!1):w.Pc.locked||(w.g.angle=0,w.Pc.current=[w.g.angle,w.g.angle]);break;case 49:case 97:g.ctrlKey?w.vk(1):g.shiftKey?(w.li(w,w.g.zoom*w.g.Dc,!0),w.j.notification.notify("Integer Zoom",
15,40,15,!0)):w.li(w,1,!1);break;case 50:case 98:g.ctrlKey?w.vk(2):g.shiftKey?w.li(w,.5,!1):w.li(w,2,!1);break;case 51:case 99:g.ctrlKey?w.vk(3):g.shiftKey?w.li(w,.03125,!1):w.li(w,32,!1);break;case 52:case 100:g.ctrlKey?w.vk(4):g.shiftKey?w.li(w,.25,!1):w.li(w,4,!1);break;case 54:case 102:g.ctrlKey?w.vk(6):g.shiftKey?w.li(w,.0625,!1):w.li(w,16,!1);break;case 55:g.ctrlKey?w.vk(7):w.Hc?w.j.notification.notify("Graph Disabled",15,40,15,!0):(0<w.Id&&(w.Id-=.05,0>w.Id&&(w.Id=0)),w.Wq.current=w.wy([w.Id,
w.Id],!1,w));break;case 56:case 104:g.ctrlKey?w.vk(8):g.shiftKey?w.li(w,.125,!1):w.li(w,8,!1);break;case 57:g.ctrlKey?w.vk(9):w.Hc?w.j.notification.notify("Graph Disabled",15,40,15,!0):(1>w.Id&&(w.Id+=.05,1<w.Id&&(w.Id=1)),w.Wq.current=w.wy([w.Id,w.Id],!1,w));break;case 48:case 96:g.ctrlKey?w.vk(0):w.rg.current=w.zk([1,1],!0,w);break;case 189:case 109:g.ctrlKey&&189===h?q=!1:w.Ta||(w.xb>ViewConstants.wi?g.shiftKey?w.xb=ViewConstants.wi:(--w.xb,w.xb<ViewConstants.wi&&(w.xb=ViewConstants.wi)):w.oc>
ViewConstants.kj&&(g.shiftKey?w.oc=ViewConstants.kj:(--w.oc,w.oc<ViewConstants.kj&&(w.oc=ViewConstants.kj))),w.rg.current=w.zk([w.rm(),1],!0,w));break;case 187:case 107:g.ctrlKey&&187===h?q=!1:w.Ta||(w.oc<w.Ma?g.shiftKey?w.oc=w.Ma:(w.oc+=1,w.oc>w.Ma&&(w.oc=w.Ma)):w.xb<ViewConstants.Kg&&(g.shiftKey?w.xb=ViewConstants.Kg:(w.xb+=1,w.xb>ViewConstants.Kg&&(w.xb=ViewConstants.Kg))),w.rg.current=w.zk([w.rm(),1],!0,w));break;case 188:g.shiftKey&&(w.yb||w.td)?w.fJ(w):w.Pc.locked||(h=w.Pc.current[0],h=g.shiftKey?
h-90:h-1,0>h&&(h+=360),w.Pc.current=w.jo([h,h],!0,w));break;case 190:g.shiftKey&&(w.yb||w.td)?w.gJ(w):w.Pc.locked||(h=w.Pc.current[0],h=g.shiftKey?h+90:h+1,360<=h&&(h-=360),w.Pc.current=w.jo([h,h],!0,w));break;case 46:w.yb?g.shiftKey?w.oG(w):w.IA(w,g.ctrlKey):g.ctrlKey&&(h=w.ev(w,g.ctrlKey,!1))&&w.j.notification.notify("Cleared [R]History cells",15,120,15,!0);break;case 74:g.ctrlKey&&!g.shiftKey?w.tG(w):g.ctrlKey&&g.shiftKey?q=!1:w.$.Ec.length?w.Rd||(g.shiftKey?w.SI(w):w.pI(w)):w.j.notification.notify("No POIs defined",
15,80,15,!0);break;case 84:0!==w.ha?this.bo(w,ViewConstants.IE):g.shiftKey?w.j.Ln=!w.j.Ln:w.vq.current=w.ko([!w.j.ol],!0,w);break;case 85:g.shiftKey?!w.Tw&&(w.Wc=!w.Wc,w.m.l=w.Wc,w.j.Wc=w.Wc)&&(w.ha=0,w.sc=0):(w.g.ia||w.g.L)&&w.g.cd&&w.HA(w);break;case 71:g.ctrlKey?(w.Yi=!w.Yi,w.$p.current=w.VJ([w.Yi],!0,w),w.j.notification.notify("Auto Grid Lines "+(w.Yi?"On":"Off"),15,40,15,!0)):g.shiftKey?w.Hl&&(w.tr.current=w.gK([!w.Jl],!0,w),w.j.notification.notify("Generation display "+(w.Jl?"Relative":"Absolute"),
15,40,15,!0)):(w.xy([!w.Nh],!0,w),w.ke&&(w.ke.current=[w.Nh],w.j.vg=!0));break;case 70:g.ctrlKey?w.yb&&(w.hh(!0,!0,ViewConstants.Uv),w.j.notification.notify("Fit Selection",15,80,15,!0)):g.shiftKey?w.Gj.locked||(w.Kc=!w.Kc,w.Gj.current=w.FJ([w.Kc],!0,w),w.j.notification.notify("AutoFit "+(w.Kc?"On":"Off"),15,40,15,!0)):w.$m.locked||(w.hh(!0,!0,ViewConstants.Fl),w.j.notification.notify("Fit Pattern",15,80,15,!0),w.ib||(w.Jg=!0));break;case 79:g.ctrlKey?g.shiftKey?w.vI(w):w.RH(w):w.tp=g.shiftKey?2:
1;break;case 37:g.shiftKey?w.rn(w.g.zoom,w.g.zoom):w.rn(w.g.zoom,0);break;case 38:w.ha?w.Qx(w,1):w.sc?w.Ox(w,1):g.shiftKey?w.rn(-w.g.zoom,w.g.zoom):w.rn(0,w.g.zoom);break;case 39:g.shiftKey?w.rn(-w.g.zoom,-w.g.zoom):w.rn(-w.g.zoom,0);break;case 40:w.ha?w.Px(w,1):w.sc?w.Nx(w,1):g.shiftKey?w.rn(w.g.zoom,-w.g.zoom):w.rn(0,-w.g.zoom);break;case 77:g.ctrlKey?(w.hh(!0,!0,ViewConstants.WA),w.j.notification.notify("Center Pattern",15,80,15,!0)):g.shiftKey?w.ML(w):!w.Cc||w.Cc.l||w.Cc.locked||(w.Cc.current=
w.co([!w.Cc.current[0]],!0,w),w.j.vg=!0);break;case 67:g.ctrlKey?w.sx(w,g.shiftKey,g.altKey):0!==w.ha?this.bo(w,ViewConstants.eA):w.Hd||!w.wj||w.wj.locked||(g.shiftKey?(h=w.g.bg-1,0>h&&(w.Nj?h=w.g.Bf:h=w.g.Bf-1)):(h=w.g.bg+1,w.Nj?h>=w.g.Bf+1&&(h=0):h>=w.g.Bf&&(h=0)),w.Kn(h,w.g.Nm,w),w.g.za||w.nl||w.j.notification.notify(w.iy(w.g.bg)+" Theme",15,40,15,!0));break;case 72:g.shiftKey?(w.Cq.current=w.$J([!w.fj],!0,w),w.j.notification.notify("AutoFit History Mode "+(w.fj?"On":"Off"),15,40,15,!0)):(w.Jd.length?
w.ha=w.ha?0:1:w.ha?w.ha=0:w.Bb||(w.ha=1),w.Xj.current=w.ao([w.ha],!0,w),w.j.vg=!0);break;case 73:g.ctrlKey&&g.shiftKey?q=!1:g.ctrlKey?w.KH(w):g.shiftKey?w.Eq.current=w.aK([!w.sd],!0,w):(w.ha?this.bo(w,ViewConstants.qw):w.Bb||w.Jh(ViewConstants.qw,w),w.Xj.current=w.ao([w.ha],!0,w),w.j.vg=!0);break;case 27:w.Ud?w.Jd.length?(w.Jd=[],w.sc=0):w.td||w.Sd?w.av(w):w.cl?w.yi.current=w.rl([!1],!0,w):w.Rg?w.oB(w):-1!==w.ef?w.du(w,!0):hideViewer():w.ha?w.ha=0:w.Jd.length?(w.Jd=[],w.sc=0):w.td||w.Sd?w.av(w):w.cl?
w.yi.current=w.rl([!1],!0,w):w.Rg?w.oB(w):-1!==w.ef?w.du(w,!0):w.ib&&(w.Zb.current=w.Md(ViewConstants.af,!0,w));w.Xj.current=w.ao([w.ha],!0,w);w.j.vg=!0;break;case 33:w.ha?g.shiftKey?w.uO(w):w.Qx(w,w.vd):w.sc?w.Ox(w,w.vd):DocConfig.cb&&(--w.md,0>w.md&&(w.md=Controller.bf.length-1),w.Di(Controller.bf[w.md].pattern,!1));break;case 34:w.ha?g.shiftKey?w.XN(w):w.Px(w,w.vd):w.sc?w.Nx(w,w.vd):DocConfig.cb&&(w.md+=1,w.md>=Controller.bf.length&&(w.md=0),w.Di(Controller.bf[w.md].pattern,!1));break;case 36:w.ha?
w.ha=1:w.sc?w.sc=1:DocConfig.cb&&(w.md=0,w.Di(Controller.bf[w.md].pattern,!1));break;case 35:w.ha?w.ha=w.Uq-w.vd:w.sc?w.sc=w.Jd.length-w.vd:DocConfig.cb&&(w.md=Controller.bf.length-1,w.Di(Controller.bf[w.md].pattern,!1));break;case 112:w.Ta||(w.De=!w.De,w.ud.current=w.sl(w.De?ViewConstants.nn:ViewConstants.on,!0,w),w.j.notification.notify((w.De?"Draw":"Pan")+" Mode",15,40,15,!0));break;case 113:g.shiftKey?(w.Cr.current=w.SE([!w.xp],!0,w),w.j.notification.notify("Smart Drawing "+(w.xp?"On":"Off"),
15,40,15,!0)):w.ud.current=w.sl(ViewConstants.nn,!0,w);break;case 114:w.Ta||(w.ud.current=w.sl(ViewConstants.nn,!0,w),w.cl||(w.yi.current=w.rl([!0],!0,w)));break;case 115:w.ud.jg[ViewConstants.pn]||(w.ud.current=w.sl(ViewConstants.pn,!0,w));break;case 116:w.ud.current=w.sl(ViewConstants.on,!0,w);break;case 117:w.Dq.locked||(g.ctrlKey?w.iH(w):g.shiftKey?w.TL(w):w.nw(w));break;case 122:q=!1;break;default:if(-1===h||116===h)q=!1}}return q}}}());

//# sourceMappingURL=lv-plugin.js.map
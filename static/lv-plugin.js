window.h||(window.h=!0,function(){var Ta;function Ma(a,b,c,d){a.addEventListener?a.addEventListener(b,c,{passive:d}):a.attachEvent("on"+b,c)}function Jb(a,b,c,d){this.dataType=a;this.name=c;this.elements=b;this.size=b*ra.Pl(a);this.To=1;this.offset=d}function fb(){this.i=[];this.m=this.u=this.j=this.s=0;this.Nj=128;this.v=0}function kb(a,b,c,d,f){this.C=f;this.G=a;this.H=b;this.$=c;this.message="";this.A=a;this.D=b;this.X=c;this.i="";this.v=this.u=!1;this.h=d;this.P=!1;this.F=this.startTime=0;this.m=
"rgb(32,255,255)";this.B="white";this.j=0;this.K=!1;this.ca=this.Z="black";this.R=!1;this.s=1}function Kb(a,b,c,d){this.name=a;this.width=b;this.height=c;this.To=d}function pb(a,b){this.i=b;this.B=a;this.height=this.width=0;this.G=this.u=this.F=this.m=this.j=null;this.A=[];this.s=!0;this.H=this.P=4294967295;this.O=this.R=0;this.De=!1;this.v=1}function Za(a,b,c,d,f,e,g,k,l,m,n,q,p,r,u,t,v,A,w){this.id=a;this.pa=w;this.Y=null;this.F=-1;this.N=this.da=!1;this.v=b;this.caller=c;this.h=A;this.x=f;this.y=
e;this.X=f;this.B=e;this.position=d;this.width=g;this.height=k;this.H=g;this.ga=k;this.type=q;this.orientation=p;p===da.ru&&(this.orientation=g>=k?da.ue:da.vertical);this.Xm=this.orientation;this.lower=l;this.u=m;q===da.Om?this.current=[n,n]:this.current=n;this.ra=r;this.Jb=u;this.qa=t;this.aa=v;this.ea=!1;this.la=this.ka=-1;this.i=da.UA;this.A=!0;this.G=this.locked=!1;this.m=[];if(this.type===da.list)for(a=0;a<l.length;a+=1)this.m[a]=!1;this.Z=[];this.fa=0;this.dc=w.dc;this.s=w.X;if(q===da.list)for(this.K=
[],a=0;a<l.length;a+=1)this.K[a]=this.dc;this.hd=w.hd;this.R=w.P;this.U=w.ea;this.ba=w.pa;this.ha=w.ga;this.na=w.ra;this.D=w.fa;this.O=w.qa;this.P=w.ca;this.$=w.na;this.border=w.border;this.fontSize=parseInt(w.Z.substring(0,w.Z.indexOf("px")),10);this.ma=w.Z.substring(w.Z.indexOf("px")+3);this.ja=null}function Ya(a,b,c,d,f,e){this.W=a;this.h=f;this.B=this.s=1;this.Z=e;this.locked=this.N=!1;this.F=this.A=-1;this.da=this.D=!1;this.ua=this.ta=-1;this.wa=6;this.oa=b;this.v=[];this.u=0;this.dc="";this.X=
0;this.hd="";this.P=0;this.ea="";this.pa=0;this.ga="";this.ra=0;this.fa="";this.qa=0;this.ca="";this.border=this.na=0;this.U=da.ru;this.K=this.H=-1;this.O=this.ma=null;this.aa=c;this.caller=d;this.$=null;this.ja=this.ha=this.sa="auto"}function nb(a){this.m=[];this.s=[];this.i=this.h=0;this.W=a;this.Vv=this.Uv=0}function ob(){this.h={};this.i=0}function Na(a,b,c,d,f,e){var g=this,k=0;this.Wa=!1;this.ya=1;this.ic=V.ic;this.Za=this.jb=!0;this.fb=this.hb=40;this.D=0;this.ta=this.ua=this.Da=-1;this.aa=
!1;this.caller=f;this.wa=this.Z=this.La=this.da=!1;this.qb=4;this.Bb=e;this.A=this.la=!1;this.ka=!0;this.Fa=!1;this.O=1;this.Ca=8;this.Xa="rgb(32,255,255)";this.dc="black";this.Ga=.7;this.Va="#000000";this.hd="white";this.Kb=1;this.wb=this.yb=this.Ab=0;this.nb="rgb(0,240,32)";this.Lb=.7;this.Pa="blue";this.Ob=.7;this.ca="grey";this.Nb=1;this.Ia="rgb(32,255,255)";this.border=this.mb=1;this.rb=function(l){return function(){l.nc(l)}}(this);this.Mb=d;this.R=a;this.v=b;this.ha=!1;this.X=this.U=-1;this.B=
!1;this.P=this.G=this.ba=this.K=this.u=this.s=-1;this.i=this.pa=null;this.va=c;this.j=this.F=!1;this.Ng=performance.now();this.ra=0;this.$a=[];this.eb=[];this.Vr=[];for(k=0;5>k;k+=1)this.$a[k]=0,this.eb[k]=0,this.Vr[k]=0;this.na=null;this.m=!1;this.notification=new kb(25,100,25,b,this);this.notification.m=this.hd;this.notification.B=this.hd;this.cb=performance.now();this.Ja=this.lb=!1;this.qa=[];this.fa=this.oa=0;this.sa=new ob;Ma(a,"mousedown",function(l){g.Xb(g,l)},!1);Ma(a,"mousemove",function(l){g.Yb(g,
l)},!1);Ma(a,"mouseup",function(l){g.ac(g,l)},!1);Ma(a,"mouseover",function(l){g.$b(g,l)},!1);Ma(a,"mouseout",function(l){g.Zb(g,l)},!1);Ma(a,"touchstart",function(l){g.Aa(g,l)},!1);Ma(a,"touchmove",function(l){g.Aa(g,l)},!1);Ma(a,"touchend",function(l){g.Aa(g,l)},!1);Ma(a,"touchcancel",function(l){g.Aa(g,l)},!1);this.Hb()}function Bb(a,b,c,d,f,e){this.mp=a;this.np=b;this.width=c;this.height=d;this.PK=f;this.rH=e}function za(a){this.time=0;this.T=a;this.fa=this.ra=this.na=!1;this.oc="none";this.Xa=
22;this.Za=6;this.Ba=8;this.V="";this.Tb="0123456789xyz";this.Ob="0123";this.Sb="0123456789";this.Mc=this.Lc="0123456";this.Kc="0123456789";this.Nc="0123";this.ge=1038;this.me=7157;this.he=5454;this.ie=2741;this.fe=3775;this.le=4420;this.ne="0123";this.Jc="0123456omp-";this.Oc="01234";this.Ec=["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"];this.Wd=[[[6,36,160,192,72,10],[132,96,136,66,12,34],[68,40,130]],[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,232,202,
78,46],[172,226,204,106,142,102],[108,170,198]]];this.rb=" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" ");this.qb="  omp omp omp  ".split(" ");this.Od=[0,2,6,10,13,10,6,2,0];this.Rd=[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]];this.Cd=[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]];this.aa=new Uint32Array(256);this.Nb=new Uint8Array(8192);this.Mb=
new Uint8Array(8192);this.m=a.h(ra.ab,512,"PatterManager.ruleArray",V.S);this.ba=a.h(ra.ab,512,"PatterManager.ruleArray",V.S);this.ee=new Uint16Array(512);this.ik=this.ob=!1;this.Ia="l";this.Ga="le";this.Ja="lv";this.lb="li";this.mb="lo";this.kb="lb";this.nb="lr";this.Wa="h";this.Kb="ht";this.sb="v";this.Pa=!1;this.Hb=0;this.ub=!1;this.fb=this.eb=0;this.La=!1;this.i=this.$a=this.cb=this.h=0;this.j=1;this.Z=2;this.P=3;this.U=4;this.X=5;this.$=6;this.G=7;this.O=8;this.R=9;this.D=11;this.A=12;this.H=
13;this.v=14;this.u=16;this.K=17;this.da=this.ea=Ha.Ur;this.ha=0;this.la=1;this.ma=2;this.ua=3;this.va=4;this.ta=5;this.wa=6;this.pa=0;this.qa=1;this.ca=!1;this.ja=[];this.ja[Ha.Hj]="vonneumann";this.ja[Ha.kh]="moore";this.ja[Ha.jh]="hexagonal";this.ja[Ha.nk]="onedimensional";this.Ca=[];this.Ca[Ha.Hj]=5;this.Ca[Ha.kh]=9;this.Ca[Ha.jh]=7;this.Ca[Ha.nk]=3;this.ka=[];this.ka[Ha.Hj]=["none","rotate4","rotate4reflect","reflect_horizontal","permute"];this.ka[Ha.kh]="none rotate4 rotate8 rotate4reflect rotate8reflect reflect_horizontal permute".split(" ");
this.ka[Ha.jh]="none rotate2 rotate3 rotate6 rotate6reflect permute".split(" ");this.ka[Ha.nk]=["none","reflect","permute"];this.Da=[];this.Da[Ha.Hj]=[[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5]],[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5],[0,4,3,2,1,5],[0,3,2,1,4,5],[0,2,1,4,3,5],[0,1,4,3,2,5]],[[0,1,2,3,4,5],[0,1,4,3,2,5]]];this.Da[Ha.kh]=[[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,
9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9]],[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9],[0,1,8,7,6,5,4,3,2,9],[0,7,6,5,4,3,2,1,8,9],[0,5,4,3,2,1,8,7,6,9],[0,3,2,1,8,7,6,5,4,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9],[0,8,7,6,5,
4,3,2,1,9],[0,7,6,5,4,3,2,1,8,9],[0,6,5,4,3,2,1,8,7,9],[0,5,4,3,2,1,8,7,6,9],[0,4,3,2,1,8,7,6,5,9],[0,3,2,1,8,7,6,5,4,9],[0,2,1,8,7,6,5,4,3,9],[0,1,8,7,6,5,4,3,2,9]],[[0,1,2,3,4,5,6,7,8,9],[0,1,8,7,6,5,4,3,2,9]]];this.Da[Ha.nk]=[[[0,1,2,3],[0,2,1,3]]];this.Da[Ha.jh]=[[[0,1,2,3,4,5,6,7],[0,4,5,6,1,2,3,7]],[[0,1,2,3,4,5,6,7],[0,3,4,5,6,1,2,7],[0,5,6,1,2,3,4,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,
6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7],[0,6,5,4,3,2,1,7],[0,5,4,3,2,1,6,7],[0,4,3,2,1,6,5,7],[0,3,2,1,6,5,4,7],[0,2,1,6,5,4,3,7],[0,1,6,5,4,3,2,7]]];this.F=!1;this.hb=""}function ib(a,b){this.T=b.T;this.W=b;this.ya="";this.Bb=!1;this.hb=this.jb=this.Za=-1;b=a.lastIndexOf(".");-1!==b&&(a=a.substring(0,b));this.name=a;this.Ua=this.Ga=0;this.ea=this.K=this.j=-1;this.qa=this.pa=0;this.Ab=this.wb=!1;this.yb=!0;this.F=this.X=this.h=this.Ta="";this.ia=this.Pa=this.U=
this.D=this.O=this.ha=this.la=this.ga=!1;this.Aa=this.W.pa;this.s=!1;this.$=this.W.ha;this.ua=-1;this.aa=this.ma=!1;this.A=-1;this.Ca=1;this.ra=this.Tb=this.Sb=this.Wb=this.Xb=this.fa=this.Z=this.ca=this.R=-1;this.mE=this.Ea=!1;this.v=-1;this.La=this.Ja=this.B=this.H=null;this.nb=this.i=this.m=-1;this.Fa=this.Da=1;this.ka="";this.ta=-1;this.da="";this.Lb=this.Kb=null;this.height=this.width=0;this.ba=this.P=null;this.sa=this.u=this.title="";this.Ob=[];this.ub=[];this.sb=[];this.$a="";this.G=2;this.Xa=
0;this.va=this.Ba=!1;this.Cb=this.Hb="";this.na=-1;this.Nb=!1;this.wa=this.cb=this.lb=this.rb=this.mb=-1;this.ja=this.Gb=this.Wa=null;this.Va=this.qb=0;this.Ia=this.eb=this.fb=null;this.kb=[];this.oa=null;this.Zb=[]}function Va(a,b,c,d){this.I=a;this.J=b;this.L=c;this.M=d}function qb(a,b,c){this.u=b;this.j=a.u[b];this.m=a.m[b];this.s=a.s[b];this.O=a.D[b];this.H=a.B[b];this.v=null;c&&(this.v=a.v[b]);this.i=new Va(0,0,0,0);this.h=new Va(0,0,0,0);this.F=this.B=this.K=this.counter=this.D=this.A=this.G=
0;this.W=a}function gb(a,b){this.T=a;this.h=[];this.j=[];this.u=[];this.m=[];this.s=[];this.D=[];this.B=[];this.v=[];this.F=0;this.i=-1;this.K=b;this.A=null}function Da(a,b,c){this.T=a;this.g=b;this.W=c;this.i=b.da;this.v=this.m=1;this.ca=2;this.P=a.h(ra.ab,0,"HROT.births",V.S);this.G=a.h(ra.ab,0,"HROT.survivals",V.S);this.$=a.h(ra.ab,0,"HROT.comboList",V.S);this.Z=a.h(ra.ab,0,"HROT.altComboList",V.S);this.ja=a.h(ra.ab,0,"HROT.altBirths",V.S);this.ka=a.h(ra.ab,0,"HROT.altSurvivals",V.S);this.type=
c.i;this.Im=Array.matrix(ra.ab,1,1,0,a,"HROT.neighbourhood",!1);this.O=a.h(ra.Tp,0,"HROT.neighbourList",V.S);this.h=Array.matrix(ra.Ad,1,1,0,a,"HROT.counts",V.S);this.H=a.h(ra.mc,0,"HROT.widths",V.S);this.pa=a.h(ra.ab,0,"HROT.colUsed",V.S);this.s=a.h(ra.sr,0,"HROT.weightedNeighbourhood",V.S);this.D=null;this.R=this.X=-1;this.ga=6;this.K=this.A=this.u=this.F=0;this.na=!1;this.U="";this.oa=-1;this.B=!1;this.ba=new rb;this.ba.De(Date.now().toString());this.fa=a.h(ra.Dd,0,"HROT.birthChances",!1);this.da=
a.h(ra.Dd,0,"HROT.suvivalChances",!1);this.aa=a.h(ra.Dd,0,"HROT.immunityChances",!1);this.ea=!1;this.ha=this.ma=this.la=-1}function Cb(a,b){this.i=a;this.h=b}function Sa(a,b,c,d,f,e,g,k,l){this.name=a;this.vl=!1;this.B=10;this.u=this.s=0;this.v=d;this.i=c;this.h=b;this.A=f;this.m=e;this.j=g;this.F=k;this.G=!1;this.D=l;-1===this.m.i.h&&(this.G=!0);128<=(this.v.h+this.v.j+this.v.i)/3?(this.s=G.eI,this.u=G.dI):(this.s=G.kv,this.u=G.jv)}function T(a,b,c){this.h=a;this.j=b;this.i=c}function Aa(a,b){this.h=
a;this.i=b}function qa(a,b,c,d,f,e,g){this.W=e;this.view=g;this.Oj=!1;this.sb=this.rb=0;this.xh=this.Bg=this.wh=this.ag=this.Ye=this.zg=this.zf=this.yf=this.be=null;this.ee=!1;this.Kc=document.createElement("canvas");this.Kc.width=1;this.Kc.height=1;this.bg=this.Kc.getContext("2d",{willReadFrequently:!0});this.Xc=[];this.Zj=0;this.Ze=8;this.Mb=0;this.Wc=document.createElement("canvas");this.Wc.width=1;this.Wc.height=1;this.$f=this.Wc.getContext("2d",{willReadFrequently:!0});this.Rj=0;this.kd=[];this.Yj=
null;this.Xl=0;this.Gh=this.Ih="";this.He=[];this.kf=-1;this.yl=this.zl=this.Vl=this.Ul=this.Bl=this.Al=this.Cl=this.Ll=this.Kl=this.Ml=this.xl=this.Jl=this.Hl=this.Sl=this.Ol=0;this.sl=!1;this.Hc=this.La=this.lj=0;this.Oc=10;this.Ei="";this.Fh=this.Pg=this.ig=0;this.Jd=null;this.Ac=this.Va=this.Eg=0;this.ub=null;this.Cc=[];this.uj=this.Yg=0;this.Qe=this.qg=null;this.ij=this.jj=this.mj=this.Pj=0;this.qj=!0;this.T=xa.T;this.nf=[];this.Wa=y.gf;this.Fg=!0;this.bd=!1;this.hl=this.Qj=this.Uj=this.Sj=this.qh=
this.vf=this.bc=this.di=this.ah=this.$g=this.Vd=null;this.xi=new rb;this.xi.De(Date.now().toString());this.D=!1;this.Yd=8;this.yi=2;this.Wj=0;this.le=-1;this.Vc=this.Qc=this.sd=this.qd=null;this.Xd=[];this.Ab=this.jd=null;this.th=this.rd=this.Ic=0;this.wf=!1;this.Gc=this.Tg=this.fe=this.Ge=this.Ke=this.ae=this.Ig=this.gg=null;this.yc=this.Sb=0;this.lf=this.Jh=null;this.vg=this.nd=-1;this.Wf=this.Vg=this.Me=null;this.Gd=!0;this.ud=this.Nb=this.eb=this.Zb=this.yb=!1;this.Ug=0;this.Vi=[];this.Wi=[];
this.Xi=[];this.Yi=[];this.Ri=[];this.Si=[];this.Ti=[];this.Ui=[];this.cj=[];this.Ai=[];this.dj=[];this.ej=[];this.Zi=[];this.$i=[];this.aj=[];this.bj=[];this.Xe=[];this.Se=this.wi="";this.nc=255;this.tc=null;this.kc=this.T.h(ra.ab,65536,"Life.bitCounts16",!1);this.xn();this.eg=this.Zf=this.ad=null;this.Aa=this.Ja=this.Qd=this.Og=this.Mh=this.Rg=this.Xg=0;this.cb=1;this.Z=this.$=this.O=-1;this.oe=this.ne=0;this.vh=this.xg=!1;this.yg=!0;this.tf=G.AB;this.cc=[];this.ec=[];this.cc[0]=this.T.h(ra.Ad,
y.Pm,"Life.boundaryX0",!1);this.ec[0]=this.T.h(ra.Ad,y.Pm,"Life.boundaryY0",!1);this.$d=0;this.td=4294967295;this.wg="rgb(255,255,255)";this.We=4286611584;this.Jj="rgb(0,255,0)";this.tj="rgb(255,0,0)";this.Lj="rgb(255,128,0)";this.s=this.ja=this.la=!1;this.Zd=-1;this.aa=!1;this.uh=this.W.ha;this.ia=!1;this.sh=this.W.pa;this.Ed=this.Oh=this.Fa=!1;this.i=-1;this.G=this.v=this.P=!1;this.rh=this.u=0;this.Nc=this.Ea=!1;this.fd=new gb(this.T,this.kc);this.Lf=y.$q;this.jb=this.Za=!1;this.Ci=this.Bb=this.ya=
this.B=null;this.Hh=new Va(0,0,0,0);this.Ve=new Va(0,0,0,0);this.hj=new Va(0,0,0,0);this.hb=null;this.$k=new Va(0,0,0,0);this.bl=new Va(0,0,0,0);this.width=d;this.height=f;this.F=this.width>>4;this.K=this.height>>4;this.Vj=null;this.displayWidth=b;this.displayHeight=c;this.ga=this.na=this.A=this.Tj=0;this.xa=y.xa;this.Re=y.Re;this.pe=y.pe;this.ki=y.ki;this.Ng=0;this.za=1;this.qb=-1;this.ce=1;this.af=30;this.xb=this.angle=this.counter=this.Ue=this.ac=0;this.zoom=6;this.ka=this.ma=0;this.pc=.1;this.Da=
0;this.ea=1;this.Lb=this.Kb=0;this.Ca=.1;this.jc=Qa.jc;this.pa=[];this.Td=this.Nf=this.Be=this.de=this.xf=this.ie=this.Fd=this.ld=this.mf=this.sg=this.ef=this.Ce=this.Xf=this.Pe=this.me=this.vd=null;this.Tb=-1;this.Sg=this.Tc=this.Gi=this.eh=this.Rc=this.jo=null;this.oa=a;this.Ga=this.Ia=0;this.ta=this.Ta=this.va=this.Rd=this.grid=this.H=this.j=null;this.Hd=this.T.h(ra.Ya,(this.width-1>>4)+1,"Life.blankRow16",V.S);this.ca=this.T.h(ra.Ya,this.F>>4,"Life.blankTileRow",V.S);this.ha=this.T.h(ra.ab,this.width,
"Life.blankColourRow",V.S);this.yd=this.Oe=this.he=this.gd=this.m=this.wa=this.Bc=this.Wg=this.Hb=this.Ua=this.Xa=this.Ae=this.Ba=this.Pa=this.Kf=this.R=this.h=null;this.sa=this.T.h(ra.ab,256,"Life.redChannel",!1);this.ra=this.T.h(ra.ab,256,"Life.greenChannel",!1);this.qa=this.T.h(ra.ab,256,"Life.blueChannel",!1);this.$a=this.T.h(ra.mc,256,"Life.pixelColours",V.S);this.sj=[0,1,2,3,4,5,7,6,8,9,11,10,13,12,14,15,16,17,18,20,19];this.Nh=this.T.h(ra.ab,this.sj.length,"Life.nextStateExtended",V.S);this.Nh.set(this.sj);
this.ge=this.ua=null;this.cd=0;this.Gb=!1;this.Mf=0;this.nb=-1;this.Je=this.Cb=this.Jf=this.Ie=this.Lh=this.Jg=this.Bf=this.hg=null;this.bf=this.T.h(ra.Ya,2*(this.Re+1)<<8,"Life.colourLookup16",V.S);this.ck=this.T.h(ra.Ya,2*(this.Re+1)<<9,"Life.colourLookup17",!1);this.yh=this.T.h(ra.ab,2048,"Life.colourReset",!1);this.Ob=G.kv;this.md=-1;this.Dc=G.jv;this.xd=-1;this.lb=10;this.Ec=!0;this.ao=10;this.uf=this.cf=this.X=this.U=null;this.fa=8192;this.rn=[0,0,48];this.qn=[255,255,255];this.pn=[255,255,
255];this.sn=[0,255,0];this.tn=[255,0,0];this.Md=[0,0,48];this.Ld=[255,255,255];this.Kd=[255,255,255];this.Nd=[0,255,0];this.Od=[255,0,0];this.da=this.T.h(ra.mc,64,"Life.sharedBuffer",V.S);this.ba=new Da(this.T,this,e);this.coords=this.T.h(ra.Dd,1,"Life.coords",!1);this.oc=this.T.h(ra.mc,1,"Life.cellColours",!1);this.Yb=0}function Ua(a,b){for(var c=0,d=0,f=a.length,e,g=!1,k=!1,l=!1,m=0,n=new Uint32Array(f),q=new Uint16Array(f),p=new Uint32Array(f),r=0,u=0;c<f;){e=a.charCodeAt(c);switch(e){case 32:case 13:case 9:case 123:case 125:!k&&
g&&(n[m]=d,q[m]=c-d,p[m]=(r<<1)+1&u,m+=1,g=!1);break;case 44:b?!k&&g&&(n[m]=d,q[m]=c-d,p[m]=(r<<1)+1&u,m+=1,g=!1):g||(g=!0,u=0,k=!1,d=c);break;case 10:g&&(n[m]=d,q[m]=c-d,p[m]=(r<<1)+1&u,m+=1,g=!1);k=!1;b&&(0<m&&"\n"!==a[n[m-1]]&&(n[m]=c,q[m]=1,p[m]=0,m+=1),l=!1);break;case 58:case 61:b?k||(g&&(n[m]=d,q[m]=c-d,p[m]=(r<<1)+1&u,m+=1,g=!1),n[m]=c,q[m]=1,p[m]=0,m+=1):g||(g=!0,u=0,k=!1,d=c);break;case 34:b?k||(l=!l,g||(g=!0,d=c)):g||(g=!0,u=0,d=c);break;case 35:b?l||k||(g&&(n[m]=d,q[m]=c-d,p[m]=(r<<1)+
1&u,m+=1,g=!1),k=!0):g||(g=!0,u=0,k=!1,d=c);break;default:k||(g?48<=e&&57>=e?(r=10*r+e-48,1073741824<=r&&(u=0)):u=0:(g=!0,d=c,48<=e&&57>=e?(u=-1,r=e-48):u=0))}c+=1}g&&(n[m]=d,q[m]=c-d,p[m]=(r<<1)+1&u,m+=1);this.s=n.slice(0,m);this.B=q.slice(0,m);this.F=p.slice(0,m);this.current=0;this.source=a}function jb(a){this.W=a;this.j=this.gh=this.Ao=!1;this.h=Xa.ax;this.i=Xa.Uq;this.Ub=this.uc=-1;this.xb=this.angle=this.y=this.x=0;this.depth=this.za=this.zoom=1;this.Tf=this.vc=0;this.Pc=G.dd;this.step=1;this.Bd=
this.Fc=0;this.xe="";this.m=this.Is=this.vl=this.Ls=this.vk=this.uk=this.tk=this.Ns=this.SD=this.er=this.ni=this.ui=this.Fe=this.Ef=this.Es=this.ye=this.Kh=this.Xh=this.se=this.mh=this.fh=this.rf=this.If=this.grid=this.kp=this.Rl=this.ph=this.oh=this.nh=this.Te=!1}function Lb(a,b,c,d,f,e,g,k,l,m,n,q,p,r,u,t,v,A){this.F=A;this.coords=a;this.u=b;this.zoom=c;this.Fb=d;this.Qb=f;this.s=e;this.alpha=g;this.size=k;this.h=l;this.m=m;this.i=n;this.angle=q;this.v=p;this.D=r;this.j=u;this.A=t;this.B=v;-1E3===
this.Qb&&-1E3===this.Fb&&(this.Fb=this.zoom/4,this.Qb=4*this.zoom)}function Mb(a,b,c,d,f,e,g,k,l,m,n,q,p,r,u,t,v,A,w,B,C){this.O=C;this.D=a;this.G=b;this.F=c;this.H=d;this.zoom=f;this.Fb=e;this.Qb=g;this.u=k;this.alpha=l;this.size=m;this.K=n;this.h=q;this.m=p;this.i=r;this.angle=u;this.s=t;this.B=v;this.j=A;this.v=w;this.A=B;-1E3===this.Qb&&-1E3===this.Fb&&(this.Fb=this.zoom/4,this.Qb=4*this.zoom)}function Nb(a,b,c,d,f,e,g,k,l,m,n,q,p,r,u,t,v,A,w,B){this.F=w;this.message="";this.j=this.s=this.h=this.i=
this.u=this.H=this.A=-1;this.x=a;this.y=b;this.zoom=c;this.Fb=d;this.Qb=f;this.B=e;this.alpha=g;this.size=k;this.X=l;this.m=m;this.G=n;this.v=q;this.angle=p;this.K=r;this.R=u;this.D=t;this.O=v;this.P=A;-1E3===this.Qb&&-1E3===this.Fb&&(this.Fb=this.zoom/4,this.Qb=4*this.zoom);this.U=B}function Ga(){this.h=[];this.i=[];this.m=[];this.s=[];this.u=[];this.current=new jb(this);this.ba=new jb(this);this.G=new jb(this);this.K=!1;this.v=0;this.H=this.P=!1}function bb(a,b){var c=this,d=a.getElementsByTagName("div")[0];
this.v=!1;this.j=-1;this.s=1;this.h=a;this.view=b;this.C=b.C;this.top=this.left=0;""!==a.style.left&&(this.left=parseInt(a.style.left,10));""!==a.style.top&&(this.top=parseInt(a.style.top,10));this.i=this.m=!1;this.B=this.A=-1;this.G=0;this.F=!1;Ma(d,"mousedown",function(f){c.X(c,f)},!1);Ma(document,"mousemove",function(f){c.Z(c,f)},!1);Ma(document,"mouseup",function(f){c.$(c,f)},!1);Ma(d,"touchstart",function(f){c.D(c,f)},!1);Ma(d,"touchmove",function(f){c.D(c,f)},!1);Ma(d,"touchend",function(f){c.D(c,
f)},!1);Ma(window,"resize",function(){c.u(c)},!1)}function rb(){this.key=new Uint8Array(256);this.i=this.h=0}function wb(a,b){this.ps=a;this.x=b.h(ra.Dd,0,"Stars.x",!1);this.y=b.h(ra.Dd,0,"Stars.y",!1);this.z=b.h(ra.Dd,0,"Stars.z",!1);this.h=new T(255,255,255);this.i=new rb;this.i.De(Date.now().toString());this.sin=b.h(ra.Dd,0,"Stars.sin",!1);this.cos=b.h(ra.Dd,0,"Stars.cos",!1);this.j=Math.PI/180;this.u=180/Math.PI;this.T=b;this.m=!1}function xb(a){this.buffer=a;this.i=0;this.m=8*this.buffer.length}
function Ob(a,b,c,d,f,e,g){this.name=a;this.pattern=b;this.uK=c;this.width=d;this.height=f;this.map=g}function fa(a){var b;this.eh=!0;this.eq=[];this.JA=[];this.Ri=!0;this.Jd=[];this.i=!0;this.vz=0;this.fl="";this.Pf=V.S?G.nL:G.Pf;this.on="";this.$k=this.Yk=this.$e=null;this.YC="";this.lf=this.Ce=!1;this.rm=this.lm=this.nm=this.jl=this.Lt=this.Jt=this.Kt=this.It=0;this.D=Qa.zu?G.WG:G.gH;this.G=Qa.zu?G.HJ:G.HG;this.Gt=this.xo=this.Hk=this.Cn=this.ky=this.Jg=!1;this.uh=this.th=this.vh=!0;this.Mh=0;
this.GA=this.EA=!0;this.ic=V.ic;this.Wb=G.Uh;this.Zc=G.kk;this.CC="";this.ei=this.By=this.nn=this.yf=this.Wa=-1;this.jf=[];this.ms=this.dh=this.Xn=this.fv=this.Iq=this.Do=!1;this.W=new za(V.T);this.Bb=!1;this.Ky=this.qn=this.sn=this.pn=this.lj=this.Ih=this.Lh=this.Lk=this.ij=this.rn=this.Ik=this.pj=this.mj=this.Jk=this.Eb=this.jj=this.Zy="";this.yb=!1;this.Ul=this.Kl=this.Ai=this.Ml=this.Sl=this.Ep=this.Ap=this.yp=this.ip=this.bj=this.fw=this.vq=this.cj=this.Sw=this.wv=this.Wv=this.Ev=this.zv=this.Gq=
this.zq=this.Ll=this.Md=null;this.Gc=1;this.zm=this.Em=G.ys;this.Jj=50;this.Pn=this.Nn=this.Cm=!1;this.wg=this.kf=this.ef=-1;this.cd=[];this.Td=[];this.zt=!1;this.tq=this.ov=this.mm=this.yv=this.gk=null;this.dg=18;this.cg="18px "+G.av;this.Pe="18px "+G.Ws;this.Ug=window.devicePixelRatio?window.devicePixelRatio:1;this.Jf=!0;this.Eo=this.Sb=this.xd=this.qf=this.ne=this.nf=this.tf=this.Qe=this.uf=this.oe=!1;this.hb=[];for(b=0;b<=G.Bj;b+=1)this.hb[b]=null;this.ec=this.fc=this.Hb=0;this.yc=G.ss;this.Qc=
this.wn=!1;this.ea=null;this.qa=!1;this.ga=new Va(0,0,0,0);this.Xb=new Va(0,0,0,0);this.O=new rb;this.O.De(Date.now().toString());this.Lb=50;this.oA=this.mA=0;this.nc=this.R=!1;this.og=2;this.mb=[];this.Nh=this.pa=0;this.ah=[];this.Ta=0;this.Yj=[];this.Wj=0;this.Be=[];this.Be[G.lr]=[1,0,0,1];this.Be[G.Os]=[-1,0,0,-1];this.Be[G.Ps]=[-1,0,0,1];this.Be[G.Qs]=[1,0,0,-1];this.Be[G.Ts]=[0,1,1,0];this.Be[G.Us]=[0,-1,-1,0];this.Be[G.Ss]=[0,-1,1,0];this.Be[G.Rs]=[0,1,-1,0];this.he=[];this.Oj=[];this.Vd=[];
this.$c=[];this.Za=G.Vo;this.af=0;this.bl=-1;this.Aj=[];this.Ct=this.Bt=this.ee=0;this.Gk=!1;this.de=-1;this.mn=!1;this.Xa=this.sg=this.mg=this.qg=this.ng=0;this.m=null;this.bp=0;this.hx=!0;this.Zb=0;this.Df=1;this.Eg=this.Sx=this.fe=this.Vh=!1;this.cc=7;this.di=!0;this.Ic=this.Hc=0;this.He=this.pD=this.ua=this.rj=63;this.qh=this.fg=this.zk=this.Ck=this.Bk=this.Ue=this.Ak=this.yk=this.Dk=this.$l=this.Gh=this.Fk=this.Ek=this.Bz=!1;this.H=this.K=this.la=0;this.Fp=!1;this.X=this.Z=-999999;this.bh=-1;
this.Lj=Date.now().toString();this.Mj=this.Gm=this.Km=this.Nt=!1;this.Kd=G.Qg;this.me=!0;this.Ga=!1;this.td=!0;this.jb=G.BB;this.bc=!1;this.element=a;this.La=!1;this.yi=this.Pg=this.Rg=this.xi=this.co=this.gn=this.ao=this.Yn=0;this.Ob=this.zi=this.sb=this.wi=!1;this.Yc=!0;this.Id=this.Ne=!1;this.Ja=0;this.Nk=!1;this.bd=this.zc=0;this.na=!1;this.V="";this.fa=this.ca=0;this.gq=this.fq=this.Si=this.yl=this.Ui=this.Ti=this.$f=this.eu=this.xt=this.Gg=this.Fg=this.gi=this.Ig=this.Hg=this.Jc=-1;this.tn=
this.Bo=!1;this.dm=this.Nc=-1;this.Zg=!1;this.Np=0;this.Mp=!0;this.un=this.ka=this.be=!1;this.Wg=0;this.vd=this.rd=!1;this.wf=G.CB;this.Wc=this.Xc=null;this.li=G.li;this.Ke=null;this.mi=G.mi;this.Hd=[96,96,96];this.Mf=[128,128,128];this.Xf=[0,255,0];this.Nf=[255,0,0];this.Yf=[255,128,0];this.Yy=null;this.UD="#FFFFFF";this.WD="#536482";this.wu="#C75050";this.xu="#FFFFFF";this.yd="";this.Qd=!0;this.Mc=this.ob=this.Ab=!1;this.Wd=null;this.zd=this.dn=!1;this.u=1;this.Gj=0;this.fb=this.ly=!1;this.s=new Ga;
this.We="";this.rz=-1;this.oc=this.Da=!1;this.P=1;this.Dz=this.Oh=0;this.Lc=G.UI;this.ud=this.hc=this.rb=this.Va=this.wb=-1;this.vg=this.cf="";this.Dn=this.Ej=this.A=this.v=0;this.Cj=null;this.bf=this.$a=this.$=this.Pk="";this.Je=this.ya=!1;this.wc=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.qo=this.no=-1;this.Up=G.jC;this.Sp=G.ur;this.Vp=G.tD;this.Mn="";this.sH=0;this.Cf=[];this.qr=!1;this.aa=null;this.lo=[];this.Yb=[];
this.B=this.ha=0;this.Ci=!1;this.sj=100;this.Fa=10;this.j=[64,200,290,530,700];this.pc=!1;this.F=[];this.ap=[];this.fp=[];this.uc=-1;this.Nb=!1;this.Ub=-1;this.Xo=this.Ie=this.tc=this.eb=this.Ua=this.Vg=this.xn=this.Pa=this.fd=this.nd=this.U=this.ub=this.Ba=!1;this.g=null;this.elapsedTime=0;this.displayWidth=640;this.displayHeight=512;this.Ze=640;this.Ye=512;this.tm=!1;this.lz=640;this.Fj=!0;this.Mg=this.$t=this.sd=this.Pb=this.Ij=!1;this.Bg=this.Og=this.wd=this.ja=this.eg=this.pl=this.Yh=this.Xd=
this.Xj=null;this.hi=[];this.RA=0;this.ta=this.cb=this.Vj=this.Ei=this.hl=this.ad=this.gg=this.Zk=this.Qk=this.Wk=this.Uk=this.Sk=this.Tj=this.Rj=this.Um=this.Ym=this.Al=this.zl=this.uj=this.ol=this.sl=this.Th=this.ge=this.Wh=this.Ac=this.Od=this.ra=this.lc=this.Rf=this.Le=this.Ge=this.gd=this.Tc=this.Rd=this.df=this.mf=this.Cb=this.Zf=this.$j=this.jd=this.bg=this.Gn=this.Kk=this.Vn=this.Zn=this.ak=this.Vi=this.cn=this.Mo=this.Tn=this.Co=this.zo=this.Ok=this.vm=this.Gi=this.$i=this.qd=this.xl=this.Kn=
this.dl=this.Ji=this.Gd=this.Qn=this.ll=this.Un=this.Pp=this.Rp=this.Qp=this.Bn=this.Wn=this.yt=this.Uo=this.Tt=this.Vt=this.aj=this.Nm=this.Jm=this.xz=this.$m=this.zz=this.Qt=this.Zl=this.fk=this.km=this.Pt=this.Sj=this.fn=this.rh=this.hj=this.dj=this.ej=this.yh=this.Nd=this.wp=this.ac=this.uq=this.Oe=this.Ii=this.An=this.ln=this.Ld=this.xg=this.$d=this.Fi=this.Hi=this.Mk=this.um=this.Ve=this.hg=this.Kp=this.kj=this.vf=this.ag=this.en=this.Qi=this.Tk=this.Xg=this.Kf=this.Lf=this.el=this.gl=this.an=
this.wk=this.Xe=this.kd=this.ae=this.ld=this.Yi=this.wh=this.xh=this.Xi=this.Zi=this.Jl=this.Bl=this.Hl=this.Cl=this.ro=this.am=this.bm=this.Yo=this.md=this.cq=this.Ng=this.Wf=this.Oc=this.Yg=this.Bh=this.Dh=this.Ch=this.Ah=this.Ip=this.kn=this.jn=this.Hp=this.gx=this.zh=this.Vl=this.Fh=this.Yl=this.Eh=this.Xl=this.qj=this.tj=this.Bc=this.ym=this.St=this.Oi=this.Qj=this.nb=this.qb=this.Ia=this.qc=this.kb=this.wa=this.No=this.KA=this.NA=this.IA=this.Gz=null;this.Kc=this.Hh=-1;this.Pj=0;this.oa=this.va=
this.ie=null;this.da=G.dd;this.h=this.C=null;this.Kb=this.Aa=this.Pi=this.Mi=0;this.yo=this.zA=1;this.so=G.dd;this.Ni=this.wo=1;this.Xp=.1;this.Me=y.gf;this.em=-1;this.Mb=this.Ca=this.iA=this.Wt=0;this.Uj=1;this.ze=this.ma=this.Zp=this.Yp=this.$p=!1;this.$b=G.EB;this.Vu=this.bv=this.Tu=this.Zj=0;this.So=this.Ed=!1;this.le=this.tv=0;this.lb=this.Cc=!1;this.xk=-1}async function Pb(a,b,c){try{const d=await navigator.clipboard.readText();a.xI(d,b,c)}catch(d){a.nI(b,c)}}async function Qb(){return V.VA}
function yb(a,b,c,d,f){var e,g=b.parentNode,k=null;for(e=0;e<V.Sc.length&&!k;)V.Sc[e][0].tabIndex===b.tabIndex?k=V.Sc[e][1]:e+=1;k||(k=new fa(f),k.zd=d,Ja.Lq&&!d&&(k.Lc=c&-8,k.Lc<G.pd&&(k.Lc=G.pd)),b.tabIndex=V.Sc.length+1,"none"===g.style.display&&(V.Qf=new bb(g,k)),k.JF(b),V.Sc[V.Sc.length]=[b,k,V.Qf]);V.S&&(k.vz=k.g.T.Nj);d||k.ii(a,!1)}function Rb(){var a=document.getElementsByTagName("meta"),b,c;for(b=0;b<a.length;b+=1){var d=a[b];if(d.name===Ja.tagName&&(Ja.pv=!1,Ja.Lq=!1,d=d.content,(c=d.match(/\S+/g))&&
2<=c.length&&7>=c.length))for(Ja.Kr=c[0],Ja.Wo=c[1],d=2;d<c.length;d+=1)switch(c[d]){case Ja.iI:Ja.pv=!0;break;case Ja.LI:Ja.Lq=!0;break;case Ja.gJ:Ja.zb=!0;break;case Ja.DH:Ja.fullScreen=!0;break;default:if("/"===c[d][0])Ja.zy=c[d];else if("."===c[d][0]||"?"===c[d][0])Ja.GD=c[d];else{var f=c[d];!isNaN(parseFloat(f))&&isFinite(Number(f))&&(Ja.Mm=parseFloat(f)|0)}}}}function Db(a){a=a.parentNode;for(var b=!1;!b;)"div"!==a.localName||a.className!==Ja.Kr&&a.className!==Ja.Lr||(b=!0),b||(a=a.parentNode);
return a}function zb(){var a=V.Ks(),b=a[1],c=a[2];a[0].parentNode.style.display="none";c.m=!1;b.Pb&&(b.lc.current=b.Ud(G.ve,!0,b))}function Eb(a){zb();a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function tb(a){for(a=a.innerHTML;-1!==a.indexOf("&amp;")||-1!==a.indexOf("&lt;")||-1!==a.indexOf("&gt;")||-1!==a.indexOf("&nbsp;");)a=a.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&amp;/gi,"&").replace(/&nbsp;/gi," ");a=a.replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi,
" ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,"").replace(/<font><\/font>/gi,"").trim();a=a.replace(/\n[ \t]+/g,"\n");""===a&&(a="!");return a}function sb(a){var b=Db(a);a=b.getElementsByTagName(Ja.Wo)[0];if(b=b.getElementsByTagName("canvas")[0])if(b=V.yH(b.tabIndex))a.innerHTML=a.value,a=tb(a),b.Eb="",b.g.Jh=null,b.g.T.reset(b.vz),b.Ys(b),b.C.notification.clear(!0,!0),b.C.notification.clear(!1,!0),b.ii(a,!1)}function Fb(a){var b=28,c=18,d=V.Ks()[2];a.tq.style.transform="scale("+
a.Gc+","+a.Gc+")";a.tq.style.transformOrigin="top left";a.resize();d.m=!0;d.u(d);1!==a.h.B&&(b=b*a.h.B|0,c=c*a.h.B|0,a.gk.style.height=b+"px",a.gk.style.fontSize=c+"px",a.ov.style.height=b+"px",a.ov.style.fontSize=c+"px",a.mm.style.height=b+"px",a.mm.style.fontSize=c+"px",a.yv.style.height=b+"px",a.yv.style.lineHeight=b+"px");a.oa.canvas.focus();a.oa.canvas.blur();return a.ms=!1}function ub(a){var b=Db(a);b=b.getElementsByTagName(Ja.Wo)[0];a=tb(b);var c=V.Ks(),d;if(c)(d=c[2])&&d.reset(),d=c[1],d.element=
b,d.Ys(d);else{d=document.createElement("canvas");d.width=G.pd;d.height=G.Dl+80;d.style.display="block";d.contentEditable="false";var f=document.createElement("a");f.setAttribute("href","#");f.innerHTML="&nbsp;X&nbsp;";f.style.textDecoration="none";f.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";f.style.cssFloat="right";f.style.height="28px";f.style.fontSize="18px";f.className="notranslate";var e=document.createElement("a");e.innerHTML="&nbsp;X&nbsp;";e.style.textDecoration=
"none";e.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";e.style.visibility="hidden";e.style.cssFloat="left";e.style.height="28px";e.style.fontSize="18px";var g=document.createElement("div");g.style.textAlign="center";g.style.fontFamily="Arial, Verdana, Helvetica, sans-serif";g.style.fontSize="18px";g.style.height="28px";var k=document.createTextNode(G.po);g.style.cursor="default";g.appendChild(k);Ma(f,"click",Eb,!1);Ma(f,"touchend",Eb,!1);var l=document.createElement("div");l.style.display=
"none";l.style.position="fixed";l.style.border="1px solid rgb(128,128,128)";l.style.zIndex="101";l.style.left="2048px";l.style.top="0px";l.style.textAlign="right";l.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";l.style.margin="1px";var m=document.createElement("div");m.className=Ja.Lr;m.style.backgroundColor="#FFFFFF";m.style.height="28px";m.style.lineHeight="28px";m.style.margin="0px";m.style.border="0px";m.appendChild(e);m.appendChild(f);m.appendChild(g);l.appendChild(m);
l.appendChild(d);document.body.appendChild(l);yb(a,d,G.pd,!0,b);V.My=V.Sc.length-1;c=V.Ks();d=c[1];d.Yy=k;d.gk=f;d.ov=e;d.mm=g;d.yv=m;d.tq=l}b=c[0].parentNode;""!==b.style.display&&(b.style.display="");d.Eb="";d.g.Jh=null;d.displayWidth=G.pd;d.displayHeight=G.Dl+80;d.resize();d.C.notification.clear(!0,!0);d.C.notification.clear(!1,!0);d.ms=!0;d.ii(a,!0);d.ms||Fb(d);a=d.wc[G.Nu];-1===a?d.mm.style.color=d.WD:d.mm.style.color="#"+("000000"+a.toString(16)).slice(-6);a=d.wc[G.Mu];-1===a?d.mm.style.backgroundColor=
d.UD:d.mm.style.backgroundColor="#"+("000000"+a.toString(16)).slice(-6);a=d.wc[G.Hu];-1===a?d.gk.style.color=d.xu:(d.gk.style.color="#"+("000000"+a.toString(16)).slice(-6),d.kj.hd=d.gk.style.color);a=d.wc[G.Gu];-1===a?d.gk.style.backgroundColor=d.wu:(d.gk.style.backgroundColor="#"+("000000"+a.toString(16)).slice(-6),d.kj.dc=d.gk.style.backgroundColor)}function Sb(a,b,c){a=a.getElementsByTagName("a")[0];var d=document.createElement("a"),f=null;d.setAttribute("href","#");d.innerHTML="Show Pattern Error";
Ma(d,"click",function(e){e.stopPropagation&&e.stopPropagation();e.preventDefault();alert(c)},!1);a?(f=document.createTextNode(" / "),a.parentNode.appendChild(f),a.parentNode.appendChild(d)):b.parentNode.appendChild(d)}function Gb(a,b){var c=b[0],d=b[1],f=b[2];b=b[3];if(a&&a.P&&!a.Ba)if(Ja.zb){var e=V.Ee,g=V.Ee.length,k=a.name,l=a.h+a.F,m=a.width,n=a.height,q=a.Hb;a=a.ba;var p,r=Array.matrix(ra.ab,a.length,a[0].length,0,V.T,"OverviewMap",!1);for(p=0;p<a.o.length;p+=1)r.o[p]=a.o[p];e[g]=new Ob(k,c,
l,m,n,q,r);1===V.Ee.length?(f.style.display="none",b&&(b.contentEditable="false",yb(c,b,f.offsetWidth,!1,f))):d.style.display="none"}else null!==d&&(d=d.getElementsByTagName("a")[0],b=document.createElement("a"),b.setAttribute("href","#"),b.innerHTML="Show in Viewer",Ma(b,"click",Tb,!1),d?(e=document.createTextNode(" / "),d.parentNode.appendChild(e),d.parentNode.appendChild(b)):f.parentNode.appendChild(b)),-1<Ja.Mm&&-1===c.indexOf("@RULE")&&f.clientHeight>Ja.Mm+26&&(f.style.height=Ja.Mm+26+"px")}
function Hb(a,b){var c=b[0],d=b[1];b=b[2];a&&null!==d&&("#"!==c[0]||-1===c.indexOf("import "))&&Sb(d,b,a.h+" - "+a.ya+"\n\n"+a.W.V)}function Ib(a,b,c,d,f,e){b=c.create("",a,b,Gb,Hb,[a,d,f,e],!0,null);!c.ra&&b&&(b.va?(b.ya=c.V,Hb(b,[a,d,f,e])):Gb(b,[a,d,f,e]))}function Tb(a){ub(this);a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function Ub(a){var b=null;b=a.dataTransfer;var c=null,d=null;b&&0<b.files.length&&(b=b.files[0],c=new FileReader,c.onload=function(){var f=c.result,e=
document.getElementById("rle");e&&(e.innerHTML=f,(d=document.getElementById("viewbutton"))&&sb(d))},c.readAsText(b));a.preventDefault();a.stopPropagation()}function Vb(){var a=document.getElementsByTagName("div"),b=0,c=null,d=c=null,f=null;f=null;d="";var e=null,g=b=null,k=null,l=null;b=b=null;var m=0,n=0,q=0,p=performance.now(),r=V.Wr(G.Dy),u=xa.T,t=new za(u);console.time("page scan");Rb();eb.De();for(b=0;b<a.length;b+=1)(e=a[b],e.className===Ja.Kr)?(c=e.getElementsByTagName(Ja.Wo)[0],f=e.getElementsByTagName("canvas")[0],
(d=c.getElementsByTagName(Ja.Wo)[0])&&(c=d),Qa.Vs&&c&&(console.time("read embedded"),d=tb(c),Ja.zb?Ib(d,u,t,e,c,f):f&&f.getContext?(-1<Ja.Mm&&c.clientHeight>Ja.Mm&&(c.style.height=Ja.Mm+"px"),f.contentEditable="false",yb(d,f,c.offsetWidth,!1,c)):Ja.pv&&f&&(f.style.display="none"),console.timeEnd("read embedded"),m+=1)):Qa.Vs&&e.className===Ja.Lr&&e.parentNode.className!==Ja.Kr&&(c=e.getElementsByTagName(Ja.Wo)[0])&&(console.time("read popup"),r&&-1!==c.innerHTML.indexOf(" "+D.Yr+" 14")?q+=1:(d=tb(c),
f=null,Ib(d,u,t,e,c,null)),console.timeEnd("read popup"),n+=1);c=document.getElementsByTagName("a");for(b=0;b<c.length;b+=1)f=c[b],""!==f.accessKey&&-1!==G.GG.indexOf(f.accessKey)&&(f.accessKey="");if(g=document.getElementById("viewbutton"))if(Ma(g,"click",function(){sb(g)},!1),b=g.style,b.fontSize="24px",b.width="100px",b.height="66px",g.parentElement&&(b=g.parentElement.style,b.verticalAlign="middle",b.padding="8px"),b=document.getElementById("ViewerCanvas"))Ma(b,"drop",function(v){Ub(v)},!1),Ma(b,
"dragover",function(v){v.preventDefault()},!1);(k=document.getElementById("viewerview"))&&Ma(k,"click",function(){sb(k)},!1);(l=document.getElementById("viewerpopup"))&&Ma(l,"click",function(){ub(l)},!1);if(b=document.getElementById("lvbuild"))b.innerHTML=String(G.Xs);console.timeEnd("page scan");console.log(m+" embedded and "+n+" popup ("+q+" unsafe)");Ja.zb&&(V.Lm=!0,$a.vu());console.groupEnd();window.location.hash&&(console.log(window.location.hash),(a=document.getElementById(window.location.hash.substring(1)))&&
a.scrollIntoView());V.dD=performance.now()-p}var Qa={Vs:!1,gu:!1,hu:!1,jc:!1,copyWithin:!1,zu:!1,jo:null,Rc:null};window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.GL||performance.HL||performance.KL||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||
window.msRequestAnimationFrame);window.Uint8Array?Qa.Vs=!0:(Qa.Vs=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Int32Array||(window.Int32Array=Array);window.Int16Array||(window.Int16Array=Array);window.Int8Array||(window.Int8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=Array);window.Float32Array||(window.Float32Array=Array);window.Float64Array||
(window.Float64Array=Array);window.Uint32Array.prototype.fill?Qa.gu=!0:(Qa.gu=!1,window.Uint32Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Uint16Array.prototype.fill||(window.Uint16Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Uint8Array.prototype.fill||(window.Uint8Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Uint8ClampedArray.prototype.fill||
(window.Uint8ClampedArray.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Int32Array.prototype.fill||(window.Int32Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Int16Array.prototype.fill||(window.Int16Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Int8Array.prototype.fill||(window.Int8Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);
for(b=0;b<c;b+=1)this[b]=a});window.Float32Array.prototype.fill||(window.Float32Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Float64Array.prototype.fill||(window.Float64Array.prototype.fill=function(a,b,c){void 0===c&&(c=this.length);for(b=0;b<c;b+=1)this[b]=a});window.Int32Array.prototype.slice?Qa.hu=!0:(Qa.hu=!1,window.Int32Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Int32Array(c);for(b=0;b<c;b+=1)d[b]=
this[a+b];return d});window.Int16Array.prototype.slice||(window.Int16Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Int16Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Int8Array.prototype.slice||(window.Int8Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Int8Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Uint32Array.prototype.slice||(window.Uint32Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);
var c=b-a;var d=new Uint32Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Uint16Array.prototype.slice||(window.Uint16Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Uint16Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Uint8Array.prototype.slice||(window.Uint8Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Uint8Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Uint8ClampedArray.prototype.slice||
(window.Uint8ClampedArray.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Uint8ClampedArray(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Float32Array.prototype.slice||(window.Float32Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Float32Array(c);for(b=0;b<c;b+=1)d[b]=this[a+b];return d});window.Float64Array.prototype.slice||(window.Float64Array.prototype.slice=function(a,b){void 0===b&&(b=this.length);var c=b-a;var d=new Float64Array(c);
for(b=0;b<c;b+=1)d[b]=this[a+b];return d});Qa.Rc=new Uint32Array(1);Qa.Rc[0]=4660;Qa.jo=new Uint8Array(Qa.Rc.buffer);Qa.jc=52===Qa.jo[0]?!0:!1;Qa.Rc.copyWithin?Qa.copyWithin=!0:(window.Uint32Array.prototype.copyWithin=function(a,b,c){var d=!1;void 0===c&&(c=this.length);var f=c-b;if(b!==a)if((a>=b&&a<=c||a+f>=b&&a+f<=c)&&a>b&&(d=!0),d)for(c=f-1;0<=c;--c)this[a+c]=this[b+c];else for(c=0;c<f;c+=1)this[a+c]=this[b+c];return this},Qa.copyWithin=!1);var Ab=navigator.userAgent;-1!==Ab.indexOf("Safari/")&&
-1===Ab.indexOf("Chrome/")&&-1===Ab.indexOf("Chromium/")&&(Qa.zu=!0);var ra={ab:8,Ut:40,Ya:9,mc:10,sr:0,Tp:1,Ad:2,Dd:18,Vz:19,Pl:function(a){return 1<<(a&7)},$D:function(a){var b=(0!==(a&16)?"Float":0!==(a&8)?"Uint":"Int")+8*(1<<(a&7));0!==(a&32)&&(b+="Cl");return b}};fb.prototype.reset=function(a){this.Nj=a;this.i=[];this.m=this.j=this.u=this.s=0};fb.prototype.K=function(){this.v=xa.memory.buffer.byteLength};fb.prototype.G=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],b=ra.$D(a.dataType)+
"\t"+a.elements+"\t"+a.name+"\t"+a.To);return b};fb.prototype.B=function(a,b,c,d){for(var f=0,e=!1,g;f<this.i.length&&!e;)g=this.i[f],c===g.name?(e=!0,this.u+=1,this.m+=g.elements*ra.Pl(g.dataType)):f+=1;e?(this.i[f].dataType=a,this.i[f].elements=b,this.i[f].To+=1,this.i[f].size=b*ra.Pl(a),this.i[f].offset=d):(f=this.i.length,this.i[f]=new Jb(a,b,c,d));this.s+=1;this.j+=b*ra.Pl(a)};fb.prototype.F=function(a,b,c,d,f){var e=a.buffer;a=d*ra.Pl(b)+a.byteOffset;switch(b){case ra.ab:c=new Uint8Array(e,
a,c);break;case ra.Ut:c=new Uint8Array(e,a,c);break;case ra.Ya:c=new Uint16Array(e,a,c);break;case ra.mc:c=new Uint32Array(e,a,c);break;case ra.sr:c=new Int8Array(e,a,c);break;case ra.Tp:c=new Int16Array(e,a,c);break;case ra.Ad:c=new Int32Array(e,a,c);break;case ra.Dd:c=new Float32Array(e,a,c);break;case ra.Vz:c=new Float64Array(e,a,c);break;default:c=null,alert("Illegal type specified to allocator.typedView for "+f+": "+b)}return c};fb.prototype.D=function(a,b,c,d,f){var e=null,g=b*ra.Pl(a),k=this.Nj>>>
0;f&&(this.v=k=(this.v-g&-16)>>>0);try{switch(a){case ra.ab:e=d?new Uint8Array(xa.memory.buffer,k,b):new Uint8Array(b);break;case ra.Ut:e=d?new Uint8ClampedArray(xa.memory.buffer,k,b):new Uint8ClampedArray(b);break;case ra.Ya:e=d?new Uint16Array(xa.memory.buffer,k,b):new Uint16Array(b);break;case ra.mc:e=d?new Uint32Array(xa.memory.buffer,k,b):new Uint32Array(b);break;case ra.sr:e=d?new Int8Array(xa.memory.buffer,k,b):new Int8Array(b);break;case ra.Tp:e=d?new Int16Array(xa.memory.buffer,k,b):new Int16Array(b);
break;case ra.Ad:e=d?new Int32Array(xa.memory.buffer,k,b):new Int32Array(b);break;case ra.Dd:e=d?new Float32Array(xa.memory.buffer,k,b):new Float32Array(b);break;case ra.Vz:e=d?new Float64Array(xa.memory.buffer,k,b):new Float64Array(b);break;default:e=null,alert("Illegal type specified to allocator.typedMemory for "+c+": "+a)}}catch(l){alert(G.po+" is out of memory\n\nFailed to allocate "+b+" element "+ra.$D(a)+" array for "+c+"\n\n"+l)}null!==e&&d&&!f&&(0!==(g&15)&&(g=(g&4294967280)+16),this.Nj+=
g);return e};fb.prototype.h=function(a,b,c,d){var f;if(f=this.D(a,b,c,d,!1))d&&(f.fill(0),c="* "+c),this.B(a,b,c,f.byteOffset);return f};fb.prototype.A=function(a,b,c,d){var f;if(f=this.D(a,b,c,d,!0))d&&(f.fill(0),c="^ "+c),this.B(a,b,c,f.byteOffset);return f};fb.prototype.H=function(){return this.v-this.Nj};fb.prototype.FG=function(a,b,c,d){var f=null;0<b&&(f=this.D(a,b,c,!1,!1));(f||0===b)&&this.B(a,b*d,c,f.byteOffset);return f};fb.prototype.O=function(a){this.Nj=a};Array.matrix=function(a,b,c,
d,f,e,g){var k=0,l=[];l.T=f;l.dataType=a;l.o=null;g=f.h(a,b*c,e,g);if((l.o=g)&&0<c){for(;k<b;)l[k]=f.F(g,a,c,k*c,e),k+=1;0!==d&&g.fill(d)}return l};Array.lq=function(a,b){b=a.T.FG(a.dataType,a[0].length,b,a.length+1);a[a.length]=b};Array.Of=function(a,b){b.o.set(a.o)};Array.qe=function(a,b,c){var d,f=b.length,e=[],g=b.T,k=b[0].length/ra.Pl(a);for(d=0;d<f;d+=1)e[d]=g.F(b.o,a,k,d*k,c);e.o=g.F(b.o,a,b.o.length/ra.Pl(a),0,"");return e};var eb={od:[],Gy:[],De:function(){var a,b;this.od=[];this.Gy=[];var c=
this.od;var d=this.Gy;d.push("1D");c.push(["Wolfram 1D",""]);c.push(["Brownian motion","W54"]);c.push(["Fishing-net","W110"]);c.push(["Heavy triangles","W22"]);c.push(["Linear A","W90"]);c.push(["Linear B","W150"]);c.push(["Pascal's Triangle","W18"]);c.push(["Randomizer 1","W30"]);c.push(["Randomizer 2","W45"]);c.push(["Wolfram 22","W22"]);c.push(["Wolfram 30","W30"]);c.push(["Wolfram 110","W110"]);d.push("Margolus");c.push(["Margolus",""]);c.push(["BBM","M0,8,4,3,2,5,9,7,1,6,10,11,12,13,14,15"]);
c.push(["BounceGas","M0,8,4,3,2,5,9,14,1,6,10,13,12,11,7,15"]);c.push(["BounceGasII","M0,8,4,12,2,10,9,7,1,6,5,11,3,13,14,15"]);c.push(["Critters","M15,14,13,3,11,5,6,1,7,9,10,2,12,4,8,0"]);c.push(["HPP_Gas","M0,8,4,12,2,10,9,14,1,6,5,13,3,11,7,15"]);c.push(["MargSingRot","M0,2,8,3,1,5,6,7,4,9,10,11,12,13,14,15"]);c.push(["Rotations","M0,2,8,12,1,10,9,11,4,6,5,14,3,7,13,15"]);c.push(["RotationsII","M0,2,8,12,1,10,9,13,4,6,5,7,3,14,11,15"]);c.push(["RotationsIII","M0,4,1,10,8,3,9,11,2,6,12,14,5,7,13,15"]);
c.push(["RotationsIV","M0,4,1,12,8,10,6,14,2,9,5,13,3,11,7,15"]);c.push(["Sand","M0,4,8,12,4,12,12,13,8,12,12,14,12,13,14,15"]);c.push(["StringThing","M0,1,2,12,4,10,9,7,8,6,5,11,3,13,14,15"]);c.push(["StringThingII","M0,1,2,12,4,10,6,7,8,9,5,11,3,13,14,15"]);c.push(["SwapOnDiag","M0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15"]);c.push(["Tron","M15,1,2,3,4,5,6,7,8,9,10,11,12,13,14,0"]);d.push("PCA");c.push(["PCA",""]);c.push(["Model_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);c.push(["Model_2","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);
c.push(["PCA_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);c.push(["PCA_2","2PCA4,0,2,4,3,8,10,6,7,1,9,5,11,12,13,14,15"]);c.push(["PCA_3","2PCA4,0,8,1,3,2,5,6,7,4,9,10,11,12,13,14,15"]);c.push(["PCA_4","2PCA4,0,2,4,12,8,5,9,7,1,6,10,11,3,13,14,15"]);c.push(["PCA_5","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);c.push(["PCA_6","2PCA4,0,2,4,3,8,10,6,14,1,9,5,7,12,11,13,15"]);c.push(["PCA_7","2PCA4,0,2,4,12,8,5,9,14,1,6,10,7,3,11,13,15"]);c.push(["PCA_8","2PCA4,0,2,4,12,8,10,9,14,1,6,5,7,3,11,13,15"]);
c.push(["PCA_9","2PCA4,0,2,4,12,8,10,9,13,1,6,5,14,3,7,11,15"]);c.push(["PCA_10","2PCA4,0,1,2,3,4,5,6,13,8,9,10,14,12,7,11,15"]);c.push(["PCA_11","2PCA4,0,4,8,3,1,10,6,11,2,9,5,11,13,12,14,15"]);c.push(["PCA_12","2PCA4,0,4,2,3,14,6,11,5,8,7,9,13,10,12,1,15"]);d.push("OT vN");c.push(["Outer-Totalistic von Neumann",""]);c.push(["Fredkin2","B13/S024V"]);c.push(["LifeV","B3/S23V"]);c.push(["Parity","B13/S13V"]);d.push("OT Hex");c.push(["Outer-Totalistic Hex",""]);c.push(["HexParity","B135/S0246H"]);c.push(["Hexagonal Life",
"B2/S34H"]);c.push(["HighHexLife","B25/S34H"]);c.push(["LifeH","B3/S23H"]);c.push(["Replicator Hex","B135/S135H"]);d.push("OT M");c.push(["Outer-Totalistic Moore",""]);c.push(["","B3/S23"]);c.push(["2x2","B36/S125"]);c.push(["2x2 2","B3678/S1258"]);c.push(["34 Life","B34/S34"]);c.push(["3-4 Life","B34/S34"]);c.push(["Amoeba","B357/S1358"]);c.push(["Anneal","B4678/S35678"]);c.push(["AntiLife","B0123478/S01234678"]);c.push(["Assimilation","B345/S4567"]);c.push(["Bacteria","B34/S456"]);c.push(["Blinkers",
"B345/S2"]);c.push(["Bugs","B3567/S15678"]);c.push(["Castles","B3678/S135678"]);c.push(["Cheerios","B35678/S34567"]);c.push(["Christmas Life","B1/S012345678"]);c.push(["Coagulations","B378/S235678"]);c.push(["Conway","B3/S23"]);c.push(["Conway's Game of Life","B3/S23"]);c.push(["Conway's Life","B3/S23"]);c.push(["Coral","B3/S45678"]);c.push(["Corrosion of Conformity","B3/S124"]);c.push(["Dance","B34/S35"]);c.push(["Day & Night","B3678/S34678"]);c.push(["Day and Night","B3678/S34678"]);c.push(["Diamoeba",
"B35678/S5678"]);c.push(["DotLife","B3/S023"]);c.push(["DrighLife","B367/S23"]);c.push(["DryFlock","B37/S12"]);c.push(["DryLife","B37/S23"]);c.push(["DryLife without Death","B37/S012345678"]);c.push(["EightFlock","B3/S128"]);c.push(["EightLife","B3/S238"]);c.push(["Electrified Maze","B45/S12345"]);c.push(["Eppstein","B35/S236"]);c.push(["Feux","B1358/S0247"]);c.push(["Flakes","B3/S012345678"]);c.push(["Flock","B3/S12"]);c.push(["Forest of Ls","B168/S236"]);c.push(["Fredkin","B1357/S02468"]);c.push(["Fuzz",
"B1/S014567"]);c.push(["Gems Minor","B34578/S456"]);c.push(["Gems","B3457/S4568"]);c.push(["Geology","B3578/S24678"]);c.push(["Gnarl","B1/S1"]);c.push(["Grounded Life","B35/S23"]);c.push(["H-Trees","B1/S012345678"]);c.push(["HighFlock","B36/S12"]);c.push(["HighLife","B36/S23"]);c.push(["HighLife without Death","B36/S012345678"]);c.push(["Holstein","B35678/S4678"]);c.push(["HoneyFlock","B38/S128"]);c.push(["HoneyLife","B38/S238"]);c.push(["Iceballs","B25678/S5678"]);c.push(["InverseLife","B012345678/S34678"]);
c.push(["Invertamaze","B028/S0124"]);c.push(["IronFlock","B36/S128"]);c.push(["IronLife","B36/S238"]);c.push(["Land Rush","B36/S234578"]);c.push(["Life SkyHigh","B368/S236"]);c.push(["Life without Death","B3/S012345678"]);c.push(["Life","B3/S23"]);c.push(["Live Free or Die","B2/S0"]);c.push(["Logarithmic replicator rule","B36/S245"]);c.push(["LongLife","B345/S5"]);c.push(["Long Life","B345/S5"]);c.push(["LowDeath without death","B368/S012345678"]);c.push(["LowDeath","B368/S238"]);c.push(["LowFlockDeath",
"B368/S128"]);c.push(["LowLife","B3/S13"]);c.push(["Majority","B45678/S5678"]);c.push(["Maze","B3/S12345"]);c.push(["Maze with Mice","B37/S12345"]);c.push(["Mazectric","B3/S1234"]);c.push(["Mazectric with Mice","B37/S1234"]);c.push(["Morley","B368/S245"]);c.push(["Move","B368/S245"]);c.push(["Neon Blobs","B08/S4"]);c.push(["Never happy","B345/S0456"]);c.push(["Oscillators Rule","B45/S1235"]);c.push(["Pedestrian Flock","B38/S12"]);c.push(["Pedestrian Life","B38/S23"]);c.push(["Pedestrian Life without Death",
"B38/S012345678"]);c.push(["Persian Rug","B234/S"]);c.push(["Plow World","B378/S012345678"]);c.push(["Pseudo Life","B357/S238"]);c.push(["Pulsar Life","B3/S238"]);c.push(["Replicator","B1357/S1357"]);c.push(["Replicator 2","B1357/S02468"]);c.push(["Rings 'n' Slugs","B56/S14568"]);c.push(["Seeds","B2/S"]);c.push(["Serviettes","B234/S"]);c.push(["Shoots and Roots","B3/S245678"]);c.push(["Slow Blob","B367/S125678"]);c.push(["Snakeskin","B1/S134567"]);c.push(["Solid islands grow amongst static","B12678/S15678"]);
c.push(["SnowLife","B3/S1237"]);c.push(["Stains","B3678/S235678"]);c.push(["Star Trek","B3/S0248"]);c.push(["Virus","B36/S235"]);c.push(["Vote","B5678/S45678"]);c.push(["Vote 4/5","B4678/S35678"]);c.push(["Walled Cities","B45678/S2345"]);d.push("OT Tri");c.push(["Outer-Totalistic Triangular",""]);c.push(["Life 2333","B3/S23L"]);c.push(["Life 2345","B45/S23L"]);c.push(["Life 2346","B456/S23L"]);c.push(["Life 3445","B45/S34L"]);c.push(["Life 3446","B456/S34L"]);c.push(["Life 4546","B456/S45L"]);c.push(["Life 4644",
"B4/S456L"]);c.push(["Rule 1246","B456/S12L"]);c.push(["Rule 3544","B4/S345L"]);d.push("OT M G");c.push(["Outer-Totalistic Generations Moore",""]);c.push(["9:43 at Knight","237/34578/4"]);c.push(["Banners","2367/3457/5"]);c.push(["BelZhab","23/23/8"]);c.push(["BelZhab Sediment","145678/23/8"]);c.push(["Bloomerang","234/34678/24"]);c.push(["Bombers","345/24/25"]);c.push(["Brain 5","/2/5"]);c.push(["Brain 6","6/246/3"]);c.push(["Brian's Brain","/2/3"]);c.push(["Burst","0235678/3468/9"]);c.push(["BurstII",
"235678/3468/9"]);c.push(["Caterpillars","124567/378/4"]);c.push(["Chenille","05678/24567/6"]);c.push(["Circuit Genesis","2345/1234/8"]);c.push(["Constellations","/23/3"]);c.push(["Cooties","23/2/8"]);c.push(["Diamonds and Spaceships","34578/257/16"]);c.push(["Ebb&Flow","012478/36/18"]);c.push(["Ebb&Flow II","012468/37/18"]);c.push(["Faders","2/2/25"]);c.push(["Fireballs","346/2/4"]);c.push(["Fireworks","2/13/21"]);c.push(["Flaming Starbows","347/23/8"]);c.push(["Free Star","0345/2/10"]);c.push(["Frogs",
"12/34/3"]);c.push(["Frozen spirals","356/23/6"]);c.push(["GeneroLife","2356/3567/4"]);c.push(["Glisserati","035678/245678/7"]);c.push(["Glissergy","035678/245678/5"]);c.push(["Lava","12345/45678/8"]);c.push(["Lines","012345/458/3"]);c.push(["LivingOn TheEdge","345/3/6"]);c.push(["Meteor Guns","01245678/3/8"]);c.push(["Nova","45678/2478/25"]);c.push(["OrthoGo","3/2/4"]);c.push(["Prairie on fire","345/34/6"]);c.push(["RainZha","2/23/8"]);c.push(["Rake","3467/2678/6"]);c.push(["SediMental","45678/25678/4"]);
c.push(["Snake","03467/25/6"]);c.push(["SoftFreeze","13458/38/6"]);c.push(["Spirals","2/234/5"]);c.push(["Star Wars","345/2/4"]);c.push(["Sticks","3456/2/6"]);c.push(["Swirl","23/34/8"]);c.push(["Tadpoles","0125678/345678/64"]);c.push(["ThrillGrill","1234/34/48"]);c.push(["Transers","345/26/5"]);c.push(["TransersII","0345/26/6"]);c.push(["Transers 2","0345/26/6"]);c.push(["Transers 3","0345/26/7"]);c.push(["Wallplicators","345/25678/7"]);c.push(["Wanderers","345/34678/5"]);c.push(["Worms","3467/25/6"]);
c.push(["Xtasy","1456/2356/16"]);d.push("INT Hex");c.push(["Isotropic Non-Totalistic Hex",""]);c.push(["Hex Life","B2o3m56/S2-p4oH"]);c.push(["Hex Inverse Fire","B2-m4-m56/S2m34m56H"]);c.push(["HexLife","B3o/S234-o6H"]);c.push(["22da","B2/S2-mH"]);c.push(["Hexrule b2o","B2o/S2m34H"]);d.push("INT M");c.push(["Isotropic Non-Totalistic Moore",""]);c.push(["15Life","B34r/S23-q4et"]);c.push(["104life","B34ky5cy/S23-a4ity6c7"]);c.push(["22k","B2-k/S2-k"]);c.push(["2diagonal","B2n3/S23"]);c.push(["2xpand2",
"B3/S123eik4ce"]);c.push(["3x3","B35cky68/S0245-c6n"]);c.push(["38life","B35y/S2-n35k6ci"]);c.push(["4diagonal","B34c/S23"]);c.push(["4life","B34jy/S23"]);c.push(["4life2","B34j/S23"]);c.push(["57life","B34tyz5cy/S23-a4it5ej"]);c.push(["acnelife","B34/S2eik3"]);c.push(["aLife","B3/S234iw"]);c.push(["Arcane Circuitry","B2ci3aikr/S1e2-a3i"]);c.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);c.push(["Artillery","B3-y7/S2-i3-c4kqt"]);c.push(["Atomic","B2ei3i/S1c2-n3jr4an5i6c"]);c.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);
c.push(["B - ibis","B2n34cyz6n8/S2-n3-a4cq68"]);c.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);c.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);c.push(["Beaecsizae","B34ce/S12-a3"]);c.push(["Ben's rule","B2-ak3einqy4e/S1c2ak3inqy4e"]);c.push(["Best Friends","B2ce3aiy/S12aei3r"]);c.push(["Bigship","B2ei3einqy4ny5ajkr/S23ajkr4jnry5inqy"]);c.push(["Bgunlife","B34eny5e/S23-a4iy5e6c"]);c.push(["Billiard","B36-e/S12345"]);c.push(["Blasts","B2e3airy4kt5jr6c8/S02ace3eiknr4-aj5-cei6-a78"]);
c.push(["BlinkBlink","B35ky/S234y"]);c.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);c.push(["blockandglider","B3/S234cw7c"]);c.push(["Blockship","B3-cer4ceqwz5acek6in78/S2-in3-eq4eqwyz5eikn678"]);c.push(["BoatLife","B3-knqy/S2-n3-ey4akwy5aik6kn"]);c.push(["boatLife","B3ainqy4aeq5ejn8/S2-in3-aek4aciq5ae6-c7c8"]);c.push(["bpuff","B3/S23-cky4k7e8"]);c.push(["Breps","B34cqy5c/S23-y4y"]);c.push(["Breps-2","B3aeijn4n8/S234iqz"]);c.push(["Bricks","B2ak5c/S2cn3inqy4aikqtwz5inqy"]);
c.push(["Bubbles","B3ai4-a/S23"]);c.push(["Butterfly","B2i34e6i7c/S2-i36n"]);c.push(["butterflyb7","B2i34e6i7/S2-i36n"]);c.push(["Buzz","B2i35-n/S2-ci36k8"]);c.push(["CapLife","B36c/S23"]);c.push(["CarrierLife","B2e3aceik/S23"]);c.push(["Cataverters","B3-cen/S234eijkrw5cry6ik"]);c.push(["cb2","B2ae4i/S1e2in"]);c.push(["cetlife","B34cet/S234jkwyz"]);c.push(["Clouds","B2e3aceij/S23-a4"]);c.push(["Cloudsdale","B2kn3-ekqr4i5eq6n8/S23-aeny4cikqr5ek6ace7c"]);c.push(["CommonRepl","B3/S23-ac4eiy6"]);c.push(["Conquerors and Colonizers",
"B2ace3acei4ace5acei6ace/S"]);c.push(["Conway++","B3/S234c"]);c.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);c.push(["Conway+-2","B3/S2-ak34aikqtwz5inqy"]);c.push(["Conway--","B3/S2-ei3"]);c.push(["crawl","B37e/S2-i34y8"]);c.push(["Creperie","B2ikn3aijn/S23-ckqy"]);c.push(["CrossLife","B3/S234et"]);c.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);c.push(["DenseLife","B3-q4y/S234z"]);c.push(["Diamoeral","B2n3ai4a78/S35678"]);c.push(["Diamonds","B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);c.push(["DirtyLife",
"B3-cky5aq6ci7c/S23-ck4n6k7e"]);c.push(["DLife","B3-n/S23"]);c.push(["dolife","B2-ak3acei4ceqz5y/S234ce5ceky78"]);c.push(["dolife2","B2-a3acei4ceqz5y/S234ce5ceky78"]);c.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);c.push(["Dry15Life","B34r7/S23-q4et"]);c.push(["DryGoats","B2in37/S123a"]);c.push(["Dustclouds01","B2ce3-ai/S01"]);c.push(["Dustclouds03","B2ce3-ai/S03"]);c.push(["EasyHighLife","B36-i/S23"]);c.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);c.push(["Eatsplosion IV",
"B2n3-q4aqz6n8/S2-in3-q4iz7c8"]);c.push(["EightGoats","B2in3/S123a8"]);c.push(["Einstein","B2ein3cijn4cnrwy5cnq6e/S1c2-ai3acny4anqy5c6ek8"]);c.push(["ElectrumLife","B367c/S2-i34q"]);c.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);c.push(["Extension","B2cei3-ijnr4-a6i/S12-cn"]);c.push(["fakePiShipLife","B3-ck4e5k6i/S2-in35i6c8"]);c.push(["FalseB5","B35ce/S234jqtyz6k8"]);c.push(["Farespa","B34ck5/S23aceik4aci"]);c.push(["FattyLife","B3-n4nt5qr6i/S23"]);c.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);
c.push(["FlashLife","B2kn3-n4e/S23"]);c.push(["Flowflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k7e"]);c.push(["Flutter","B2-a3j4-acekn56/S15y"]);c.push(["Flying Life","B3-k5r/S236n7e"]);c.push(["FogLife","B35eq7/S2-i34q"]);c.push(["Forestfire","B3ai4ekq5cy6n/S2-ci3-ace4inr5eqry"]);c.push(["FrogLife","B36i/S1c23-acek5k6i8"]);c.push(["Fruitflies","B2-an4jn7e8/S12-k4r"]);c.push(["Fuzey","B2-ae3aej4ez/S03ac4aikqryz78"]);c.push(["GemLife","B34c6/S23-q"]);c.push(["Gentle relative","B2cen3ek4jkw5-aein6a7e/S12an3-eijq4enrty5e6k"]);
c.push(["GlideLife","B34ek5ak/S2-c34z"]);c.push(["GlideLife2","B34ek5ak/S2-c34iz5y"]);c.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);c.push(["GliderRROLife","B2e3einy4ak5ijq7c/S1c2-ai3-ceky4ejny5ceqr6ak"]);c.push(["glife","B3/S237c"]);c.push(["Glimmering Garden","B3-jknr4ity5ijk6i8/S23-a4city6c7c"]);c.push(["GMO snowflakes","B34c6n/S2-n3-ck4cijqtwy5y6n"]);c.push(["Goat Flock","B2in3/S123a"]);c.push(["Goats","B2in3/S123a"]);c.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);c.push(["gp",
"B2ei3-a4ce5y6i/S234i7e"]);c.push(["Growflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k"]);c.push(["guntlife","B35j6a/S2-i34q"]);c.push(["Half as Interesting","B2ce3i/S23"]);c.push(["hassl8life","B34k5e7c/S23-a4iyz"]);c.push(["hatlife","B35y/S23"]);c.push(["Hats and Shuttles","B34iqwy/S23-cq"]);c.push(["hedgehog","B3/S1c2-a35r6i"]);c.push(["HeptaFish","B3-e4i5i/S234e"]);c.push(["High15Life","B34r6/S23-q4et"]);c.push(["HighGoats","B2in36/S123a"]);c.push(["Hive","B3-ry4ckn/S2-in3-cjn4it5aiky6-a7e8"]);
c.push(["hlife","B3/S234ce6k"]);c.push(["hlife2","B3/S2-in34nr"]);c.push(["hlife3","B3/S2-in34iw"]);c.push(["HoneyGoats","B2in38/S123a8"]);c.push(["HouseLife","B2i3/S23-r"]);c.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);c.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);c.push(["ilife","B3/S235i"]);c.push(["Immortalife","B3-cqy4j/S2-n34i"]);c.push(["IneticLife","B2-an3-k/S2ac"]);c.push(["IronGoats","B2in36/S123a8"]);c.push(["Ising","B3e4ejr5cinqy6-ei78/S2ei3aejkr4-cny5-e678"]);c.push(["Just Friends",
"B2-a/S12"]);c.push(["Kgdm","B3/S2-c3-en4ceitz"]);c.push(["KineticLife","B2-an3/S2ac"]);c.push(["klife","B34n/S23"]);c.push(["Knyght","B2e3/S23-jq"]);c.push(["ktlife","B3/S2-i34nq"]);c.push(["LambdaLife","B3-k/S2-i3-k4cen"]);c.push(["LeapLife","B2n3/S23-q"]);c.push(["Leaplized D&N","B2n3678/S3-q4678"]);c.push(["LifeWithoutGliders","B35n/S23"]);c.push(["Linea","B2-a3-i/S23-a"]);c.push(["LispLife","B2n3/S23-q4e8"]);c.push(["LoafLife","B2n3-q/S23"]);c.push(["longlast","B3/S234ce8"]);c.push(["lotsofdots",
"B2ikn34e/S023-a4ce"]);c.push(["MaritimeLife","B2i34c6cen7c8/S2-i3-q4c5a6e8"]);c.push(["maze2","B3/S234-acew"]);c.push(["Migrating Bookends","B2ein3inry/S12-n3ce"]);c.push(["MilkyLife","B3-c4c5y8/S234qy5y8"]);c.push(["Mooselife","B34kz5e7c/S23-a4ityz5k"]);c.push(["move_rep","B3-r4e5e6-n/S23cr457e"]);c.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);c.push(["MoveIt","B368/S23cy45-j6n"]);c.push(["movetub","B34e68/S245"]);c.push(["movev","B35y68/S245"]);c.push(["Movostill","B2i3acijk6i/S23-a4"]);c.push(["Movostill 2",
"B3acijk/S23-a4"]);c.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);c.push(["MuddyLife","B3/S234k"]);c.push(["Nah","B345-a6/S2-a3-a4-a"]);c.push(["nonlife","B3-n/S234iz"]);c.push(["notlife","B3-q7c/S2-i3-q4q"]);c.push(["notlife (Wright)","B2k3-k/S23-a"]);c.push(["Notlife / Ace","B2-a3/S2ce"]);c.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);c.push(["olife","B2in3/S2-in3"]);c.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);c.push(["Orthogonable","B2e3aiknr4q/S1c2-in3aijry4a"]);c.push(["Particles (testitemqlstudop)",
"B2ce3i/S1c2cek"]);c.push(["Patchworks","B2-an3aiy/S2-in3cijky4-nqrz5k"]);c.push(["Pedestrian Goats","B2in38/S123a"]);c.push(["Pentadecathlife","B34e5y6cn8/S234c5e"]);c.push(["Photics I","B2ae4c678/S01e4aeqrtw5678"]);c.push(["Photics II","B2ae4cw5y6i/S01e2i4q"]);c.push(["Pi replicator life","B3-r4z5y/S238"]);c.push(["Pi-plicator","B3-ckq/S2-c34ci"]);c.push(["PiLife","B37e/S23"]);c.push(["Pilife2","B34c/S234y8"]);c.push(["plasma1","B012-in3-cky4ar5cjnr6ae/S05aijnr6n"]);c.push(["plife","B35j/S2-i3"]);
c.push(["plife2","B35j6i/S2-i3"]);c.push(["PondLife","B36i/S2-i35i"]);c.push(["PortLife","B34cz5y/S234y8"]);c.push(["pre-x-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);c.push(["Prismatika Crystallios","B2ae3r/S1e"]);c.push(["PlasmaLife","B34-air/S234-air"]);c.push(["Puffers","B3-nqr6/S235-nqr"]);c.push(["PuffLife","B34-i5-a6-a/S2-an34-akrw"]);c.push(["qlife","B3-q/S23"]);c.push(["quadraticlife","B34j/S23"]);c.push(["Quasilinear Collisions","B2-ak3-jnqr/S15678"]);c.push(["Rakelife","B3aij/S2-i3ajnr4arz56-a7e"]);
c.push(["Rainflakes","B2-ac3aei4ey5n6n8/S02-n3aceir4ceyz5e6k"]);c.push(["RBeeLife","B34cijkq5k6i8/S2-n3-ik4cjqt5y6cin8"]);c.push(["replife","B34jy6n/S2-i3"]);c.push(["reptlife","B36-k/S2-i34q"]);c.push(["ResistantLife","B34eknqyz/S23"]);c.push(["Ribbons","B3-nqr/S23"]);c.push(["RotoBlocks","B34cyz5y8/S234y5y6n8"]);c.push(["RotoDotPuffers","B2ikn3-ejnr/S01c2cei3ay4c"]);c.push(["RotoHooks","B34ckyz/S234cz"]);c.push(["rgun","B34t/S2-i35a7e"]);c.push(["Rule X3VI","B2c3aei4ajnr5acn/S2-ci3-ck4in5jkq6c7c"]);
c.push(["RustyLife","B34-ai/S24-air5-a"]);c.push(["Salad","B2i34c/S2-i3"]);c.push(["Sanctuary","B2ei3ci/S1c23"]);c.push(["sansdomino","B2-a/S014"]);c.push(["Savanna","B2e3aeiy4ce5i6c7e/S2-n3-a4artz5aeny6cn"]);c.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);c.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);c.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);c.push(["SilverLife","B367/S2-i34q"]);c.push(["SimpleInverseFire","B2-ak4568/S156ak78"]);c.push(["Simple Life","B2k34c/S2-c34z8"]);c.push(["SLHassleLife",
"B3-y5cr/S234w6n"]);c.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);c.push(["SolarWorld","B2ce3ci4iyz5ce6c/S12ce3ae"]);c.push(["SmokingLife","B2i34cj6a7c8/S2-i3-a4ceit6in"]);c.push(["Smorgasbord","B2e3aijr4q/S1c23-a5"]);c.push(["snotlife","B2k3-kn/S23"]);c.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);c.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);c.push(["SparkLife","B36i/S234j"]);c.push(["SparklingLife","B34cqy/S234q"]);c.push(["SparseMethuseLife","B35y/S1e2-ci3-a5i"]);
c.push(["StairWorld","B2-a3i4aijk/S2a3-i4"]);c.push(["Stars","B2e3-ceny4einqwz5-cikr6cei/S1c2e3aijky4aceijrz5-cejk6-ak7c8"]);c.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);c.push(["Switches","B2ei3ij4ajnr6ci/S12ce3ajn4qtz5ijnqy6c"]);c.push(["Symmetristic","B2-ak3-jnqr4ceiqtwz5-jnqr6-ak/S2-ak3-jnqr4ceiqtwz5-jnqr6-ak"]);c.push(["t4life","B34jy/S2-i3"]);c.push(["TableLife","B3/S23-ai4anq6n"]);c.push(["TauLife","B3-nr/S2-i34-aij"]);c.push(["tceclife","B36ce7c/S2-i34q"]);c.push(["tDryFlock",
"B37/S12-i4q"]);c.push(["tDryLife","B37/S2-i34q"]);c.push(["TearfulLife","B34e5c6n/S23-q"]);c.push(["tEightLife","B3/S2-i34q8"]);c.push(["testlife","B36a/S23"]);c.push(["tflock","B3/S12-i4q"]);c.push(["tHighFlock","B36/S12-i4q"]);c.push(["tHighLife","B36/S2-i34q"]);c.push(["ThisLife","B36i/S23-ce5q"]);c.push(["tlife","B3/S2-i34q"]);c.push(["tosc","B3/S234wz"]);c.push(["tosc2","B36in/S234cw"]);c.push(["tPedestrianFlock","B38/S12-i4q"]);c.push(["tPedestrianLife","B38/S2-i34q"]);c.push(["tq6","B2i34e/S023-a4ce"]);
c.push(["Traffic Flow","B2e3aciy4jnw68/S23678"]);c.push(["Train","B34t6k8/S2-i35a7e"]);c.push(["Trilobites","B3aijn4w5nq/S2ae3aijr4irz5y"]);c.push(["triship","B2a3e/S012-ai3-i45-i678"]);c.push(["Trycogene","B2ce3aijn/S2ak3-aijn4jkqty5cekr6ce8"]);c.push(["Turro","B2-a3c/S12-i"]);c.push(["Two-dots rule 1","B2ei3ci4aerw5acky6i8/S012-an3eiknq4qrty5aeik6ik8"]);c.push(["Two-dots rule 2","B2-ak3aen4cenrtw5iq6e/S02ac3aenqy4ejqtwy5ak6acn7"]);c.push(["Twinkles","B2in34-a/S1e2ekn34ent"]);c.push(["Virus_v2",
"B3-nqr6/S235"]);c.push(["Wartlife","B3aijnq6n/S2-cn3-ceky4i"]);c.push(["WetLife","B34r/S23"]);c.push(["Whichlife","B2in3aeijn/S234e"]);c.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);c.push(["wlife","B34w/S23"]);c.push(["Worms 0","B01c2n5a/S3a5i"]);c.push(["Writers","B2-a3-inqr4c6/S23"]);c.push(["WSScentral","B3-n45qr6i/S2eik3"]);c.push(["x-rule-pre","B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);c.push(["xtdbee","B3-k/S23"]);c.push(["xvaLifeg","B2e3/S23"]);c.push(["Ylife","B2e3ai4ar/S23-a4a"]);
c.push(["ylife (BokaBB)","B34y5y/S234y5y"]);c.push(["zigzag","B3/S2-k34q"]);c.push(["ZombieLife","B3-nqy4aqz5cn6n8/S2-i3-a4inqz7c8"]);d.push("INT M G");c.push(["Isotropic Non-Totalistic Generations Moore",""]);c.push(["HTech","234e/2e3/3"]);c.push(["Jellyfish","2ak34-a5-i/2c36k7/4"]);c.push(["KST","1234-i5anq6kn/3r4kr5eiq6ack7e/3"]);c.push(["Simple Brain","234e/e3/3"]);c.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);c.push(["tGeneC1WC0","2-i34q/2c34w5c/4"]);d.push("NINT vN");c.push(["Non-Isotropic von Neumann",
""]);c.push(["1d110","MAPLy0PDw"]);c.push(["AllShips","MAPAAD//w"]);c.push(["HybridViewW110","MAPPzz//A"]);c.push(["Sierpinski","MAPT48PDw"]);d.push("NINT Hex");c.push(["Non-Isotropic hexagonal",""]);c.push(["pentagonhood","MAPBARISEhIgIBISICAgIAAAA"]);d.push("NINT M");c.push(["Non-Isotropic Moore",""]);c.push(["2CellSlug","MAPBTDe/yAA9/8AAP//AAD//yAA/78AAP//AID//wAA//8AAP//AAD/2wAA//8AgP//AAD//4AA//+AAH//AAD//w"]);c.push(["BLAHTWOCELLGUN","MAPAMB/vwAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);
c.push(["cloverleafsim","MAPAAD//zAwPz8AAP//MDA/PwAA//8AAP//AAD//wAA//8AAD8/AAD//wAAPz8AAP//wMD//wAA///AwP//AAD//w"]);c.push(["FoxLife","MAPARYXfhZofugWaH7oaIFoxBZofuhogOiAaIFoxIAAgAAWaH7oaIFoxGiA6ICAAIAAaIFoxIAAgACAAIAAAAAAAA"]);c.push(["loopy","MAPACD/JSDI//8AAL+/AAB//wAA/f+AgP//AAB//xCA//8IAP//AAD//wAA//8AAH//AAL//wCA//8AAvv7AAL//w"]);c.push(["MaxPeriod_2x2k2","MAPADC9vyIA/f8AAH//AAD//wCA//+AAP//AID/fwAA//8AAH//AAB//wAA//8AAP//AAD//4AA//8AAP//AAD//w"]);c.push(["movingdiagonal","MAPAAAAAAAAAAD//wAA//8AAAAAAAAAAAAA//8AAP//AAAAAAAAAAAAAP//AAD//wAAAAAAAAAAAAD//wAA//8AAA"]);
c.push(["MovingStrings","MAPARH+/wMT//8BEf7/AxP//wER/v8DE///AREAAAMTAAABEf7/AxP//wER/v8DE///AREAAAMTAAABEQAAAxMAAA"]);c.push(["MuzikThing","MAPACD//wAA3/8AgH//AAD//wCAf/8AAP//AAD//wAA//8AAH//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//w"]);c.push(["MyEntry","MAPIAD/7wgA/f8AAP//AAD//wAA//8AAP//AAD/fwAA//8AAP//AAD//wAA//8AAP//AAD//4AA//8AAP//AAD//w"]);c.push(["randomnn","MAPA1Az8wMAqgAAUADAAAAAAAAAgMAAAIAAgICAwAAAgAAAAAAAiACqAAAAAAAAAAAAAACAAIgAgACAgIAAAACAAA"]);c.push(["OLife","MAPABD/vgIB//8AAP//AAD//wAA/78AAN3/AJB/vwAAf/8AAP//AABd/wAA//8AAP//AAD//4IA//8AAP//AIB//w"]);
c.push(["Rhufo","MAPARH//wMA//8AAP9/AAD//wAA//8AAP9/AAD//wAA//8AAP//AAB//wAA//8AAP//AAD//wAA//8AAH9/AAB//w"]);c.push(["Rhufo2","MAPARH//wMA//8AAH9/AAD//wAAX/8AAP9/AAB/7wAA//8AAH//AAB//wAA//8AAP//AAB//wAA/f8AAH8/AAB3/w"]);c.push(["rules0","MAPCkA/3wAI939CUM/bABH//4Agft4JAPX+IgH/3QAQ9u8AAP//AID/fwAA//8AAP//BQD9/wAA/98AAP//AAD//w"]);c.push(["rules6","MAPAgl/+0Ug/fVAIv/9AADdPwDi9/uAQft5qIDtlQgA/b8gAP//AAD//wAQv/8AAP7+AhD/+gAA/f8EAv//AID//w"]);c.push(["SemiFelineLife","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaICatGiA6ICAAIAAaICatIAAgACAAIAAAAAAAA"]);
c.push(["Simple_Weird_Ships","MAPABHs/wMA//8AAP//AAD//wAA/38AAP//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);c.push(["Snowflakes (MCell)","MAPBTBogCKlgABMQ4AUYkgAACWogADgtwAAEpgAABwzAABMOIAAGUgGAO0FAAAVpQAAEkYAAMIzAAClRQCADbeASA"]);c.push(["Socrates","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaIDogGiA6ICAAIAAaIDogIAAg00IAmSocrateg"]);c.push(["x-rule","MAPBSB64CCTqARFBImEADAGBSCTgICTSIAAADCFCSTAAAANAMEUBCKEBchCE00YAE3IACSFACCIQQDIIF4UIIAGSA"]);c.push(["water","MAPABAbrwAA//8AQltdAAD+/8Aa/f8AAP//YgD//wAA//8AAP//QAD//wBA//8AAP/fAgD3+wKA//8AIPZ/AAD//w"]);
d.push("LtL M");c.push(["Larger than Life Moore",""]);c.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);c.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);c.push(["Bosco Analogue","R5,C2,M1,S34..53,B31..42,NM"]);c.push(["Bugs R3","R3,C2,M1,S14..23,B14..18,NM"]);c.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);c.push(["Bugs R6","R6,C2,M1,S47..81,B47..63,NM"]);c.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);c.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);c.push(["Bugs R9","R9,C2,M1,S101..173,B101..134,NM"]);
c.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);c.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);c.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);c.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);c.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);c.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);c.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);c.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);c.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);
c.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);c.push(["Mini Bugs","R2,C2,M1,S7..10,B7..8,NM"]);c.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);c.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);c.push(["Quadratic Bugs","R6,C2,M1,S47..81,B47..61,NM"]);c.push(["Rasta Bugs","R5,C2,M1,S41..59,B32..50,NM"]);c.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);c.push(["Stones","R5,C2,M1,S29..58,B38..61,NM"]);c.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);c.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);
c.push(["Waffle","R7,C2,M1,S100..200,B75..170,NM"]);c.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);d.push("LtL M G");c.push(["Generations Larger than Life Moore",""]);c.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);c.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);c.push(["ModernArt","R10,C255,M1,S2..3,B3..3,NM"]);d.push("HROT cross");c.push(["Higher-Range Outer-Totalistic cross",""]);c.push(["Factorio","R3,C2,S2,B3,N+"]);d.push("HROT hash");c.push(["Higher-Range Outer-Totalistic hash",
""]);c.push(["Hash","R2,C2,S4-6,B5-6,N#"]);d.push("HROT vN");c.push(["Higher-Range Outer-Totalistic von Neumann",""]);c.push(["Fredkin2 R2","R2,C2,S0,2,4,6,8,10,12,B1,3,5,7,9,11,NN"]);c.push(["Parity R2","R2,C2,S1,3,5,7,9,11,B1,3,5,7,9,11,NN"]);d.push("HROT M");c.push(["Higher-Range Outer-Totalistic Moore",""]);c.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);c.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);
c.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);c.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);c.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);
c.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);d.push("HROT custom");c.push(["Higher-Range Outer-Totalistic custom",""]);c.push(["Marine","R2,C2,S4,6-9,B6-8,N@03ddef"]);d.push("Weighted");c.push(["Weighted",""]);c.push(["Border","R1,C2,S10-16,B1-8,NW010101010901010101"]);c.push(["Bustle",
"R1,C4,S2,4-5,7,B3,NW212101212"]);c.push(["Career","R1,C2,S2-3,B3,NW121101111"]);c.push(["Cloud54","R1,C2,S2-3,9-10,19,27,B3,10,27,NW010109010009010909"]);c.push(["Cloud75","R1,C2,S2-4,10-11,13,18,21-22,27,29-31,36-40,B3,10,27,NW010109010009010909"]);c.push(["Coexistence","R4,C0,S9,14,16-17,21,23-24,30-31,37-38,44-45,51-52,58-59,B3,10,17,21,24,31,38,45,52,59,NW100010001000000000000000000000777000100707001000777000000000000000000000100010001"]);c.push(["CrossPorpoises","R1,C2,S2-3,6-10,12-13,B5,NW141404140"]);
c.push(["Cyclish","R1,C7,S2,B1-3,NW010101010"]);c.push(["Cyclones","R1,C5,S2,4-5,B2-5,NW110101011"]);c.push(["Dragon","R1,C2,S1-2,7-8,12,15,18,20,B7,11-13,20,NW515101515"]);c.push(["Emergence","R1,C2,S2-4,10-11,16-17,24-25,B3-4,9,24,NW010801010001080801"]);c.push(["Fire-flies","R1,C9,S1,10,B6,11-12,21,NW010501050a05010501"]);c.push(["Fleas","R1,C2,S2-3,6-7,10-11,15,20,B2,11,NW515101515"]);c.push(["Fleas2","R1,C2,S1-2,5,7,10-11,B2,4,8,11,NW515101515"]);c.push(["NoFleas2","R1,C2,S2-3,5-7,10-11,B2,4,8,11,NW515101515"]);
c.push(["FroggyHex","R1,C2,S1,6,8,B5-6,NW410104041H"]);c.push(["Frost M","R1,C25,S,B1,NW111101111"]);c.push(["Frost N","R1,C25,S,B1,NW010101010"]);c.push(["Gnats","R1,C2,S0-2,11,19,B11,19,NW090109010001090109"]);c.push(["Hextenders","R1,C10,S1,3-5,B2-3,NW110101011H"]);c.push(["HGlass","R1,C2,S1-3,11,21,25,29-31,B1-3,11,21,25,29-31,NW000200080110000400"]);c.push(["Hogs","R1,C2,S2-4,6,B5-6,NW023302230H"]);c.push(["Jitters","R1,C2,S4,14,B1,4,9,NW995505599"]);c.push(["Lemmings","R1,C2,S3-6,B4,NW121202131"]);
c.push(["Linguini","R1,C2,S2-4,9-11,19-20,B11,18,NW090109010001090109"]);c.push(["Madness","R1,C2,S8,10,12,14,B5,8,13,NW232303232"]);c.push(["MazeMakers","R1,C2,S2-3,6-10,12-13,B5,NW441404141"]);c.push(["MidgeDN","R1,C9,S0,2-3,B4-6,NW222101212"]);c.push(["Midges","R1,C4,S3,5-6,B4-6,NW121232121"]);c.push(["MikesAnts","R1,C2,S4-5,B2,5-6,NW011100111"]);c.push(["Mosquito","R1,C2,S3-4,8-9,B2-3,9,NW995505599"]);c.push(["Mosquito2","R1,C2,S3-4,8-9,B3,6,9,18,NW995505599"]);c.push(["Navaho1","R1,C12,S8-9,11,B2,5,NW414575414"]);
c.push(["Nocturne","R1,C4,S1,6,B2-4,NW110101011H"]);c.push(["Pictures","R1,C2,S1-3,B2-4,NW010101010"]);c.push(["PicturesH","R1,C9,S1-3,B2-4,NW010101010"]);c.push(["Pinwheels","R1,C7,S2,B2-3,NW110101011"]);c.push(["PipeFleas","R1,C3,S3-4,7,11-15,17-18,20,22-23,B6,10,NW515101515"]);c.push(["PreHogs","R1,C2,S3-4,6,B5-6,NW230302023"]);c.push(["PuttPutt","R1,C2,S1-4,9,18,27,36,40,B2,4,11,18-19,36,40,NW090109010001090109"]);c.push(["SEmigration","R1,C2,S2-3,6-7,10-12,B7,11-12,16,NW515100505"]);c.push(["Simple",
"R1,C2,S1,5,B2,10,NW515101515"]);c.push(["Simple Inverse","R1,C2,S1,4-5,8-9,12-13,16-24,B2,9-10,13-14,17-18,21-22,24,NW515101515"]);c.push(["Simple Inverse Fire","R1,C2,S1,5,9,13,17-19,21,23-24,B2,4,8-10,12-14,16-18,20-22,24,NW515101515"]);c.push(["Stampede","R1,C8,S4,6,9-10,B4,7,NW130303130"]);c.push(["Starburst","R1,C2,S2,4,6,B4,NW121202121"]);c.push(["Starbursts2","R1,C2,S2,4-6,B4,NW121202121"]);c.push(["Stream","R1,C2,S1,3-4,7-11,B5,7-8,10-11,NW010104041"]);c.push(["UpDown1","R1,C2,S2,4-6,9,12,16,20,B3,6,9,12,NW111404444"]);
c.push(["UpDown2","R1,C2,S2-3,7,10-12,15,B3,7,11,15,NW151101555"]);c.push(["Upstream","R1,C10,S4,6,9-10,B4,7,NW130404130"]);c.push(["Vineyard","R1,C2,S2,6,8-10,12-13,B5,NW141404040"]);c.push(["Vineyard2","R1,C2,S2,8-10,12-13,B5,NW141404040"]);c.push(["Weevils","R1,C2,S1-4,B5-6,14,NW331101133"]);c.push(["Weighted Brain","R1,C3,S3-4,7,B4-5,8,NW3323d3232"]);c.push(["Y_Chromosome","R1,C3,S2,B2,NW110101011"]);d.push("Weighted G");c.push(["Weighted Generations",""]);c.push(["WG Rule004","R1,C4,S6-11,B4,NW111101111,0201"]);
c.push(["WG Rule012","R1,C6,S4-5,B5,NW111101111,021111"]);c.push(["WG Rule020","R1,C6,S5-8,B5,NW111101111,020301"]);c.push(["WG Rule031","R1,C4,S5-7,B4,NW111101111,0210"]);c.push(["WG Rule038","R1,C5,S8,B6,9,NW111101111,03210"]);c.push(["WG Rule050","R1,C8,S4-8,B6,NW111101111,02120300"]);c.push(["WG Rule063","R1,C5,S6-7,9-11,B7,10,NW212101212,03101"]);c.push(["WG Rule071","R1,C6,S8-16,B6,NW111101111,031012"]);c.push(["WG Rule072","R1,C6,S8-16,B6,NW111101111,030112"]);c.push(["WG Rule074","R1,C5,S4-8,B3,NW111101111,02001"]);
c.push(["WG Rule084","R1,C7,S5-6,B5,NW212101212,0121001"]);d.push("Alt OT M");c.push(["Alternating Outer-Totalistic Moore",""]);c.push(["alternlife","B13/S012345678|B/S15"]);c.push(["comb395","B3/S1237|B2/S"]);c.push(["comb625","B3/S348|B2/S356"]);c.push(["Dotlesslife","B3/S23|B/S12345678"]);c.push(["Fizzler","B13/S3|B/S345678"]);c.push(["Jelly","B3/S135|B2/S5"]);c.push(["Phoenix","B24/S|B35/S"]);d.push("Alt INT M");c.push(["Alternating Non-Totalistic Moore",""]);c.push(["SparklessLife","B3/S23|B/S1c2345678"]);
c.push(["Unidim1","B134578/S02345678|B6i7/S268"]);c.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);c.push(["Unidim3","B12ci34578/S02345678|B6i7/S268"]);this.od[0][2]=!1;this.od[0][3]=!1;for(a=1;a<this.od.length;a+=1)for(c=this.od[a][1],d=this.od[a][0],this.od[a][2]=!1,this.od[a][3]=!1,b=0;b<a;b+=1)this.od[b][0]===d&&(this.od[b][3]=!0,this.od[a][3]=!0),this.od[b][1]===c&&(this.od[b][2]=!0,this.od[a][2]=!0)},Cq:function(a){var b=null,c=0;for(a=a.replace(/&amp;/g,"&");c<this.od.length&&null===b;)""!==
this.od[c][1]&&this.od[c][0]===a&&(b=this.od[c][1]),c+=1;if(!b)for(a=a.toLowerCase(),c=0;c<this.od.length&&null===b;)""!==this.od[c][1]&&this.od[c][0].toLowerCase()===a&&(b=this.od[c][1]),c+=1;return b},Bq:function(a){for(var b=null,c=0;c<this.od.length&&null===b;)""!==this.od[c][1]&&this.od[c][1]===a&&(b=this.od[c][0]),c+=1;"Conway's Life"===b&&(b="Life");return b}};kb.prototype.U=function(){var a=!1;if(""!==this.message||""!==this.i)a=!0;return a};kb.prototype.clear=function(a,b){a?""!==this.i&&
(b||this.v?(this.i="",this.v=!1):(a=performance.now()-this.F,a<this.A+this.D&&(this.F=performance.now()-(this.A+this.D)),this.v=!0)):""!==this.message&&(b||this.u?(this.u=!1,this.message=""):(a=performance.now()-this.startTime,a<this.G+this.H&&(this.startTime=performance.now()-(this.G+this.H)),this.u=!0))};kb.prototype.notify=function(a,b,c,d,f){this.R&&(f?this.i!==a&&(this.i=a,this.A=16*b,this.D=16*c,this.X=16*d,this.F=performance.now(),this.v=!1,this.j=0,this.K=!1):(this.message=a,this.G=16*b,this.H=
16*c,this.$=16*d,this.startTime=performance.now(),this.u=!1))};kb.prototype.da=function(){var a=128>this.j?this.j/128:(255-this.j)/128;this.h.fillStyle="rgb("+(this.C.Ab*a+this.C.tc*(1-a))+","+(this.C.yb*a+this.C.pc*(1-a))+","+(this.C.wb*a+this.C.oc*(1-a))+")"};kb.prototype.O=function(a,b,c){var d=this.h.measureText(a).width>>1;if(this.P){this.h.fillStyle=this.ca;var f=this.h.globalAlpha;this.h.globalAlpha=.5*f;this.h.fillRect(-d-20,-c,2*d+40,2*c);this.h.globalAlpha=f}this.h.fillStyle=this.Z;this.h.fillText(a,
-d+2,2);b?this.K?(this.da(),this.j=this.j+4&255):this.h.fillStyle=this.B:this.h.fillStyle=this.m;this.h.fillText(a,-d,0)};kb.prototype.aa=function(a,b,c,d,f,e,g){var k=30*this.s,l=32*this.s,m=this.C.qb,n=60*this.s,q=!0;this.C.da?(n=0,e=this.h.canvas.height/2,this.P=!0):this.P=!1;""!==a&&(q=!1,f=performance.now()-f,this.h.save(),this.C.Z&&(g?(n=0,e=this.h.canvas.height/2):(k/=m,l=l/m|0,e=e/m|0,n=n/m|0)),this.h.font=(k|0)+"px Arial",this.h.translate(this.h.canvas.width/2-1,n+e),f<=b?(e=f/b,e*=e,this.h.globalAlpha=
e,this.h.scale(e,e)):f>b+c&&f<=b+c+d&&(e=(d-(f-(b+c)))/d,e*=e,this.h.globalAlpha=e,this.h.scale(e,e)),f>b+c+d?q=!0:(b=a.indexOf("\\n"),-1===b?this.O(a,g,l):(this.O(a.substring(0,b),g,l),this.h.translate(0,l),this.O(a.substring(b+2),g,l))),this.h.restore());return q};kb.prototype.ba=function(){var a=this.C.i.B;this.aa(this.message,this.G,this.H,this.$,this.startTime,81*a,!1)&&(this.message="");this.C.Z&&"Expand"!==this.i&&"Launch"!==this.i&&"Copy"!==this.i||!this.aa(this.i,this.A,this.D,this.X,this.F,
45*a,!0)||(this.i="")};pb.prototype.K=function(a){this.v=a};pb.prototype.D=function(a,b,c,d){var f=null,e,g=this.A.length,k,l,m=this.R;if(0<this.B.canvas.width){if(!this.De){this.width=this.B.canvas.width;this.height=this.B.canvas.height;this.j=document.createElement("canvas");this.j.width=this.width;this.j.height=this.height;this.m=this.j.getContext("2d");var n=document.createElement("canvas");n.width=this.width;n.height=this.height;this.F=n.getContext("2d");n=document.createElement("canvas");n.width=
this.width;n.height=this.height;this.u=n.getContext("2d");this.m.clearRect(0,0,this.j.width,this.j.height);this.m.drawImage(this.B.canvas,0,0);f=this.m.getImageData(0,0,this.j.width,this.j.height);this.G=new Uint32Array(f.data.buffer)}if(this.s){n=new Uint32Array(this.G);-1===m&&(m=4294901503);for(f=e=0;f<g;f+=1){for(l=38;1<l;--l){var q=e+l*this.width;var p=q-2-this.width-this.width;for(k=38;1<k;--k)0===n[q+k]&&4294967295===n[p+k]&&(n[q+k]=m)}e+=40}for(f=0;f<n.length;f+=1)if(4294967295===n[f]||4285558896===
n[f])n[f]=this.O;f=this.u.createImageData(this.u.canvas.width,this.u.canvas.height);e=new Uint32Array(f.data.buffer);e.set(n);this.u.putImageData(f,0,0);n=new Uint32Array(this.G);for(f=e=0;f<g;f+=1){for(l=38;1<l;--l)for(q=e+l*this.width,p=q-2-this.width-this.width,k=38;1<k;--k)0===n[q+k]&&4294967295===n[p+k]&&(n[q+k]=m);e+=40}for(f=0;f<n.length;f+=1)4294967295===n[f]?n[f]=this.P:4285558896===n[f]&&(n[f]=this.H);f=this.m.createImageData(this.m.canvas.width,this.m.canvas.height);e=new Uint32Array(f.data.buffer);
e.set(n);this.m.putImageData(f,0,0);this.De=this.s=!1}this.De||(this.F.putImageData(f,0,0),this.De=!0);1!==this.v&&(this.i.save(),this.i.translate(b,c),this.i.scale(this.v,this.v),this.i.imageSmoothingEnabled=!0,c=b=0);d?this.i.drawImage(this.u.canvas,a.To*a.width,0,a.width,a.height,b,c,a.width,a.height):this.i.drawImage(this.F.canvas,a.To*a.width,0,a.width,a.height,b,c,a.width,a.height);1!==this.v&&(this.i.restore(),this.i.imageSmoothingEnabled=!1)}};pb.prototype.length=function(){return this.A.length};
pb.prototype.h=function(a){var b,c=this.A,d=this.length(),f=null;for(b=0;b<d&&!f;)c[b].name===a?f=c[b]:b+=1;return f};pb.prototype.add=function(a,b,c){var d=this.A.length;a=new Kb(a,b,c,d);this.A[d]=a};var da={ru:0,ue:1,vertical:2,Om:0,button:1,Rf:2,list:3,label:4,ti:0,zb:1,left:0,UA:1,right:2,ib:0,sc:1,Mr:2,Ib:3,Ql:4,lh:5,wz:6,ed:7,gb:8};Za.prototype.va=function(a){this.ja=a};Za.prototype.j=function(a){!this.N&&a&&(this.N=!0)};Za.prototype.Rb=function(a){this.fontSize=parseInt(a.substring(0,a.indexOf("px")),
10);this.ma=a.substring(a.indexOf("px")+3)};Za.prototype.sa=function(a,b,c,d,f,e){this.hd=a;this.dc=b;this.U=c;this.ha=d;this.D=f;this.P=e;if(this.type===da.list)for(this.K=[],a=0;a<this.lower.length;a+=1)this.K[a]=this.dc};Za.prototype.Sf=function(a){this.H=a};Za.prototype.wa=function(a){this.ga=a};Za.prototype.ff=function(a){this.B=a};Za.prototype.setPosition=function(a,b,c){this.position=a;this.X=b;this.B=c};Za.prototype.ta=function(a,b){var c=this.pa.s,d=this.pa.B,f=this.X*c,e=this.B*d;c*=this.H;
d*=this.ga;this.x=f;this.y=e;this.width=c;this.height=d;switch(this.position){case da.ib:this.x=(a-c>>1)+f;break;case da.sc:this.x=a+f;break;case da.Mr:this.y=(b-d>>1)+e;this.x=a+f;break;case da.Ib:this.x=a+f;this.y=b+e;break;case da.Ql:this.x=(a-c>>1)+f;this.y=b+e;break;case da.lh:this.y=b+e;break;case da.wz:this.y=(b-d>>1)+e;break;case da.gb:this.x=(a-c>>1)+f,this.y=(b-d>>1)+e}};Za.prototype.oa=function(a,b){var c=this.fa;this.Z[c]=[a,b];this.fa=c+1};Za.prototype.ca=function(a){var b=[],c;var d=
a.length;for(c=0;c<d;c+=1)a[c].oa(this,!0);d=b.length;for(c=0;c<d;c+=1)b[c].oa(this,!1)};Za.prototype.ua=function(a,b){var c=!1;this.A&&a>=this.x&&a<this.x+this.width&&b>=this.y&&b<this.y+this.height&&(c=!0);return c};Ya.prototype.ya=function(a){this.B=this.s=a;this.W.notification.s=a};Ya.prototype.Ca=function(a,b,c,d,f,e){var g;this.hd=a;this.dc=b;this.ea=c;this.ga=d;this.fa=f;this.ca=e;for(g=0;g<this.v.length;g+=1)this.v[g].sa(a,b,c,d,f,e)};Ya.prototype.va=function(a,b){var c=!1,d=a.fa;a.type===
da.list&&a.u===da.zb?c=a.current[0]:c=a.current===a.u;if(c&&b)for(b=0;b<d;b+=1)c=c&&this.va(a.Z[b][0],a.Z[b][1]);return c};Ya.prototype.Aa=function(a){var b,c=a.fa;var d=!0;for(b=0;b<c;b+=1)d=d&&this.va(a.Z[b][0],a.Z[b][1]);a.A=d};Ya.prototype.De=function(){var a;for(a=0;a<this.u;a+=1){var b=this.v[a];b.A=!0;switch(b.type){case da.Om:b.v&&(b.current=b.v(b.current,!1,this.caller,b.id));break;case da.list:b.v&&(b.current=b.v(b.current,!1,this.caller,b.id))}this.Aa(b)}};Ya.prototype.m=function(a,b,c,
d,f,e,g,k,l){this.v[this.u]=new Za(this.u,a,this.caller,b,c,d,f,e,g,l,k,da.list,this.U,!0,"","",-1,[],this);this.u+=1;return this.v[this.u-1]};Ya.prototype.G=function(a,b,c,d,f,e,g,k,l,m,n,q){this.v[this.u]=new Za(this.u,a,this.caller,b,c,d,f,e,g,k,l,da.Om,this.U,!0,m,n,q,null,this);this.u+=1;return this.v[this.u-1]};Ya.prototype.j=function(a,b,c,d,f,e){this.v[this.u]=new Za(this.u,null,null,a,b,c,d,f,0,0,0,da.label,this.U,!0,e,"",-1,null,this);this.u+=1;return this.v[this.u-1]};Ya.prototype.i=function(a,
b,c,d,f,e,g){this.v[this.u]=new Za(this.u,a,this.caller,b,c,d,f,e,0,0,0,da.button,this.U,!0,g,"",-1,null,this);this.u+=1;return this.v[this.u-1]};Ya.prototype.Da=function(a){this.v[this.u]=new Za(this.u,null,null,a,0,-40,100,40,0,100,0,da.Rf,this.U,!1,"","",0,null,this);this.u+=1;return this.v[this.u-1]};Ya.prototype.R=function(a,b){var c="";a+=String();if(""!==a){this.h.save();this.h.translate(b.x+b.width/2,b.y+b.height/2);this.h.font=(b.fontSize*this.s|0)+"px "+b.ma;b.Xm===da.vertical&&this.h.rotate(.5*
Math.PI);var d=this.h.measureText(a).width;var f=b.Xm===da.vertical?b.height:b.width;if(d>=f-6){var e=a.length;var g=0;if(e){do c=a.substring(0,g)+"\u2026",d=this.h.measureText(c).width,g+=1;while(g<e&&d<=f-10);c=a.substring(0,g-1)+"\u2026"}a=c}switch(b.i){case da.left:var k=b.width/2-2;break;case da.UA:k=d/2;break;case da.right:k=d/2-(b.width-d)/2+4}this.h.fillStyle=b.dc;this.h.fillText(a,2-k+.5,2.5);this.h.fillStyle=!b.locked&&!this.locked||b.G?b.hd:b.D;this.h.fillText(a,-k+.5,.5);this.h.restore()}};
Ya.prototype.Ia=function(a){this.h.globalAlpha=this.P;this.R(a.Jb,a)};Ya.prototype.Fa=function(a){this.h.globalAlpha=this.P;this.R(a.Jb,a)};Ya.prototype.La=function(a){var b=(a.current-a.lower)/(a.u-a.lower);this.h.globalAlpha=a.s;this.h.fillStyle=a.hd;a.orientation===da.ue?(b*=a.width-3,this.h.fillRect(a.x+(b+1|0),a.y,1,a.height)):(b*=a.height-3,this.h.fillRect(a.x,a.y+(b+1|0),a.width,1));b=a.Jb;a.ra&&(b=-1!==a.aa?b+a.current.toFixed(a.aa):b+a.current,b+=a.qa);""!==b&&(this.h.globalAlpha=a.R,this.R(b,
a))};Ya.prototype.Pa=function(a,b){var c=(a.current[0]-a.lower)/(a.u-a.lower);var d=this.wa;a.orientation===da.ue?(c*=a.width-3,c=c+1|0,b&&(this.h.fillStyle=a.U,this.h.globalAlpha=a.ba,this.h.fillRect(a.x+c-d,a.y,d,a.height),this.h.fillRect(a.x+c+1,a.y,d,a.height)),!a.locked&&!this.locked||a.G?(this.h.fillStyle=a.hd,this.h.globalAlpha=a.R):(this.h.fillStyle=a.D,this.h.globalAlpha=a.O),this.h.fillRect(a.x+c,a.y,1,a.height)):(c*=a.height-3,c=c+1|0,b&&(this.h.fillStyle=a.U,this.h.globalAlpha=a.ba,this.h.fillRect(a.x,
a.y+c-d,a.width,d),this.h.fillRect(a.x,a.y+c+1,a.width,d)),!a.locked&&!this.locked||a.G?(this.h.fillStyle=a.hd,this.h.globalAlpha=a.R):(this.h.fillStyle=a.D,this.h.globalAlpha=a.O),this.h.fillRect(a.x,a.y+c,a.width,1));b=a.Jb;a.ra&&(b=0<=a.aa?b+a.current[1].toFixed(a.aa):b+a.current[1]);b+=a.qa;""!==b&&(this.h.globalAlpha=this.P,this.R(b,a))};Ya.prototype.Ja=function(a,b){var c=a.x;var d=a.y,f=a.width,e=a.height,g=a.orientation,k=a.current;var l=a.lower;var m=l.length;var n=a.orientation===da.ue?
f/m:e/m;this.h.globalAlpha=a.na;this.h.fillStyle=a.ha;if(a.u===da.ti){var q=a.current;0<=q&&q<m&&(a.orientation===da.ue?this.h.fillRect(c+q*n+1,d+1,n-2,e-2):this.h.fillRect(c+1,d+1+q*n,f-2,n-2))}else if(a.orientation===da.ue){for(q=0;q<m;q+=1)k[q]&&this.h.fillRect(c+q*n+1,d+1,n-2,e-2);1===m&&(!a.locked&&!this.locked||a.G?(this.h.strokeStyle=a.P,this.h.globalAlpha=a.$):(this.h.strokeStyle=a.D,this.h.globalAlpha=a.O),this.h.beginPath(),k[0]?(this.h.moveTo(c+n-6+.5,d+5.5),this.h.lineTo(c+n-2+.5,d+1.5),
this.h.moveTo(c+n-2+.5,d+5.5),this.h.lineTo(c+n-6+.5,d+1.5)):(this.h.moveTo(c+n-4+.5,d+5.5),this.h.lineTo(c+n-4+.5,d+1.5),this.h.moveTo(c+n-6+.5,d+3.5),this.h.lineTo(c+n-2+.5,d+3.5)),this.h.stroke())}else for(q=0;q<m;q+=1)k[q]&&this.h.fillRect(c+1,d+1+q*n,f-2,n-2);a.da=!1;b?(this.h.globalAlpha=a.ba,this.h.fillStyle=a.U,a.orientation===da.ue?(q=(this.A-c)/f*m|0,0<=q&&q<m&&(a.m[q]?a.da=!0:this.h.fillRect(c+q*n+.5,d+.5,n-1,e-1))):(q=(this.F-d)/e*m|0,0<=q&&q<m&&(a.m[q]?a.da=!0:this.h.fillRect(c+.5,d+
.5+q*n,f-1,n-1))),a.F=q):a.F=-1;this.h.globalAlpha=this.P;if(a.orientation===da.ue)for(q=0;q<m;q+=1)a.h[q]&&this.$.D(a.h[q],a.x+n*q,a.y,this.locked||a.locked||a.m[q]);else for(q=0;q<m;q+=1)a.h[q]&&this.$.D(a.h[q],a.x,a.y+n*q,this.locked||a.locked||a.m[q]);this.h.globalAlpha=a.R;this.h.fillStyle=a.hd;if(g===da.ue)for(q=0;q<m;q+=1)c=l[q],""!==c&&(this.h.save(),this.h.translate((.5+(q-m/2))*n,0),this.R(c,a),this.h.restore());else for(q=0;q<m;q+=1)c=l[q],""!==c&&(this.h.save(),this.h.translate(0,(.5+
(q-m/2))*n),this.R(c,a),this.h.restore())};Ya.prototype.Ga=function(a,b,c,d,f){var e=!0;b&&!this.D&&f&&(e=!1);e&&(c===d||-1===d&&b)&&a.type===da.button?(this.h.fillStyle=a.U,this.h.globalAlpha=a.ba):(this.h.fillStyle=a.dc,this.h.globalAlpha=a.s);switch(a.type){case da.Rf:f=(a.current-a.lower)/(a.u-a.lower);this.h.fillStyle=a.ha;this.h.globalAlpha=a.na;a.orientation===da.ue?(f*=a.width-3,f=f+1|0,this.h.fillRect(a.x,a.y,f,a.height),this.h.fillStyle=a.dc,this.h.globalAlpha=a.s,this.h.fillRect(a.x+f,
a.y,a.width-f,a.height)):(f*=a.height-3,f=f+1|0,this.h.fillRect(a.x,a.y,a.width,f),this.h.fillStyle=a.dc,this.h.fillRect(a.x,a.y+f,a.width,a.height-f));break;case da.Om:f=(a.current[0]-a.lower)/(a.u-a.lower);if(e&&(c===d||-1===d&&b)){var g=this.wa;if(a.orientation===da.ue){f*=a.width-3;f=f+1|0;var k=f-g;0<k&&this.h.fillRect(a.x,a.y,k,a.height);k=1+f+g;k<a.width&&this.h.fillRect(a.x+k,a.y,a.width-k,a.height)}else f*=a.height-3,f=f+1|0,k=f-g,0<k&&this.h.fillRect(a.x,a.y,a.width,k),k=1+f+g,k<a.height&&
this.h.fillRect(a.x,a.y+k,a.width,a.height-k)}else this.h.fillRect(a.x,a.y,a.width,a.height);break;case da.list:g=a.lower.length;if(a.orientation===da.ue)for(k=a.width/g,f=0;f<g;f+=1)this.h.fillStyle=a.K[f],this.h.fillRect(a.x+f*k+1,a.y+1,k-2,a.height-2);else for(k=a.height/g,f=0;f<g;f+=1)this.h.fillStyle=a.K[f],this.h.fillRect(a.x+1,a.y+1+f*k,a.width-2,k-2);break;default:this.h.fillRect(a.x,a.y,a.width,a.height)}a.type!==da.list&&a.h&&(this.h.globalAlpha=a.R,this.$.D(a.h,a.x,a.y,this.locked||a.locked));
null!==a.ja&&a.ja(this.caller);if(0<a.border)switch(!a.locked&&!this.locked||a.G?(this.h.strokeStyle=a.P,this.h.globalAlpha=a.$):(this.h.strokeStyle=a.D,this.h.globalAlpha=a.O),this.h.lineWidth=a.border,a.type){case da.label:break;case da.list:g=a.lower.length;if(a.orientation===da.ue)for(k=a.width/g,f=0;f<g;f+=1)this.locked||a.locked||a.m[f]?(this.h.strokeStyle=a.D,this.h.globalAlpha=a.O):(this.h.strokeStyle=a.P,this.h.globalAlpha=a.$),this.h.strokeRect(a.x+.5+f*k,a.y+.5,k-1,a.height-1);else for(k=
a.height/g,f=0;f<g;f+=1)this.locked||a.locked||a.m[f]?(this.h.strokeStyle=a.D,this.h.globalAlpha=a.O):(this.h.strokeStyle=a.P,this.h.globalAlpha=a.$),this.h.strokeRect(a.x+.5,a.y+.5+f*k,a.width-1,k-1);break;default:this.h.strokeRect(a.x+.5,a.y+.5,a.width-1,a.height-1)}switch(a.type){case da.button:this.Fa(a);break;case da.label:this.Ia(a);break;case da.Om:this.Pa(a,e&&(c===d||-1===d&&b));break;case da.Rf:this.La(a);break;case da.list:this.Ja(a,e&&(c===d||-1===d&&b))}if(c===d)switch(a.type){case da.Om:e=
this.F,a.orientation===da.vertical?(e<a.y?e=a.y:e>a.y+a.height-1&&(e=a.y+a.height-1),f=(e-a.y)/(a.height-1)*(a.u-a.lower)+a.lower):(e=this.A,e<a.x?e=a.x:e>a.x+a.width-1&&(e=a.x+a.width-1),f=(e-a.x)/(a.width-1)*(a.u-a.lower)+a.lower),a.lower<a.u?(f<a.lower&&(f=a.lower),f>a.u&&(f=a.u)):(f<a.u&&(f=a.u),f>a.lower&&(f=a.lower)),a.current[0]=f,a.v&&(a.current=a.v(a.current,!0,a.caller,a.id))}if(b&&!this.D&&a.ea)switch(a.type){case da.button:a.v&&a.v(a.caller,a.id);break;case da.list:g=a.lower.length,k=
a.orientation===da.ue?(this.A-a.x)/a.width*g|0:(this.F-a.y)/a.height*g|0,a.u===da.ti?a.m[k]||(a.v?a.current=a.v(k,!0,a.caller,a.id):a.current=k):a.m[k]||(a.current[k]=!a.current[k],a.v&&a.v(a.current,!0,a.caller,a.id))}b&&c===d?(a.ea=this.D,a.ka=this.A,a.la=this.F):(a.ea=!1,a.ka=-1,a.la=-1)};Ya.prototype.ba=function(a){this.sa=a};Ya.prototype.Ba=function(){var a,b=!1,c=this.h.canvas.width,d=this.h.canvas.height,f=-1;var e=!1;this.K=-1;if(this.N)this.D?-2!==this.H?(this.ta=this.A,this.ua=this.F,this.ka=
this.A,this.la=this.F,this.H=-2):this.O&&!this.locked&&this.O(this.A,this.F,this.D,this.caller):(-2===this.H&&(this.O&&!this.locked&&this.O(this.A,this.F,this.D,this.caller),this.A===this.ta&&this.F===this.ua&&this.ma&&(this.W.la?this.W.la=!1:this.ma(this.A,this.F,this.D,this.caller))),this.D||(this.H=-1));else{var g=this.H;this.h.textAlign="left";for(a=0;a<this.u;a+=1){var k=this.v[a];if(!k.N){k.ta(c,d);var l=!1;k.ua(this.A,this.F)&&(f=a,!k.locked&&!this.locked||k.G?l=!0:b=!0);l&&!this.D&&(this.K=
a);(this.D&&-1===g&&l||l&&this.da)&&k.type!==da.label&&(g=a,this.da&&(k.ea=!0));a!==g||!k.locked&&!this.locked||k.G||(g=-1,l=!1);k.A&&this.Ga(k,l,a,g,this.W.B)}}0<=g&&!this.D&&(e=!0);this.D&&-1===g&&!b&&(g=-2);-2===g&&this.O&&!this.locked&&this.O(this.A,this.F,this.D,this.caller);this.D||(g=-1);this.H=g;this.h.globalAlpha=1}this.ha=0<=f&&!this.v[f].locked?this.v[f].type===da.Om?this.v[f].orientation===da.ru||this.v[f].orientation===da.ue?"ew-resize":"ns-resize":"auto":this.sa;return e};nb.prototype.au=
function(a,b){this.m[this.h]=a;this.Uv=b;this.h+=1;10<=this.h&&(this.h=0)};nb.prototype.bu=function(a,b){this.s[this.i]=a;this.Vv=b;this.i+=1;10<=this.i&&(this.i=0)};nb.prototype.j=function(a){var b=0,c=a.length,d;if(0<c){for(d=0;d<c;d+=1)b+=a[d];b/=c}return b};nb.prototype.cv=function(){return this.j(this.m)};nb.prototype.dv=function(){return this.j(this.s)};ob.prototype.au=function(a,b){void 0===this.h[a]&&(this.h[a]=new nb(this));this.h[a].au(b,this.i);this.i+=1};ob.prototype.bu=function(a,b){void 0===
this.h[a]&&(this.h[a]=new nb(this));this.h[a].bu(b,this.i);this.i+=1};ob.prototype.cv=function(a){var b=0;this.h[a]&&(b=this.h[a].cv());return b};ob.prototype.dv=function(a){var b=0;this.h[a]&&(b=this.h[a].dv());return b};ob.prototype.j=function(){var a=[],b;for(b in this.h)a[a.length]=b;return a.sort()};ob.prototype.reset=function(){this.h={};this.i=this.Ng=0};Na.prototype.h=function(a,b,c){c?this.sa.bu(a,b):this.sa.au(a,b)};Na.prototype.Hb=function(){this.v.fillStyle=this.hd;var a=this.v.fillStyle;
this.Ab=Number("0x"+a.substring(1,3));this.yb=Number("0x"+a.substring(3,5));this.wb=Number("0x"+a.substring(5,7));this.v.fillStyle=this.Pa;a=this.v.fillStyle;this.tc=Number("0x"+a.substring(1,3));this.pc=Number("0x"+a.substring(3,5));this.oc=Number("0x"+a.substring(5,7))};Na.prototype.Gb=function(){this.qa=[];this.fa=this.oa=0};Na.prototype.Wb=function(){var a=0;0<this.fa&&(a=this.oa/this.fa);this.qa[this.qa.length]=a;this.fa=this.oa=0};Na.prototype.fc=function(a){var b=-1;0<=a&&a<this.qa.length&&
(b=this.qa[a]);return b};Na.prototype.Sb=function(a,b,c,d,f,e,g){this.hd=a;this.dc=b;this.nb=c;this.Pa=d;this.ca=f;this.Ia=e;this.Xa=g;this.i&&this.i.Ca(a,b,c,d,f,e);this.notification.m=a;this.notification.B=a;this.Hb();this.notification.Z=b;this.v.fillStyle=b;this.Va=this.v.fillStyle};Na.prototype.ub=function(a,b,c){a=new Ya(this,a,b,c,this.v,this.va);a.hd=this.hd;a.P=this.Kb;a.dc=this.dc;a.X=this.Ga;a.ea=this.nb;a.pa=this.Lb;a.ga=this.Pa;a.ra=this.Ob;a.fa=this.ca;a.qa=this.Nb;a.ca=this.Ia;a.na=
this.mb;a.border=this.border;return a};Na.prototype.cc=function(){var a=this.i,b=a.s,c=this.v,d="";var f=1;if(-1!==a.H||-1===a.H&&-1===a.K)this.ta=a.H;if(-1===a.K||-1!==this.ta&&this.ta===a.K){if(-1!==a.K){var e=a.v[a.K];e.id===this.Da&&e.F!==this.ua&&(this.ta=-1)}50>this.D&&(this.D+=1)}else{e=a.v[a.K];e.id!==this.Da||e.id===this.Da&&e.F!==this.ua?(this.Da=e.id,this.ua=e.F,50>this.D&&(this.D+=1)):0<=this.D&&--this.D;-1!==this.ua?a=e.Y[this.ua]:Array.isArray(e.Y)?a="":(a=e.Y,null===a&&(a=""));var g=
a.indexOf("\n");if(""!==a&&-1===this.D&&!e.da){this.ta=-1;var k=e.x;var l=e.y;var m=e.width;var n=e.height;-1!==e.F&&(e.orientation===da.ue?(k+=m/e.lower.length*e.F,m/=e.lower.length):(l+=n/e.lower.length*e.F,n/=e.lower.length));var q=18*b;c.font=(q|0)+"px Arial";var p=4*b;var r=c.measureText(a).width;b=Math.round(k+m/2);l=Math.round(l+n/2);b-=r/2;b<p+1?b=p+1:b+r+p>c.canvas.width&&(b=c.canvas.width-r-p-1);n>m?(-1!==this.fb&&m<this.fb&&(m=this.fb),b=b>c.canvas.width/2?k-r-m/2:k+e.width+m/2):(-1!==
this.hb&&n<this.hb&&(n=this.hb),l=l>c.canvas.height/2?l-n:l+n);if(r>c.canvas.width){d=(r>>1)+q+p;d>c.canvas.width&&(d=c.canvas.width);for(f=1;c.measureText(a.substring(0,f)).width<d;)f+=1;for(g=f-1;g>f-5;)d=a[g]," "===d||","===d||"/"===d||"|"===d?(f=g+2,g=f-5):--g;d=a.substring(f-1);a=a.substring(0,f-1);r=c.measureText(a).width;f=c.measureText(d).width;f>r&&(r=f);f=2}else-1!==g&&(d=a.substring(g+1),f=c.measureText(d).width,a=a.substring(0,g),r=c.measureText(a).width,f>r&&(r=f),f=2);g=q*f+2*p;2===
f&&l>c.canvas.height/2&&(l-=q+p,g+=p);c.globalAlpha=this.Ga;c.fillStyle=this.dc;c.fillRect((b-p|0)-.5,(l-q/2-p|0)-.5,r+2+2*p,g);c.globalAlpha=this.mb;c.strokeStyle=this.Ia;c.strokeRect((b-p|0)-.5,(l-q/2-p|0)-.5,r+2+2*p,g);c.globalAlpha=this.Ga;c.strokeStyle=this.dc;c.beginPath();c.moveTo((b-p|0)+.5,(l-q/2-p|0)+.5+g);c.lineTo((b-p|0)+.5+r+2+2*p,(l-q/2-p|0)+.5+g);c.lineTo((b-p|0)+.5+r+2+2*p,(l-q/2-p|0)+.5);c.stroke();c.globalAlpha=1;c.fillStyle=this.dc;c.fillText(a,b+2,l+2);""!==d&&c.fillText(d,b+2,
l+q+p+2);c.fillStyle=this.hd;f=a.indexOf("[");g=a.lastIndexOf("]");-1!==f&&-1!==g?(e=a.substring(0,f+1),r=c.measureText(e).width,c.fillText(e,b,l),c.fillStyle=this.Xa,e=a.substring(f+1,g),c.fillText(e,b+r,l),c.fillStyle=this.hd,e=a.substring(g),r=c.measureText(a.substring(0,g)).width,c.fillText(e,b+r,l)):c.fillText(a,b,l);""!==d&&(f=d.indexOf("["),g=d.lastIndexOf("]"),-1!==f&&-1!==g?(e=d.substring(0,f+1),r=c.measureText(e).width,c.fillText(e,b,l+q+p),c.fillStyle=this.Xa,e=d.substring(f+1,g),c.fillText(e,
b+r,l+q+p),c.fillStyle=this.hd,e=d.substring(g),r=c.measureText(d.substring(0,g)).width,c.fillText(e,b+r,l+q+p)):c.fillText(d,b,l+q+p))}}};Na.prototype.H=function(a,b){var c=a[0],d=a[1];a=a[2];1<b&&(96<b?b=96:2<b&&this.ga(this),c-=b,0>c&&(c=0),d-=b,0>d&&(d=0),a-=b,0>a&&(a=0));return"#"+("00"+c.toString(16)).slice(-2)+("00"+d.toString(16)).slice(-2)+("00"+a.toString(16)).slice(-2)};Na.prototype.bc=function(){var a,b,c=this.v,d=1,f=1,e=this.sa.j(),g=this.sa,k=g.i,l=0,m=[0,0,0],n=[0,0,0],q=c.canvas.width-
264*d;this.i&&(d=this.i.s,f=this.i.B);c.globalAlpha=.7;c.fillStyle=this.dc;c.fillRect(q,193*f|0,264*d|0,(16*e.length+6)*f|0);c.globalAlpha=1;c.fillStyle="black";for(b=0;3>b;b+=2){for(a=0;a<e.length;a+=1){var p=e[a];var r=g.h[p].Uv;var u=g.h[p].Vv;l=r>u?r:u;0<b&&(c.fillStyle=this.H(n,k-l));c.fillText(p,(q+6-b)*d|0,(205-b+16*a)*f|0);var t=g.dv(p);var v=t.toFixed(2);var A=c.measureText(v).width;0<b&&u>r&&(c.fillStyle=this.H(m,k-l));c.fillText(v,(q+160-b-A)*d|0,(205-b+16*a)*f|0);var w=g.cv(p);v=w.toFixed(2);
A=c.measureText(v).width;0<b&&(c.fillStyle=r>u?this.H(m,k-l):this.H(n,k-l));c.fillText(v,(210-b-A+q)*d|0,(205-b+16*a)*f|0);0<g.h[p].Vv&&0<g.h[p].Uv&&0<w&&0<t&&(p=w/t,c.fillStyle=0===b?this.H(n,k-l):1<p?this.H([32,255,32],k-l):this.H([255,0,0],k-l),v=p.toFixed(1)+"x",A=c.measureText(v).width,c.fillText(v,(260-b-A+q)*d|0,(205-b+16*a)*f|0));c.fillStyle=this.H(n,k-l)}m=[32,255,255];n=[255,255,255];c.fillStyle=this.H(n,k-l)}};Na.prototype.nc=function(a){var b,c,d,f=a.v,e=90,g=1,k=1;a.Z&&(e=0);a.Fa=!1;
a.lb=!0;a.na&&(a.i=a.na,a.na=null,f.font=a.va,a.i.De(),a.i.aa&&a.i.aa(a.i.caller));a.i&&(g=a.i.s,k=a.i.B);var l=f.canvas.width-86*g;e*=k;var m=performance.now();a.Za&&(a.Ng=m-1E3/a.ic);a.ka||a.notification.U()||a.O||50!==a.D&&-1!==a.D?(a.ga(a),a.O&&--a.O,a.Za=!1):a.Za=!0;var n=m-a.Ng;a.Ng=m;a.i.oa&&a.i.oa(n,a.i.caller);m=performance.now()-m;var q=performance.now();a.Tb();a.Ja=!1;a.cc();a.notification.ba();q=performance.now()-q;a.$a[a.ra]=q;for(d=b=0;5>d;d+=1)b+=a.$a[d];b/=5;a.eb[a.ra]=m;for(d=c=0;5>
d;d+=1)c+=a.eb[d];c/=5;a.Vr[a.ra]=n;for(d=n=0;5>d;d+=1)n+=a.Vr[d];a.ra=(a.ra+1)%5;d=1E3/(n/5);d>a.ic&&(d=a.ic);0<m+q&&(this.oa+=1E3/(m+q));this.fa+=1;if(a.F){f.font=(12*g|0)+"px Arial";f.globalAlpha=.7;f.fillStyle=a.dc;a.j?V.S?f.fillRect(l,e,88*g|0,103*k|0):f.fillRect(l,e,88*g|0,83*k|0):f.fillRect(l,e,88*g|0,20*k|0);q=(c+b)/16.666666;1<q&&(q=1);f.fillStyle=.5>q?"rgb("+(510*q|0)+",255,0)":"rgb(255,"+(255*(1-2*(q-.5))|0)+",0)";f.fillRect(l,e,88*q*g|0,20*k|0);if(V.S&&a.j){var p=(V.T.Nj+(xa.memory.buffer.byteLength-
V.T.v))/xa.memory.buffer.byteLength;f.fillStyle=.5>p?"rgb("+(510*p|0)+",255,0)":"rgb(255,"+(255*(1-2*(p-.5))|0)+",0)";f.fillRect(l,e+83*k,88*p*g|0,20*k|0)}b=b.toFixed(1);c=c.toFixed(1);m=4>d.toFixed(1).length?d.toFixed(1):String(d|0);f.globalAlpha=1;f.fillStyle=a.dc;f.fillText(m+"fps",l+6*g,e+12*k);V.S&&a.j&&(f.fillText("memory",l+6*g,e+92*k),d=(100*p|0)+"%",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+92*k));d=(100*q|0)+"%";n=f.measureText(d).width;f.fillText(d,l+84*g-n,e+12*k);a.j&&V.S&&a.bc();
if(a.j&&a.B){f.save();f.fillStyle="black";f.font="18px Arial";for(d=0;3>d;)f.fillText(String(a.s),4-d,50-d),f.fillText(a.caller.jl+", "+a.caller.nm,4-d,80-d),f.fillText(String(a.u),4-d,110-d),f.fillText(a.caller.lm+", "+a.caller.rm,4-d,140-d),d+=2,f.fillStyle="white";f.restore()}a.j&&(f.fillStyle="black",f.fillText("menu",l+6*g,e+28*k),f.fillText("work",l+6*g,e+44*k),f.fillText("update",l+6*g,e+60*k),f.fillText("focus",l+6*g,e+76*k),d=b+"ms",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+28*k),
d=c+"ms",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+44*k),d=a.ka?"on":"off",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+60*k),d=a.A?"on":"off",n=f.measureText(d).width,f.fillText(d,l+84*g-n,e+76*k));f.fillStyle=a.hd;f.fillText(m+"fps",l+4*g,e+10*k);d=(100*q|0)+"%";n=f.measureText(d).width;f.fillText(d,l+82*g-n,e+10*k);V.S&&a.j&&(f.fillText("memory",l+4*g,e+90*k),d=(100*p|0)+"%",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+90*k));a.j&&(f.fillText("menu",l+4*g,e+26*k),f.fillText("work",
l+4*g,e+42*k),f.fillText("update",l+4*g,e+58*k),f.fillText("focus",l+4*g,e+74*k),d=b+"ms",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+26*k),d=c+"ms",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+42*k),d=a.ka?"on":"off",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+58*k),d=a.A?"on":"off",n=f.measureText(d).width,f.fillText(d,l+82*g-n,e+74*k));f.globalAlpha=1}a.i.ha!==a.i.ja&&(a.i.ja=a.i.ha,a.R.style.cursor=a.i.ja);V.S?(p=V.dD.toFixed(1)+"ms",f.font=(16*g|0)+"px Arial",f.fillStyle="black",
f.fillText("LifeViewer Pro",3*g,121*k),f.fillText("Alpha release",3*g,141*k),f.fillStyle="white",f.fillText("LifeViewer Pro",2*g,120*k),f.fillText("Alpha release",2*g,140*k),f.font=(12*g|0)+"px Arial",f.fillStyle="black",f.fillText(p,3*g,161*k),f.fillStyle="white",f.fillText(p,2*g,160*k)):""!==V.uz&&(f.font=(16*g|0)+"px Arial",f.fillStyle="black",f.fillText(V.uz,3*g,121*k),f.fillStyle="white",f.fillText(V.uz,2*g,120*k));a.jb=!0};Na.prototype.ja=function(a){a.$=this.Mb;this.i?this.na=a:(this.na=null,
this.i=a,this.v.font=this.va,this.i.De(),this.i.aa&&this.i.aa(this.i.caller),this.ga(this))};Na.prototype.Tb=function(){var a;if(this.i){var b=this.i;this.v.font=this.va;b.A=this.U;b.F=this.X;b.D=this.ha;b.da=this.Ja;if(b.Ba()||this.m){for(a=0;a<b.u;a+=1){var c=b.v[a];b.Aa(c)}this.m=!1}}};Na.prototype.ga=function(a){a.Fa||(requestAnimationFrame?requestAnimationFrame(a.rb):setTimeout(a.rb,16),a.Fa=!0)};Na.prototype.kb=function(){var a=this.ma(this,this.K,this.ba),b=this.ma(this,this.G,this.P);this.pa&&
this.pa(a[0],a[1],b[0],b[1],0,this.caller)};Na.prototype.Cb=function(a){a.identifier===this.s?(a=this.ma(this,this.K,this.ba),this.pa(a[0],a[1],0,0,1,this.caller)):(a=this.ma(this,this.G,this.P),this.pa(a[0],a[1],0,0,2,this.caller))};Na.prototype.Ba=function(){this.we(!0)};Na.prototype.Aa=function(a,b){var c=b.changedTouches,d=c.length,f;switch(b.type){case "touchstart":if(-1===a.s&&-1===a.u)switch(d){case 1:var e=c[0];a.s=e.identifier;a.K=e.pageX;a.ba=e.pageY;a.ea(a,e.pageX,e.pageY);break;case 2:e=
c[0],a.s=e.identifier,a.K=e.pageX,a.ba=e.pageY,e=c[1],a.u=e.identifier,a.G=e.pageX,a.P=e.pageY,a.kb()}else-1===a.s?(a.$(a,a.G,this.P),e=c[0],a.s=e.identifier,a.K=e.pageX,a.ba=e.pageY,a.kb()):-1===a.u&&(a.$(a,this.K,this.ba),e=c[0],a.u=e.identifier,a.G=e.pageX,a.P=e.pageY,a.kb());break;case "touchend":for(f=0;f<d;f+=1)e=c[f],e.identifier===a.s?-1===a.u?(a.$(a,e.pageX,e.pageY),a.s=-1):(a.s=-1,a.Ba(),a.ea(a,a.G,a.P)):e.identifier===a.u&&(-1===a.s?(a.$(a,e.pageX,e.pageY),a.u=-1):(a.u=-1,a.Ba(),a.ea(a,
a.K,a.G)));break;case "touchmove":for(f=0;f<d;f+=1)e=c[f],e.identifier===a.s?-1===a.u?a.Ta(a,e.pageX,e.pageY):(a.K=e.pageX,a.ba=e.pageY,a.Cb(e)):e.identifier===a.u&&(-1===a.s?a.Ta(a,e.pageX,e.pageY):(a.G=e.pageX,a.P=e.pageY,a.Cb(e)));break;case "touchcancel":for(f=0;f<d;f+=1)e=c[f],e.identifier===a.s?-1===a.u?(a.$(a,e.pageX,e.pageY),a.s=-1):(a.s=-1,a.Ba(),a.ea(a,a.G,a.P)):e.identifier===a.u&&(-1===a.s?(a.$(a,e.pageX,e.pageY),a.u=-1):(a.u=-1,a.Ba(),a.ea(a,a.K,a.G)))}a.B=!0;b.stopPropagation&&b.stopPropagation();
b.cancelable&&b.preventDefault()};Na.prototype.ea=function(a,b,c){a.Ua(a,b,c);a.ha=!0;a.lb=!1};Na.prototype.$=function(a,b,c){a.cb=performance.now();a.Ua(a,b,c);a.ha=!1;a.lb||(a.Ja=!0);0<=a.U&&a.U<a.R.width&&0<=a.X&&a.X<a.R.height?a.A||(a.B||a.R.focus(),a.A=!0,a.notification.clear(!0,!1),a.Bb&&a.Bb(a.caller)):a.B&&a.notification.clear(!0,!1)};Na.prototype.Ta=function(a,b,c){a.sb(a);a.Ua(a,b,c)};Na.prototype.kc=function(a){a.sb(a)};Na.prototype.hc=function(a){1<performance.now()-a.cb&&(a.A||a.notification.clear(!0,
!1),a.R.blur(),a.A=!1,a.ha=!1,a.U=-1,a.X=-1,a.la=!1,a.Fa||(a.ga(a),a.O<a.Ca&&(a.O=a.Ca)))};Na.prototype.Xb=function(a,b){if(!a.aa){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.ea(a,c,d);b.stopPropagation&&b.stopPropagation();b.preventDefault();a.B=!1}};Na.prototype.ac=function(a,b){a.cb=performance.now();if(!a.aa){if(b.pageX||b.pageY){var c=b.pageX;
var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.$(a,c,d);b.stopPropagation&&b.stopPropagation();b.preventDefault();a.B=!1}};Na.prototype.sb=function(a){a.A||a.la&&""!==a.notification.i||(a.da?a.La||a.notification.notify("Copy",15,3600,15,!0):a.Z?a.wa?a.Wa?a.La||a.notification.notify("Copy",15,3600,15,!0):a.notification.notify("Launch",15,3600,15,!0):a.notification.notify("Expand",15,
3600,15,!0):a.notification.notify("Click to control",15,3600,15,!0),a.notification.K=!0,a.la=!0)};Na.prototype.Yb=function(a,b){if(!a.aa){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.Ta(a,c,d);b.stopPropagation&&b.stopPropagation();b.preventDefault();a.B=!1}};Na.prototype.$b=function(a,b){a.aa||(a.kc(a),b.stopPropagation&&b.stopPropagation(),b.preventDefault(),
a.B=!1)};Na.prototype.Zb=function(a,b){a.aa||(a.hc(a),b.stopPropagation&&b.stopPropagation(),b.preventDefault(),a.B=!1)};Na.prototype.ec=function(a){for(var b=[1,1],c;null!==a;)c=window.getComputedStyle(a),c=c.getPropertyValue("transform"),"none"!==c&&(c=c.split(", "),c[0]=c[0].substring(7),c[5]=c[5].substring(0,c[5].length-1),b[0]*=parseFloat(c[0]),b[1]*=parseFloat(c[3])),a=a.parentElement;return b};Na.prototype.ma=function(a,b,c){var d=this.R.getBoundingClientRect(),f=a.ec(a.R);window.scrollX?(b-=
d.left+window.scrollX,c-=d.top+window.scrollY):(b-=d.left+window.pageXOffset,c-=d.top+window.pageYOffset);b/=f[0];c/=f[1];1===f[0]&&1===f[1]&&(b/=a.ya,c/=a.ya);return[b-1|0,c-1|0]};Na.prototype.Ua=function(a,b,c){b=a.ma(a,b,c);a.U=b[0];a.X=b[1];a.ga(a);a.O<a.Ca&&(a.O=a.Ca)};Na.prototype.we=function(a){!a&&!this.notification.U()||this.ka||this.ga(this);this.ka=a};var $a={rules:[],fs:[],mk:[],Jr:[],EG:function(a,b,c,d,f){var e,g=this.mk.length,k=!1,l=a.h;l=l.replace(/ /g,"_");for(e=0;e<g&&!k;){var m=
this.mk[e];m.name===l?(k=!0,m.pattern[m.pattern.length]=a,m.cr[m.cr.length]=b,m.xq[m.xq.length]=c,m.tr[m.tr.length]=d,m.view[m.view.length]=f):e+=1}k||(this.mk[g]={name:l,pattern:[a],cr:[b],xq:[c],tr:[d],view:[f]});return k},EH:function(a){var b=0,c=this.Jr.length,d=!1,f="";for(a=a.replace(/ /g,"_");b<c&&!d;)this.Jr[b].name===a?(d=!0,f=this.Jr[b].definition):b+=1;return f},vu:function(){var a,b=!0;for(a=0;a<this.mk.length;a+=1)""!==this.mk[a].name&&(b=!1);b&&V.Lm&&0<V.Sc.length&&V.Sc[0][1]&&V.Sc[0][1].tI()},
XJ:function(a){var b,c=this.mk.length,d=!1,f=a.h;f=f.replace(/ /g,"_");for(a=0;a<c&&!d;){var e=this.mk[a];if(e.name===f)for(d=!0,e.name="",b=0;b<e.cr.length;b+=1)null!==e.cr[b]&&(this.mC(e.pattern[b]),e.pattern[b].W.V="",e.pattern[b].W.ob=!0,e.pattern[b].W.ik=!1,e.cr[b](e.pattern[b],e.tr[b],e.view[b]));else a+=1}this.vu()},Bs:function(a){var b,c=this.mk.length,d=!1,f=a.h;f=f.replace(/ /g,"_");for(a=0;a<c&&!d;){var e=this.mk[a];if(e.name===f)for(d=!0,e.name="",b=0;b<e.xq.length;b+=1)null!==e.xq[b]&&
(e.pattern[b].Ea=e.pattern[b].mE,e.xq[b](e.pattern[b],e.tr[b],e.view[b]));else a+=1}this.vu()},add:function(a,b,c,d,f,e){var g,k=this.rules.length,l=!1,m=a.h;m=m.replace(/ /g,"_");for(g=0;g<k&&!l;)this.rules[g].name===m?l=!0:g+=1;l||(this.rules[k]=null===a.ja?{name:m,dC:!0,Oy:a.na,hJ:a.mb,yJ:a.rb,PG:a.lb,vK:a.eb,wK:a.fb,fo:a.Ia,Sr:a.oa,names:a.kb,ia:a.Nb,PA:e}:{name:m,dC:!1,Oy:a.wa,Im:a.cb,XG:a.Va,output:a.ja,wF:a.Wa,fo:a.Ia,qH:a.qb,Sr:a.oa,names:a.kb,PA:e},this.fs[k]={fetch:b|0,decode:c|0,size:d},
this.Jr[k]={name:m,definition:f},this.XJ(a))},mC:function(a){var b,c=this.rules.length,d=null,f=!1,e=a.h;e=e.replace(/ /g,"_");for(b=0;b<c&&!f;)this.rules[b].name===e?(f=!0,d=this.rules[b]):b+=1;f&&(a.ja=null,d.dC?(a.na=d.Oy,a.mb=d.hJ,a.rb=d.yJ,a.lb=d.PG,a.eb=d.vK,a.fb=d.wK,a.ia=d.ia):(a.wa=d.Oy,a.cb=d.Im,a.Va=d.XG,a.ja=d.output,a.Wa=d.wF,a.qb=d.qH,a.ia=a.cb===Ha.jh?!0:!1),a.Ia=d.fo,a.oa=d.Sr,a.kb=d.names,a.ha=!1,a.W.F=d.PA);return f}},Ha={Hj:0,kh:1,jh:2,nk:3,Cs:-1,xK:0,yK:1,zK:2,BK:3,AK:["circles",
"diamonds","hexagons","triangles"],Ur:-999999};ib.prototype.Yb=function(){var a=!1;this.Ea&&0!==this.H[0]&&(a=!0);return a};ib.prototype.Mb=function(a){var b="";if(this.Da!==a||this.Fa!==a)this.Da!==a&&(b+="C"+this.Da),this.Fa!==a&&(b+="E"+this.Fa);return b};ib.prototype.ac=function(a){this.Ta=a.Ta;this.h=a.h;this.ga=a.ga;this.la=a.la;this.ha=a.ha;this.X=a.X;this.ia=a.ia;this.Aa=a.Aa;this.s=a.s;this.Ga=a.Ga;this.Ua=a.Ua;this.$=a.$;this.ua=a.ua;this.ma=a.ma;this.aa=a.aa;this.A=a.A;this.ra=a.ra;this.Ca=
a.Ca;this.R=a.R;this.ca=a.ca;this.Z=a.Z;this.fa=a.fa;this.Ea=a.Ea;this.v=a.v;this.m=a.m;this.i=a.i;this.G=a.G;this.da=a.da;this.ta=a.ta;this.ka=a.ka;a.B&&(this.B=new Uint8Array(a.B.length),this.B.set(a.B));a.H&&(this.H=new Uint8Array(a.H.length),this.H.set(a.H))};ib.prototype.$b=function(a,b){a.B&&(this.La=b.h(ra.ab,a.B.length,"HROT.altSurvivals",!1),this.La.set(a.B));a.H&&(this.Ja=b.h(ra.ab,a.H.length,"HROT.altBirths",!1),this.Ja.set(a.H));this.Xb=a.R;this.Wb=a.ca;this.Sb=a.Z;this.Tb=a.fa};ib.prototype.cc=
function(){this.X=this.h=this.Ta="";this.ia=this.ha=this.la=this.ga=!1;this.Aa=this.W.pa;this.s=!1;this.Ua=this.Ga=0;this.$=this.W.ha;this.ua=-1;this.aa=this.ma=!1;this.ra=this.A=-1;this.Ea=!1;this.i=this.m=this.v=-1;this.G=2};ib.prototype.bc=function(a){return this.aa!==a.aa||this.Ea!==a.Ea?"Alternate is different rule family":this.W.na?"Alternate can not use Wolfram emulation":(-1===this.i?this.G:this.i)!==(-1===a.i?a.G:a.i)?"Alternate has different number of states":this.la!==a.la||this.ga!==a.ga||
this.ia!==a.ia||this.Aa!==a.Aa||this.s!==a.s||this.$!==a.$||this.ma!==a.ma||-1===this.ua&&-1!==a.ua||-1!==this.ua&&-1===a.ua||this.ra!==a.ra||this.m!==a.m?"Alternate has different neighborhood":this.A!==a.A||this.v!==a.v?"Alternate has different range":this.ha||a.ha?"Alternate can not use none":this.da!==a.da||this.ta!==a.ta||this.ka!==a.ka?"Alternate has different neighbourhood":""};za.prototype.gd=function(a,b,c){var d,f,e=0,g=0,k=0,l=!1;var m=b.length;for(d=f=0;d<m;){var n=b[d];d+=1;switch(f){case 0:switch(n){case "!":f=
1;a.u+="#C ";var q=!0;break;case "O":case "o":case "*":case ".":f=2;g=e=k=0;var p=--d}break;case 1:"\r"!==n&&"\n"!==n&&(" "===n?q||(a.title+=n,a.u+=n):(q=!1,a.title+=n,a.u+=n));"\n"===n&&(f=0,a.u+=n,a.title+=" ");break;case 2:switch(n){case "O":case "o":case "*":case ".":g+=1;break;case "\n":k+=1;g>e&&(e=g);g=0;break;case " ":case "\t":break;default:d=m,l=!0}}}if(!l){2===f&&"\n"!==n&&(k+=1,g>e&&(e=g));a.height=k;a.width=e;a.$a="Cells";a.P=Array.matrix(ra.Ya,a.height,(a.width-1>>4)+1,0,c,"Pattern.lifeMap",
!1);d=p;for(f=e=0;d<m;)switch(n=b[d],d+=1,n){case "\n":e+=1;f=0;break;case "O":case "o":case "*":a.P[e][f>>4]|=1<<(~f&15);f+=1;break;case ".":f+=1}this.ob=!0;"#C "===a.u&&(a.u="");this.Aa(a,"",c,!1)}};za.prototype.fd=function(a,b,c){var d,f;var e=b.length;var g=[];var k=0;var l=!1;var m=f=0;var n=!1;for(d=10;d<e;){var q=b[d];d+=1;switch(q){case "\n":n&&(n=!1,2===p&&l&&(m=-m,l=!1),g[k]=[f,m],k+=1);var p=m=f=0;break;case "-":l=!0;0===p?p=1:1===p&&(p=2);break;case " ":1===p&&(l&&(f=-f,l=!1),p=2);break;
case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===p&&(p=1),1===p?f=10*f+parseInt(q,10):(m=10*m+parseInt(q,10),n=!0)}}n&&(2===p&&l&&(m=-m),g[k]=[f,m],k+=1);if(k){e=b=g[0][0];p=q=g[0][1];for(d=1;d<k;d+=1)f=g[d][0],m=g[d][1],f<b&&(b=f),f>e&&(e=f),m<q&&(q=m),m>p&&(p=m);a.height=p-q+1;a.width=e-b+1;a.P=Array.matrix(ra.Ya,a.height,(a.width-1>>4)+1,0,c,"Pattern.lifeMap",!1);a.$a="Life 1.06";this.Aa(a,"",c,!1);for(d=0;d<k;d+=1)f=g[d][0]-b,m=g[d][1]-q,a.P[m][f>>
4]|=1<<(~f&15)}};za.prototype.bc=function(a,b,c,d){var f,e,g=[],k=0,l=b.length;var m="";var n=!1;var q=0,p=0,r=!1,u=!1,t=0,v=0;c=c?10:0;for(this.ob=!0;c<l&&!u;){var A=b[c];c+=1;switch(q){case 0:switch(A){case "#":q=2;break;case "*":case ".":q=3;var w=e=f=0;var B=--c}break;case 2:switch(A){case "C":case "D":q=1;a.u+="#C ";var C=!0;break;case "N":q=0;break;case "R":q=4;break;case "P":q=5;p=0;r=!1;v=t=0;break;case "\n":q=0;break;default:q=1,C=!0}break;case 1:"\r"!==A&&"\n"!==A&&(" "===A?C||(a.title+=
A,a.u+=A):(C=!1,a.title+=A,a.u+=A));"\n"===A&&(q=0,a.title+=" ",a.u+=A);break;case 4:"\n"===A?q=0:(m+=A,n=!0);break;case 5:switch(A){case "\n":q=0;2===p&&r&&(v=-v,r=!1);break;case "-":r=!0;0===p?p=1:1===p&&(p=2);break;case " ":1===p&&(r&&(t=-t,r=!1),p=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===p&&(p=1),1===p?t=10*t+parseInt(A,10):v=10*v+parseInt(A,10)}break;case 3:switch(A){case "\n":f>e&&(e=f);f=0;w+=1;break;case "#":g[k]=new Bb(t,v,e,w,
B,c-1);k+=1;q=2;break;case "*":case ".":f+=1;break;case " ":case "\t":break;default:u=!0}}}"\n"!==A&&(w+=1);3===q&&(g[k]=new Bb(t,v,e,w,B,c-1),k+=1);if(k&&!u){t=g[0].mp;v=g[0].np;A=t+g[0].width-1;f=v+g[0].height-1;for(c=1;c<k;c+=1)g[c].mp<t&&(t=g[c].mp),g[c].np<v&&(v=g[c].np),g[c].mp+g[c].width-1>A&&(A=g[c].mp+g[c].width-1),g[c].np+g[c].height-1>f&&(f=g[c].np+g[c].height-1);a.height=f-v+1;a.width=A-t+1;a.P=Array.matrix(ra.Ya,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap",!1);a.$a="Life 1.05";a.ba=
Array.matrix(ra.ab,a.height,a.width,0,d,"Pattern.multiStateMap",!1);n?(this.Cb(a,m,!1,d),this.ob?0<=a.i||a.O||(a.ba=null):(a.i=-1,a.O=!1,a.D=!1,a.U=!1)):this.Aa(a,"",d,!1);for(c=0;c<k;c+=1)for(d=g[c].PK,m=g[c].rH,f=g[c].mp-t,A=g[c].np-v,n=f,e=A;d<=m;)switch(A=b[d],d+=1,A){case "\n":e+=1;n=f;break;case "*":a.P[e][n>>4]|=1<<(~n&15);a.ba&&(a.ba[e][n]=1);n+=1;break;default:n+=1}}};za.prototype.ga=function(a,b,c,d){var f=0,e,g,k;c&&(f=4);for(g=0;8192>g;g+=8)for(k=0;4>k;k+=1){c=0;for(e=g+k&d;0<e;)c+=e&
1,e>>=1;b===c&&(a[g+k+f]=1)}};za.prototype.Fa=function(a,b,c,d){var f=0,e,g,k;c&&(f=16);for(g=0;512>g;g+=32)for(k=0;16>k;k+=1){c=0;for(e=g+k&d;0<e;)c+=e&1,e>>=1;b===c&&(a[g+k+f]=1)}};za.prototype.Jd=function(a){return(a&7)<<6|(a&448)>>6|a&56};za.prototype.Dc=function(a){return(a&4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};za.prototype.be=function(a,b,c){var d;for(d=0;4>d;d+=1)a[b]=c,b=this.Dc(b);b=this.Jd(b);for(d=0;4>d;d+=1)a[b]=c,b=this.Dc(b)};za.prototype.Yd=
function(a,b,c,d,f,e){var g=c?16:0;if(2>b||4<b)this.Fa(a,b,c,e);else if(c="omp".indexOf(d),-1!==c)for(b=this.Wd[b-2][c],c=0;c<b.length;c+=1)d=b[c]+g,a[d]=f,a[d+256]=f,a[d+1]=f,a[d+257]=f};za.prototype.ae=function(a,b,c,d,f){var e=0,g=b-1;0===b||8===b?this.Fa(a,b,c,511):(3<g&&(g=6-g,e=495),b=this.Ec[g].indexOf(d),-1!==b&&(e^=this.Cd[g][b],c&&(e|=16),this.be(a,e,f)))};za.prototype.Ic=function(a,b,c,d){var f=b.length,e=0,g="",k;for(k=0;k<f;k+=1){var l=b.charCodeAt(k)-48;e|=1<<l;this.Fa(a,l,c,d)}for(k=
0;9>k;k+=1)0!==(e&1<<k)&&(g+=String(k));return g};za.prototype.wb=function(a){for(var b=0;a;)b+=1,a&=a-1;return b};za.prototype.Tc=function(a,b){var c="",d=0;if(b[a]){b=b[a];0!==(b&8192)&&(d=1,b&=-8193);var f=this.wb(b);var e=2>a||4<a?0:3;2<=f&&(b=~b&(1<<e)-1)&&(d=1-d);if(!d||b)for(c+=String(a),d&&(c+="-"),a=0;a<e;a+=1)0!==(b&1<<a)&&(c+="omp"[a])}else c+=String(a);return c};za.prototype.Wc=function(a,b){var c="",d=0;if(b[a]){b=b[a];0!==(b&8192)&&(d=1,b&=-8193);var f=this.wb(b);var e=this.Od[a];(d||
7!==f||13!==e)&&f+d>e>>1&&(b=~b&(1<<e)-1)&&(d=1-d);if(!d||b)for(c+=String(a),d&&(c+="-"),f=0;f<e;f+=1)d=this.Rd[a][f],0!==(b&1<<d)&&(c+=this.Ec[3][d])}else c+=String(a);return c};za.prototype.Gc=function(a,b,c,d){var f=b.length,e=0,g=[],k="",l;b+=" ";for(l=0;7>l;l+=1)g[l]=0;for(l=0;l<f;l+=1){var m=b.charCodeAt(l)-48;if(0<=m&&8>=m){var n=0!==(e&1<<m);e|=1<<m;var q=b[l+1];var p=this.qb[m].indexOf(q);-1!==p||n||this.Fa(a,m,c,d);var r=1;"-"===q&&(r=0,l+=1,q=b[l+1],p=this.qb[m].indexOf(q));-1!==p||"0"<=
q&&"9">=q||" "===q||(this.V=(c?"S":"B")+m+q+" not valid",l=f);n&&(n=0,0===(g[m]&8192)&&(n=1),n!==r&&(this.V=(c?"S":"B")+m+" can not have minus and non-minus",p=-1,l=f));for(;-1!==p;)0!==(g[m]&1<<p)?(this.V="Duplicate "+m+this.qb[m][p],p=-1,l=f):(this.Yd(a,m,c,q,r,d),g[m]|=1<<p,r||(g[m]|=8192),l+=1,q=b[l+1],p=this.qb[m].indexOf(q))}else this.V="Missing digit prefix"}for(l=0;7>l;l+=1)0!==(e&1<<l)&&(k+=this.Tc(l,g));return k};za.prototype.Hc=function(a,b,c){var d=b.length,f=0,e=[],g="",k;b+=" ";for(k=
0;9>k;k+=1)e[k]=0;for(k=0;k<d;k+=1){var l=b.charCodeAt(k)-48;if(0<=l&&8>=l){var m=0!==(f&1<<l);f|=1<<l;var n=b[k+1];var q=this.rb[l].indexOf(n);-1!==q||m||this.Fa(a,l,c,511);var p=1;"-"===n&&(p=0,k+=1,n=b[k+1],q=this.rb[l].indexOf(n));-1!==q||"0"<=n&&"9">=n||" "===n||(this.V=(c?"S":"B")+l+n+" not valid",k=d);m&&(m=0,0===(e[l]&8192)&&(m=1),m!==p&&(this.V=(c?"S":"B")+l+" can not have minus and non-minus",q=-1,k=d));for(;-1!==q;)0!==(e[l]&1<<q)?(this.V="Duplicate "+l+this.rb[l][q],q=-1,k=d):(this.ae(a,
l,c,n,p),e[l]|=1<<q,p||(e[l]|=8192),k+=1,n=b[k+1],q=this.rb[l].indexOf(n))}else this.V="Missing digit prefix"}for(k=0;9>k;k+=1)0!==(f&1<<k)&&(g+=this.Wc(k,e));return g};za.prototype.ac=function(a,b){var c;for(c=0;512>c;c+=1)a[c]=0!==(b&1<<(c&7))?1:0!==(c&16)?1:0};za.prototype.yb=function(a,b,c){var d=12,f=8191,e=a.Ga,g=a.Ua;switch(a.$){case this.la:d=3;f=this.ge;break;case this.ma:d=9;f=this.me;break;case this.ua:d=6;f=this.he;break;case this.va:d=6;f=this.ie;break;case this.ta:d=9;f=this.fe;break;
case this.wa:d=3,f=this.le}b.fill(0);c&&c.fill(0);if(0!==(e&1))if(0!==(g&1<<d)){e=~e;g=~g;for(a=0;a<=d;a+=1)g&1<<d-a&&this.ga(b,a,!1,f);for(a=0;a<=d;a+=1)e&1<<d-a&&this.ga(b,a,!0,f);c.set(b)}else{for(a=0;a<=d;a+=1)~e&1<<a&&this.ga(c,a,!1,f);for(a=0;a<=d;a+=1)~g&1<<a&&this.ga(c,a,!0,f);for(a=0;a<=d;a+=1)g&1<<d-a&&this.ga(b,a,!1,f);for(a=0;a<=d;a+=1)e&1<<d-a&&this.ga(b,a,!0,f);this.ca=!0}else{for(a=0;a<=d;a+=1)0!==(e&1<<a)&&this.ga(b,a,!1,f);for(a=0;a<=d;a+=1)0!==(g&1<<a)&&this.ga(b,a,!0,f);c&&c.set(b)}};
za.prototype.cd=function(a,b,c,d,f){var e=this.Tb,g="",k="";switch(f){case this.la:e=this.Ob;break;case this.ma:e=this.Sb;break;case this.ua:e=this.Lc;break;case this.va:e=this.Mc;break;case this.ta:e=this.Kc;break;case this.wa:e=this.Nc}for(f=a.Ga=0;f<b.length;f+=1){var l=e.indexOf(b[f]);a.Ga|=1<<l}for(f=a.Ua=0;f<c.length;f+=1)l=e.indexOf(c[f]),a.Ua|=1<<l;for(f=0;f<e.length;f+=1)0!==(a.Ga&1<<f)&&(g+=e[f]);for(f=0;f<e.length;f+=1)0!==(a.Ua&1<<f)&&(k+=e[f]);return-1!==d?k+"/"+g+"/"+d:"B"+g+"/S"+k};
za.prototype.bd=function(a,b,c,d,f){var e=0,g=this.ee;var k=(1<<this.Ba+1)/6|0;var l=new Uint8Array(512),m=a.ga,n=a.la,q=a.ia;var p=a.Aa;var r=a.s,u=a.$,t=a.ma,v=a.i;if(a.ha)c=this.oc;else if(m||n)for(c=m?"M":"2PCA4,",p=0;16>p;p+=1)c+=f[p],15>p&&(c+=",");else if(r)c=this.cd(a,b,c,v,u);else{a=511;q?a=p===this.qa?114:254:t&&(a=186);l.fill(0);f.fill(0);for(p=0;p<l.length;p+=1)g[p]=q?p:(p&448)>>6|p&56|(p&7)<<6;if(""!==d){c="MAP";for(p=0;p<k;p+=1)c+=d[p],b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(d[p]),
l[e]=b>>5,e+=1,l[e]=b>>4&1,e+=1,l[e]=b>>3&1,e+=1,l[e]=b>>2&1,e+=1,l[e]=b>>1&1,e+=1,l[e]=b&1,e+=1;b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(d[p]);l[e]=b>>5;l[e+1]=b>>4&1;c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b&48];for(p=0;512>p;p+=1){d=0;k=this.Ba;for(e=8;0<=e;--e)0!==(a&1<<e)&&(0!==(p&1<<e)&&(d|=1<<k),--k);f[g[p]]=l[d]}-1!==v&&(c+="/"+v)}else t?(e=this.Ic(f,b,!1,a),f=this.Ic(f,c,!0,a)):q?(e=this.Gc(f,b,!1,a),f=this.Gc(f,c,!0,a)):(e=
this.Hc(f,b,!1),f=this.Hc(f,c,!0)),c=-1!==v?f+"/"+e+"/"+v:"B"+e+"/S"+f}return c};za.prototype.Cc=function(a){var b=a,c=0;if(-1!==a.indexOf(" "))for(b="";c<a.length;)" "!==a[c]&&(b+=a[c]),c+=1;return b};za.prototype.Qc=function(a,b,c){return"0"+((a&2)>>1)*b+(a&1)*b+"00000"+((a&4)>>2)*b+c+"\n"};za.prototype.Kd=function(a,b){var c="n_states:3\nneighborhood:Moore\nsymmetries:none\n",d;for(d=0;8>d;d+=1)0===(b&1<<d)&&(c+=this.Qc(d,1,2));for(d=7;0<=d;--d)0!==(b&1<<7-d)&&(c+=this.Qc(d,2,1));b=new Ua(c,!0);
this.nc(a,b);b=new Ua(G.oL,!0);this.ec(a,b);this.na=!0};za.prototype.Hd=function(a,b,c){for(var d=!0,f=0,e,g=1;g<b.length&&d;)e="0123456789".indexOf(b[g]),-1!==e?f=10*f+e:(this.V="Illegal character in Wolfram rule",d=!1),g+=1;if(d)if(0>f||255<f)this.V="Wolfram rule number must be from 0-255",d=!1;else{if(0!==(f&1))if(0!==(f&128)){e=f;for(g=b=0;8>g;g+=1)f&1<<g&&(b|=1<<7-g);for(g=f=0;8>g;g+=1)0===(b&1<<g)&&(f|=1<<g);this.ac(c,f);f=e;a.ua=f}else this.Kd(a,f);else this.ac(c,f),a.ua=f;a.h="W"+f}return d};
za.prototype.Xc=function(a,b,c){var d=null;if(""===b)if(a.ia)a.h+="H",a.Aa===this.qa&&(a.h+="T");else if(a.ma)a.h+="V";else if(a.s)switch(a.$){case this.ha:a.h+=this.Ia.toUpperCase();break;case this.la:a.h+=this.Ga.toUpperCase();break;case this.ma:a.h+=this.Ja.toUpperCase();break;case this.ua:a.h+=this.lb.toUpperCase();break;case this.va:a.h+=this.mb.toUpperCase();break;case this.ta:a.h+=this.kb.toUpperCase();break;case this.wa:a.h+=this.nb.toUpperCase()}c||(d=eb.Bq(a.h));if(null===d&&a.aa&&0===a.Ca){b=
"R"+a.A+",C"+a.i+",M1,S"+a.R+".."+a.ca+",B"+a.Z+".."+a.fa+",N";switch(a.ra){case this.i:b+="M";break;case this.j:b+="N";break;case this.Z:b+="C";break;case this.P:b+="+";break;case this.U:b+="X";break;case this.X:b+="*";break;case this.$:b+="2";break;case this.G:b+="H";break;case this.O:b+="B";break;case this.K:b+="D";break;case this.R:b+="#";break;case 10:b+="@"+a.ka+a.da;break;case this.D:b+="3";break;case this.A:b+="A";break;case this.H:b+="L";break;case this.v:b+="G";break;case 15:b+="W"+a.ka+
a.da;break;case this.u:b+="F"+a.Mb(a.A)}d=eb.Bq(b)}a.O&&(a.h+="History");a.D&&(a.h+="Super");a.U&&(a.h+="Investigator");-1!==a.j&&(a.h+=":"+"ptkcs"[a.j].toUpperCase(),a.h+=a.K,a.yb||(a.h+="*"),a.wb&&(a.h+="*"),a.pa&&(a.h=0>a.pa?a.h+a.pa:a.h+("+"+a.pa)),4!==a.j&&(a.h+=","+a.ea,a.Ab&&(a.h+="*"),a.qa&&(a.h=0>a.qa?a.h+a.qa:a.h+("+"+a.qa))));null!==d&&(""===d&&(d="Life"),a.O&&(d+="History"),a.D&&(d+="Super"),a.U&&(d+="Investigator"),a.X=d)};za.prototype.oe=function(a,b){var c=86,d=a.length;d>=c?this.Ba=
8:(c=this.Xa,d>=c?(this.Ba=6,b.ia=!0):(c=this.Za,d>=c?(this.Ba=4,b.ma=!0):c=-1));if(0<=c)for(b=0;b<c;b+=1)-1==="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[b])&&(c=-1);return c};za.prototype.s=function(a,b,c,d,f,e){var g=0,k=b.length,l=a.substring(this.h,this.h+k),m=e.A;if(l!==b)","===b[0]&&(","===l[0]&&(l=l.substring(1)),b=b.substring(1)),this.V="LtL expected '"+b.toUpperCase()+"' got '"+l.toUpperCase()+"'",this.h=-1;else if(","===b[0]&&(b=b.substring(1)),this.h+=
k,this.h<a.length?(k=a[this.h],l=k.charCodeAt(0)):(k="",l=-1),"n"===b)switch(k){case "m":this.h+=1;g=this.i;break;case "n":this.h+=1;g=this.j;break;case "c":this.h+=1;g=this.Z;break;case "+":this.h+=1;g=this.P;break;case "x":this.h+=1;g=this.U;break;case "*":this.h+=1;g=this.X;break;case "2":this.h+=1;g=this.$;break;case "h":this.h+=1;g=this.G;break;case "b":this.h+=1;g=this.O;break;case "d":this.h+=1;g=this.K;break;case "#":this.h+=1;g=this.R;break;case "@":this.h+=1;g=this.tc(a,m,"LtL",e);-1===
g&&(this.h=-1);break;case "3":this.h+=1;g=this.D;break;case "a":this.h+=1;g=this.A;break;case "l":this.h+=1;g=this.H;break;case "g":this.h+=1;g=this.v;break;case "w":this.h+=1;g=this.Bc(a,m,"LtL",e);-1===g&&(this.h=-1);break;case "f":this.h+=1;g=this.pc(a,m,"LtL",e);-1===g&&(this.h=-1);break;default:this.V="LtL 'N' [ABCDFGHLMNWX23*+#@] got 'N"+k.toUpperCase()+"'",this.h=-1}else if(48>l||57<l)this.V="LtL '"+f+b.toUpperCase()+"' needs a number",this.h=-1;else{for(;48<=l&&57>=l;)g=10*g+(l-48),this.h+=
1,this.h<a.length?l=a[this.h].charCodeAt(0):l=-1;-1!==c&&g<c&&(this.V="LtL '"+f+b.toUpperCase()+g+"' < "+c,this.h=-1);-1!==d&&g>d&&(this.V="LtL '"+f+b.toUpperCase()+g+"' > "+d,this.h=-1)}return g};za.prototype.sa=function(a,b,c){var d=0;switch(b){case this.i:d=(2*a+1)*(2*a+1)-1;break;case this.j:d=2*a*(a+1);break;case this.Z:c=0;var f=a*a+a;for(b=-a;b<=a;b+=1){for(d=0;(d+1)*(d+1)+b*b<=f;)d+=1;c+=2*d+1}d=c-1;break;case this.P:d=4*a;break;case this.U:d=4*a;break;case this.X:d=8*a;break;case this.$:c=
0;f=a*a;for(b=-a;b<=a;b+=1){for(d=0;(d+1)*(d+1)+b*b<=f;)d+=1;c+=2*d+1}d=c-1;break;case this.G:d=(2*a+1)*(2*a+1)-a*(a+1)-1;break;case this.O:d=((2*a+1)*(2*a+1)-1)/2;break;case this.K:d=((2*a+1)*(2*a+1)-1)/2;break;case this.R:d=8*a;break;case 10:d=c;break;case this.D:d=3*a;break;case this.A:d=6*a;break;case this.H:d=(4*a+1)*(2*a+1)-2*a*a-1;break;case this.v:d=(a+1)*(a+1)*(a+1)*(a+1);break;case 15:d=c;break;case this.u:d=8}return d};za.prototype.qd=function(a,b){var c=!1;this.h=0;var d=this.s(b,"r",
1,500,"",a);-1!==this.h&&(a.A=d,d=this.s(b,",c",0,256,"",a),-1!==this.h&&(2>d&&(d=2),a.i=d,d=this.s(b,",m",0,1,"",a),-1!==this.h&&(a.Ca=d,d=this.s(b,",s",0,-1,"",a),-1!==this.h&&(a.R=d,d=this.s(b,"..",a.R,-1,"S",a),-1!==this.h&&(a.ca=d,d=this.s(b,",b",0,-1,"",a),-1!==this.h&&(a.Z=d,d=this.s(b,"..",a.Z,-1,"B",a),-1!==this.h&&(a.fa=d,d=this.s(b,",n",-1,-1,"",a),-1!==this.h&&(a.ra=d,c=!0))))))));c&&(this.h!==b.length?(c=!1,this.V="LtL invalid characters after rule"):(b=this.sa(a.A,a.ra,a.ta),b+=a.Ca,
a.Z>b&&(c=!1,this.V="LtL 'B"+a.Z+"..' > "+b),a.fa>b&&(c=!1,this.V="LtL 'B.."+a.fa+"' > "+b),a.R>b&&(c=!1,this.V="LtL 'S"+a.R+"..' > "+b),a.ca>b&&(c=!1,this.V="LtL 'S.."+a.ca+"' > "+b)));return c};za.prototype.td=function(a,b){var c=!1;this.h=0;a.i=2;a.Ca=1;a.ra=this.i;var d=this.s(b,"",1,500,"",a);-1!==this.h&&(a.A=d,d=this.s(b,",",0,-1,"",a),-1!==this.h&&(a.Z=d,d=this.s(b,",",a.Z,-1,"B",a),-1!==this.h&&(a.fa=d,d=this.s(b,",",0,-1,"",a),-1!==this.h&&(a.R=d,d=this.s(b,",",a.R,-1,"S",a),-1!==this.h&&
(a.ca=d,c=!0)))));c&&(this.h!==b.length?(c=!1,this.V="LtL invalid characters after rule"):(b=(2*a.A+1)*(2*a.A+1),a.Z>b&&(c=!1,this.V="LtL 'B"+a.Z+"..' > "+b),a.fa>b&&(c=!1,this.V="LtL 'B.."+a.fa+"' > "+b),a.R>b&&(c=!1,this.V="LtL 'S"+a.R+"..' > "+b),a.ca>b&&(c=!1,this.V="LtL 'S.."+a.ca+"' > "+b)));return c};za.prototype.sd=function(a,b){var c=!1;this.h=0;-1===a.i&&(a.i=2);a.Ca=1;a.ra=this.i;var d=this.s(b,"r",1,500,"",a);-1!==this.h&&(a.A=d,d=this.s(b,"b",0,-1,"",a),-1!==this.h&&(a.Z=d,d=this.s(b,
"t",a.Z,-1,"B",a),-1!==this.h&&(a.fa=d,d=this.s(b,"s",0,-1,"",a),-1!==this.h&&(a.R=d,d=this.s(b,"t",a.R,-1,"S",a),-1!==this.h&&(a.ca=d,c=!0)))));c&&(this.h!==b.length?(c=!1,this.V="LtL invalid characters after rule"):(b=(2*a.A+1)*(2*a.A+1),a.Z>b&&(c=!1,this.V="LtL 'B"+a.Z+"' > "+b),a.fa>b&&(c=!1,this.V="LtL 'B..T"+a.fa+"' > "+b),a.R>b&&(c=!1,this.V="LtL 'S"+a.R+"..' > "+b),a.ca>b&&(c=!1,this.V="LtL 'S..T"+a.ca+"' > "+b)));return c};za.prototype.yc=function(a,b,c,d,f){var e=!1,g,k="HROT.",l,m=0;if(this.h+
c>a.length)this.V="HROT '"+b+"' needs "+c+" hex digits";else{for(g=l=0;l<c&&-1!==g;)g="0123456789abcdef".indexOf(a[this.h]),-1!==g&&(this.h+=1,l+=1);if(-1===g)this.V="HROT '"+b+"' expected hex got '"+a[this.h]+"'";else{"B"===b?k+="births":(k+="survivals",m=1);f=f.h(ra.ab,(c<<2)+1+m,k,V.S);e=0;f[e]=0;e+=1;--l;"S"===b&&(f[e]=0,e+=1);for(;0<=l;)g="0123456789abcdef".indexOf(a[this.h-c+l]),--l,f[e]=255*(g&1),e+=1,f[e]=255*(g>>1&1),e+=1,f[e]=255*(g>>2&1),e+=1,f[e]=255*(g>>3&1),e+=1;"B"===b?d.H=f:d.B=f;
e=!0}}return e};za.prototype.oa=function(a,b){var c=-1;this.h+=1;if(this.h<a.length){var d=a[this.h].charCodeAt(0);if(48>d||57<d)this.V="HROT '"+b+"' needs a number";else for(c=d-48,this.h+=1,d=-1,this.h<a.length&&(d=a[this.h].charCodeAt(0));48<=d&&57>=d;)c=10*c+(d-48),this.h+=1,this.h<a.length?d=a[this.h].charCodeAt(0):d=-1}else this.V="HROT '"+b+"' needs a number";return c};za.prototype.Ab=function(a){var b=-1;this.h<a.length&&("#"===a[this.h+1]?(this.h+=2,b=-2):b=this.oa(a,"P"));return b};za.prototype.fc=
function(a,b,c,d,f){var e=!0;f&&"S"===c&&(d+=1);var g=this.oa(a,c);-1===g&&(this.V="");for(;e&&-1!==g;){var k=-1;this.h<a.length&&"-"===a[this.h]&&(k=this.oa(a,c),-1===k&&(this.V="HROT '"+c+g+"-' needs a number",e=!1));if(e&&(-1===k&&(k=g),g>k&&(this.V="HROT '"+c+g+"-"+k+"' wrong order",e=!1),e)){"S"===c?(this.cb=k,f&&(g+=1,k+=1)):this.$a=k;g>d&&(g=d);for(k>d&&(k=d);g<=k;g+=1)b[g]=255;g=-1;this.h<a.length&&","===a[this.h]&&(g=this.oa(a,c),-1===g&&(--this.h,this.V=""))}}return e};za.prototype.Bc=function(a,
b,c,d){var f=this.h,e=a.length,g=(2*b+1)*(2*b+1),k=g+g,l=0,m=0,n=[],q=[],p=0,r=15;for(d.da="";f<e&&-1!=="0123456789abcdef".indexOf(a[f]);)f+=1;b=f-this.h;if(b===g)for(;this.h<f;)g="0123456789abcdef".indexOf(a[this.h]),0!==(g&8)&&(g=-(g&7)),n[n.length]=g,this.h+=1;else if(b===k)for(;this.h<f;)g="0123456789abcdef".indexOf(a[this.h])<<4,this.h+=1,g|="0123456789abcdef".indexOf(a[this.h]),this.h+=1,0!==(g&128)&&(g=-(g&127)),n[n.length]=g;else this.V=c+" 'NW' needs "+String(g)+" or "+String(k)+" hex digits",
r=-1;if(-1!==r)if(","===a[this.h]){for(f=this.h+=1;f<e&&-1!=="0123456789abcdef".indexOf(a[f]);)f+=1;l=f-this.h;if(l!==d.i)this.V=c+" 'NW' needs "+String(d.i)+" state weights",r=-1;else for(f=0;f<d.i;f+=1)g="0123456789abcdef".indexOf(a[this.h]),this.h+=1,q[q.length]=g,g>p&&(p=g)}else p=1;-1!==r&&this.h<e&&("h"===a[this.h]?(d.da="H",this.h+=1,m=1):"l"===a[this.h]&&(d.da="L",this.h+=1,m=1));if(-1!==r){for(c=g=0;c<n.length;c+=1)0<n[c]&&(g+=n[c]*p);d.ka=0<q.length?a.substring(this.h-(b+l+1)-m,this.h-m).toLowerCase():
a.substring(this.h-b-m,this.h-m).toLowerCase();d.ta=g;d.Kb=n;d.Lb=q}-1===r&&(d.ka="",d.ta=-1,d.Kb=null,d.Lb=null);return r};za.prototype.zc=function(a,b){for(var c=0,d,f=!1,e=!1;!e&&this.h<b;)d=a.charCodeAt(this.h),48<=d&&57>=d?(f=!0,c=10*c+(d-48),this.h+=1):e=!0;f||(c=-1);return c};za.prototype.pc=function(a,b,c,d){var f=a.length,e=-1,g=-1,k=-1;if(this.h>=f)return d.Da=b,d.Fa=b,k=this.u;var l=a[this.h].toUpperCase();for(this.h+=1;"C"===l||"E"===l;){if("C"===l)if(-1===e){if(e=this.zc(a,f),-1===e&&
(e=b),1>e||500<e)return this.V=c+" 'NF' invalid corner range",k}else return this.V=c+" 'NF' duplicate 'C'",k;else if(-1===g){if(g=this.zc(a,f),-1===g&&(g=b),1>g||500<g)return this.V=c+" 'NF' invalid edge range",k}else return this.V=c+" 'NF' duplicate 'E'",k;this.h<f?(l=a[this.h].toUpperCase(),this.h+=1):l=""}""!==l&&--this.h;d.Da=-1===e?b:e;d.Fa=-1===g?b:g;return k=this.u};za.prototype.tc=function(a,b,c,d){var f=this.h,e=a.length,g=0;b=((2*b+1)*(2*b+1)-1)/4;var k=0,l=10;for(d.da="";f<e&&g<b&&-1!==
l;){var m="0123456789abcdef".indexOf(a[f]);0<=m?(f+=1,g+=1,k+=this.wb(m)):l=-1}g!==b&&(l=-1);-1===l?(this.V=c+" 'N@' needs "+String(b)+" hex digits",d.ka="",d.ta=-1):(d.ka=a.substring(this.h,this.h+g).toLowerCase(),d.ta=k,this.h+=g,f<e&&("h"===a[f]?(d.da="H",this.h+=1):"l"===a[f]&&(d.da="L",this.h+=1)));return l};za.prototype.de=function(a,b){var c=a.A,d;a.v=c;a.m=a.ra;c=this.sa(c,a.ra,a.ta);c+=a.Ca;a.B=b.h(ra.ab,c+2,"HROT.survivals",V.S);a.H=b.h(ra.ab,c+1,"HROT.births",V.S);for(d=a.R;d<=a.ca;d+=
1)a.B[d]=255;for(d=a.Z;d<=a.fa;d+=1)a.H[d]=255;if(this.ca){a.La=b.h(ra.ab,c+2,"HROT.altSurvivals",V.S);a.Ja=b.h(ra.ab,c+1,"HROT.altBirths",V.S);for(d=a.Xb;d<=a.Wb;d+=1)a.La[d]=255;for(d=a.Sb;d<=a.Tb;d+=1)a.Ja[d]=255}a.Ea=!0};za.prototype.md=function(a,b,c){var d=!1,f=0,e=!0,g=b.indexOf(",n"),k=b.indexOf(",p");this.cb=this.$a=this.h=0;if("r"!==b[this.h])this.V="HROT expected 'R' got '"+b[this.h].toUpperCase()+"'";else{var l=this.oa(b,"R");-1!==l&&(1>l?this.V="HROT 'R' < 1":500<l?this.V="HROT 'R' > 500":
(a.v=l,d=!0))}d&&(d=!1,this.h<b.length?","!==b[this.h]?this.V="HROT expected ',' got "+b[this.h].toUpperCase():(this.h+=1,this.h<b.length?"c"!==b[this.h]?this.V="HROT expected 'C' got "+b[this.h].toUpperCase():(l=this.oa(b,"C"),-1!==l&&(0>l?this.V="HROT 'C"+l+"' < 0":256<l?this.V="HROT 'C"+l+"' > 256":(2>l&&(l=2),a.i=l,d=!0))):this.V="HROT expected 'C'"):this.V="HROT expected ','");if(d){l=this.h;this.h=g;e=!0;a.m=this.i;if(-1!==this.h&&this.h<b.length&&","===b[this.h]){d=!1;this.h+=1;if(this.h<b.length)if("n"===
b[this.h])if(this.h+=1,this.h<b.length)switch(b[this.h]){case "m":a.m=this.i;this.h+=1;d=!0;break;case "n":a.m=this.j;this.h+=1;d=!0;break;case "c":a.m=this.Z;this.h+=1;d=!0;break;case "+":a.m=this.P;this.h+=1;d=!0;break;case "x":a.m=this.U;this.h+=1;d=!0;break;case "*":a.m=this.X;this.h+=1;d=!0;break;case "2":a.m=this.$;this.h+=1;d=!0;break;case "h":a.m=this.G;this.h+=1;d=!0;break;case "b":a.m=this.O;this.h+=1;d=!0;break;case "d":a.m=this.K;this.h+=1;d=!0;break;case "#":a.m=this.R;this.h+=1;d=!0;
break;case "@":this.h+=1;a.m=this.tc(b,a.v,"HROT",a);-1!==a.m&&(d=!0);break;case "3":a.m=this.D;this.h+=1;d=!0;break;case "a":a.m=this.A;this.h+=1;d=!0;break;case "l":a.m=this.H;this.h+=1;d=!0;break;case "g":a.m=this.v;e=!1;this.h+=1;d=!0;break;case "w":this.h+=1;a.m=this.Bc(b,a.v,"HROT",a);-1!==a.m&&(e=!1,d=!0);break;case "f":this.h+=1;a.m=this.pc(b,a.v,"HROT",a);-1!==a.m&&(d=!0);break;default:this.V="HROT 'N' [ABCDFGHLMNWX23*+#@] got '"+b[this.h].toUpperCase()+"'"}else this.V="HROT 'N' needs a neighborhood";
else this.V="HROT expected 'N' got '"+b[this.h].toUpperCase()+"'";else this.V="HROT expected 'N'";g=this.h}f=this.sa(a.v,a.m,a.ta);this.h=l}a.m===this.v&&50<a.v&&(this.V="HROT 'R' > 50",d=!1);d&&(d=!1,this.h<b.length?","!==b[this.h]?this.V="HROT expected ',' got "+b[this.h].toUpperCase():(this.h+=1,this.h<b.length?"s"!==b[this.h]?this.V="HROT expected 'S' got "+b[this.h].toUpperCase():(a.B=c.h(ra.ab,f+2,"HROT.survivals",V.S),d=this.fc(b,a.B,"S",f,e)):this.V="HROT expected 'S'"):this.V="HROT expected ','");
d&&(d=!1,this.h<b.length?","!==b[this.h]?this.V="HROT expected ',' got "+b[this.h].toUpperCase():(this.h+=1,this.h<b.length?"b"!==b[this.h]?this.V="HROT expected 'B' got "+b[this.h].toUpperCase():(a.H=c.h(ra.ab,f+1,"HROT.births",V.S),d=this.fc(b,a.H,"B",f,e)):this.V="HROT expected 'B'"):this.V="HROT expected ','");d&&(-1!==g&&(this.h=g),a.Bb=!1,a.Za=-1,a.jb=-1,a.hb=-1,-1!==k&&k===this.h&&(a.Bb=!0,this.h+=2,this.h<b.length&&(--this.h,l=this.Ab(b),-1!==l&&((0>l||100<l)&&-2!==l?this.V="HROT P values need to be from 0 to 100 or #":
(a.Za=l,a.jb=l,this.h<b.length&&","===b[this.h]&&(l=this.Ab(b),-1!==l&&((0>l||100<l)&&-2!==l?this.V="HROT P values need to be from 0 to 100 or #":(a.Za=l,this.h<b.length&&","===b[this.h]&&(l=this.Ab(b),-1!==l&&((0>l||100<l)&&-2!==l?this.V="HROT P values need to be from 0 to 100 or #":a.hb=l))))))))),this.h!==b.length&&(d=!1,this.V="HROT invalid characters after rule"),this.cb>f&&(d=!1,this.V="HROT 'S"+this.cb+"' > "+f),d&&this.$a>f&&(d=!1,this.V="HROT 'B"+this.$a+"' > "+f));d&&(a.Ea=!0);return d};
za.prototype.ld=function(a,b,c){var d=!1,f=0;this.h=0;-1===a.i&&(a.i=2);if("r"!==b[this.h])this.V="HROT expected 'R' got '"+b[this.h].toUpperCase()+"'";else{var e=-1;this.h+=1;this.h<b.length&&(e=b[this.h].charCodeAt(0));if(48>e||57<e)this.V="HROT 'R' needs a number";else{var g=e-48;this.h+=1;e=-1;for(this.h<b.length&&(e=b[this.h].charCodeAt(0));48<=e&&57>=e;)g=10*g+(e-48),this.h+=1,this.h<b.length?e=b[this.h].charCodeAt(0):e=-1;1>g?this.V="HROT 'R' < 1":500<g?this.V="HROT 'R' > 500":(a.v=g,d=!0,
f=g*(g+1))}}d&&(d=!1,this.h<b.length?"b"!==b[this.h]?this.V="HROT expected 'B' got "+b[this.h].toUpperCase()+"'":(this.h+=1,d=this.yc(b,"B",f,a,c)):this.V="HROT expected 'B'");d&&(d=!1,this.h<b.length?"s"!==b[this.h]?this.V="HROT expected 'S' got "+b[this.h].toUpperCase()+"'":(this.h+=1,d=this.yc(b,"S",f,a,c)):this.V="HROT expected 'S'");d&&this.h<b.length&&"z"===b[this.h]&&(a.B[1]=1,this.h+=1);d&&(this.h!==b.length?(d=!1,this.V="HROT invalid characters after rule"):(a.m=this.i,a.Ea=!0));return d};
za.prototype.Xb=function(a,b){for(var c=a.length,d=-1,f="",e=0;e<c;)255===a[e]?-1===d&&(d=e):-1!==d&&(""!==f&&(f+=","),f+=d+b,e-1!==d&&(f+="-"+(e-1+b)),d=-1),e+=1;-1!==d&&(""!==f&&(f+=","),f+=d+b,e-1!==d&&(f+="-"+(e-1+b)));return f};za.prototype.Aa=function(a,b,c,d){var f="",e=!1;this.na=!1;if(!d){var g=eb.Cq(b);null!==g&&(f=eb.Bq(g),b=g)}g=b.indexOf("|");if(-1===g)(e=this.Gb(a,b,c,this.m,d))&&a.s&&this.yb(a,this.Nb,this.Mb);else{var k=!1;var l=eb.Cq(b.substring(0,g));null!==l&&-1!==l.indexOf("|")&&
(k=!0);l=eb.Cq(b.substring(g+1));null!==l&&-1!==l.indexOf("|")&&(k=!0);if(-1!==b.substring(g+1).indexOf("|")||k)this.V="Only one alternate allowed";else if(e=this.Gb(a,b.substring(0,g),c,this.ba,d))if(k=new ib(a.name,this),k.ac(a),a.cc(),e=this.Gb(a,b.substring(g+1),c,this.m,d))if(this.V=a.bc(k),""===this.V)if(a.Ea&&(0!==a.H[0]||0!==k.H[0])||!a.s&&(this.m[0]||this.ba[0])||a.s&&0!==(a.Ga&1)||0!==(k.Ga&1))this.V="Alternate not supported with B0",a.Ea&&(a.h=k.Ta),e=!1;else{a.s&&(this.yb(k,this.Mb,null),
this.yb(a,this.Nb,null));if(""!==f)a.X=f;else if(""!==a.X||""!==k.X)""===a.X&&(a.X=a.h),""===k.X&&(k.X=k.h),a.X=k.X+"|"+a.X;a.h=k.h+"|"+a.h;f=eb.Bq(a.h);null!==f&&(a.X=f);(a.Ea||a.aa)&&a.$b(k,c);this.ca=!0}else a.Ta=k.Ta,e=!1}return e};za.prototype.wd=function(a,b){var c=!0,d=a.length,f=0;if("2pca4"!==a.substring(0,5))this.V="PCA rule must start with 2PCA4",c=!1;else{var e=5;var g=-1;if(","!==a[e])c=!0;else for(e+=1;c&&16>f&&e<d;)if(e<d){var k=a[e];e+=1;"0"<=k&&"9">=k?(-1===g&&(g=0),g=10*g+k.charCodeAt(0)-
48):","===k?15<g?(this.V="Value must be from 0 to 15",c=!1):(b[f]=g,f+=1,g=-1):(this.V="Illegal character found in rule",c=!1)}c&&(-1===g?(this.V=16===f?"Extra characters found after rule":"Need 16 values",c=!1):15<g?(this.V="Value must be from 0 to 15",c=!1):(b[f]=g,16!==f+1&&(this.V="Need 16 values",c=!1)))}return c};za.prototype.ud=function(a,b){var c=!0,d=0,f=a.length,e,g=0;if("m"!==a[d])this.V="Margolus rule must start with M",c=!1;else{d+=1;"s,d"===a.substring(d,d+3)&&(d+=3);for(e=-1;c&&16>
g&&d<f;)if(d<f){var k=a[d];d+=1;"0"<=k&&"9">=k?(-1===e&&(e=0),e=10*e+k.charCodeAt(0)-48):","===k||";"===k?15<e?(this.V="Value must be from 0 to 15",c=!1):(b[g]=e,g+=1,e=-1):(this.V="Illegal character found in rule",c=!1)}c&&(-1===e?(this.V=16===g?"Extra characters found after rule":"Need 16 values",c=!1):15<e?(this.V="Value must be from 0 to 15",c=!1):(b[g]=e,16!==g+1&&(this.V="Need 16 values",c=!1)))}return c};za.prototype.Gb=function(a,b,c,d,f){var e=!1,g=null,k=null,l=null,m="012345678ceaiknjqrytwz-";
var n=this.Kb.length;var q=this.Wa.length;var p=this.Ia.length;var r=this.Ga.length,u=this.Ja.length;var t=this.lb.length;var v=this.mb.length,A=this.kb.length,w=this.nb.length,B=this.sb.length,C="";d[0]=0;if(!f){var O=eb.Cq(b);null!==O&&(""===b&&(a.h="Life"),b=O)}if("map"===b.substring(0,3).toLowerCase()){C=b.substring(3);var M=C.indexOf("/");-1===M?"=="===C.substring(C.length-2)&&(C=C.substring(0,C.length-2)):"=="===C.substring(M-2,M)&&(C=C.substring(0,M-2)+C.substring(M));b=this.oe(C,a);if(0<=
b)if(e=!0,l=C.substring(b),C=C.substring(0,b),"/"===l[0]){O=1;a.i=0;O<l.length&&("g"===l[O].toLowerCase()||"c"===l[O].toLowerCase())&&(O+=1);for(M=0;O<l.length&&-1!==M;)M="0123456789".indexOf(l[O]),-1!==M?a.i=10*a.i+M:(this.V="Illegal character in generations number",a.i=-1,e=!1),O+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.V="Generations number must be 2-256",a.i=-1,e=!1)}else""!==l&&(O=l.length,this.V="MAP length must be "+this.Za+", "+this.Xa+" or 86 not "+(O+b),e=!1);else this.V=86===C.length||C.length===
this.Xa||C.length===this.Za?"MAP contains illegal base64 character":"MAP length must be "+this.Za+", "+this.Xa+" or 86 not "+C.length}else if(b=b.toLowerCase(),b=this.Cc(b),"2pca4"===b.substring(0,5)){if(e=this.wd(b,d))a.la=!0,a.i=16}else if("m"===b[0]){if(e=this.ud(b,d))a.ga=!0}else{e=!0;if("g"===b[0]){O=1;for(M=a.i=0;O<b.length&&-1!==M;)M="0123456789".indexOf(b[O]),-1!==M&&(a.i=10*a.i+M,O+=1);1<O&&(2>a.i||256<a.i?(this.V="Generations number must be 2-256",a.i=-1,e=!1):(O<b.length&&"/"===b[O]&&(O+=
1),b=b.substring(O),e=!0))}if(e&&(M=b.lastIndexOf("g"),-1!==M&&M!==b.length-1&&!(0<M&&"/"===b[M-1]))){O=M+1;for(M=a.i=0;O<b.length&&-1!==M;)M="0123456789".indexOf(b[O]),-1!==M&&(a.i=10*a.i+M,O+=1);O===b.length?2>a.i||256<a.i?(this.V="Generations number must be 2-256",a.i=-1,e=!1):(b=b.substring(0,b.lastIndexOf("g")),e=!0):a.i=-1}if(e)if(e=!1,"r"===b[0]||"1"<=b[0]&&"9">=b[0]&&-1!==b.indexOf(",")){if(e="r"===b[0]?-1!==b.indexOf(".")?this.qd(a,b):-1!==b.indexOf("t")&&-1===b.indexOf("n")?this.sd(a,b):
-1!==b.indexOf(",")?this.md(a,b,c):this.ld(a,b,c):this.td(a,b))if(a.Ea){a.m===this.u&&(a.Da>a.v&&(a.v=a.Da),a.Fa>a.v&&(a.v=a.Fa));l=15===a.m||a.m===this.v?0:-1;a.h="R"+a.v+",";a.h+="C"+a.i+",";a.h+="S"+this.Xb(a.B,l)+",";a.h+="B"+this.Xb(a.H,0);if(a.m!==this.i)switch(a.h+=",N",a.m){case this.j:a.h+="N";break;case this.Z:a.h+="C";break;case this.P:a.h+="+";break;case this.U:a.h+="X";break;case this.X:a.h+="*";break;case this.$:a.h+="2";break;case this.G:a.h+="H";break;case this.O:a.h+="B";break;case this.K:a.h+=
"D";break;case this.R:a.h+="#";break;case 10:a.h+="@"+a.ka+a.da;break;case this.D:a.h+="3";break;case this.A:a.h+="A";break;case this.H:a.h+="L";break;case this.v:a.h+="G";break;case 15:a.h+="W"+a.ka+a.da;break;case this.u:a.h+="F"+a.Mb(a.v)}a.Bb&&(a.h+=",P",-1!==a.jb&&(a.h+=-2===a.jb?"#":a.jb,-1!==a.Za&&(a.h+=","+(-2===a.Za?"#":a.Za),-1!==a.hb&&(a.h+=","+(-2===a.hb?"#":a.hb)))))}else{a.ra===this.u&&(a.Da>a.A&&(a.A=a.Da),a.Fa>a.A&&(a.A=a.Fa));a.aa=!0;a.h="R"+a.A+",C"+a.i+",M"+a.Ca+",S"+a.R+".."+a.ca+
",B"+a.Z+".."+a.fa+",N";switch(a.ra){case this.i:a.h+="M";break;case this.j:a.h+="N";break;case this.Z:a.h+="C";break;case this.P:a.h+="+";break;case this.U:a.h+="X";break;case this.X:a.h+="*";break;case this.$:a.h+="2";break;case this.G:a.h+="H";break;case this.O:a.h+="B";break;case this.K:a.h+="D";break;case this.R:a.h+="#";break;case 10:a.h+="@"+a.ka+a.da;break;case this.D:a.h+="3";break;case this.A:a.h+="A";break;case this.H:a.h+="L";break;case this.v:a.h+="G";break;case 15:a.h+="W"+a.ka+a.da;
break;case this.u:a.h+="F"+a.Mb(a.A)}0===a.Ca&&(a.R+=1,a.ca+=1)}}else if("w"===b[0])e=this.Hd(a,b,d);else if(c=b.lastIndexOf(this.Ia),-1!==c&&c===b.length-p&&(a.s=!0,a.$=this.ha,b=b.substring(0,b.length-p),m=this.Tb),c=b.lastIndexOf(this.Ga),-1!==c&&c===b.length-r&&(a.s=!0,a.$=this.la,b=b.substring(0,b.length-r),m=this.Ob),c=b.lastIndexOf(this.Ja),-1!==c&&c===b.length-u&&(a.s=!0,a.$=this.ma,b=b.substring(0,b.length-u),m=this.Sb),c=b.lastIndexOf(this.lb),-1!==c&&c===b.length-t&&(a.s=!0,a.$=this.ua,
b=b.substring(0,b.length-t),m=this.Lc),c=b.lastIndexOf(this.mb),-1!==c&&c===b.length-v&&(a.s=!0,a.$=this.va,b=b.substring(0,b.length-v),m=this.Mc),c=b.lastIndexOf(this.kb),-1!==c&&c===b.length-A&&(a.s=!0,a.$=this.ta,b=b.substring(0,b.length-A),m=this.Kc),c=b.lastIndexOf(this.nb),-1!==c&&c===b.length-w&&(a.s=!0,a.$=this.wa,b=b.substring(0,b.length-w),m=this.Nc),t=b.lastIndexOf(this.Kb),-1!==t&&t===b.length-n&&(a.ia=!0,a.Aa=this.qa,b=b.substring(0,b.length-n),m=this.ne),t=b.lastIndexOf(this.Wa),-1!==
t&&t===b.length-q&&(a.ia=!0,a.Aa=this.pa,b=b.substring(0,b.length-q),m=this.Jc),t=b.lastIndexOf(this.sb),-1!==t&&t===b.length-B&&(a.ma=!0,b=b.substring(0,b.length-B),m=this.Oc),n=b.indexOf("/"),-1===n&&(n=b.indexOf("_")),-1!==n&&(t=b.lastIndexOf("/"),-1===t&&(t=b.lastIndexOf("_")),t!==n&&(l=b.substring(t+1),b=b.substring(0,t),c=b.lastIndexOf(this.Ia),-1!==c&&c===b.length-p&&(a.s=!0,a.$=this.ha,b=b.substring(0,b.length-p),m=this.Tb),c=b.lastIndexOf(this.Ga),-1!==c&&c===b.length-r&&(a.s=!0,a.$=this.la,
b=b.substring(0,b.length-r),m=this.Ob),c=b.lastIndexOf(this.Ja),-1!==c&&c===b.length-u&&(a.s=!0,a.$=this.ma,b=b.substring(0,b.length-u),m=this.Sb),t=b.lastIndexOf(this.Wa),-1!==t&&t===b.length-q&&(a.ia=!0,b=b.substring(0,b.length-q),m=this.Jc),t=b.lastIndexOf(this.sb),-1!==t&&t===b.length-B&&(a.ma=!0,b=b.substring(0,b.length-B),m=this.Oc))),b===this.oc)a.ha=!0,a.i=256,e=!0;else{q=b.indexOf("b");p=b.indexOf("s");-1===n?0===q||0===p?-1===p?(g=b,k=""):-1===q?(k=b,g=""):q<p&&-1!==p?(g=b.substring(q+1,
p),k=b.substring(p+1)):(k=b.substring(p+1,q),g=b.substring(q+1)):this.V="Unsupported rule name":(-1===q&&-1!==p?q=n:-1!==q&&-1===p&&(p=n),q<p?(g=b.substring(0,n),k=b.substring(n+1)):(g=b.substring(n+1),k=b.substring(0,n)));-1!==q&&g&&"b"===g[0]&&(g=g.substring(1));-1!==p&&k&&"s"===k[0]&&(k=k.substring(1));if(null!==l)if(O=0,-1!==a.i)this.V="Generations defined twice",g=null;else{a.i=0;O<l.length&&("g"===l[O].toLowerCase()||"c"===l[O].toLowerCase())&&(O+=1);for(M=0;O<l.length&&-1!==M;)M="0123456789".indexOf(l[O]),
-1!==M?a.i=10*a.i+M:(this.V="Illegal character in generations number",a.i=-1,g=null),O+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.V="Generations number must be 2-256",a.i=-1,g=null)}if(null!==g&&null!==k){e=!0;for(O=0;O<g.length;)M=m.indexOf(g[O]),-1===M?(this.V="Illegal character in birth specification",e=!1,O=g.length):O+=1;if(e)for(O=0;O<k.length;)M=m.indexOf(k[O]),-1===M?(this.V="Illegal character in survival specification",e=!1,O=k.length):O+=1}}}e&&a.Yb()&&(15===a.m||a.m===this.v)&&(this.V="B0 currently not supported",
e=!1);e&&-1===a.ua&&!this.na&&!1===a.aa&&!1===a.Ea&&(d=this.bd(a,String(g),String(k),C,d),""===this.V?a.h=d:e=!1,2===a.i&&(a.i=-1));e?this.Xc(a,C,f):(a.aa=!1,a.Ea=!1,a.i=-1,a.ha=!0);return e};za.prototype.ya=function(a,b,c){var d=0,f=0,e=b.length-1,g=!1,k=!0,l,m=0,n=0,q=0,p=0,r=this.aa;a.nb=-1;for(l=b[d];!g;){var u=l;l=b[d+1];var t=-1;switch(u){case "#":for(d+=1;"\n"!==l&&d<e;)d+=1,l=b[d];d<e?l=b[d+1]:d===e&&--d;break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":"0"===
u&&0===p&&(this.V="Leading zero in count",g=a.va=!0);p=10*p+parseInt(u,10);break;case "b":t=0;break;case "o":t=1;break;case ".":t=0;break;case "z":t=19;a.D=!0;a.Pa=!0;break;case "$":0===p&&(p=1);q+=p;c[f]=p;c[f+1]=-1;f+=2;p=0;n>m&&(m=n);n=0;break;case "!":0===p&&(p=1);q+=p;p=0;n>m&&(m=n);g=!0;break;default:k=!1,"A"<=u&&"X">=u?(k=!0,t=u.charCodeAt(0)-64):"p"<=u&&"y">u?"A"<=l&&"X">=l?(k=!0,t=24*(u.charCodeAt(0)-111)+(l.charCodeAt(0)-64),d+=1,l=b[d+1]):"x"===u&&(k=!0,a.D=!0,a.Pa=!0,t=15):"y"===u&&("A"<=
l&&"O">=l?(k=!0,t=24*(u.charCodeAt(0)-111)+(l.charCodeAt(0)-64),d+=1,l=b[d+1]):(k=!0,a.D=!0,a.Pa=!0,t=17))}0<=t&&(0===p&&(p=1),c[f]=p,c[f+1]=t,f+=2,0===r[t]&&(a.Xa+=1),r[t]+=p,t>=a.G&&(a.G=t+1),t>=a.nb&&(a.nb=t),n+=p,p=0);k||(" "===u||"\t"===u||"\r"===u||"\n"===u?0===p?k=!0:(this.V="Illegal whitespace in pattern",g=a.va=!0):(this.V="Illegal character in pattern: "+u,this.fa=g=a.va=!0));d+=1;d===e&&(g||(0===p&&(p=1),q+=p,p=0,n>m&&(m=n)),g=!0)}0===m&&(q=m=1);a.width=m;a.height=q;if(16384<m||16384<q)a.Ba=
!0,a.$a="RLE";a.$a="RLE";a.va?(d=-1,a.D=!1,a.Pa=!1):a.P=[];return d};za.prototype.Bb=function(a,b,c){var d=0,f=a.height,e=a.width,g=0,k=0,l=!(a.O||a.U||a.D)&&-1===a.i,m;a.P=Array.matrix(ra.Ya,f,(e-1>>4)+1,0,c,"Pattern.lifeMap",!1);a.ba=Array.matrix(ra.ab,f,e,0,c,"Pattern.multiStateMap",!1);e=a.ba[k];for(m=a.P[k];d<b.length;)if(f=b[d],c=b[d+1],d+=2,-1===c)g=0,k+=f,e=a.ba[k],m=a.P[k];else if(0<c)for(;0<f;){e[g]=-1===a.i?c:2===a.i?1===c?y.xa:0:c<a.i?c:1;if(l&&1===c||(a.O||a.D)&&c&1||-1!==a.i&&1===c)m[g>>
4]|=1<<(~g&15);g+=1;--f}else g+=f};za.prototype.$d=function(a,b){var c=b.indexOf("\n");-1===c&&(c=b.length);a.Hb=b.substring(0,c).trim()};za.prototype.jb=function(a,b,c){for(var d=!1;b<c&&!d;)" "===a[b]?b+=1:d=!0;return b};za.prototype.Vd=function(a){var b=a.indexOf("\n"),c=0,d=!1,f=!1,e=0;-1===b&&(b=a.length);for(;e<b&&!d;)"="===a[e]?d=!0:" "!==a[e]?d=!0:e+=1;if(d&&"="===a[e]){e=this.jb(a,e+1,b);e<b&&"-"===a[e]&&(f=!0,e+=1);for(d=!1;e<b&&!d;){var g="0123456789".indexOf(a[e]);-1!==g?(c=10*c+g,e+=
1):d=!0}this.ub=!0;f&&(c=-c);this.Hb=c}};za.prototype.Ac=function(a,b){var c=a.indexOf("\n"),d=0,f=0,e=!1,g=!1,k=!1,l=0;-1===c&&(c=a.length);if(b){for(;l<c&&!k;)"="===a[l]?k=!0:" "!==a[l]?k=!0:l+=1;k&&"="===a[l]&&(l+=1)}else k=!0;if(k&&(l=this.jb(a,l,c),l<c)){"-"===a[l]&&(e=!0,l+=1);for(k=!1;l<c&&!k;)b="0123456789".indexOf(a[l]),-1!==b?(d=10*d+b,l+=1):k=!0;this.La=!0;this.eb=e?-d:d;l=this.jb(a,l,c);if(l<c&&","===a[l]&&(l=this.jb(a,l+1,c),l<c)){"-"===a[l]&&(g=!0,l+=1);for(k=!1;l<c&&!k;)b="0123456789".indexOf(a[l]),
-1!==b?(f=10*f+b,l+=1):k=!0;this.fb=g?-f:f}}};za.prototype.Zc=function(a,b){var c=a.indexOf("XRLE",b);b=a.indexOf("\n",b);var d=c;-1!==c&&(c=a.indexOf("Pos",c),-1!==c&&c<b&&this.Ac(a.substring(c+3),!0),c=a.indexOf("Gen",d),-1!==c&&c<b&&this.Vd(a.substring(c+3)))};za.prototype.Vc=function(a,b){var c=b.indexOf("\n");-1===c&&(c=b.length);a.Zb[a.Zb.length]=b.substring(0,c).trim()};za.prototype.Zd=function(a,b){var c=b.indexOf("\n");-1===c&&(c=b.length);a.name=b.substring(0,c).trim()};za.prototype.Ta=
function(a,b,c,d,f){var e=c.indexOf("\n",d);-1===e&&(e=c.length);c=c.substring(d,e);a.Ob.push(c.trim());c=(b+c).replace(/[ \t]+$/g,"");f?a.sb.push(c):a.ub.push(c);return e+1-d};za.prototype.B=function(a){var b=0;a+=" ";var c="0123456789".indexOf(a[this.h]);if(-1!==c)for(b=0;-1!==c;)b=10*b+c,this.h+=1,c="0123456789".indexOf(a[this.h]);return b};za.prototype.Ed=function(a,b){var c=this.B(b),d=!0;b=b[this.h];a.K=c;a.ea=c;"*"===b&&(d=!1,this.h+=1);a.yb=d;0===c&&0===c&&(a.j=-1)};za.prototype.Fd=function(a,
b){var c=this.B(b),d=-1,f=0,e=0;if(-1!==c){b+=" ";var g=b[this.h];if("-"===g||"+"===g)this.h+=1,f=this.B(b),-1===f?c=-1:"-"===g&&(f=-f);if(","===b[this.h])if(this.h+=1,d=this.B(b),-1===d)c=-1;else{if(g=b[this.h],"-"===g||"+"===g)this.h+=1,e=this.B(b),-1===e?c=-1:"-"===g&&(e=-e)}else d=c}if(-1E6>f||1E6<f||-1E6>e||1E6<e)c=-1;0!==f&&0<c&&(f%=c);0!==e&&0<d&&(e%=d);0!==f&&0!==e&&(c=-1);0===c&&0===d&&(a.j=-1);0===f&&0===e||0!==c&&0!==d||(c=-1);a.K=c;a.ea=d;a.pa=f;a.qa=e};za.prototype.rd=function(a,b){var c=
this.B(b),d=-1,f=0,e=0,g=!1,k=!1;if(-1!==c){b+=" ";var l=b[this.h];"*"===l&&(g=!0,this.h+=1,l=b[this.h]);if("-"===l||"+"===l)this.h+=1,f=this.B(b),-1===f?c=-1:"-"===l&&(f=-f);if(","===b[this.h])if(this.h+=1,d=this.B(b),-1===d)c=-1;else{if(l=b[this.h],"*"===l&&(k=!0,this.h+=1,l=b[this.h]),"-"===l||"+"===l)this.h+=1,e=this.B(b),-1===e?c=-1:"-"===l&&(e=-e)}else d=c}g&&k&&(c=-1);0!==f&&0!==e&&(c=-1);if(g&&0!==e||k&&0!==f)c=-1;g||k||0===f||(c=-1);if(0!==f&&0!==(c&1)||0!==e&&0!==(d&1))c=-1;if(0===c&&0===
d)a.j=-1;else if(0===c||0===d)c=-1;g||k||(k=!0);0!==f&&(f=1);0!==e&&(e=1);a.K=c;a.ea=d;a.pa=f;a.qa=e;a.wb=g;a.Ab=k};za.prototype.jd=function(a,b){var c=this.B(b),d=-1;-1!==c&&(b+=" ",","===b[this.h]?(this.h+=1,d=this.B(b),-1===d&&(c=-1)):d=c);if(0===c&&0===d)a.j=-1;else if(0===c||0===d)c=-1;a.K=c;a.ea=d};za.prototype.xd=function(a,b){var c=this.B(b),d=-1;-1!==c&&(b+=" ",","===b[this.h]?(this.h+=1,d=this.B(b),-1===d&&(c=-1)):d=c);0===c&&0===d&&(a.j=-1);a.K=c;a.ea=d};za.prototype.cc=function(a,b){var c=
!0;b=this.Cc(b).toLowerCase();if(""!==b){c=!1;a.j="ptkcs".indexOf(b[0]);if(-1!==a.j)if(this.h=1,2!==a.j&&4!==a.j&&-1!==b.indexOf("*"))a.K=-1;else switch(a.j){case 0:this.xd(a,b);break;case 1:this.Fd(a,b);break;case 2:this.rd(a,b);break;case 3:this.jd(a,b);break;case 4:this.Ed(a,b);break;default:a.K=-1}this.h!==b.length&&(a.K=-1);-1!==a.K?c=!0:(a.j=-1,this.V="Invalid bounded grid definition '"+b.toUpperCase()+"'")}return c};za.prototype.Va=function(a,b,c,d){var f,e=0,g=null;if(c[b]===a){for(b+=1;b<
d&&" "===c[b];)b+=1;if(b<d&&"="===c[b])b+=1;else return[g,b];for(;b<d&&" "===c[b];)b+=1;a=0;var k=f=!1;b<d&&"-"===c[b]&&(b+=1,k=!0);for(b<d&&(e=c[b].charCodeAt(0));b<d&&48<=e&&57>=e;)a=10*a+(e-48),b+=1,f=!0,b<d&&(e=c[b].charCodeAt(0));for(f&&(g=k?-a:a);b<d&&" "===c[b];)b+=1;for(b<d&&","===c[b]&&(b+=1);b<d&&" "===c[b];)b+=1}return[g,b]};za.prototype.yd=function(a,b){this.da=this.ea=-999999;var c=this.Va("x",0,a,b);var d=c[1];null!==c[0]&&(this.ea=c[0]);c=this.Va("y",d,a,b);d=c[1];null!==c[0]&&(this.da=
c[0]);c=this.Va("h",d,a,b);d=c[1];null!==c[0]&&(this.eb=c[0],this.La=!0);c=this.Va("v",d,a,b);null!==c[0]&&(this.fb=c[0])};za.prototype.Cb=function(a,b,c,d){var f=b.indexOf("\n"),e=b.indexOf("rule"),g=!1;-1===f&&(f=b.length);c?this.yd(b,f):e=-1;-1===e||e>f?e=c?"":b.substring(1,f).trim():(e=b.substring(e+4,f).trim(),"="===e[0]&&(e=e.substring(1).trim()));""!==e&&","===e[e.length-1]&&(e=e.substring(0,e.length-1));a.Ta=e;a.h=e;var k=e.indexOf(":");c=e.lastIndexOf(":");-1!==c&&k===c&&null!==eb.Cq(a.h)&&
(c=-1);-1!==c&&(this.cc(a,e.substring(c+1))?e=e.substring(0,c).trim():c=-2);var l=e.toLowerCase().lastIndexOf("history");-1!==l&&l===e.length-7&&(a.O=!0,e=e.substring(0,e.length-7).trim());l=e.indexOf("|");-1!==l&&"history"===e.toLowerCase().substring(0,l).trim().substring(l-7)&&(a.O=!0,k=e.substring(0,l).trim(),e=k.substring(0,k.length-7)+e.substring(l));a.O||(l=e.toLowerCase().lastIndexOf("super"),-1!==l&&l===e.length-5&&(a.D=!0,e=e.substring(0,e.length-5).trim()),l=e.indexOf("|"),-1!==l&&"super"===
e.toLowerCase().substring(0,l).trim().substring(l-5)&&(a.D=!0,k=e.substring(0,l).trim(),e=k.substring(0,k.length-5)+e.substring(l)));a.O||a.D||("stateinvestigator"===e.toLowerCase()?(e="B3/S23Investigator",g=!0):"leapinvestigator"===e.toLowerCase()?(e="B2n3/S23-qInvestigator",g=!0):"eightinvestigator"===e.toLowerCase()?(e="B3/S238Investigator",g=!0):"pedestrianinvestigator"===e.toLowerCase()?(e="B38/S23Investigator",g=!0):"merryinvestigator"===e.toLowerCase()&&(e="B3-eq4ciqt5ky/S2-c3-k4yz5i8Investigator",
g=!0),l=e.toLowerCase().lastIndexOf("investigator"),-1!==l&&l===e.length-12&&(a.U=!0,e=e.substring(0,e.length-12).trim()),l=e.indexOf("|"),-1!==l&&"investigator"===e.toLowerCase().substring(0,l).trim().substring(l-12)&&(a.U=!0,k=e.substring(0,l).trim(),e=k.substring(0,k.length-12)+e.substring(l)));-2!==c&&this.Aa(a,e,d,g)?this.ob=!0:this.ik=!0;""===e&&-1===b.indexOf("=")&&(f=-1);return f+1};za.prototype.Yb=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";
break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a};za.prototype.ce=function(a,b){var c=a.H,d=a.B,f=this.sa(a.v,a.m,a.ta);var e=new Uint8Array(a.H.length);var g=new Uint8Array(a.B.length);if(d[f+1]){for(a=0;a<=f;a+=1)e[a]=255-d[f-a+1],g[a+1]=255-c[f-a];for(a=0;a<=f;a+=1)c[a]=e[a],d[a+1]=g[a+1];this.ca=!1}else{a.Ja=b.h(ra.ab,a.H.length,"HROT.altBirths",!1);a.La=b.h(ra.ab,a.B.length,"HROT.altSurvivals",!1);e=a.Ja;g=a.La;for(a=0;a<=f;a+=1)e[a]=d[f-a+1],g[a+1]=
c[f-a];for(a=0;a<=f;a+=1)c[a]=255-c[a],d[a+1]=255-d[a+1];this.ca=!0}};za.prototype.ad=function(a,b){var c,d,f=a.P,e=a.ba;if(null!==f)if(a.Ea&&2===a.i)for(d=2;256>d;d+=1)this.aa[d]&&(this.aa[d]=0,--a.Xa);else for(c=0;c<e.length;c+=1){var g=f[c];var k=e[c];for(d=0;d<k.length;d+=1){var l=k[d];l>=b&&(k[d]=0,g[d>>2]&=~(1<<(~d&15)),0<this.aa[l]&&(this.aa[l]=0,--a.Xa))}}};za.prototype.Wb=function(a){var b="[R]History",c=!0;a.D?b="[R]Super":a.U&&(b="[R]Investigator");-1===a.i||a.la||(this.V=a.Ea?b+" not valid with HROT":
b+" not valid with Generations");a.la&&(this.V=b+" not valid with PCA rule");a.ha&&(this.V=b+" not valid with none rule");a.s&&(this.V=b+" not valid with triangular rule");a.Aa===this.qa&&(this.V=b+" not valid with Hex Tripod");a.aa&&(this.V=b+" not valid with LtL");a.ga&&(this.V=b+" not valid with Margolus");this.na&&(this.V=b+" not valid with Wolfram emulation");""!==this.V&&(c=!1);return c};za.prototype.hc=function(a,b,c,d){var f=0,e=b.length,g;var k=!0;var l=g=!1;var m=this.aa;var n=0,q=4,p=0;
a.ga=!1;a.ha=!1;a.j=-1;a.width=0;a.height=0;a.Ba=!1;a.P=null;a.ba=null;a.va=!1;a.O=!1;a.D=!1;a.U=!1;a.Pa=!1;a.ia=!1;a.ua=-1;a.ma=!1;a.i=-1;a.aa=!1;a.A=-1;a.Ca=1;a.R=-1;a.ca=-1;a.Z=-1;a.fa=-1;a.Ea=!1;a.H=null;a.B=null;a.v=-1;a.title="";a.u="";a.sa="";a.G=2;a.Xa=0;m.fill(0);for(b+=" ";f<e&&!a.va;)switch(m=b[f],m){case "#":f+=1;m=b[f];f+=1;switch(m){case "I":this.Vc(a,b.substring(f));break;case "N":this.Zd(a,b.substring(f));break;case "O":this.$d(a,b.substring(f));break;case "C":this.Zc(b,f);break;case "P":this.Ac(b.substring(f),
!1);break;case "R":l?(k=b.substring(f).indexOf("\n"),-1===k&&(k=b.substring(f).length),f+=k):("ULE"===b.substring(f,f+3)&&(f+=3),f+=this.Cb(a,b.substring(f),!1,c),l=!0);k=!1;break;case "\n":--f}k?f="\n"===m?f+this.Ta(a,"#",b,f,g):f+this.Ta(a,"#"+m,b,f,g):k=!0;break;case "\n":f+=1;break;default:if("x"===m&&f<e&&(" "===b[f+1]||"="===b[f+1])&&!l){if(f+=this.Cb(a,b.substring(f),!0,c),l=!0,this.ea===Ha.Ur||this.da===Ha.Ur)this.V="RLE header needs: x = N, y = N",a.va=!0,this.ob=!1}else if(g)f+=this.Ta(a,
"",b,f,!0);else{g=!0;var r=[];m=this.ya(a,b.substring(f),r);-1!==m&&(f+=m,a.Ba||d||this.Bb(a,r,c))}}if(a.va&&(g=b.substring(f).indexOf("!"),-1!==g))for(f+=g+1;f<e;)f+=this.Ta(a,"",b,f,!0);l||(this.Aa(a,"",c,!1)?this.ob=!0:this.ik=!0);a.aa&&this.de(a,c);(b=a.Yb())&&this.ce(a,c);!a.Ea||a.m!==this.G&&a.m!==this.D&&a.m!==this.A&&(15!==a.m&&10!==a.m||"H"!==a.da)||(a.ia=!0);!a.Ea||a.m!==this.H&&(15!==a.m&&10!==a.m||"L"!==a.da)||(a.s=!0);-1!==a.j&&(a.Ea&&(q=6*a.v),a.aa&&(q=6*a.A),a.K>=16384-q||a.ea>=16384-
q)&&(this.V="Bounded grid too big",this.ob=!1,a.j=-1);a.Ea&&-1!==a.j&&(0!==a.K&&a.K<2*a.v||0!==a.ea&&a.ea<2*a.v)&&(this.V="Bounded grid too small (must be at least "+2*a.v+")",this.ob=!1,a.j=-1);a.ia&&1<a.j&&""===this.V&&(this.V="Hexagonal rules only support Plane or Torus",this.ob=!1,a.j=-1);a.s&&1<a.j&&""===this.V&&(this.V="Triangular rules only support Plane or Torus",this.ob=!1,a.j=-1);a.s&&(1===a.j||2===a.j)&&(a.pa&1||a.qa&1)&&(this.V="Triangular rules only support even shifts",this.ob=!1,a.j=
-1);a.ga&&(1===a.j||2===a.j)&&(a.pa&1||a.qa&1)&&(this.V="Margolus rules only support even shifts",this.ob=!1,a.j=-1);a.ga&&1<a.j&&""===this.V&&(this.V="Margolus rules only support Plane or Torus",this.ob=!1,a.j=-1);a.la&&1<a.j&&""===this.V&&(this.V="PCA rules only support Plane or Torus",this.ob=!1,a.j=-1);!a.aa||""!==this.V||(1<a.j&&(this.V="LtL only supports Plane or Torus",this.ob=!1,a.j=-1),0!==a.j&&1!==a.j)||0!==a.K&&0!==a.ea||(this.V="LtL bounded grid must be finite",this.ob=!1,a.j=-1);a.s&&
-1!==a.j&&(0!==(a.K&1)?(this.V="Bounded grid width must be even",this.ob=!1,a.j=-1):0!==(a.ea&1)&&(this.V="Bounded grid height must be even",this.ob=!1,a.j=-1));a.la&&0!==this.m[0]&&(this.V="PCA first value must be 0",this.m[0]=0,this.ob=!1);a.ga&&(15===this.m[0]&&0!==this.m[15]?(this.V="Margolus last value must be 0 when first is 15",this.ob=!1):0!==this.m[0]&&15!==this.m[0]&&(this.V="Margolus first value must be 0 or 15",this.ob=!1));!a.Ea||-1===a.j||0===a.qa&&0===a.pa||(this.V="HROT does not support Bounded Grid shift",
this.ob=!1,a.j=-1);b&&2<a.i&&(this.V="HROT Generations does not support B0",this.ob=!1);!a.Ea||""!==this.V||(1<a.j&&(this.V="HROT only supports Plane or Torus",this.ob=!1,a.j=-1),0!==a.j&&1!==a.j)||0!==a.K&&0!==a.ea||(this.V="HROT bounded grid must be finite",this.ob=!1,a.j=-1);a.Pa&&(a.O||a.U)&&(this.V=a.O?"[R]History not valid with Niemiec states":"[R]Investigator not valid with Niemiec states",this.ob=!1);a.O&&""===this.V&&(a.O=this.Wb(a));a.U&&""===this.V&&(a.U=this.Wb(a));a.D&&""===this.V&&(a.D=
this.Wb(a));-1===a.i||!this.m[0]||a.aa||a.Ea||(this.V="Generations does not support B0",this.ob=!1);a.ga&&-1!==a.j&&(-1!==a.ea&&0!==(a.ea&1)&&(this.V="Bounded grid height must be even",a.j=-1,this.ob=!1),-1!==a.K&&0!==(a.K&1)&&(this.V="Bounded grid width must be even",a.j=-1,this.ob=!1));a.ia&&(n+=1);a.s&&(n+=1);a.ma&&(n+=1);1<n&&(this.V="Multiple neighbourhoods specified",this.ob=!1,a.ia=!1,a.s=!1,a.ma=!1);a.D&&(a.i=26);a.U&&(a.i=21);this.ob&&(a.O?(p=7,a.G>p&&(this.V="Illegal state in pattern for [R]History",
this.ob=!1,this.fa=!0)):a.D?(p=26,a.G>p&&(this.V="Illegal state in pattern for [R]Super",this.ob=!1,this.fa=!0)):a.U?(p=21,a.G>p&&(this.V="Illegal state in pattern for [R]Investigator",this.ob=!1,this.fa=!0)):-1!==a.i&&(p=a.i,a.G>p&&(this.V=a.aa?"Illegal state in pattern for LtL":a.Ea?"Illegal state in pattern for HROT":a.la?"Illegal state in pattern for PCA":"Illegal state in pattern for Generations",this.fa=!0,this.ob=!1)),this.fa&&!d&&(a.G=p,this.ad(a,p)))};za.prototype.nd=function(a,b){var c=
!0,d=!1,f=0,e=0,g=0,k=0,l=0,m=!0,n=Ha.Cs,q,p=null,r=[],u={},t=null;b.u();var v=b.j();for(""!==v&&"@"===v[0]&&(v="");c&&""!==v;){for(;c&&!d&&""!==v;){if("/"===v[0])b.u();else if("xpm"===v.toLowerCase())b.u();else if('"'===v[0])v=v.substring(1),b.v(v)&&(f=b.H(v),b.i()&&(e=b.h(),b.i()&&(g=b.h(),v=b.j(),'"'===v[v.length-1]&&(v=v.substring(0,v.length-1),b.v(v)&&(k=b.H(v)))))),0<f&&0<e&&1<=k&&2>=k&&0===e%f?7!==f&&15!==f&&31!==f?d=!1:(d=!0,l=0,p=new Uint16Array(f*e),t=new Uint32Array(g)):c=!1;else switch(v){case "circles":n=
Ha.xK;u={};p=new Uint16Array(0);t=[];break;case "diamonds":n=Ha.yK;u={};p=new Uint16Array(0);t=[];break;case "hexagons":n=Ha.zK;u={};p=new Uint16Array(0);t=[];break;case "triangles":n=Ha.BK,u={},p=new Uint16Array(0),t=[]}for(;b.D();)b.j();v=b.j();""!==v&&"@"===v[0]&&(v="")}for(;c&&d&&""!==v;){if("/"===v[0])b.u();else{if('"'===v[0])if(c=!1,l<g){var A=v.substring(1);if(A.length===k&&void 0===u[A]&&(v=b.j(),"c"===v&&(v=b.j(),'"'===v[v.length-1]))){c=v.substring(0,v.length-1);c=parseInt(c,16);u[A]=l;
t[l]=c;if(c>>16!==(c>>8&255)||c>>16!==(c&255))m=!1;c=!0;b.u()}}else{if(c=!1,'"'===v[v.length-1]&&v.length-2===f*k){v=v.substring(1,v.length-1);var w=0;for(c=!0;c&&w<f;){A=v[w*k];1<k&&(A+=v[w*k+1]);if(void 0===u[A])c=!1;else{if(l>=e+g){console.log("LifeViewer: unexpected icon data found after icon",e/f);var B=p;e+=f;p=new Uint16Array(f*e);for(q=0;q<B.length;q+=1)p[q]=B[q]}p[(l-g)*f+w]=u[A]}w+=1}}}else l===e+g?(d=!1,r[r.length]={yr:n,width:f,height:e,bx:g,fo:t.slice(),uv:p.slice(),Pr:m},u={},p=null,
m=!0,n=Ha.Cs):c=!1,b.P();l+=1}for(;b.D();)b.j();v=b.j();""!==v&&"@"===v[0]&&(v="")}}c?l===e+g?(r[r.length]={yr:n,width:f,height:e,bx:g,fo:t.slice(),uv:p.slice(),Pr:m},a.oa=r):a.oa=null:a.oa=null};za.prototype.vd=function(a,b){var c=a.G,d=[],f=0,e,g=!1;b.u();b.i()&&(f=b.h(),0<=f&&f<c&&(g=!0));for(;g;){g=!1;for(e="";!b.D()&&""!==b.m();)e=""===e?b.j():e+(" "+b.j());d[f]=e;b.u();b.i()&&(f=b.h(),0<=f&&f<c&&(g=!0))}a.kb=d};za.prototype.ec=function(a,b){var c=a.G;a=a.Ia;var d=0,f=0,e=0,g=0,k=!1;b.u();b.i()&&
(d=b.h(),k=!0);for(;k;){k=!1;b.i()&&(f=b.h(),b.i()&&(e=b.h(),b.i()&&(g=b.h(),k=!0)));if(k)if(b.i()&&b.K()){var l=b.h();var m=b.h();0<=d&&255>=d&&0<=f&&255>=f&&0<=e&&255>=e&&0<=g&&255>=g&&0<=l&&255>=l&&0<=m&&255>=m?this.Zb(a,d,f,e,g,l,m):k=!1}else 0<=d&&d<c&&0<=f&&255>=f&&0<=e&&255>=e&&0<=g&&255>=g?a[d]=f<<16|e<<8|g:k=!1;k&&(b.u(),b.i()?d=b.h():k=!1)}};za.prototype.Lb=function(a,b,c,d,f,e){var g=!1,k=a.length;var l=d.length;var m=l%32;var n=1<<m,q=(l-m)/32,p=0;if(null!==e)for(l=0;!g&&l<e.length;){var r=
e[l];if(r.output===b)for(m=0,g=!0;g&&m<a.length;)0!==this.Ua(a[m],r.inputs[m])&&(g=!1),m+=1;l+=1}if(!g){null!==e&&(r={inputs:[],output:b},r.inputs=a.slice(),e[e.length]=r);d[d.length]=b;if(q>=c.Va){for(l=0;l<k;l+=1)for(m=0;m<c.wa;m+=1)f[l][m][f[l][m].length]=0;c.Va+=1}for(l=0;l<k;l+=1){c=a[l];d=!1;for(m=0;m<c.length;m+=1)f[l][c[m]][q]|=n,0===c[m]&&(d=!0);d&&(p+=1)}0!==b&&p===k&&(this.F=!0)}return g};za.prototype.Qd=function(a){var b=a.length,c=b-2,d=b-1,f=!1;if(1<b){for(;0<=c&&0<=this.Ua(a[c],a[c+
1]);)--c;if(0<c){for(f=!0;d>=c&&0>=this.Ua(a[d],a[c]);)--d;var e=a[c];a[c]=a[d];a[d]=e;var g=(b-(c+1))/2|0;for(d=0;d<g;d+=1)e=a[b-d-1],a[b-d-1]=a[c+1+d],a[c+1+d]=e}}return f};za.prototype.Ua=function(a,b){var c=0,d=a.length;if(d===b.length){for(;c<d&&a[c]===b[c];)c+=1;return c===d?0:a[c]-b[c]}return d-b.length};za.prototype.Td=function(a,b,c,d,f){var e,g,k,l=[],m=[],n=[],q=0;for(e=0;e<c;e+=1)for(n[e]=[],g=0;g<f.wa;g+=1)n[e][g]=[];for(e=f.Va=0;e<d.length;e+=1){var p=d[e].inputs;var r=d[e].output;if(0===
a)this.Lb(p,r,f,m,n,null);else if(a===b-1){l=p.slice(1).sort(this.Ua);for(g=0;g<l.length;g+=1)p[g+1]=l[g];do this.Lb(p,r,f,m,n,null);while(this.Qd(p))}else{var u=this.Da[f.cb][a-1];var t=[];for(g=0;g<u.length;g+=1){for(k=0;k<p.length;k+=1)l[k]=p[u[g][k]];this.Lb(l,r,f,m,n,t)&&(q+=1)}}}k=0;f.Wa=[];for(e=0;e<c;e+=1)for(f.Wa[e]=[],g=0;g<f.wa;g+=1)f.Wa[e][g]=new Uint32Array(n[e][g].length),f.Wa[e][g].set(n[e][g]),k+=n[e][g].length;if(V.S)for(f.Gb=this.T.h(ra.mc,k,"Life.ruleTableLUT",V.S),e=a=0;e<c;e+=
1)for(g=0;g<f.wa;g+=1)for(k=0;k<n[e][g].length;k+=1)f.Gb[a]=n[e][g][k],a+=1;f.ja=this.T.h(ra.ab,m.length,"Life.ruleTableOutput",V.S);f.ja.set(m);f.qb=q};za.prototype.nc=function(a,b){var c=-1,d=-1,f=-1,e=0,g,k="",l={},m=0,n=0,q=[],p=null,r;this.F=!1;var u=0;for(r=!0;r&&3>u;){var t=b.X();switch(t.toLowerCase()){case "n_states":r=!1;":"===b.j()?b.i()?(c=b.h()|0,2<=c&&256>=c?r=!0:this.V="n_states must be from 2 to 256"):this.V="n_states must be numeric":this.V="n_states missing :";break;case "neighborhood":r=
!1;if(":"===b.j()){t=b.j();var v=!1;for(g=0;!v&&g<this.ja.length;)t.toLowerCase()===this.ja[g]?(d=g,e=this.Ca[g],v=!0,p=new Int32Array(e+1)):g+=1;r=v;v||(this.V="neighborhood invalid")}else this.V="neighborhood missing :";break;case "symmetries":r=!1;if(-1!==d)if(":"===b.j()){t=b.j();v=!1;for(g=0;!v&&g<this.ka[d].length;)t.toLowerCase()===this.ka[d][g]?(f=g,v=!0):g+=1;r=v;v||(this.V="symmetries invalid")}else this.V="symmetries missing :";else this.V="symmetries must follow neighborhood";break;default:r=
!1}u+=1}if(-1===c||-1===d||-1===f)""===this.V&&(this.V=-1===c?"missing n_states":-1===d?"missing neighborhood":"missing symmetries"),r=!1;b.G();t=b.j();for(""!==t&&"@"===t[0]&&(t="");r&&""!==t;){if("var"===t.toLowerCase()){k=b.j();var A=[];"="===b.m()&&b.j();for(r=!0;r&&!b.D();)if(b.i())g=b.h(),0<=g&&g<c?A[A.length]=g:(r=!1,this.V="out of range value: "+k+"="+g);else{var w=b.j();if(void 0!==l[w])for(u=0;u<l[w].length;u+=1)A[A.length]=l[w][u];else r=!1,this.V="var unknown assignment: "+k+"="+w}r&&
(l[k]=A,m+=1)}else if(10>=c&&0===m&&b.D()){if(A=[],r=!1,t.length===e+1){u=0;for(r=!0;r&&u<e;)w=t.charCodeAt(u),48<=w&&w<48+c?(A[A.length]=[w-48],u+=1):(this.V="expected only digits: "+t,r=!1);r&&(w=t.charCodeAt(u),48<=w&&w<48+c?(n=w-48,q[q.length]={inputs:A,output:n}):(this.V="expected only digits: "+t,r=!1))}}else{r=!1;w=[];w[0]=t;p[0]=b.v(t)?parseInt(t,10):-1;for(u=1;b.ba();)u<e+1?b.i()?(p[u]=b.h(),w[u]=""):(p[u]=-1,w[u]=b.j()):w[u]=b.j(),u+=1;if(w.length===e+1){t=[];for(k in l){for(u=r=0;u<w.length;u+=
1)k===w[u]&&(r+=1);1<r&&(t[t.length]=k)}A=[];var B={};for(u=0;u<t.length;u+=1)B[t[u]]=0;for(r=!0;;){for(u=0;u<e;u+=1)if(v=!1,g=p[u],-1!==g)g>=c?(this.V="state out of range: "+g,r=!1):A[u]=[g];else{var C=w[u];if(t.length)for(g=0;!v&&g<t.length;)t[g]===C?v=!0:g+=1;0<t.length&&v?A[u]=[l[C][B[C]]]:void 0!==l[C]?A[u]=l[C]:(this.V="unknown variable: "+C,r=!1)}v=!1;g=p[u];if(-1!==g)0>g||g>=c?(this.V="output state out of range: "+g,r=!1):n=g;else{C=w[u];if(0<t.length)for(g=0;!v&&g<t.length;)t[g]===C?v=!0:
g+=1;0<t.length&&v?n=l[C][B[C]]:void 0!==l[C]?n=l[C]:(this.V="unknown output variable: "+C,r=!1)}q[q.length]={inputs:A.slice(),output:n};for(u=0;u<t.length;u+=1)if(B[t[u]]<l[t[u]].length-1){B[t[u]]+=1;break}else B[t[u]]=0;if(u>=t.length)break}}}b.G();t=b.j();""!==t&&"@"===t[0]&&(b.P(),t="")}r&&(null===a.T&&(a.T=xa.T),a.wa=c,a.cb=d,a.ia=d===Ha.jh?!0:!1,this.Td(f,this.ka[d].length,e,q,a),a.G=a.wa,this.V="",this.ob=!0,this.ik=!1,a.ha=!1,this.$b(a,a.wa));return r};za.prototype.Zb=function(a,b,c,d,f,e,
g){var k=a.length,l;a[0]=0;for(l=1;l<k;l+=1){var m=2===k?0:(l-1)/(k-2);a[l]=(f*m+b*(1-m)|0)<<16|(e*m+c*(1-m)|0)<<8|g*m+d*(1-m)|0}};za.prototype.$b=function(a,b){a.Ia=new Uint32Array(b);this.Zb(a.Ia,255,0,0,255,255,0)};za.prototype.Xd=function(a){return(new RegExp("neighborhood *: *"+this.ja[Ha.jh])).test(a.source)};za.prototype.$c=function(a,b,c,d){4===c?0!==b[a[a[a[a[d]]]]]&&(this.F=!0):0!==b[a[a[a[a[a[a[a[a[d]]]]]]]]]&&(this.F=!0)};za.prototype.Gd=function(a,b){var c,d=-1,f=-1,e=-1,g=null,k=0,l=
null,m=0,n=null,q=0,p=null,r=0,u=0,t=0;this.F=!1;var v=0;for(c=!0;c&&3>v;){c=b.X();switch(c.toLowerCase()){case "num_states":c=!1;"="===b.j()?b.i()?(d=b.h()|0,2<=d&&256>=d?c=!0:this.V="num_states must be from 2 to 256"):this.V="num_states must be numeric":this.V="num_states missing =";break;case "num_neighbors":c=!1;"="===b.j()?b.i()?(f=b.h()|0,4===f||8===f?c=!0:this.V="num_neighbors must be 4 or 8"):this.V="num_neighbors must be numeric":this.V="num_neighbors missing =";break;case "num_nodes":c=
!1;"="===b.j()?b.i()?(e=b.h()|0,e>=f&&1E8>=e?c=!0:this.V="num_nodes out of range"):this.V="num_nodes must be numeric":this.V="num_nodes missing =";break;default:c=!1}v+=1}if(-1===d||-1===f||-1===e)""===this.V&&(this.V=-1===d?"missing num_states":-1===f?"missing num_neighbors":"missing num_nodes"),c=!1;c&&(g=new Uint32Array(e*d),l=new Uint8Array(e*d),n=new Uint32Array(e),p=new Uint32Array(e));for(b.G();c&&b.i();){q>e?c=!1:(u=b.h(),t=0,n[q]=1===u?m:k,q+=1,p[r]=u,r+=1);for(;c&&b.i();)v=b.h(),1===u?0>
v||v>=d?(this.V="bad state value in tree data: "+v,c=!1):(l[m]=v,m+=1):0>v||v>n.length?(this.V="bad node value in tree data: "+v,c=!1):p[v]!==u-1?(this.V="bad node pointer in tree data: "+u,c=!1):(g[k]=n[v],k+=1),t+=1;c&&t!==d&&(this.V="bad number of values on tree data line",c=!1);b.G()}c&&(k+m!==e*d?(this.V="bad count of values in tree data",c=!1):u!==f+1&&(this.V="bad last node (wrong level)",c=!1));if(c){null===a.T&&(a.T=xa.T);a.mb=f;a.na=d;a.rb=e;a.lb=n[n.length-1];a.eb=a.T.h(ra.mc,k,"Life.ruleTreeA",
V.S);a.fb=a.T.h(ra.ab,m,"Life.ruleTreeB",V.S);for(v=0;v<k;v+=1)a.eb[v]=g[v];for(v=0;v<m;v+=1)a.fb[v]=l[v];a.Nb=this.Xd(b);a.ia=a.Nb;a.G=a.na;this.V="";this.ob=!0;this.ik=!1;a.ha=!1;this.$c(a.eb,a.fb,a.mb,a.lb);this.$b(a,a.na)}return c};za.prototype.kc=function(a,b){var c=!1,d=new Ua(b,!0);a.W.hb="";a.W.V="";b=d.A("@RULE",-1);if(-1!==b&&!d.D()){a.Cb=d.$();var f=d.A("@TREE",-1);-1!==f?(c=this.Gd(a,d))?a.h=a.Cb:(""===a.W.V&&(a.W.V="not valid"),a.W.V="@TREE "+a.W.V):(f=d.A("@TABLE",0),-1!==f?(c=this.nc(a,
d))?a.h=a.Cb:(""===a.W.V&&(a.W.V="not valid"),a.W.V="@TABLE "+a.W.V):a.W.V="@TABLE and @TREE not found");f=d.current-1;c&&(c=d.A("@COLORS",0),-1!==c&&(this.ec(a,d),d.current-1>f&&(f=d.current-1)),c=d.A("@ICONS",0),-1!==c&&(this.nd(a,d),d.current-1>f&&(f=d.current-1)),c=d.A("@NAMES",0),-1!==c&&(this.vd(a,d),d.current-1>f&&(f=d.current-1)));""===a.W.V&&(a.W.hb=d.aa(b,f),-1!==a.j&&(a.F=":"+"ptkcs"[a.j].toUpperCase(),a.F+=a.K,a.yb||(a.F+="*"),a.wb&&(a.F+="*"),a.pa&&(a.F=0>a.pa?a.F+a.pa:a.F+("+"+a.pa)),
4!==a.j&&(a.F+=","+a.ea,a.Ab&&(a.F+="*"),a.qa&&(a.F=0>a.qa?a.F+a.qa:a.F+("+"+a.qa)))))}};za.prototype.Yc=function(a){var b=a.h.toLowerCase().lastIndexOf("super");-1===b&&(a.h+="Super");""!==a.X&&(b=a.X.toLowerCase().lastIndexOf("super"),-1===b&&(a.X+="Super"))};za.prototype.kd=function(a){var b=!1,c=a.sa.indexOf("@RULE"),d=a.h;var f=d.indexOf(":");a.ya=this.V;-1!==f&&(this.cc(a,d.substring(f+1)),d=d.substring(0,f));for(;-1!==c&&!b;){f=a.sa.indexOf("@RULE",c+1);var e=-1===f?a.sa.substring(c):a.sa.substring(c,
f);this.kc(a,e);-1===a.na&&null===a.ja||d!==a.Cb?(c=f,a.na=-1,a.ja=null):b=!0}return b};za.prototype.create=function(a,b,c,d,f,e,g,k){a=new ib(a,this);this.ob=this.ik=this.Pa=this.fa=this.F=this.ra=!1;this.V="";this.h=0;this.ub=!1;this.Hb=0;this.La=!1;this.fb=this.eb=0;this.da=this.ea=-999999;this.ca=!1;if("!"===b.charAt(0)||"O"===b.charAt(0)||"."===b.charAt(0)||"*"===b.charAt(0)||"o"===b.charAt(0))this.gd(a,b,c),this.ob=!0;null===a.P&&(this.ob=!1,"#Life 1.05"===b.substring(0,10)?this.bc(a,b,!0,c):
"#Life 1.06"===b.substring(0,10)?(this.fd(a,b,c),this.ob=!0):"#"===b[0]||"x"===b[0]?(this.hc(a,b,c,g),null!==a.P||a.Ba||a.va||(this.bc(a,b,!1,c),this.ik=!1,a.ba=null,a.O=!1,a.D=!1,a.U=!1,a.G=2,a.Xa=0)):(this.hc(a,b,c,g),a.va&&(a=null)));a&&a.Ba&&(this.V="Pattern too big",this.Pa=a.va=!0,this.ob=!1);a&&(-1!==a.j?(b=a.h.lastIndexOf(":"),a.F=a.h.substring(b),a.h=a.h.substring(0,b)):a.F="");a&&null===a.P&&""===this.V&&(this.V="Invalid pattern",a=null,this.ob=!1);a&&a.va&&!a.Ba&&(this.ob=!1);a&&(!a.Pa||
a.O||a.U||this.Yc(a),""!==a.u&&"\n"!==a.u[a.u.length-1]&&(a.u+="\n"),""!==a.sa&&"\n"!==a.sa[a.sa.length-1]&&(a.sa+="\n"),""!==this.V&&(a.ia||a.s)&&null===a.h.match(/[0-9]/)&&(a.ia=!1,a.s=!1),""===a.title&&(a.title=a.Ob.join(" "),a.sa=0<a.sb.length?a.sb.join("\n")+"\n":"",a.u=0<a.ub.length?a.ub.join("\n")+"\n":"",a.Ob=[],a.sb=[],a.ub=[]),""===this.V||this.Pa||this.fa||""===a.h||(-1!==a.h.indexOf("|")&&"Only one alternate allowed"!==this.V?this.V=a.Ea?"Alternating HROT rules with B0 are not supported":
"Alternating RuleLoader rules are not supported":(a.ya=this.V,a.Ta=a.h,-1!==a.j?(b=a.h.lastIndexOf(":"),-1!==b&&(a.F=a.h.substring(b),a.h=a.h.substring(0,b))):a.F="",a.ga=!1,a.la=!1,a.ha=!1,a.O=!1,a.D=!1,a.U=!1,a.Pa=!1,a.ia=!1,a.s=!1,a.ua=-1,a.ma=!1,a.aa=!1,a.mE=a.Ea,a.Ea=!1,this.kd(a)||$a.mC(a),-1===a.na&&null===a.ja||this.na?this.Nd(a,d,f,e,k):(d=null===a.ja?a.na:a.wa,a.G=d,this.V="",this.ob=!0,this.ik=!1,a.ha=!1))));return a};za.prototype.Ld=function(a){var b=a.indexOf("@RULE");if(-1===b)a="";
else{var c=a.indexOf("\x3c!--",b);a=-1===c?0===b?a:a.substring(b):a.substring(b,c);a=a.replace(/<li>/g,"# ");a=a.replace(/<[^<]*>/g,"")}return a};za.prototype.Md=function(a,b,c){if(4===b.readyState)if(200===b.status){b=a.Ld(b.responseText);var d=performance.now()-this.time;this.time=performance.now();if(""===b)c.W.V="@RULE not found",$a.Bs(c);else{a.kc(c,b);var f=performance.now()-this.time;-1!==c.na||null!==c.ja?$a.add(c,d,f,b.length,a.hb,a.F):$a.Bs(c)}}else c.ya+="\n\nRepository lookup failed with status "+
b.status,$a.Bs(c)};za.prototype.Id=function(a){$a.Bs(a)};za.prototype.Nd=function(a,b,c,d,f){var e=this,g=null,k=a.h,l="";k=k.replace(/ /g,"_");l="/wiki/Rule:"+k;this.time=performance.now();this.ra=!0;f?a.T=f.g.T:a.T=null;$a.EG(a,b,c,d,f)||(g=new XMLHttpRequest,""!==Ja.zy&&(l=Ja.zy+k+Ja.GD),Ma(g,"load",function(){e.Md(e,g,a)},!1),Ma(g,"error",function(){e.Id(a)},!1),g.open("GET",l,!0),g.send(null))};var hb={Qu:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,
255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,
185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,
122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,
223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,
140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,
220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],Pu:[],Cf:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",
95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",
85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",
178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",
240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",
32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",
60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,
35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",
102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",
70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},DL:function(){return this.Pu},De:function(){var a,b;if(!this.uI)for(this.uI=!0,a=b=0;256>a;a+=1)hb.Pu[a]=hb.Qu[b]<<16|hb.Qu[b+1]<<8|hb.Qu[b+2],b+=3}};Va.prototype.set=
function(a){this.I=a.I;this.J=a.J;this.L=a.L;this.M=a.M};Va.prototype.h=function(a){a.I<this.I&&(this.I=a.I);a.L>this.L&&(this.L=a.L);a.J<this.J&&(this.J=a.J);a.M>this.M&&(this.M=a.M)};qb.prototype.U=function(a,b){var c=b.length,d=b[0].length,f,e,g=0,k,l,m=0,n=this.O,q=0,p=n[q],r=p.length;a=Array.qe(ra.Ya,a,"Snapshot.input16");Array.Of(this.j,b);for(f=0;f<c;f+=1){var u=this.j[f];for(b=l=0;b<d;b+=1)if(k=u[b])for(e=15;0<=e;--e){if(0!==(k&1<<e)){var t=m;var v=l;var A=p[g];g+=1;a[t][v]=A>>16;a[t+1][v]=
A&65535;t+=2;A=p[g];g+=1;a[t][v]=A>>16;a[t+1][v]=A&65535;t+=2;A=p[g];g+=1;a[t][v]=A>>16;a[t+1][v]=A&65535;t+=2;A=p[g];g+=1;a[t][v]=A>>16;a[t+1][v]=A&65535;t+=2;A=p[g];g+=1;a[t][v]=A>>16;a[t+1][v]=A&65535;t+=2;A=p[g];g+=1;a[t][v]=A>>16;a[t+1][v]=A&65535;t+=2;A=p[g];g+=1;a[t][v]=A>>16;a[t+1][v]=A&65535;t+=2;A=p[g];g+=1;a[t][v]=A>>16;a[t+1][v]=A&65535;g>=r&&(q+=1,p=n[q],g=0)}l+=1}else l+=16;m+=16}};qb.prototype.X=function(a,b){var c=b.length,d=b[0].length,f,e=0,g;var k=0;var l,m=0,n=this.O,q=0,p=n[q],
r=p.length,u=n.length;var t=this.W.K;var v=Array.qe(ra.Ya,a,"Snapshot.input16");Array.Of(b,this.j);for(f=0;f<c;f+=1){var A=b[f];for(a=0;a<d;a+=1)(g=A[a])&&(k+=t[g])}if(k)for(f=0;f<c;f+=1){A=b[f];for(a=l=0;a<d;a+=1)if(g=A[a])for(k=15;0<=k;--k){if(0!==(g&1<<k)){var w=m;t=l;p[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;p[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;p[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;p[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;p[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;p[e]=v[w][t]<<16|v[w+1][t];e+=1;w+=2;p[e]=v[w][t]<<
16|v[w+1][t];e+=1;w+=2;p[e]=v[w][t]<<16|v[w+1][t];e+=1;e>=r&&(q+=1,e=0,q>=u&&(Array.lq(n,"Snapshot.gridBufferRow"),u+=1));p=n[q]}l+=1}else l+=16;m+=16}};qb.prototype.P=function(a,b,c){var d=b.length,f=b[0].length,e,g,k=0,l,m,n=0,q=0,p=c[q],r=p.length,u=Array.qe(ra.mc,a,"Snapshot.input32");Array.Of(this.m,b);for(e=0;e<d;e+=1){var t=b[e];for(a=m=0;a<f;a+=1)if(l=t[a])for(g=15;0<=g;--g){if(0!==(l&1<<g)){var v=m;var A=n;var w=u[A];w[v]=p[k];k+=1;w[v+1]=p[k];k+=1;w[v+2]=p[k];k+=1;w[v+3]=p[k];k+=1;A+=1;
w=u[A];w[v]=p[k];k+=1;w[v+1]=p[k];k+=1;w[v+2]=p[k];k+=1;w[v+3]=p[k];k+=1;A+=1;w=u[A];w[v]=p[k];k+=1;w[v+1]=p[k];k+=1;w[v+2]=p[k];k+=1;w[v+3]=p[k];k+=1;A+=1;w=u[A];w[v]=p[k];k+=1;w[v+1]=p[k];k+=1;w[v+2]=p[k];k+=1;w[v+3]=p[k];k+=1;A+=1;w=u[A];w[v]=p[k];k+=1;w[v+1]=p[k];k+=1;w[v+2]=p[k];k+=1;w[v+3]=p[k];k+=1;A+=1;w=u[A];w[v]=p[k];k+=1;w[v+1]=p[k];k+=1;w[v+2]=p[k];k+=1;w[v+3]=p[k];k+=1;A+=1;w=u[A];w[v]=p[k];k+=1;w[v+1]=p[k];k+=1;w[v+2]=p[k];k+=1;w[v+3]=p[k];k+=1;A+=1;w=u[A];w[v]=p[k];k+=1;w[v+1]=p[k];
k+=1;w[v+2]=p[k];k+=1;w[v+3]=p[k];k+=1;A+=1;w=u[A];w[v]=p[k];k+=1;w[v+1]=p[k];k+=1;w[v+2]=p[k];k+=1;w[v+3]=p[k];k+=1;A+=1;w=u[A];w[v]=p[k];k+=1;w[v+1]=p[k];k+=1;w[v+2]=p[k];k+=1;w[v+3]=p[k];k+=1;A+=1;w=u[A];w[v]=p[k];k+=1;w[v+1]=p[k];k+=1;w[v+2]=p[k];k+=1;w[v+3]=p[k];k+=1;A+=1;w=u[A];w[v]=p[k];k+=1;w[v+1]=p[k];k+=1;w[v+2]=p[k];k+=1;w[v+3]=p[k];k+=1;A+=1;w=u[A];w[v]=p[k];k+=1;w[v+1]=p[k];k+=1;w[v+2]=p[k];k+=1;w[v+3]=p[k];k+=1;A+=1;w=u[A];w[v]=p[k];k+=1;w[v+1]=p[k];k+=1;w[v+2]=p[k];k+=1;w[v+3]=p[k];
k+=1;A+=1;w=u[A];w[v]=p[k];k+=1;w[v+1]=p[k];k+=1;w[v+2]=p[k];k+=1;w[v+3]=p[k];k+=1;A+=1;w=u[A];w[v]=p[k];k+=1;w[v+1]=p[k];k+=1;w[v+2]=p[k];k+=1;w[v+3]=p[k];k+=1;k>=r&&(q+=1,p=c[q],k=0)}m+=4}else m+=64;n+=16}};qb.prototype.R=function(a,b,c,d){var f=b.length,e=b[0].length,g,k=0,l;var m=0;var n,q=0,p=0,r=c[p],u=r.length,t=c.length;var v=this.W.K;a=Array.qe(ra.mc,a,"Snapshot.input32");Array.Of(b,d);for(g=0;g<f;g+=1){var A=b[g];for(d=0;d<e;d+=1)(l=A[d])&&(m+=v[l])}if(m)for(g=0;g<f;g+=1){A=b[g];for(d=n=
0;d<e;d+=1)if(l=A[d])for(m=15;0<=m;--m){if(0!==(l&1<<m)){v=n;var w=q;var B=a[w];r[k]=B[v];k+=1;r[k]=B[v+1];k+=1;r[k]=B[v+2];k+=1;r[k]=B[v+3];k+=1;w+=1;B=a[w];r[k]=B[v];k+=1;r[k]=B[v+1];k+=1;r[k]=B[v+2];k+=1;r[k]=B[v+3];k+=1;w+=1;B=a[w];r[k]=B[v];k+=1;r[k]=B[v+1];k+=1;r[k]=B[v+2];k+=1;r[k]=B[v+3];k+=1;w+=1;B=a[w];r[k]=B[v];k+=1;r[k]=B[v+1];k+=1;r[k]=B[v+2];k+=1;r[k]=B[v+3];k+=1;w+=1;B=a[w];r[k]=B[v];k+=1;r[k]=B[v+1];k+=1;r[k]=B[v+2];k+=1;r[k]=B[v+3];k+=1;w+=1;B=a[w];r[k]=B[v];k+=1;r[k]=B[v+1];k+=1;
r[k]=B[v+2];k+=1;r[k]=B[v+3];k+=1;w+=1;B=a[w];r[k]=B[v];k+=1;r[k]=B[v+1];k+=1;r[k]=B[v+2];k+=1;r[k]=B[v+3];k+=1;w+=1;B=a[w];r[k]=B[v];k+=1;r[k]=B[v+1];k+=1;r[k]=B[v+2];k+=1;r[k]=B[v+3];k+=1;w+=1;B=a[w];r[k]=B[v];k+=1;r[k]=B[v+1];k+=1;r[k]=B[v+2];k+=1;r[k]=B[v+3];k+=1;w+=1;B=a[w];r[k]=B[v];k+=1;r[k]=B[v+1];k+=1;r[k]=B[v+2];k+=1;r[k]=B[v+3];k+=1;w+=1;B=a[w];r[k]=B[v];k+=1;r[k]=B[v+1];k+=1;r[k]=B[v+2];k+=1;r[k]=B[v+3];k+=1;w+=1;B=a[w];r[k]=B[v];k+=1;r[k]=B[v+1];k+=1;r[k]=B[v+2];k+=1;r[k]=B[v+3];k+=1;
w+=1;B=a[w];r[k]=B[v];k+=1;r[k]=B[v+1];k+=1;r[k]=B[v+2];k+=1;r[k]=B[v+3];k+=1;w+=1;B=a[w];r[k]=B[v];k+=1;r[k]=B[v+1];k+=1;r[k]=B[v+2];k+=1;r[k]=B[v+3];k+=1;w+=1;B=a[w];r[k]=B[v];k+=1;r[k]=B[v+1];k+=1;r[k]=B[v+2];k+=1;r[k]=B[v+3];k+=1;w+=1;B=a[w];r[k]=B[v];k+=1;r[k]=B[v+1];k+=1;r[k]=B[v+2];k+=1;r[k]=B[v+3];k+=1;k>=u&&(p+=1,k=0,p>=t&&(Array.lq(c,"Snapshot.colourGridBufferRow"),t+=1),r=c[p])}n+=4}else n+=64;q+=16}};gb.prototype.U=function(){for(var a=0,b=0;b<this.j.length;)a+=this.u[b].length*this.u[b][0].length*
2,a+=this.m[b].length*this.m[b][0].length*2,a+=this.D[b].length*this.D[b][0].length*4,a+=this.B[b].length*this.B[b][0].length*4,this.v[b]&&(a+=this.s[b].length*this.s[b][0].length*2,a+=this.v[b].length*this.v[b][0].length*4),b+=1;return a};gb.prototype.aa=function(){for(var a=0,b=0;b<this.j.length;)this.j[b]&&(a+=1),b+=1;return a};gb.prototype.reset=function(){this.h=[];this.j=[];this.F=0;this.i=-1};gb.prototype.$=function(a){var b=null;if(0<this.h.length)for(b=this.h[this.i];b&&b.counter>a;)b=null,
0<this.i&&(this.O(this.h[this.i].u),this.h.pop(),--this.i,0<=this.i&&(b=this.h[this.i]));return b};gb.prototype.X=function(a,b,c,d,f,e,g,k,l,m,n,q,p,r,u,t,v,A,w){A=null!==f;if(w)t=this.A;else if(51>this.h.length)t=this.H(t,v,!1,A),this.i+=1;else{this.i+=1;if(51<=this.i){this.i=50;this.O(this.h[0].u);for(w=0;50>w;w+=1)this.h[w]=this.h[w+1];this.h.pop();this.H(t,v,!1,A)}t=this.h[this.i]}t.X(a,b);t.R(c,d,t.H,t.m);A&&t.R(f,e,t.v,t.s);t.i.I=g.I;t.i.L=g.L;t.i.J=g.J;t.i.M=g.M;t.h.I=k.I;t.h.L=k.L;t.h.J=k.J;
t.h.M=k.M;t.G=l;t.A=m;t.D=n;t.counter=q;t.K=p;t.B=r;t.F=u};gb.prototype.O=function(a){this.j[a]=!1};gb.prototype.Z=function(a,b,c){for(var d=0,f=!1;d<this.F&&!f;)this.j[d]?d+=1:f=!0;f?(a=d,this.j[d]=!0):(this.u[d]=Array.matrix(ra.Ya,b,a,0,this.T,"Snapshot.tileGrid"+d,!1),this.m[d]=Array.matrix(ra.Ya,b,a,0,this.T,"Snapshot.colourTileGrid"+d,!1),this.D[d]=Array.matrix(ra.mc,1,1024,0,this.T,"Snapshot.gridBuffer"+d,!1),this.B[d]=Array.matrix(ra.mc,1,8192,0,this.T,"Snapshot.colourGridBuffer"+d,!1),c&&
(this.s[d]=Array.matrix(ra.Ya,b,a,0,this.T,"Snapshot.overlayTileGrid"+d,!1),this.v[d]=Array.matrix(ra.mc,1,8192,0,this.T,"Snapshot.overlayGridBuffer"+d,!1)),this.j[d]=!0,this.F+=1,a=d);return a};gb.prototype.H=function(a,b,c,d){a=this.Z(a,b,d);c?this.A=c=new qb(this,a,d):(c=new qb(this,a,d),this.h[this.h.length]=c);return c};gb.prototype.G=function(a,b,c){a.set(b,c)};gb.prototype.P=function(a,b,c,d,f,e,g,k){var l=a.j,m=a.m,n=a.s,q=a.j.length,p=0,r=a.u;this.u[r]=Array.matrix(ra.Ya,c,b,0,this.T,"Snapshot.tileGrid"+
r,!1);this.m[r]=Array.matrix(ra.Ya,c,b,0,this.T,"Snapshot.colourTileGrid"+r,!1);k&&(this.s[r]=Array.matrix(ra.Ya,c,b,0,this.T,"Snapshot.overlayTileGrid"+r,!1));a.j=this.u[r];a.m=this.m[r];k&&(a.s=this.s[r]);if(0<d||0<f)for(;p<q;)this.G(a.j[p+f],l[p],d),this.G(a.m[p+f],m[p],d),k&&this.G(a.s[p+f],n[p],d),p+=1;a.i.I+=e;a.i.L+=e;a.i.J+=g;a.i.M+=g;a.h.I+=e;a.h.L+=e;a.h.J+=g;a.h.M+=g};gb.prototype.R=function(a,b,c,d,f,e,g){var k;this.A&&this.P(this.A,a,b,c,d,f,e,g);var l=0;for(k=this.h.length;l<k;)this.P(this.h[l],
a,b,c,d,f,e,g),l+=1;for(l=0;l<this.j.length;)this.j[l]||(this.u[l]=Array.matrix(ra.Ya,b,a,0,this.T,"Snapshot.tileGrid"+l,!1),this.m[l]=Array.matrix(ra.Ya,b,a,0,this.T,"Snapshot.colourTileGrid"+l,!1),g&&(this.s[l]=Array.matrix(ra.Ya,b,a,0,this.T,"Snapshot.overlayTileGrid"+l,!1))),l+=1};Da.prototype.nb=function(a){this.ba.De(a);this.fa=this.T.h(ra.Dd,this.P.length,"HROT.birthChances",!1);for(a=0;a<this.P.length;a+=1)this.fa[a]=-1>=this.la?this.ba.random():(100-this.la)/100;this.da=this.T.h(ra.Dd,this.G.length,
"HROT.suvivalChances",!1);for(a=0;a<this.G.length;a+=1)this.da[a]=-1>=this.ma?this.ba.random():(100-this.ma)/100;this.aa=this.T.h(ra.Dd,this.G.length,"HROT.immunityChances",!1);for(a=0;a<this.G.length;a+=1)this.aa[a]=-1===this.ha?1:-2===this.ha?this.ba.random():(100-this.ha)/100;this.fa.fill(this.fa[0]);this.da.fill(this.da[0]);this.aa.fill(this.aa[0])};Da.prototype.resize=function(a,b){this.h=Array.matrix(ra.Ad,b,a,0,this.T,"HROT.counts",V.S);this.pa=this.T.h(ra.ab,a,"HROT.colUsed",V.S)};Da.prototype.qb=
function(a,b,c,d,f,e,g,k,l){var m=2*b+1,n=m-1,q=b*b,p=q+b,r,u=c.length>>1;this.type=a;this.v=b;this.m=f&&10!==a&&15!==a?b+b:b;this.H=this.T.h(ra.mc,m,"HROT.widths",V.S);this.U=c;this.oa=d;this.B=f;this.R=k;this.X=l;if(e)for(this.s=this.T.h(ra.sr,e.length,"HROT.weightedNeighbourhood",V.S),d=0;d<e.length;d+=1)this.s[d]=e[d];else this.s=null;if(g)if(0<g.length)for(this.D=this.T.h(ra.ab,g.length,"HROT.weightedStates",V.S),d=0;d<g.length;d+=1)this.D[d]=g[d];else this.D=null;else this.D=null;switch(a){case this.W.i:for(d=
0;d<m;d+=1)this.H[d]=b;break;case this.W.j:for(d=0;d<b;d+=1)this.H[d]=d,this.H[m-d-1]=d;this.H[d]=b;break;case this.W.Z:for(d=-b;d<=b;d+=1){for(a=0;(a+1)*(a+1)+d*d<=p;)a+=1;this.H[d+b]=a}break;case this.W.$:for(d=-b;d<=b;d+=1){for(a=0;(a+1)*(a+1)+d*d<=q;)a+=1;this.H[d+b]=a}break;case 10:this.Im=Array.matrix(ra.ab,m,m,0,this.T,"HROT.neighbourhood",!1);q=new Uint16Array(m);g=r=f=d=p=e=0;for(k=this.Im[n-p];p<m;)for(a="0123456789abcdef".indexOf(c[e]),e===u&&(k[n-d]=1,d+=1,f+=1,r+=1),e+=1,l=3;0<=l;--l)0!==
(a&1<<l)&&(k[n-d]=1,f+=1,r+=1),d+=1,d===m&&(q[n-g]=r,r=0,g+=1,d=0,p+=1,p<m&&(k=this.Im[n-p]));c=new Uint32Array(f);for(p=f=0;p<m;p+=1)for(k=this.Im[p],d=0;d<m;d+=1)0<k[d]&&(c[f]=p<<16|d,f+=1);for(d=m=0;d<q.length;d+=1)0<q[d]&&(m+=q[d]+2);this.O=this.T.h(ra.Tp,m,"HROT.neighbourList",V.S);for(d=f=e=0;d<q.length;d+=1)if(0<q[d]){g=c[e];this.O[f]=b-(g>>16);this.O[f+1]=q[d];f+=2;for(p=0;p<q[d];p+=1)this.O[f+p]=b-(c[e]&65535),e+=1;f+=q[d]}}};Da.prototype.j=function(a,b,c){return 0>a||0>a+b||b-a>=this.u?
0:0>b&&a+b<this.A?this.h[a+b][0]:b>=this.u&&b-a>=this.u-this.A?this.h[a+this.u-1-b][this.u-1]:a<this.A?c[b]:a-this.A+1+b<=this.K?this.h[this.A-1][a-this.A+1+b]:b-(a-this.A+1)>=this.K?this.h[this.A-1][b-(a-this.A+1)]:this.h[this.A-1][this.K+(a+b+this.A+this.K+1)%2]};Da.prototype.st=function(a,b,c,d){var f=this.g.h,e=this.m,g=this.v,k;for(k=0;k<g;k+=1){var l=f[b+k];var m=f[d+k+1];m.set(l.subarray(a,c+1),a)}for(k=0;k<g;k+=1)l=f[d-k],m=f[b-k-1],m.set(l.subarray(a,c+1),a);for(k=b;k<=d;k+=1)l=f[k],l.copyWithin(c+
1,a,a+e+1),l.copyWithin(a-e-1,c-e,c+1);for(k=0;k<g;k+=1)l=f[b+k],m=f[d+k+1],m.set(l.subarray(a,a+e+1),c+1),m.set(l.subarray(c-e,c+1),a-e-1);for(k=0;k<g;k+=1)l=f[d-k],m=f[b-k-1],m.set(l.subarray(a,a+e+1),c+1),m.set(l.subarray(c-e,c+1),a-e-1)};Da.prototype.zr=function(a,b,c,d){var f=this.g.h,e=this.m,g=this.v,k;for(k=0;k<g;k+=1)f[d+k+1].fill(0,a,c+1);for(k=0;k<g;k+=1)f[b-k-1].fill(0,a,c+1);for(k=b;k<=d;k+=1){var l=f[k];l.fill(0,c+1,c+e+2);l.fill(0,a-e-1,a)}for(k=0;k<g;k+=1)l=f[d+k+1],l.fill(0,c+1,c+
e+2),l.fill(0,a-e-1,a);for(k=0;k<g;k+=1)l=f[b-k-1],l.fill(0,c+1,c+e+2),l.fill(0,a-e-1,a)};Da.prototype.sb=function(a,b,c,d,f){var e,g,k=this.g.h,l=this.g.m,m=this.g.width,n=0,q=this.g.height,p=0,r=m,u=n,t=q,v=p,A=this.g.B,w=this.g.ya,B=this.m,C=this.v,O=f?this.ja:this.P,M=f?this.ka:this.G,K=this.h;var L=this.ca-1;var U=y.xa,X=y.ki,H=this.g.bf,R=this.ba,P=this.fa,S=this.da,aa=this.aa;var pa=this.g.i+this.g.u-1;var ha=this.g.u,ca=0<this.g.u?1:0;var ia=e=f=0;if(1===L)for(L=b-C;L<=d+C;L+=1){var na=k[L];
var ja=K[L];var W=l[L>>4];var ma=g=!1;for(b=a-B;b<=c+B;b+=1){var ea=na[b];var Z=ja[b];pa=0;ea<U?0<=Z&&255===O[Z]&&R.random()>=P[Z]&&(e+=1,pa=128):0>Z||0===M[Z]?R.random()>=aa[Z]?pa=128:ia+=1:R.random()>=S[Z]?pa=128:ia+=1;ea=H[ea+pa];na[b]=ea;ea>X&&(g=!0,W[b>>8]|=1<<(~(b>>4)&15),b<m&&(m=b),b>n&&(n=b),ea>=U&&(f+=1,b<r&&(r=b),b>u&&(u=b),ma=!0))}g&&(L<q&&(q=L),L>p&&(p=L));ma&&(L<t&&(t=L),L>v&&(v=L))}else for(L=b-C;L<=d+C;L+=1){na=k[L];ja=K[L];W=l[L>>4];ma=g=!1;for(b=a-B;b<=c+B;b+=1)ea=na[b],Z=ja[b],ea<=
ha?0<=Z&&255===O[Z]?R.random()>=P[Z]?(ea=pa,e+=1):ea>ca&&--ea:ea>ca&&--ea:ea===pa?0>Z||0===M[Z]?R.random()>=this.aa[0>Z?0:Z]||(--ea,ia+=1):R.random()>=this.da[0>Z?0:Z]||(--ea,ia+=1):ea>ca&&--ea,na[b]=ea,ea>ca&&(g=!0,W[b>>8]|=1<<(~(b>>4)&15),b<m&&(m=b),b>n&&(n=b),ea===pa&&(f+=1),ea>ha&&(b<r&&(r=b),b>u&&(u=b),ma=!0));g&&(L<q&&(q=L),L>p&&(p=L));ma&&(L<t&&(t=L),L>v&&(v=L))}this.g.A=f;this.g.na=e;this.g.ga=ia;0<f&&(A.I=m,A.L=n,A.J=q,A.M=p,w.I=r,w.L=u,w.J=t,w.M=v)};Da.prototype.rb=function(a,b,c,d,f){var e,
g,k=this.g.h,l=this.g.m,m=this.g.width,n=0,q=this.g.height,p=0,r=m,u=n,t=q,v=p,A=this.g.B,w=this.g.ya,B=this.m,C=this.v,O=f?this.ja:this.P,M=f?this.ka:this.G,K=this.h;var L=this.ca-1;var U=y.xa,X=y.ki,H=this.g.bf;var R=this.g.i+this.g.u-1;var P=this.g.u,S=0<this.g.u?1:0;var aa=e=f=0;if(1===L)for(L=b-C;L<=d+C;L+=1){var pa=k[L];var ha=K[L];var ca=l[L>>4];var ia=g=!1;for(b=a-B;b<=c+B;b+=1){var na=pa[b];var ja=ha[b];R=0;na<U?0<=ja&&255===O[ja]&&(e+=1,R=128):0>ja||0===M[ja]?aa+=1:R=128;na=H[na+R];pa[b]=
na;na>X&&(g=!0,ca[b>>8]|=1<<(~(b>>4)&15),b<m&&(m=b),b>n&&(n=b),na>=U&&(f+=1,b<r&&(r=b),b>u&&(u=b),ia=!0))}g&&(L<q&&(q=L),L>p&&(p=L));ia&&(L<t&&(t=L),L>v&&(v=L))}else for(L=b-C;L<=d+C;L+=1){pa=k[L];ha=K[L];ca=l[L>>4];ia=g=!1;for(b=a-B;b<=c+B;b+=1){na=pa[b];ja=ha[b];if(na<=P)0<=ja&&255===O[ja]?(na=R,e+=1):na>S&&--na;else if(na===R){if(0>ja||0===M[ja])--na,aa+=1}else na>S&&--na;pa[b]=na;na>S&&(g=!0,ca[b>>8]|=1<<(~(b>>4)&15),b<m&&(m=b),b>n&&(n=b),na===R&&(f+=1),na>P&&(b<r&&(r=b),b>u&&(u=b),ia=!0))}g&&
(L<q&&(q=L),L>p&&(p=L));ia&&(L<t&&(t=L),L>v&&(v=L))}this.g.A=f;this.g.na=e;this.g.ga=aa;0<f&&(A.I=m,A.L=n,A.J=q,A.M=p,w.I=r,w.L=u,w.J=t,w.M=v)};Da.prototype.qa=function(a,b,c,d,f){var e=performance.now(),g=this.ca-1,k=this.g.B,l=this.g.ya;this.ea?this.sb(a,b,c,d,f):V.S&&V.tE&&this.g.view.i?(1===g?xa.$K(this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.g.m.o.byteOffset|0,this.g.m[0].length|0,this.h.o.byteOffset|0,this.h[0].length|0,f?this.Z.byteOffset|0:this.$.byteOffset|0,b|0,a|0,d|0,c|0,this.m|0,
this.v|0,y.xa|0,y.Re|0,y.pe|0,y.ki|0,this.i.byteOffset|0,this.g.width|0,this.g.height|0):xa.aL(this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.g.m.o.byteOffset|0,this.g.m[0].length|0,this.h.o.byteOffset|0,this.h[0].length|0,f?this.Z.byteOffset|0:this.$.byteOffset|0,b|0,a|0,d|0,c|0,this.m|0,this.v|0,this.g.u|0,this.g.i+this.g.u-1|0,(0<this.g.u?1:0)|0,this.i.byteOffset|0,this.g.width|0,this.g.height|0),this.g.A=this.i[8],this.g.na=this.i[9],this.g.ga=this.i[10],0<this.g.A&&(k.I=this.i[0],k.L=this.i[1],
k.J=this.i[2],k.M=this.i[3],l.I=this.i[4],l.L=this.i[5],l.J=this.i[6],l.M=this.i[7])):this.rb(a,b,c,d,f);V.Db&&(e=performance.now()-e,this.g.view.C.h("gridFromCounts",e,V.S&&V.tE&&this.g.view.i))};Da.prototype.lb=function(a,b,c,d,f){var e,g=this.g.i+this.g.u,k=this.g.u,l=this.s,m=this.g.h,n=this.h,q=this.D,p=q[0],r=l[0],u=l[1],t=l[2],v=l[3],A=l[4],w=l[5],B=l[6],C=l[7];l=l[8];for(a-=f;a<=b+f;a+=1){var O=n[a];var M=c-f;var K=M-1;for(e=M+1;M<=d+f;){var L=0;var U=m[a-1];var X=U[K];X>k?L+=r*q[g-X]:0<p&&
(L+=r*p);X=U[M];X>k?L+=u*q[g-X]:0<p&&(L+=u*p);X=U[e];X>k?L+=t*q[g-X]:0<p&&(L+=t*p);U=m[a];X=U[K];X>k?L+=v*q[g-X]:0<p&&(L+=v*p);X=U[M];X>k?L+=A*q[g-X]:0<p&&(L+=A*p);X=U[e];X>k?L+=w*q[g-X]:0<p&&(L+=w*p);U=m[a+1];X=U[K];X>k?L+=B*q[g-X]:0<p&&(L+=B*p);X=U[M];X>k?L+=C*q[g-X]:0<p&&(L+=C*p);X=U[e];X>k?L+=l*q[g-X]:0<p&&(L+=l*p);O[M]=L;M+=1;K+=1;e+=1}}};Da.prototype.XC=function(a,b,c,d,f){var e,g=y.xa,k=this.s,l=this.g.h,m=this.h,n=k[0],q=k[1],p=k[2],r=k[3],u=k[4],t=k[5],v=k[6],A=k[7];k=k[8];for(a-=f;a<=b+
f;a+=1){var w=m[a];var B=c-f;var C=B-1;for(e=B+1;B<=d+f;){var O=0;var M=l[a-1];M[C]>=g&&(O+=n);M[B]>=g&&(O+=q);M[e]>=g&&(O+=p);M=l[a];M[C]>=g&&(O+=r);M[B]>=g&&(O+=u);M[e]>=g&&(O+=t);M=l[a+1];M[C]>=g&&(O+=v);M[B]>=g&&(O+=A);M[e]>=g&&(O+=k);w[B]=O;B+=1;C+=1;e+=1}}};Da.prototype.uw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.dt&&this.g.view.i?xa.uw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa|0,this.R|0,this.X|0):this.ta(a,
b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTCorner",g,V.S&&V.dt&&this.g.view.i))};Da.prototype.ta=function(a,b,c,d,f,e){var g=this.h,k,l=y.xa,m=this.R,n=this.X,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var p=g[k];for(b=a-f;b<=c+f;){var r=0;var u=q[k-m];u[b-m]>=l&&(r+=1);u[b+m]>=l&&(r+=1);u=q[k+m];u[b-m]>=l&&(r+=1);u[b+m]>=l&&(r+=1);q[k-n][b]>=l&&(r+=1);q[k+n][b]>=l&&(r+=1);u=q[k];u[b-n]>=l&&(r+=1);u[b+n]>=l&&(r+=1);u[b]>=l&&(r+=1);p[b]=r;b+=1}}};Da.prototype.ow=function(a,b,c,d,f,e){var g=
performance.now();V.S&&V.bt&&this.g.view.i?xa.ow(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa|0):this.ra(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTAsterisk",g,V.S&&V.bt&&this.g.view.i))};Da.prototype.ra=function(a,b,c,d,f,e){var g=this.h,k,l,m=y.xa,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var p=0;for(l=-e;0>l;l+=1){var r=n[k+l];r[b]>=m&&(p+=1);r[b+l]>=m&&(p+=1)}r=n[k];for(l=-f;l<=
f;l+=1)r[b+l]>=m&&(p+=1);for(l=1;l<=f;l+=1)r=n[k+l],r[b]>=m&&(p+=1),r[b+l]>=m&&(p+=1);q[b]=p;b+=1}}};Da.prototype.Ow=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.qt&&this.g.view.i?xa.Ow(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa|0):this.eb(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTTripod",g,V.S&&V.qt&&this.g.view.i))};Da.prototype.eb=function(a,b,c,d,f,e){var g=this.h,k,l,m=y.xa,n=this.g.h;for(k=
b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var p=0;for(l=-e;0>l;l+=1){var r=n[k+l];r[b]>=m&&(p+=1)}r=n[k];for(l=-f;0>=l;l+=1)r[b+l]>=m&&(p+=1);for(l=1;l<=f;l+=1)n[k+l][b+l]>=m&&(p+=1);q[b]=p;b+=1}}};Da.prototype.Qw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.rt&&this.g.view.i?null===this.D?xa.Qw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.s.byteOffset|0,this.s.length|0,a|0,b|0,c|0,d|0,f|0,e|0,y.xa|0,this.B):xa.wJ(this.h.o.byteOffset|0,this.h[0].length|
0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.s.byteOffset|0,this.s.length|0,this.D.byteOffset|0,a|0,b|0,c|0,d|0,f|0,e|0,y.xa|0,this.B):this.kb(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTWeighted",g,V.S&&V.rt&&this.g.view.i))};Da.prototype.kb=function(a,b,c,d,f,e){var g=this.h,k,l,m,n=y.xa,q=this.g.h;if(null===this.D)if(1!==f||1!==e||this.B)for(k=b-e;k<=d+e;k+=1){var p=g[k];for(b=a-f;b<=c+f;){if(this.B&&0!==(b+k&1)){var r=-(f+f+1);var u=this.s.length+r;r+=r}else r=u=
0;var t=0;for(m=-e;m<=e;m+=1){var v=q[k+m];for(l=-f;l<=f;l+=1)v[b+l]>=n&&(t+=this.s[u]),u+=1;u+=r}p[b]=t;b+=1}}else this.XC(b,d,a,c,f);else{var A=this.D[0];var w=this.D[1];for(k=b-e;k<=d+e;k+=1)for(p=g[k],b=a-f;b<=c+f;){this.B&&0!==(b+k&1)?(r=-(f+f+1),u=this.s.length+r,r+=r):r=u=0;t=0;for(m=-e;m<=e;m+=1){v=q[k+m];for(l=-f;l<=f;l+=1)t=v[b+l]>=n?t+this.s[u]*w:t+this.s[u]*A,u+=1;u+=r}p[b]=t;b+=1}}};Da.prototype.yw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.ft&&this.g.view.i?xa.yw(this.h.o.byteOffset|
0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.O.byteOffset|0,this.O.length|0,a|0,b|0,c|0,d|0,f|0,e|0,y.xa|0,this.B):this.ya(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTCustom",g,V.S&&V.ft&&this.g.view.i))};Da.prototype.ya=function(a,b,c,d,f,e){var g=this.h,k,l,m,n,q=y.xa,p=this.O,r=this.g.h;for(k=b-e;k<=d+e;k+=1){var u=g[k];for(b=a-f;b<=c+f;){for(l=n=0;l<p.length;){var t=p[l];this.B&&0===(b+k&1)&&(t=-t);l+=1;var v=r[k+t];t=p[l];for(m=l+=1;m<l+t;m+=1)v[b+
p[m]]>=q&&(n+=1);l+=t}u[b]=n;b+=1}}};Da.prototype.Cw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.jt&&this.g.view.i?xa.Cw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa|0):this.Ia(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTHash",g,V.S&&V.jt&&this.g.view.i))};Da.prototype.Ia=function(a,b,c,d,f,e){var g=this.h,k,l,m,n,q,p=y.xa,r=this.g.h;for(k=b-e;k<=d+e;k+=1){var u=g[k];b=a-f;var t=q=n=0;for(m=-e;m<=
e;m+=1){var v=r[k+m];if(1===m)for(l=-f;l<=f;l+=1)v[b+l]>=p&&(q+=1);else if(-1===m)for(l=-f;l<=f;l+=1)v[b+l]>=p&&(t+=1);else v[b-1]>=p&&(n+=1),v[b+1]>=p&&(n+=1)}r[k][b]>=p&&(n+=1);u[b]=n+q+t;for(b+=1;b<=c+f;){n=0;for(m=-e;m<=e;m+=1)v=r[k+m],1===m?(v[b-f-1]>=p&&--q,v[b+f]>=p&&(q+=1)):-1===m?(v[b-f-1]>=p&&--t,v[b+f]>=p&&(t+=1)):(v[b-1]>=p&&(n+=1),v[b+1]>=p&&(n+=1));r[k][b]>=p&&(n+=1);u[b]=n+q+t;b+=1}}};Da.prototype.qw=function(a,b,c,d,f,e,g){var k=this.h,l,m,n,q=y.xa,p=this.g.h;for(l=b-e;l<=d+e;l+=1){var r=
k[l];b=a-f;var u=0;var t=g;for(n=-e;n<=e;n+=1){var v=p[l+n];for(m=-f+t;m<=f-t;m+=2)v[b+m]>=q&&(u+=1);t=1-t}1===g&&p[l][b]>=q&&(u+=1);r[b]=u;b+=1;if(b<=c+f){var A=0;t=g;for(n=-e;n<=e;n+=1){v=p[l+n];for(m=-f+t;m<=f-t;m+=2)v[b+m]>=q&&(A+=1);t=1-t}1===g&&p[l][b]>=q&&(A+=1);r[b]=A;for(b+=1;b<=c+f;){t=g;for(n=-e;n<=e;n+=1)v=p[l+n],v[b-f+t-2]>=q&&--u,v[b+f-t]>=q&&(u+=1),t=1-t;1===g&&(p[l][b-2]>=q&&--u,p[l][b]>=q&&(u+=1));r[b]=u;b+=1;if(b<=c+f){t=g;for(n=-e;n<=e;n+=1)v=p[l+n],v[b-f+t-2]>=q&&--A,v[b+f-t]>=
q&&(A+=1),t=1-t;1===g&&(p[l][b-2]>=q&&--A,p[l][b]>=q&&(A+=1));r[b]=A;b+=1}}}}};Da.prototype.sw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.ct&&this.g.view.i?xa.sw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,a|0,b|0,c|0,d|0,f|0,e|0,y.xa):this.qw(a,b,c,d,f,e,1);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTChecker",g,V.S&&V.ct&&this.g.view.i))};Da.prototype.mw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.$s&&this.g.view.i?xa.mw(this.h.o.byteOffset|
0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,a|0,b|0,c|0,d|0,f|0,e|0,y.xa):this.qw(a,b,c,d,f,e,0);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTAligned",g,V.S&&V.$s&&this.g.view.i))};Da.prototype.Ew=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.kt&&this.g.view.i?xa.Ew(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa):this.La(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTHex",
g,V.S&&V.kt&&this.g.view.i))};Da.prototype.La=function(a,b,c,d,f,e){var g=this.h,k,l,m,n=y.xa,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var p=g[k];b=a-f;var r=0;for(m=-e;0>m;m+=1){var u=q[k+m];for(l=-f;l<=f+m;l+=1)u[b+l]>=n&&(r+=1)}for(m=0;m<=e;m+=1)for(u=q[k+m],l=-f+m;l<=f;l+=1)u[b+l]>=n&&(r+=1);p[b]=r;for(b+=1;b<=c+f;){for(m=-e;0>m;m+=1)u=q[k+m],u[b-f-1]>=n&&--r,u[b+f+m]>=n&&(r+=1);for(m=0;m<=e;m+=1)u=q[k+m],u[b-f+m-1]>=n&&--r,u[b+f]>=n&&(r+=1);p[b]=r;b+=1}}};Da.prototype.Gw=function(a,b,c,d,f,e){var g=
performance.now();V.S&&V.mt&&this.g.view.i?xa.Gw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa):this.Ta(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTSaltire",g,V.S&&V.mt&&this.g.view.i))};Da.prototype.Ta=function(a,b,c,d,f,e){var g=this.h,k,l,m=y.xa,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var p=0;for(l=1;l<=e;l+=1){var r=n[k+l];r[b-l]>=m&&(p+=1);r[b+l]>=m&&(p+=1);r=n[k-l];r[b-l]>=m&&
(p+=1);r[b+l]>=m&&(p+=1)}r=n[k];r[b]>=m&&(p+=1);q[b]=p;b+=1}}};Da.prototype.Kw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.ot&&this.g.view.i?xa.Kw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa):this.Xa(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTStar",g,V.S&&V.ot&&this.g.view.i))};Da.prototype.Xa=function(a,b,c,d,f,e){var g=this.h,k,l,m=y.xa,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=
c+f;){var p=0;for(l=1;l<=e;l+=1){var r=n[k+l];r[b-l]>=m&&(p+=1);r[b+l]>=m&&(p+=1);r[b]>=m&&(p+=1);r=n[k-l];r[b-l]>=m&&(p+=1);r[b+l]>=m&&(p+=1);r[b]>=m&&(p+=1)}r=n[k];for(l=-f;l<=f;l+=1)r[b+l]>=m&&(p+=1);q[b]=p;b+=1}}};Da.prototype.ww=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.et&&this.g.view.i?xa.ww(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa):this.va(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTCross",
g,V.S&&V.et&&this.g.view.i))};Da.prototype.va=function(a,b,c,d,f,e){var g=this.h,k,l,m,n=y.xa,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var p=g[k];b=a-f;var r=m=0;for(l=1;l<=e;l+=1){var u=q[k+l];u[b]>=n&&(m+=1);u=q[k-l];u[b]>=n&&(m+=1)}u=q[k];for(l=-f;l<=f;l+=1)u[b+l]>=n&&(r+=1);p[b]=m+r;for(b+=1;b<=c+f;){m=0;for(l=1;l<=e;l+=1)q[k+l][b]>=n&&(m+=1),q[k-l][b]>=n&&(m+=1);u=q[k];u[b-f-1]>=n&&--r;u[b+f]>=n&&(r+=1);p[b]=m+r;b+=1}}};Da.prototype.Mw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.pt&&this.g.view.i?
xa.Mw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa):this.$a(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTTriangular",g,V.S&&V.pt&&this.g.view.i))};Da.prototype.$a=function(a,b,c,d,f,e){var g=this.h,k,l,m=y.xa,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];b=a-f;var p=0;var r=b+k&1;if(0===r){var u=e+1;for(r=-e;0>r;r+=1){var t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]>=m&&(p+=1),t[b+l+1]>=m&&(p+=1);t[b+l]>=m&&(p+=1);u+=
1}r=0}else{u=e;for(r=-e;0>=r;r+=1){t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]>=m&&(p+=1),t[b+l+1]>=m&&(p+=1);t[b+l]>=m&&(p+=1);u+=1}r=1}for(;r<=e;r+=1){--u;t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]>=m&&(p+=1),t[b+l+1]>=m&&(p+=1);t[b+l]>=m&&(p+=1)}q[b]=p;for(b+=1;b<=c+f;){r=b+k&1;if(0===r){l=e;for(r=-e;0>r;r+=1)t=n[k+r],t[b+l]>=m&&(p+=1),l+=1,t[b+l]>=m&&(p+=1);t=n[k];t[b-l-1]>=m&&--p;t[b+l]>=m&&(p+=1);l+=1;for(r=1;r<=e;r+=1)--l,t=n[k+r],t[b-l-1]>=m&&--p,t[b-l]>=m&&--p}else{l=e+1;for(r=-e;0>r;r+=1)t=n[k+r],t[b-l-1]>=
m&&--p,t[b-l]>=m&&--p,l+=1;--l;t=n[k];t[b-l-1]>=m&&--p;t[b+l]>=m&&(p+=1);for(r=1;r<=e;r+=1)--l,t=n[k+r],t[b+l]>=m&&(p+=1),t[b+l+1]>=m&&(p+=1)}q[b]=p;b+=1}}};Da.prototype.Aw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.gt&&this.g.view.i?xa.Aw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,a|0,b|0,c|0,d|0,f|0,e|0,y.xa):this.Ba(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTGaussian",g,V.S&&V.gt&&this.g.view.i))};Da.prototype.Ba=function(a,
b,c,d,f,e){var g=this.h,k,l,m,n,q=y.xa,p=this.g.h;for(k=b-e;k<=d+e;k+=1){var r=g[k];for(b=a-f;b<=c+f;){var u=0;for(m=-e;0>m;m+=1){var t=n=m+e+1;var v=p[k+m];for(l=-f;0>=l;l+=1)v[b+l]>=q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]>=q&&(u+=t),t-=n;t=n=m+e+1;v=p[k-m];for(l=-f;0>=l;l+=1)v[b+l]>=q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]>=q&&(u+=t),t-=n}t=n=f+1;v=p[k];for(l=-f;0>=l;l+=1)v[b+l]>=q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]>=q&&(u+=t),t-=n;v[b]>=q&&(u+=1);r[b]=u;b+=1}}};Da.prototype.Iw=
function(a,b,c,d,f,e){var g=performance.now();V.S&&V.nt&&this.g.view.i?xa.Iw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.H.byteOffset|0,b|0,d|0,a|0,c|0,f|0,e|0,y.xa):this.Va(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTShaped",g,V.S&&V.nt&&this.g.view.i))};Da.prototype.Va=function(a,b,c,d,f,e){var g=this.h,k,l,m,n=y.xa,q=this.H,p=this.g.h;for(k=b-e;k<=d+e;k+=1){var r=g[k];b=a-f;var u=0;for(m=-e;m<=e;m+=1){var t=q[m+e];var v=p[k+
m];for(l=-t;l<t;l+=2)v[b+l]>=n&&(u+=1),v[b+l+1]>=n&&(u+=1);v[b+l]>=n&&(u+=1)}r[b]=u;for(b+=1;b<=c+f;){for(m=-e;m<=e;m+=1)t=q[m+e],v=p[k+m],v[b-t-1]>=n&&--u,v[b+t]>=n&&(u+=1);r[b]=u;b+=1}}};Da.prototype.hb=function(a,b,c,d,f,e){var g=this.h,k,l,m,n=y.xa,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var p=g[k];b=a-f;var r=0;for(m=-e;0>=m;m+=1){var u=m+e;var t=q[k+m];for(l=-u;l<u;l+=2)t[b+l]>=n&&(r+=1),t[b+l+1]>=n&&(r+=1);t[b+l]>=n&&(r+=1)}for(m=1;m<=e;m+=1){u=e-m;t=q[k+m];for(l=-u;l<u;l+=2)t[b+l]>=n&&(r+=1),t[b+
l+1]>=n&&(r+=1);t[b+l]>=n&&(r+=1)}p[b]=r;for(b+=1;b<=c+f;){for(m=-e;0>=m;m+=1)u=m+e,t=q[k+m],t[b-u-1]>=n&&--r,t[b+u]>=n&&(r+=1);for(m=1;m<=e;m+=1)u=e-m,t=q[k+m],t[b-u-1]>=n&&--r,t[b+u]>=n&&(r+=1);p[b]=r;b+=1}}};Da.prototype.Fa=function(a){var b,c,d=this.g.B.I,f=this.g.B.L,e=this.g.B.J,g=this.g.B.M,k=this.m,l=this.v,m=a?this.ja:this.P,n=a?this.ka:this.G,q=k+k,p=l+l;var r=k+1;var u=l+1;var t=this.h,v=this.type,A=this.ca-1,w=this.g.width,B=0,C=this.g.height,O=0,M=w,K=B,L=C,U=O,X=this.g.h,H=this.g.m,
R=this.g.$;var P=this.g.Z;var S=0,aa=0,pa=0,ha=0,ca=0,ia=0,na=0,ja,W=y.xa,ma=y.ki,ea=this.g.bf,Z=this.pa,Y=this.ea,oa=this.ba,Q=this.fa,F=this.da,z=this.aa;-1!==this.g.O&&(S=Math.round((this.g.width-R)/2),pa=Math.round((this.g.height-P)/2),aa=S+R-1,ha=pa+P-1,255===m[0]&&(d=S+k,f=aa-k,g=ha-l,e=pa+l),1===this.g.O&&(d-S<k&&(f=aa),aa-f<k&&(d=S),ha-g<l&&(e=pa),e-pa<l&&(g=ha),R=performance.now(),V.S&&V.vE&&this.g.view.i?xa.st(X.o.byteOffset|0,X[0].length|0,S|0,pa|0,aa|0,ha|0,k|0,l|0):this.st(S,pa,aa,ha),
V.Db&&(R=performance.now()-R,this.g.view.C.h("wrapTorusHROT",R,V.S&&V.vE&&this.g.view.i))),0===this.g.O&&1===A&&this.g.Af(X,0),d-S<k&&(d=S+k),aa-f<k&&(f=aa-k),ha-g<l&&(g=ha-l),e-pa<l&&(e=pa+l),v===this.W.i?(d-=q,e-=p,f+=q,g+=p):v===this.W.j&&k>this.ga&&(d-=k,e-=l,f+=k,g+=l));if(v===this.W.i){performance.now();d-=q;e-=p;f+=q;g+=p;R=performance.now();if(V.S&&V.nE&&this.g.view.i)xa.VG(t.o.byteOffset|0,t[0].length|0,e|0,g|0,d|0,f|0,p|0,q|0);else{for(c=e;c<e+p;c+=1)t[c].fill(0,d,f+1);for(c=e+p;c<=g;c+=
1)t[c].fill(0,d,d+q+1)}V.Db&&(R=performance.now()-R,this.g.view.C.h("clearTopAndLeft",R,V.S&&V.nE&&this.g.view.i));R=performance.now();if(V.S&&V.bn&&this.g.view.i)xa.hH(t.o.byteOffset|0,X.o.byteOffset|0,e+p|0,d+q|0,g|0,f|0,W|0,t[0].length|0,X[0].length|0);else{var J=t[e+p-1];for(c=e+p;c<=g;c+=1){var N=t[c];A=X[c];P=0;for(b=d+q;b+8<=f;)A[b]>=W&&(P+=1),N[b]=J[b]+P,b+=1,A[b]>=W&&(P+=1),N[b]=J[b]+P,b+=1,A[b]>=W&&(P+=1),N[b]=J[b]+P,b+=1,A[b]>=W&&(P+=1),N[b]=J[b]+P,b+=1,A[b]>=W&&(P+=1),N[b]=J[b]+P,b+=1,
A[b]>=W&&(P+=1),N[b]=J[b]+P,b+=1,A[b]>=W&&(P+=1),N[b]=J[b]+P,b+=1,A[b]>=W&&(P+=1),N[b]=J[b]+P,b+=1;for(;b<=f;)A[b]>=W&&(P+=1),N[b]=J[b]+P,b+=1;J=N}}V.Db&&(R=performance.now()-R,this.g.view.C.h("cumulativeCounts",R,V.S&&V.bn&&this.g.view.i));d+=k;e+=l;f-=k;g-=l;-1!==this.g.O&&(d+=q,e+=p,f-=q,g-=p);performance.now();p=X[e][d];P=t[e+l][d+k];var I=0;p<W?255===m[P]&&(Y?oa.random()>=Q[P]&&(ia+=1,I=128):(ia+=1,I=128)):0===n[P]?Y?oa.random()>=z[P]?I=128:na+=1:na+=1:Y?oa.random()>=F[P]?I=128:na+=1:I=128;p=
ea[p+I];X[e][d]=p;p>ma&&(Z[d]|=1,O=C=e,H[e>>4][d>>8]|=1<<(~(d>>4)&15),p>=W&&(ca+=1,Z[d]|=2,U=L=e));var x=ja=!1;N=t[e+l];J=t[e+l];A=X[e];q=H[e>>4];if(Y)for(b=d+1;b<=f;b+=1)p=A[b],P=N[b+k]-J[b-r],I=0,p<W?255===m[P]&&oa.random()>=Q[P]&&(ia+=1,I=128):0===n[P]?oa.random()>=z[P]?I=128:na+=1:oa.random()>=F[P]?I=128:na+=1,p=ea[p+I],A[b]=p,p>ma&&(Z[b]|=1,ja=!0,q[b>>8]|=1<<(~(b>>4)&15),p>=W&&(ca+=1,Z[b]|=2,x=!0));else for(b=d+1;b<=f;b+=1)p=A[b],P=N[b+k]-J[b-r],I=0,p<W?255===m[P]&&(ia+=1,I=128):0===n[P]?na+=
1:I=128,p=ea[p+I],A[b]=p,p>ma&&(Z[b]|=1,ja=!0,q[b>>8]|=1<<(~(b>>4)&15),p>=W&&(ca+=1,Z[b]|=2,x=!0));ja&&(O=C=e);x&&(U=L=e);A=R=!1;N=d+k;for(c=e+1;c<=g;c+=1)p=X[c][d],P=t[c+l][N]-t[c-u][N],I=0,p<W?255===m[P]&&(Y?oa.random()>=Q[P]&&(ia+=1,I=128):(ia+=1,I=128)):0===n[P]?Y?oa.random()>=z[P]?I=128:na+=1:na+=1:Y?oa.random()>=F[P]?I=128:na+=1:I=128,p=ea[p+I],X[c][d]=p,p>ma&&(c<C&&(C=c),c>O&&(O=c),R=!0,H[c>>4][d>>8]|=1<<(~(d>>4)&15),p>=W&&(ca+=1,c<L&&(L=c),c>U&&(U=c),A=!0));R&&(Z[d]|=1);A&&(Z[d]|=2);R=performance.now();
if(V.S&&V.ht&&this.g.view.i&&!Y)xa.iJ(X.o.byteOffset|0,X[0].length|0,H.o.byteOffset|0,H[0].length|0,t.o.byteOffset|0,t[0].length|0,a?this.Z.byteOffset|0:this.$.byteOffset|0,Z.byteOffset|0,e|0,d|0,g|0,f|0,k|0,l|0,W|0,y.Re|0,y.pe|0,ma|0,this.i.byteOffset|0,C|0,O|0,L|0,U|0,ca|0,ia|0,na),C=this.i[0],O=this.i[1],L=this.i[2],U=this.i[3],ca=this.i[4],ia=this.i[5],na=this.i[6];else for(c=e+1;c<=g;c+=1){A=X[c];q=H[c>>4];J=t[c+l];var E=t[c-u];N=d+1+k;var la=d+1-r;x=ja=!1;if(Y)for(b=d+1;b<=f;b+=1)p=A[b],P=J[N]+
E[la]-J[la]-E[N],I=0,p<W?255===m[P]&&oa.random()>=Q[P]&&(I=128,ia+=1):0===n[P]?oa.random()>=z[P]?I=128:na+=1:oa.random()>=F[P]?I=128:na+=1,p=ea[p+I],A[b]=p,p>ma&&(ja=!0,q[b>>8]|=1<<(~(b>>4)&15),Z[b]|=1,p>=W&&(ca+=1,x=!0,Z[b]|=2)),N+=1,la+=1;else for(b=d+1;b<=f;b+=1)p=A[b],P=J[N]+E[la]-J[la]-E[N],I=0,p<W?255===m[P]&&(I=128,ia+=1):0===n[P]?na+=1:I=128,p=ea[p+I],A[b]=p,p>ma&&(ja=!0,q[b>>8]|=1<<(~(b>>4)&15),Z[b]|=1,p>=W&&(ca+=1,x=!0,Z[b]|=2)),N+=1,la+=1;ja&&(c<C&&(C=c),c>O&&(O=c));x&&(c<L&&(L=c),c>U&&
(U=c))}V.Db&&(R=performance.now()-R,this.g.view.C.h("nextHROTMoore",R,V.S&&V.ht&&this.g.view.i));for(b=d;b<=f;b+=1)Z[b]&&(b<w&&(w=b),b>B&&(B=b),0!==(Z[b]&2)&&(b<M&&(M=b),b>K&&(K=b)),Z[b]=0);performance.now();this.g.A=ca;this.g.na=ia;this.g.ga=na;0<ca&&(this.g.B.I=w,this.g.B.L=B,this.g.B.J=C,this.g.B.M=O,this.g.ya.I=M,this.g.ya.L=K,this.g.ya.J=L,this.g.ya.M=U)}else if(v===this.W.j&&k>this.ga){d-=k;f+=k;e-=l;g+=l;-1===this.g.O&&(d-=k,f+=k,e-=l,g+=l);this.F=g-e+1;this.u=f-d+1;this.A=this.F+(this.u-1)/
2|0;this.K=this.u/2|0;R=performance.now();if(V.S&&V.bn&&this.g.view.i)xa.jH(this.A|0,this.u|0,this.F|0,e|0,d|0,W|0,this.K|0,t.o.byteOffset|0,X.o.byteOffset|0,t[0].length|0,X[0].length|0);else for(r=0;r<this.A;r+=1)for(N=t[r],A=X[r+e],Z=r-1,P=Z-1,c=t[Z],q=t[P],u=0;u<=this.u;u+=1)N[u]=this.j(Z,u-1,c)+this.j(Z,u+1,c)-this.j(P,u,q),r<this.F&&A[u+d]>=W&&(N[u]+=1);V.Db&&(R=performance.now()-R,this.g.view.C.h("cumulativeCounts",R,V.S&&V.bn&&this.g.view.i));R=performance.now();if(V.S&&V.it&&this.g.view.i&&
!Y)xa.kJ(X.o.byteOffset|0,X[0].length|0,H.o.byteOffset|0,H[0].length|0,t.o.byteOffset|0,t[0].length|0,a?this.Z.byteOffset|0:this.$.byteOffset|0,e|0,d|0,k|0,l|0,this.F|0,this.u|0,W|0,y.Re|0,y.pe|0,ma|0,this.A|0,this.K|0,this.i.byteOffset|0,w|0,B|0,C|0,O|0,M|0,K|0,L|0,U|0,ca|0,ia|0,na|0),w=this.i[0],B=this.i[1],C=this.i[2],O=this.i[3],M=this.i[4],K=this.i[5],L=this.i[6],U=this.i[7],ca=this.i[8],ia=this.i[9],na=this.i[10];else for(r=l;r<=this.F-l;r+=1){Z=r-1;c=t[Z];la=r+l;var ba=t[la];N=la-1;var ta=
t[N];b=r-l-1;var ua=t[b];J=b-1;var ka=t[J];E=r+e;A=X[E];q=H[E>>4];x=ja=!1;if(Y)for(u=k;u<=this.u-k;u+=1){P=u+k;p=u-k;P=this.j(la,u,ba)-this.j(Z,P+1,c)-this.j(Z,p-1,c)+this.j(J,u,ka)+this.j(N,u,ta)-this.j(Z,P,c)-this.j(Z,p,c)+this.j(b,u,ua);var wa=u+d;p=A[wa];I=0;p<W?255===m[P]&&oa.random()>=Q[P]&&(I=128,ia+=1):0===n[P]?oa.random()>=z[P]?I=128:na+=1:oa.random()>=F[P]?I=128:na+=1;p=ea[p+I];A[wa]=p;p>ma&&(wa<w&&(w=wa),wa>B&&(B=wa),ja=!0,q[wa>>8]|=1<<(~(wa>>4)&15),p>=W&&(ca+=1,x=!0,wa<M&&(M=wa),wa>K&&
(K=wa)))}else for(u=k;u<=this.u-k;u+=1)P=u+k,p=u-k,P=this.j(la,u,ba)-this.j(Z,P+1,c)-this.j(Z,p-1,c)+this.j(J,u,ka)+this.j(N,u,ta)-this.j(Z,P,c)-this.j(Z,p,c)+this.j(b,u,ua),wa=u+d,p=A[wa],I=0,p<W?255===m[P]&&(I=128,ia+=1):0===n[P]?na+=1:I=128,p=ea[p+I],A[wa]=p,p>ma&&(wa<w&&(w=wa),wa>B&&(B=wa),ja=!0,q[wa>>8]|=1<<(~(wa>>4)&15),p>=W&&(ca+=1,x=!0,wa<M&&(M=wa),wa>K&&(K=wa)));ja&&(E<C&&(C=E),E>O&&(O=E));x&&(E<L&&(L=E),E>U&&(U=E))}V.Db&&(R=performance.now()-R,this.g.view.C.h("nextHROTvN",R,V.S&&V.it&&this.g.view.i));
this.g.A=ca;this.g.na=ia;this.g.ga=na;0<ca&&(this.g.B.I=w,this.g.B.L=B,this.g.B.J=C,this.g.B.M=O,this.g.ya.I=M,this.g.ya.L=K,this.g.ya.J=L,this.g.ya.M=U)}else switch(v){case this.W.u:this.uw(d,e,f,g,k,l);break;case this.W.A:this.ow(d,e,f,g,k,l);break;case this.W.D:this.Ow(d,e,f,g,k,l);break;case 15:this.Qw(d,e,f,g,k,l);break;case 10:this.yw(d,e,f,g,k,l);break;case this.W.R:this.Cw(d,e,f,g,k,l);break;case this.W.O:this.sw(d,e,f,g,k,l);break;case this.W.K:this.mw(d,e,f,g,k,l);break;case this.W.G:this.Ew(d,
e,f,g,k,l);break;case this.W.U:this.Gw(d,e,f,g,k,l);break;case this.W.X:this.Kw(d,e,f,g,k,l);break;case this.W.P:this.ww(d,e,f,g,k,l);break;case this.W.H:this.Mw(d,e,f,g,k,l);break;case this.W.v:this.Aw(d,e,f,g,k,l);break;case this.W.j:this.hb(d,e,f,g,k,l);break;default:this.Iw(d,e,f,g,k,l)}-1!==this.g.O&&(d<S+k&&(d=S+k),f>aa-k&&(f=aa-k),e<pa+l&&(e=pa+l),g>ha-l&&(g=ha-l));v===this.W.i||v===this.W.j&&k>this.ga||this.qa(d,e,f,g,a);1===this.g.O&&(R=performance.now(),V.S&&V.pE&&this.g.view.i?xa.zr(X.o.byteOffset|
0,X[0].length|0,S|0,pa|0,aa|0,ha|0,k|0,l|0):this.zr(S,pa,aa,ha),V.Db&&(R=performance.now()-R,this.g.view.C.h("clearHROTOutside",R,V.S&&V.pE&&this.g.view.i)))};Da.prototype.vw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.dt&&this.g.view.i?xa.vw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.u-1|0,this.R|0,this.X|0):this.ua(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTCorner",g,V.S&&V.dt&&this.g.view.i))};
Da.prototype.ua=function(a,b,c,d,f,e){var g=this.h,k,l=this.g.i+this.g.u-1,m=this.R,n=this.X,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var p=g[k];for(b=a-f;b<=c+f;){var r=0;var u=q[k-m];u[b-m]===l&&(r+=1);u[b+m]===l&&(r+=1);u=q[k+m];u[b-m]===l&&(r+=1);u[b+m]===l&&(r+=1);q[k-n][b]===l&&(r+=1);q[k+n][b]===l&&(r+=1);u=q[k];u[b-n]===l&&(r+=1);u[b+n]===l&&(r+=1);u[b]===l&&(r+=1);p[b]=r;b+=1}}};Da.prototype.pw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.bt&&this.g.view.i?xa.pw(this.h.o.byteOffset|0,this.h[0].length|
0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.u-1|0):this.sa(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTAsterisk",g,V.S&&V.bt&&this.g.view.i))};Da.prototype.sa=function(a,b,c,d,f,e){var g=this.h,k,l,m=this.g.i+this.g.u-1,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var p=0;for(l=-e;0>l;l+=1){var r=n[k+l];r[b]===m&&(p+=1);r[b+l]===m&&(p+=1)}r=n[k];for(l=-f;l<=f;l+=1)r[b+l]===m&&(p+=1);for(l=1;l<=f;l+=1)r=n[k+l],r[b]===
m&&(p+=1),r[b+l]===m&&(p+=1);q[b]=p;b+=1}}};Da.prototype.Pw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.qt&&this.g.view.i?xa.Pw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.u-1|0):this.fb(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTTripod",g,V.S&&V.qt&&this.g.view.i))};Da.prototype.fb=function(a,b,c,d,f,e){var g=this.h,k,l,m=this.g.i+this.g.u-1,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];
for(b=a-f;b<=c+f;){var p=0;for(l=-e;0>l;l+=1){var r=n[k+l];r[b]===m&&(p+=1)}r=n[k];for(l=-f;0>=l;l+=1)r[b+l]===m&&(p+=1);for(l=1;l<=f;l+=1)n[k+l][b+l]===m&&(p+=1);q[b]=p;b+=1}}};Da.prototype.Rw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.rt&&this.g.view.i?null===this.D?xa.Rw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.s.byteOffset|0,this.s.length|0,a|0,b|0,c|0,d|0,f|0,e|0,this.g.i+this.g.u-1|0,this.B):xa.xJ(this.h.o.byteOffset|0,this.h[0].length|
0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.s.byteOffset|0,this.s.length|0,this.D.byteOffset|0,a|0,b|0,c|0,d|0,f|0,e|0,this.g.i+this.g.u-1|0,this.B):this.mb(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTWeighted",g,V.S&&V.rt&&this.g.view.i))};Da.prototype.mb=function(a,b,c,d,f,e){var g=this.h,k,l,m,n=this.g.i+this.g.u-1,q=this.g.h;if(null===this.D)for(k=b-e;k<=d+e;k+=1){var p=g[k];for(b=a-f;b<=c+f;){if(this.B&&0!==(b+k&1)){var r=-(f+f+1);var u=this.s.length+r;r+=r}else r=
u=0;var t=0;for(m=-e;m<=e;m+=1){var v=q[k+m];for(l=-f;l<=f;l+=1)v[b+l]===n&&(t+=this.s[u]),u+=1;u+=r}p[b]=t;b+=1}}else if(1!==f||1!==e||this.B){var A=this.D[0];var w=this.D[1];for(k=b-e;k<=d+e;k+=1)for(p=g[k],b=a-f;b<=c+f;){this.B&&0!==(b+k&1)?(r=-(f+f+1),u=this.s.length+r,r+=r):r=u=0;t=0;for(m=-e;m<=e;m+=1){v=q[k+m];for(l=-f;l<=f;l+=1)t=v[b+l]===n?t+this.s[u]*w:t+this.s[u]*A,u+=1;u+=r}p[b]=t;b+=1}}else this.lb(b,d,a,c,f)};Da.prototype.zw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.ft&&this.g.view.i?
xa.zw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.O.byteOffset|0,this.O.length|0,a|0,b|0,c|0,d|0,f|0,e|0,this.g.i+this.g.u-1|0,this.B):this.Aa(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTCustom",g,V.S&&V.ft&&this.g.view.i))};Da.prototype.Aa=function(a,b,c,d,f,e){var g=this.h,k,l,m,n,q=this.g.i+this.g.u-1,p=this.O,r=this.g.h;for(k=b-e;k<=d+e;k+=1){var u=g[k];for(b=a-f;b<=c+f;){for(l=n=0;l<p.length;){var t=p[l];this.B&&0===(b+k&1)&&
(t=-t);l+=1;var v=r[k+t];t=p[l];for(m=l+=1;m<l+t;m+=1)v[b+p[m]]===q&&(n+=1);l+=t}u[b]=n;b+=1}}};Da.prototype.Dw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.jt&&this.g.view.i?xa.Dw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.u-1|0):this.Ja(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTHash",g,V.S&&V.jt&&this.g.view.i))};Da.prototype.Ja=function(a,b,c,d,f,e){var g=this.h,k,l,m,n,q,p=this.g.i+
this.g.u-1,r=this.g.h;for(k=b-e;k<=d+e;k+=1){var u=g[k];b=a-f;var t=q=n=0;for(m=-e;m<=e;m+=1){var v=r[k+m];if(1===m)for(l=-f;l<=f;l+=1)v[b+l]===p&&(q+=1);else if(-1===m)for(l=-f;l<=f;l+=1)v[b+l]===p&&(t+=1);else v[b-1]===p&&(n+=1),v[b+1]===p&&(n+=1)}r[k][b]===p&&(n+=1);u[b]=n+q+t;for(b+=1;b<=c+f;){n=0;for(m=-e;m<=e;m+=1)v=r[k+m],1===m?(v[b-f-1]===p&&--q,v[b+f]===p&&(q+=1)):-1===m?(v[b-f-1]===p&&--t,v[b+f]===p&&(t+=1)):(v[b-1]===p&&(n+=1),v[b+1]===p&&(n+=1));r[k][b]===p&&(n+=1);u[b]=n+q+t;b+=1}}};
Da.prototype.rw=function(a,b,c,d,f,e,g){var k=this.h,l,m,n,q=this.g.i+this.g.u-1,p=this.g.h;for(l=b-e;l<=d+e;l+=1){var r=k[l];b=a-f;var u=0;var t=g;for(n=-e;n<=e;n+=1){var v=p[l+n];for(m=-f+t;m<=f-t;m+=2)v[b+m]===q&&(u+=1);t=1-t}1===g&&p[l][b]===q&&(u+=1);r[b]=u;b+=1;if(b<=c+f){var A=0;t=g;for(n=-e;n<=e;n+=1){v=p[l+n];for(m=-f+t;m<=f-t;m+=2)v[b+m]===q&&(A+=1);t=1-t}1===g&&p[l][b]===q&&(A+=1);r[b]=A;for(b+=1;b<=c+f;){t=g;for(n=-e;n<=e;n+=1)v=p[l+n],v[b-f+t-2]===q&&--u,v[b+f-t]===q&&(u+=1),t=1-t;1===
g&&(p[l][b-2]===q&&--u,p[l][b]===q&&(u+=1));r[b]=u;b+=1;if(b<=c+f){t=g;for(n=-e;n<=e;n+=1)v=p[l+n],v[b-f+t-2]===q&&--A,v[b+f-t]===q&&(A+=1),t=1-t;1===g&&(p[l][b-2]===q&&--A,p[l][b]===q&&(A+=1));r[b]=A;b+=1}}}}};Da.prototype.tw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.ct&&this.g.view.i?xa.tw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,a|0,b|0,c|0,d|0,f|0,e|0,this.g.i+this.g.u-1|0):this.rw(a,b,c,d,f,e,1);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTChecker",
g,V.S&&V.ct&&this.g.view.i))};Da.prototype.nw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.$s&&this.g.view.i?xa.nw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,a|0,b|0,c|0,d|0,f|0,e|0,this.g.i+this.g.u-1|0):this.rw(a,b,c,d,f,e,0);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTAligned",g,V.S&&V.$s&&this.g.view.i))};Da.prototype.Fw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.kt&&this.g.view.i?xa.Fw(this.h.o.byteOffset|0,this.h[0].length|
0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.u-1|0):this.Pa(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTHex",g,V.S&&V.kt&&this.g.view.i))};Da.prototype.Pa=function(a,b,c,d,f,e){var g=this.h,k,l,m,n=this.g.i+this.g.u-1,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var p=g[k];b=a-f;var r=0;for(m=-e;0>m;m+=1){var u=q[k+m];for(l=-f;l<=f+m;l+=1)u[b+l]===n&&(r+=1)}for(m=0;m<=e;m+=1)for(u=q[k+m],l=-f+m;l<=f;l+=1)u[b+l]===n&&(r+=1);p[b]=r;for(b+=1;b<=c+
f;){for(m=-e;0>m;m+=1)u=q[k+m],u[b-f-1]===n&&--r,u[b+f+m]===n&&(r+=1);for(m=0;m<=e;m+=1)u=q[k+m],u[b-f+m-1]===n&&--r,u[b+f]===n&&(r+=1);p[b]=r;b+=1}}};Da.prototype.Hw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.mt&&this.g.view.i?xa.Hw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.u-1|0):this.Ua(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTSaltire",g,V.S&&V.mt&&this.g.view.i))};Da.prototype.Ua=
function(a,b,c,d,f,e){var g=this.h,k,l,m=this.g.i+this.g.u-1,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var p=0;for(l=1;l<=e;l+=1){var r=n[k+l];r[b-l]===m&&(p+=1);r[b+l]===m&&(p+=1);r=n[k-l];r[b-l]===m&&(p+=1);r[b+l]===m&&(p+=1)}r=n[k];r[b]===m&&(p+=1);q[b]=p;b+=1}}};Da.prototype.Lw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.ot&&this.g.view.i?xa.Lw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+
this.g.u-1|0):this.Za(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTStar",g,V.S&&V.ot&&this.g.view.i))};Da.prototype.Za=function(a,b,c,d,f,e){var g=this.h,k,l,m=this.g.i+this.g.u-1,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];for(b=a-f;b<=c+f;){var p=0;for(l=1;l<=e;l+=1){var r=n[k+l];r[b-l]===m&&(p+=1);r[b+l]===m&&(p+=1);r[b]===m&&(p+=1);r=n[k-l];r[b-l]===m&&(p+=1);r[b+l]===m&&(p+=1);r[b]===m&&(p+=1)}r=n[k];for(l=-f;l<=f;l+=1)r[b+l]===m&&(p+=1);q[b]=p;b+=1}}};Da.prototype.xw=
function(a,b,c,d,f,e){var g=performance.now();V.S&&V.et&&this.g.view.i?xa.xw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.u-1|0):this.wa(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTCross",g,V.S&&V.et&&this.g.view.i))};Da.prototype.wa=function(a,b,c,d,f,e){var g=this.h,k,l,m,n=this.g.i+this.g.u-1,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var p=g[k];b=a-f;var r=m=0;for(l=1;l<=e;l+=1){var u=q[k+l];u[b]===
n&&(m+=1);u=q[k-l];u[b]===n&&(m+=1)}u=q[k];for(l=-f;l<=f;l+=1)u[b+l]===n&&(r+=1);p[b]=m+r;for(b+=1;b<=c+f;){m=0;for(l=1;l<=e;l+=1)q[k+l][b]===n&&(m+=1),q[k-l][b]===n&&(m+=1);u=q[k];u[b-f-1]===n&&--r;u[b+f]===n&&(r+=1);p[b]=m+r;b+=1}}};Da.prototype.Nw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.pt&&this.g.view.i?xa.Nw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.u-1|0):this.cb(a,b,c,d,f,e);V.Db&&(g=performance.now()-
g,this.g.view.C.h("nextHROTTriangular",g,V.S&&V.pt&&this.g.view.i))};Da.prototype.cb=function(a,b,c,d,f,e){var g=this.h,k,l,m=this.g.i+this.g.u-1,n=this.g.h;for(k=b-e;k<=d+e;k+=1){var q=g[k];b=a-f;var p=0;var r=b+k&1;if(0===r){var u=e+1;for(r=-e;0>r;r+=1){var t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]===m&&(p+=1),t[b+l+1]===m&&(p+=1);t[b+l]===m&&(p+=1);u+=1}r=0}else{u=e;for(r=-e;0>=r;r+=1){t=n[k+r];for(l=-u;l<u;l+=2)t[b+l]===m&&(p+=1),t[b+l+1]===m&&(p+=1);t[b+l]===m&&(p+=1);u+=1}r=1}for(;r<=e;r+=1){--u;t=
n[k+r];for(l=-u;l<u;l+=2)t[b+l]===m&&(p+=1),t[b+l+1]===m&&(p+=1);t[b+l]===m&&(p+=1)}q[b]=p;for(b+=1;b<=c+f;){r=b+k&1;if(0===r){l=e;for(r=-e;0>r;r+=1)t=n[k+r],t[b+l]===m&&(p+=1),l+=1,t[b+l]===m&&(p+=1);t=n[k];t[b-l-1]===m&&--p;t[b+l]===m&&(p+=1);l+=1;for(r=1;r<=e;r+=1)--l,t=n[k+r],t[b-l-1]===m&&--p,t[b-l]===m&&--p}else{l=e+1;for(r=-e;0>r;r+=1)t=n[k+r],t[b-l-1]===m&&--p,t[b-l]===m&&--p,l+=1;--l;t=n[k];t[b-l-1]===m&&--p;t[b+l]===m&&(p+=1);for(r=1;r<=e;r+=1)--l,t=n[k+r],t[b+l]===m&&(p+=1),t[b+l+1]===
m&&(p+=1)}q[b]=p;b+=1}}};Da.prototype.Bw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.gt&&this.g.view.i?xa.Bw(this.h.o.byteOffset|0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,a|0,b|0,c|0,d|0,f|0,e|0,this.g.i+this.g.u-1|0):this.Ca(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTGaussian",g,V.S&&V.gt&&this.g.view.i))};Da.prototype.Ca=function(a,b,c,d,f,e){var g=this.h,k,l,m,n,q=this.g.i+this.g.u-1,p=this.g.h;for(k=b-e;k<=d+e;k+=1){var r=g[k];for(b=a-f;b<=
c+f;){var u=0;for(m=-e;0>m;m+=1){var t=n=m+e+1;var v=p[k+m];for(l=-f;0>=l;l+=1)v[b+l]===q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]===q&&(u+=t),t-=n;t=n=m+e+1;v=p[k-m];for(l=-f;0>=l;l+=1)v[b+l]===q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]===q&&(u+=t),t-=n}t=n=f+1;v=p[k];for(l=-f;0>=l;l+=1)v[b+l]===q&&(u+=t),t+=n;t-=n+n;for(l=1;l<=f;l+=1)v[b+l]===q&&(u+=t),t-=n;v[b]===q&&(u+=1);r[b]=u;b+=1}}};Da.prototype.Jw=function(a,b,c,d,f,e){var g=performance.now();V.S&&V.nt&&this.g.view.i?xa.Jw(this.h.o.byteOffset|
0,this.h[0].length|0,this.g.h.o.byteOffset|0,this.g.h[0].length|0,this.H.byteOffset|0,b|0,d|0,a|0,c|0,f|0,e|0,this.g.i+this.g.u-1|0):this.Wa(a,b,c,d,f,e);V.Db&&(g=performance.now()-g,this.g.view.C.h("nextHROTShaped",g,V.S&&V.nt&&this.g.view.i))};Da.prototype.Wa=function(a,b,c,d,f,e){var g=this.h,k,l,m,n=this.g.i+this.g.u-1,q=this.H,p=this.g.h;for(k=b-e;k<=d+e;k+=1){var r=g[k];b=a-f;var u=0;for(m=-e;m<=e;m+=1){var t=q[m+e];var v=p[k+m];for(l=-t;l<t;l+=2)v[b+l]===n&&(u+=1),v[b+l+1]===n&&(u+=1);v[b+
l]===n&&(u+=1)}r[b]=u;for(b+=1;b<=c+f;){for(m=-e;m<=e;m+=1)t=q[m+e],v=p[k+m],v[b-t-1]===n&&--u,v[b+t]===n&&(u+=1);r[b]=u;b+=1}}};Da.prototype.jb=function(a,b,c,d,f,e){var g=this.h,k,l,m,n=this.g.i+this.g.u-1,q=this.g.h;for(k=b-e;k<=d+e;k+=1){var p=g[k];b=a-f;var r=0;for(m=-e;0>=m;m+=1){var u=m+e;var t=q[k+m];for(l=-u;l<u;l+=2)t[b+l]===n&&(r+=1),t[b+l+1]===n&&(r+=1);t[b+l]===n&&(r+=1)}for(m=1;m<=e;m+=1){u=e-m;t=q[k+m];for(l=-u;l<u;l+=2)t[b+l]===n&&(r+=1),t[b+l+1]===n&&(r+=1);t[b+l]===n&&(r+=1)}p[b]=
r;for(b+=1;b<=c+f;){for(m=-e;0>=m;m+=1)u=m+e,t=q[k+m],t[b-u-1]===n&&--r,t[b+u]===n&&(r+=1);for(m=1;m<=e;m+=1)u=e-m,t=q[k+m],t[b-u-1]===n&&--r,t[b+u]===n&&(r+=1);p[b]=r;b+=1}}};Da.prototype.Ga=function(a){var b,c,d=this.g.B.I,f=this.g.B.L,e=this.g.B.J,g=this.g.B.M,k=this.m,l=this.v,m=a?this.ja:this.P,n=a?this.ka:this.G,q=k+k,p=l+l;var r=k+1;var u=l+1;var t=this.h,v=this.type,A=this.g.width,w=0,B=this.g.height,C=0,O=A,M=w,K=B,L=C,U=this.g.h,X=this.g.m;var H=this.g.$;var R=this.g.Z,P=0,S=0,aa=0,pa=0,
ha=0,ca=0,ia=0,na,ja=this.ea,W=this.ba,ma=this.fa,ea=this.da,Z=this.aa,Y=this.g.i+this.g.u-1,oa=this.g.u,Q=0<this.g.u?1:0;-1!==this.g.O&&(P=Math.round((this.g.width-H)/2),aa=Math.round((this.g.height-R)/2),S=P+H-1,pa=aa+R-1,255===m[0]&&(d=P+k,f=S-k,g=pa-l,e=aa+l),1===this.g.O&&(d-P<k&&(f=S),S-f<k&&(d=P),pa-g<l&&(e=aa),e-aa<l&&(g=pa),this.st(P,aa,S,pa)),d-P<k&&(d=P+k),S-f<k&&(f=S-k),pa-g<l&&(g=pa-l),e-aa<l&&(e=aa+l),v===this.W.i?(d-=q,e-=p,f+=q,g+=p):v===this.W.j&&k>this.ga&&(d-=k,e-=l,f+=k,g+=l));
if(v===this.W.i){d-=q;e-=p;f+=q;g+=p;for(c=e;c<e+p;c+=1)t[c].fill(0,d,f+1);for(c=e+p;c<=g;c+=1)t[c].fill(0,d,d+q);R=performance.now();if(V.S)xa.iH(t.o.byteOffset|0,U.o.byteOffset|0,e+p|0,d+q|0,g|0,f|0,Y|0,t[0].length|0,U[0].length|0);else for(c=e+p;c<=g;c+=1){var F=t[c-1];var z=t[c];H=U[c];var J=0;for(b=d+q;b<=f;b+=1)H[b]===Y&&(J+=1),z[b]=F[b]+J}V.Db&&(R=performance.now()-R,this.g.view.C.h("cumulativeCounts",R,V.S&&V.bn&&this.g.view.i));d+=k;e+=l;f-=k;g-=l;-1!==this.g.O&&(d+=q,e+=p,f-=q,g-=p);p=U[e][d];
J=t[e+l][d+k];p<=oa?255===m[J]?ja?W.random()>=ma[J]?(p=Y,ca+=1):p>Q&&--p:(p=Y,ca+=1):p>Q&&--p:p===Y?0===n[J]?ja?W.random()>=Z[J]||(--p,ia+=1):(--p,ia+=1):!ja||W.random()>=ea[J]||(--p,ia+=1):p>Q&&--p;U[e][d]=p;p>Q&&(w=A=d,C=B=e,X[e>>4][d>>8]|=1<<(~(d>>4)&15),p===Y&&(ha+=1),p>oa&&(M=O=d,L=K=e));var N=na=!1;z=t[e+l];F=t[e+l];H=U[e];q=X[e>>4];if(ja)for(b=d+1;b<=f;b+=1)p=H[b],J=z[b+k]-F[b-r],p<=oa?255===m[J]?W.random()>=ma[J]?(p=Y,ca+=1):p>Q&&--p:p>Q&&--p:p===Y?0===n[J]?W.random()>=Z[J]||(--p,ia+=1):W.random()>=
ea[J]||(--p,ia+=1):p>Q&&--p,H[b]=p,p>Q&&(b<A&&(A=b),b>w&&(w=b),na=!0,q[b>>8]|=1<<(~(b>>4)&15),p===Y&&(ha+=1),p>oa&&(b<O&&(O=b),b>M&&(M=b),N=!0));else for(b=d+1;b<=f;b+=1)p=H[b],J=z[b+k]-F[b-r],p<=oa?255===m[J]?(p=Y,ca+=1):p>Q&&--p:p===Y?0===n[J]&&(--p,ia+=1):p>Q&&--p,H[b]=p,p>Q&&(b<A&&(A=b),b>w&&(w=b),na=!0,q[b>>8]|=1<<(~(b>>4)&15),p===Y&&(ha+=1),p>oa&&(b<O&&(O=b),b>M&&(M=b),N=!0));na&&(C=B=e);N&&(L=K=e);R=H=!1;z=d+k;if(ja)for(c=e+1;c<=g;c+=1)p=U[c][d],J=t[c+l][z]-t[c-u][z],p<=oa?255===m[J]?W.random()>=
ma[J]?(p=Y,ca+=1):p>Q&&--p:p>Q&&--p:p===Y?0===n[J]?W.random()>=Z[J]||(--p,ia+=1):W.random()>=ea[J]||(--p,ia+=1):p>Q&&--p,U[c][d]=p,p>Q&&(c<B&&(B=c),c>C&&(C=c),H=!0,X[c>>4][d>>8]|=1<<(~(d>>4)&15),p===Y&&(ha+=1),p>oa&&(c<K&&(K=c),c>L&&(L=c),R=!0));else for(c=e+1;c<=g;c+=1)p=U[c][d],J=t[c+l][z]-t[c-u][z],p<=oa?255===m[J]?(p=Y,ca+=1):p>Q&&--p:p===Y?0===n[J]&&(--p,ia+=1):p>Q&&--p,U[c][d]=p,p>Q&&(c<B&&(B=c),c>C&&(C=c),H=!0,X[c>>4][d>>8]|=1<<(~(d>>4)&15),p===Y&&(ha+=1),p>oa&&(c<K&&(K=c),c>L&&(L=c),R=!0));
H&&(d<A&&(A=d),d>w&&(w=d));R&&(d<O&&(O=d),d>M&&(M=d));R=performance.now();if(V.S&&V.ht&&this.g.view.i&&!ja)xa.jJ(U.o.byteOffset|0,U[0].length|0,X.o.byteOffset|0,X[0].length|0,t.o.byteOffset|0,t[0].length|0,a?this.Z.byteOffset|0:this.$.byteOffset|0,e|0,d|0,g|0,f|0,k|0,l|0,oa|0,Q|0,Y|0,this.i.byteOffset|0,A|0,w|0,B|0,C|0,O|0,M|0,K|0,L|0,ha|0,ca|0,ia|0),A=this.i[0],w=this.i[1],B=this.i[2],C=this.i[3],O=this.i[4],M=this.i[5],K=this.i[6],L=this.i[7],ha=this.i[8],ca=this.i[9],ia=this.i[10];else for(c=e+
1;c<=g;c+=1){H=U[c];q=X[c>>4];F=t[c+l];var I=t[c-u];N=na=!1;z=d+1+k;var x=d+1-r;if(ja)for(b=d+1;b<=f;b+=1)p=H[b],J=F[z]+I[x]-F[x]-I[z],p<=oa?255===m[J]?W.random()>=ma[J]?(p=Y,ca+=1):p>Q&&--p:p>Q&&--p:p===Y?0===n[J]?W.random()>=Z[J]||(--p,ia+=1):W.random()>=ea[J]||(--p,ia+=1):p>Q&&--p,H[b]=p,p>Q&&(q[b>>8]|=1<<(~(b>>4)&15),b<A&&(A=b),b>w&&(w=b),na=!0,p===Y&&(ha+=1),p>oa&&(N=!0,b<O&&(O=b),b>M&&(M=b))),z+=1,x+=1;else for(b=d+1;b<=f;b+=1)p=H[b],J=F[z]+I[x]-F[x]-I[z],p<=oa?255===m[J]?(p=Y,ca+=1):p>Q&&--p:
p===Y?0===n[J]&&(--p,ia+=1):p>Q&&--p,H[b]=p,p>Q&&(q[b>>8]|=1<<(~(b>>4)&15),b<A&&(A=b),b>w&&(w=b),na=!0,p===Y&&(ha+=1),p>oa&&(N=!0,b<O&&(O=b),b>M&&(M=b))),z+=1,x+=1;na&&(c<B&&(B=c),c>C&&(C=c));N&&(c<K&&(K=c),c>L&&(L=c))}V.Db&&(R=performance.now()-R,this.g.view.C.h("nextHROTMoore",R,V.S&&V.ht&&this.g.view.i));this.g.A=ha;this.g.na=ca;this.g.ga=ia;0<ha&&(this.g.B.I=A,this.g.B.L=w,this.g.B.J=B,this.g.B.M=C,this.g.ya.I=O,this.g.ya.L=M,this.g.ya.J=K,this.g.ya.M=L)}else if(v===this.W.j&&k>this.ga){d-=k;
f+=k;e-=l;g+=l;-1===this.g.O&&(d-=k,f+=k,e-=l,g+=l);this.F=g-e+1;this.u=f-d+1;this.A=this.F+(this.u-1)/2|0;this.K=this.u/2|0;R=performance.now();if(V.S&&V.bn&&this.g.view.i)xa.kH(this.A|0,this.u|0,this.F|0,e|0,d|0,Y|0,this.K|0,t.o.byteOffset|0,U.o.byteOffset|0,t[0].length|0,U[0].length|0);else for(r=0;r<this.A;r+=1)for(z=t[r],H=U[r+e],c=r-1,J=c-1,b=t[c],q=t[J],u=0;u<=this.u;u+=1)z[u]=this.j(c,u-1,b)+this.j(c,u+1,b)-this.j(J,u,q),r<this.F&&H[u+d]===Y&&(z[u]+=1);V.Db&&(R=performance.now()-R,this.g.view.C.h("cumulativeCounts",
R,V.S&&V.bn&&this.g.view.i));R=performance.now();if(V.S&&V.it&&this.g.view.i&&!ja)xa.lJ(U.o.byteOffset|0,U[0].length|0,X.o.byteOffset|0,X[0].length|0,t.o.byteOffset|0,t[0].length|0,a?this.Z.byteOffset|0:this.$.byteOffset|0,e|0,d|0,k|0,l|0,this.F|0,this.u|0,oa|0,Q|0,Y|0,this.A|0,this.K|0,this.i.byteOffset|0,A|0,w|0,B|0,C|0,O|0,M|0,K|0,L|0,ha|0,ca|0,ia|0),A=this.i[0],w=this.i[1],B=this.i[2],C=this.i[3],O=this.i[4],M=this.i[5],K=this.i[6],L=this.i[7],ha=this.i[8],ca=this.i[9],ia=this.i[10];else for(r=
l;r<=this.F-l;r+=1){c=r-1;b=t[c];var E=r+l;var la=t[E];z=E-1;var ba=t[z];F=r-l-1;var ta=t[F];I=F-1;var ua=t[I];x=r+e;H=U[x];q=X[x>>4];N=na=!1;if(ja)for(u=k;u<=this.u-k;u+=1){J=u+k;p=u-k;J=this.j(E,u,la)-this.j(c,J+1,b)-this.j(c,p-1,b)+this.j(I,u,ua)+this.j(z,u,ba)-this.j(c,J,b)-this.j(c,p,b)+this.j(F,u,ta);var ka=u+d;p=H[ka];p<=oa?255===m[J]?W.random()>=ma[J]?(p=Y,ca+=1):p>Q&&--p:p>Q&&--p:p===Y?0===n[J]?W.random()>=Z[J]||(--p,ia+=1):W.random()>=ea[J]||(--p,ia+=1):p>Q&&--p;H[ka]=p;p>Q&&(q[ka>>8]|=
1<<(~(ka>>4)&15),ka<A&&(A=ka),ka>w&&(w=ka),na=!0,p===Y&&(ha+=1),p>oa&&(N=!0,ka<O&&(O=ka),ka>M&&(M=ka)))}else for(u=k;u<=this.u-k;u+=1)J=u+k,p=u-k,J=this.j(E,u,la)-this.j(c,J+1,b)-this.j(c,p-1,b)+this.j(I,u,ua)+this.j(z,u,ba)-this.j(c,J,b)-this.j(c,p,b)+this.j(F,u,ta),ka=u+d,p=H[ka],p<=oa?255===m[J]?(p=Y,ca+=1):p>Q&&--p:p===Y?0===n[J]&&(--p,ia+=1):p>Q&&--p,H[ka]=p,p>Q&&(q[ka>>8]|=1<<(~(ka>>4)&15),ka<A&&(A=ka),ka>w&&(w=ka),na=!0,p===Y&&(ha+=1),p>oa&&(N=!0,ka<O&&(O=ka),ka>M&&(M=ka)));na&&(x<B&&(B=x),
x>C&&(C=x));N&&(x<K&&(K=x),x>L&&(L=x))}V.Db&&(R=performance.now()-R,this.g.view.C.h("nextHROTvN",R,V.S&&V.it&&this.g.view.i));this.g.A=ha;this.g.na=ca;this.g.ga=ia;0<ha&&(this.g.B.I=A,this.g.B.L=w,this.g.B.J=B,this.g.B.M=C,this.g.ya.I=O,this.g.ya.L=M,this.g.ya.J=K,this.g.ya.M=L)}else switch(v){case this.W.u:this.vw(d,e,f,g,k,l);break;case this.W.A:this.pw(d,e,f,g,k,l);break;case this.W.D:this.Pw(d,e,f,g,k,l);break;case 15:this.Rw(d,e,f,g,k,l);break;case 10:this.zw(d,e,f,g,k,l);break;case this.W.R:this.Dw(d,
e,f,g,k,l);break;case this.W.O:this.tw(d,e,f,g,k,l);break;case this.W.K:this.nw(d,e,f,g,k,l);break;case this.W.G:this.Fw(d,e,f,g,k,l);break;case this.W.U:this.Hw(d,e,f,g,k,l);break;case this.W.X:this.Lw(d,e,f,g,k,l);break;case this.W.P:this.xw(d,e,f,g,k,l);break;case this.W.H:this.Nw(d,e,f,g,k,l);break;case this.W.v:this.Bw(d,e,f,g,k,l);break;case this.W.j:this.jb(d,e,f,g,k,l);break;default:this.Jw(d,e,f,g,k,l)}-1!==this.g.O&&(d<P+k&&(d=P+k),f>S-k&&(f=S-k),e<aa+l&&(e=aa+l),g>pa-l&&(g=pa-l));v===this.W.i||
v===this.W.j&&k>this.ga||this.qa(d,e,f,g,a);1===this.g.O&&this.zr(P,aa,S,pa)};Da.prototype.Da=function(a){var b=!1;this.na&&1===(a&1)&&(b=!0);this.ga=V.S&&this.g.view.i?0:6;2===this.ca?this.Fa(b):this.Ga(b)};var y={rI:15,Hf:0,gf:1,hf:2,Uf:3,Jo:4194304,Fl:128,sI:300,BD:1,DD:2,CD:4,hp:8,iw:0,kw:1,jw:2,bJ:3,pp:"St.6",op:"St.3",rl:5E4,ri:0,pi:1,vj:2,wj:3,xj:4,Ff:5,Gf:6,IC:7,JC:8,ls:9,hw:10,GC:11,XI:12,YI:13,EC:14,FC:15,HC:16,ZI:[0,1,2,3,4,5,6],$I:[2,3,5,6],rq:0,ml:1,gj:2,Fm:27,uC:36,aJ:["Rot90CW","Rot90CCW",
"FlipX","FlipY","Rot180","Flip"+String.fromCharCode(10189),"Flip"+String.fromCharCode(10187),"FlipOrth","Rot90","FlipOrthOrRot90","FlipDiag","FlipDiagOrRot90","FlipXOrRot180","FlipYOrRot180","Flip"+String.fromCharCode(10189)+"OrRot180","Flip"+String.fromCharCode(10187)+"OrRot180","FlipOrthOrDiag"],TI:268435456,TA:"Buffer Full",Ar:[[0,0,0],[0,236,91],[0,192,254],[254,0,0],[254,254,254],[75,75,75],[233,41,254],[64,0,128],[254,230,0],[150,128,0],[130,200,0],[0,120,40],[254,140,0],[140,70,0],[0,0,254],
[192,192,192],[128,128,128],[254,112,140],[174,0,168],[0,152,127],[0,73,59]],Po:"off;on;killer on;killer off;eternal on;eternal off;p2 killer on;p2 killer off;egg on;egg off;p2 on;p2 off;p2 egg on;p2 egg off;inverter;catalyst;catalyst killer;on births;off births;on p2 births;off p2 births".split(";"),Br:[[0,0,0],[0,255,0],[0,0,160],[255,216,255],[255,0,0],[255,255,0],[96,96,96],[255,105,180],[128,0,128],[0,191,255],[0,64,128],[64,224,208],[0,128,64],[255,255,255],[255,99,71],[250,128,114],[219,112,
147],[255,165,0],[245,222,179],[0,255,255],[192,192,192],[192,255,128],[255,182,193],[0,255,127],[1,1,1],[255,0,127]],Qo:"dead;on;off;marked on trail;marked off trail;marked on alt;boundary;marked on no-trail;marked off no-trail;on trail 2;off trail 2;on trail 3;off trail 3;on no-trail 1;off disappearing;on no-trail 2;off vanishing;on no-trail 3;off cycling 1;on no-trail 4;off cycling 2;on no-trail 5;off cycling 3;on no-trail 6;hidden;on no-trail 7".split(";"),PH:[[1,1,1],[1,0,0],[0,1,0]],QH:[[0,
1,0],[1,1,0],[1,0,1]],RH:[[1,1,0],[1,0,1],[1,0,0]],SH:[[0,1,1],[1,1,0],[0,0,1]],LH:[[1,1,1],[0,0,1],[0,1,0]],MH:[[0,1,0],[0,1,1],[1,0,1]],NH:[[0,1,1],[1,0,1],[0,0,1]],OH:[[1,1,0],[0,1,1],[1,0,0]],XH:[[0,1,0],[1,0,0],[1,1,1]],YH:[[1,0,1],[1,1,0],[0,1,0]],ZH:[[1,0,0],[1,0,1],[1,1,0]],$H:[[0,0,1],[1,1,0],[0,1,1]],TH:[[0,1,0],[0,0,1],[1,1,1]],UH:[[1,0,1],[0,1,1],[0,1,0]],VH:[[0,0,1],[1,0,1],[0,1,1]],WH:[[1,0,0],[0,1,1],[1,1,0]],Ph:0,Qh:1,Rh:2,Sh:3,tl:0,nj:1,ul:2,oj:3,Uc:4096,ug:16,jz:1.6,Pm:4096,hI:512,
Qr:262144,wl:65536,xm:65536,ZB:8192,YB:131072,$q:64,bs:524288,lk:12,xa:64,Re:127,pe:63,ki:1,Ka:1,Ha:2,Na:4,Oa:8,Sa:16,Ma:32,Qa:64,Ra:128};Sa.prototype.set=function(a){var b;this.vl=a.vl;this.B=a.B;this.s=a.s;this.u=a.u;this.v.set(a.v);this.i.set(a.i);this.h.set(a.h);this.A.set(a.A);this.m.set(a.m);this.j.set(a.j);this.F.set(a.F);this.m.set(a.m);this.G=a.G;for(b=0;b<a.D.length;b+=1)this.D[b].set(a.D[b])};Sa.prototype.K=function(a,b,c){this.vl=!0;this.B=a;this.s=b.h<<16|b.j<<8|b.i;this.u=c.h<<16|c.j<<
8|c.i};Sa.prototype.O=function(a,b){-1!==a&&(this.s=a);-1!==b&&(this.u=b)};Sa.prototype.H=function(a,b){var c=!0;a||(this.i.h.m(this.i.i)&&this.h.h.m(this.h.i)&&this.h.h.m(this.v)&&(c=!1),0===b.ua&&0===b.He&&(c=!1));return c};T.prototype.set=function(a){this.h=a.h;this.j=a.j;this.i=a.i};T.prototype.m=function(a){var b=!1;this.h===a.h&&this.j===a.j&&this.i===a.i&&(b=!0);return b};Aa.prototype.set=function(a){this.h.set(a.h);this.i.set(a.i)};qa.prototype.pj=function(){var a=G.Qb,b=this.displayWidth+
a+a<<1;a=this.displayHeight+a+a<<1;this.bd?(null===this.Vd&&(this.Vd=document.createElement("canvas")),this.Vd.width=b,this.Vd.height=a,this.$g=this.Vd.getContext("2d",{alpha:!1}),this.ah=this.$g.getImageData(0,0,this.Vd.width,this.Vd.height),this.di=new Uint32Array(this.ah.data.buffer)):this.di=this.ah=this.$g=null};qa.prototype.Yl=function(){var a,b,c,d=this.displayWidth,f=20*this.displayHeight,e=-f,g=this.xi;this.Sj=new Uint16Array(y.rl);this.Uj=new Float32Array(y.rl);this.Qj=new Float32Array(y.rl);
this.hl=new Uint32Array(y.rl);var k=this.Sj;var l=this.Uj;var m=this.Qj;for(a=0;a<y.rl;a+=1){k[a]=g.random()*d|0;for(b=c=0;10>b;b+=1)c+=g.random()*f;l[a]=-c/10;l[a]>e&&(e=l[a]);m[a]=g.random()/5+.8;if(a<y.rl-4&&.2>g.random()){b=k[a];c=l[a];var n=m[a];a+=1;k[a]=b;l[a]=c-2;m[a]=n;a+=1;k[a]=b;l[a]=c+2;m[a]=n;1<b&&(a+=1,k[a]=b-2,l[a]=c,m[a]=n);b<d-2&&(a+=1,k[a]=b+2,l[a]=c,m[a]=n)}}for(a=0;a<y.rl;a+=1)l[a]-=e};qa.prototype.Eh=function(){var a=1;this.aa&&(a=G.rk);this.ia&&(a=G.jk);return a};qa.prototype.zc=
function(a){this.aa&&(a*=G.rk);this.ia&&(a*=G.jk);return a};qa.prototype.Gg=function(){var a,b=0,c=this.displayWidth,d=this.displayHeight,f=this.$a[0],e=this.Rc,g=this.xi,k=this.Sj,l=this.Uj,m=this.Qj,n=this.hl,q=this.view.wf;q=this.jc?-16777216|(q&255)<<16|q&65280|q>>16:q<<8|255;for(a=0;a<y.rl;a+=1){var p=k[a];var r=l[a];var u=m[a];var t=p;var v=r;if(0<=r&&r<d-1)if((r|0)===(r+u|0))v=r+u,e[(v|0)*c+t]=q;else{if(e[(r+u|0)*c+p]===f)v=r+u;else{var A=g.random();if(.05>A){var w=1;.025>A&&(w=-1);0<=p+w&&
p+w<c&&e[(r+u|0)*c+p+w]===f&&e[(r|0)*c+p+w]===f&&(t=p+w,v=r+u)}}e[(v|0)*c+t]=q}else 0>r&&(v=r+u);v>=d-1&&(n[b]=a,b+=1);k[a]=t;l[a]=v}if(5<b)for(a=0;a<b;a+=1).25>g.random()&&(A=n[a],v=-(g.random()*d),t=g.random()*c|0,k[A]=t,l[A]=v,u=m[A],a<b-4&&.2>g.random()&&(a+=1,A=n[a],k[A]=t,l[A]=v-2,m[A]=u,a+=1,A=n[a],k[A]=t,l[A]=v+2,m[A]=u,1<t&&(a+=1,A=n[a],k[A]=t-2,l[A]=v,m[A]=u),t<c-2&&(a+=1,A=n[a],k[A]=t+2,l[A]=v,m[A]=u)))};qa.prototype.Bm=function(a,b){a=(a&255)/255;return((b>>16)*a|0)<<16|((b>>8&255)*a|
0)<<8|(b&255)*a|0};qa.prototype.Xk=function(a){null===this.be&&(this.be=document.createElement("canvas"));this.be.width=31;this.be.height=31*a;null===this.yf&&(this.yf=document.createElement("canvas"));this.yf.width=15;this.yf.height=15*a;null===this.zf&&(this.zf=document.createElement("canvas"));this.zf.width=7;this.zf.height=7*a;this.zg=this.be.getContext("2d",{willReadFrequently:!0,alpha:!1});this.Ye=this.yf.getContext("2d",{willReadFrequently:!0,alpha:!1});this.ag=this.zf.getContext("2d",{willReadFrequently:!0,
alpha:!1})};qa.prototype.gl=function(a){var b,c,d,f=0,e=null,g=null;var k=this.$a;var l=this.u,m=k[1+l],n=k[2+l],q=k[4+l],p=k[8+l];this.Xk(15);null!==a&&(a.oa=[]);for(b=0;3>b;b+=1){switch(b){case 0:e=this.be;g=this.zg;f=31;break;case 1:e=this.yf;g=this.Ye;f=15;break;case 2:e=this.zf,g=this.ag,f=7}g.fillStyle=this.Xe[l];g.fillRect(0,0,e.width,e.height);var r=g.getImageData(0,0,e.width,e.height);var u=new Uint32Array(r.data.buffer);var t=0;for(k=1;15>=k;k+=1){if(0!==(k&1)){var v=1;for(c=f-1;c>=(f+1)/
2;--c){for(d=v;d<f-v;d+=1)u[t+c*f+d]=m;v+=1}}if(0!==(k&2))for(v=1,d=0;d<=(f-3)/2;d+=1){for(c=v;c<f-v;c+=1)u[t+c*f+d]=n;v+=1}if(0!==(k&4))for(v=1,c=0;c<=(f-3)/2;c+=1){for(d=v;d<f-v;d+=1)u[t+c*f+d]=q;v+=1}if(0!==(k&8))for(v=1,d=f-1;d>=(f+1)/2;--d){for(c=v;c<f-v;c+=1)u[t+c*f+d]=p;v+=1}t+=f*f}null!==a&&(a.oa[a.oa.length]={yr:Ha.Cs,width:f,height:15*f,bx:4,fo:[],uv:[],Pr:!1});g.putImageData(r,0,0);switch(b){case 0:this.wh=r;break;case 1:this.Bg=r;break;case 2:this.xh=r}}null===this.bc&&(this.bc=document.createElement("canvas"),
this.bc.width=this.displayWidth+G.Qb,this.bc.height=this.displayHeight+G.Qb,this.vf=this.bc.getContext("2d",{alpha:!1}),this.qh=this.vf.createImageData(this.bc.width,this.bc.height));this.ee=!0};qa.prototype.bh=function(a,b){var c=a.canvas.width,d=b.canvas.width,f=b.canvas.height/d,e,g=this.jc?4278190080:255,k=this.Qc[0];k=this.jc?(4278190080|(k&255)<<16|k&65280|(k&16711680)>>16)>>>0:(k<<8|255)>>>0;var l=d>c?(d-3)/2:2*d;a.imageSmoothingEnabled=!1;for(e=0;e<f;e+=1)a.drawImage(b.canvas,0,e*d,d,d,0,
e*c,l,l);b=a.getImageData(0,0,a.canvas.width,a.canvas.height);a=new Uint32Array(b.data.buffer);for(e=0;e<a.length;e+=1)if(0===a[e]||a[e]===g)a[e]=k;return b};qa.prototype.jp=function(a){var b,c,d,f,e,g,k=0,l=this.Qc[0],m=!1,n=!1,q=!1;this.Vc=a;if(0===a.length||this.ia||this.aa)this.ee=!1;else{this.Xk(a[0].height/a[0].width);for(c=0;c<a.length;c+=1){var p=a[c].width;var r=a[c].height/p;var u=a[c].uv;var t=a[c].fo;var v=a[c].Pr;switch(p){case 31:var A=this.zg;m=!0;break;case 15:A=this.Ye;n=!0;break;
case 7:A=this.ag;q=!0;break;default:console.error("LifeViewer: illegal icon size found");this.ee=!1;return}var w=A.createImageData(A.canvas.width,A.canvas.height);var B=new Uint32Array(w.data.buffer);for(b=f=d=0;b<r;b+=1)for(v&&(k=this.Qc[b+1]),g=0;g<p;g+=1)for(e=0;e<p;e+=1){var C=u[d];d+=1;C=t[C];v&&(C=0===C?l:this.Bm(C,k));B[f]=-16777216|(C&255)<<16|C&65280|C>>16;f+=1}A.putImageData(w,0,0);switch(p){case 31:this.wh=w;break;case 15:this.Bg=w;break;case 7:this.xh=w}}null===this.bc&&(this.bc=document.createElement("canvas"),
this.bc.width=this.displayWidth+G.Qb,this.bc.height=this.displayHeight+G.Qb,this.vf=this.bc.getContext("2d",{alpha:!1}),this.qh=this.vf.createImageData(this.bc.width,this.bc.height));if(!1===m||!1===n||!1===q)!1===m&&(!1===n&&(this.Bg=this.bh(this.Ye,this.ag)),this.wh=this.bh(this.zg,this.Ye)),!1===n&&(this.Bg=q?this.bh(this.Ye,this.ag):this.bh(this.Ye,this.zg)),!1===q&&(this.xh=this.bh(this.ag,this.Ye));this.ee=!0}};qa.prototype.Mg=function(a){this.yc=this.Sb=0;this.kf=-1;this.He=[];a?null===this.gg&&
(this.gg=this.T.h(ra.Ad,y.Jo,"Life.hashListLower",!1),this.Ig=this.T.h(ra.Ad,y.Jo,"Life.hashListUpper",!1),this.ae=this.T.h(ra.mc,2*y.Jo,"Life.boxList",!1),this.Ke=this.T.h(ra.Ad,y.Fl,"Life.negHashListLower",!1),this.Ge=this.T.h(ra.Ad,y.Fl,"Life.negHashListUpper",!1),this.fe=this.T.h(ra.mc,y.Fl,"Life.negGenList",!1),this.Tg=this.T.h(ra.mc,y.Fl,"Life.negPopList",!1),this.Gc=this.T.h(ra.mc,2*y.Fl,"Life.negBoxList",!1),this.Jh=Array.matrix(ra.ab,this.height,this.width,y.rq,this.T,"Life.countList",!1),
2<this.i||this.D?this.lf=Array.matrix(ra.ab,this.height,this.width,0,this.T,"Life.initList",!1):this.lf=null,this.vg=this.nd=-1,this.Ei="",this.Jd=null,this.Me=new Uint16Array(67),this.Me[0]=y.rq,this.Me[1]=y.gj,this.Me[2]=y.gj,this.Me[64]=y.gj,this.Me[65]=y.ml,this.Me[66]=y.gj,this.mj=performance.now()):(this.lf=this.Jh=this.Gc=this.Tg=this.fe=this.Ge=this.Ke=this.ae=this.Ig=this.gg=null,this.vg=this.nd=-1,this.Wf=this.Vg=this.Me=null)};qa.prototype.Jp=function(a,b,c){b="Spaceship ("+(b+","+c)+")c";
1<a&&(b+="/"+a);return b};qa.prototype.Ap=function(a,b,c,d,f,e,g,k){var l=31415962,m=27182818,n,q,p=0,r=this.h,u=y.xa,t=!1;d+=e;for(q=0;q<b;q+=1){e=73856093*q;var v=45230483*q;for(n=0;n<a;n+=1){if(r[d-p][f]>=u&&(l=1000003*l^e^19349663*n,m=3000077*m^v^60000047*n,!t)){if(l!==g||m!==k){this.rb=g+1;this.sb=k+1;return}t=!0}p+=1;p===c&&(p=0,f+=1)}}this.rb=l|0;this.sb=m|0};qa.prototype.yp=function(a,b,c,d,f,e,g,k){var l=31415962,m=27182818,n=this.h,q=y.xa,p=!1;c+=f;d+=e;for(e=0;e<b;e+=1){var r=n[d-e];var u=
73856093*e;var t=45230483*e;for(f=0;f<a;f+=1)if(r[c-f]>=q&&(l=1000003*l^u^19349663*f,m=3000077*m^t^60000047*f,!p)){if(l!==g||m!==k){this.rb=g+1;this.sb=k+1;return}p=!0}}this.rb=l|0;this.sb=m|0};qa.prototype.Ep=function(a,b,c,d,f,e,g,k){var l=31415962,m=27182818,n,q=0,p=0,r=this.h,u=y.xa,t=!1;d+=f;for(n=0;n<b;n+=1){var v=73856093*n;var A=45230483*n;for(f=0;f<a;f+=1){if(r[p+e][d-q]>=u&&(l=1000003*l^v^19349663*f,m=3000077*m^A^60000047*f,!t)){if(l!==g||m!==k){this.rb=g+1;this.sb=k+1;return}t=!0}p+=1;
p===c&&(p=0,q+=1)}}this.rb=l|0;this.sb=m|0};qa.prototype.ip=function(a,b,c,d,f,e,g){var k=31415962,l=27182818,m,n=this.h,q=y.xa,p=!1;c+=d;for(m=0;m<b;m+=1){var r=n[m+f];var u=73856093*m;var t=45230483*m;for(d=0;d<a;d+=1)if(r[c-d]>=q&&(k=1000003*k^u^19349663*d,l=3000077*l^t^60000047*d,!p)){if(k!==e||l!==g){this.rb=e+1;this.sb=g+1;return}p=!0}}this.rb=k|0;this.sb=l|0};qa.prototype.wp=function(a,b,c,d,f,e,g){var k=31415962,l=27182818,m,n=this.h,q=y.xa,p=!1;c+=f;for(m=0;m<b;m+=1){var r=n[c-m];var u=73856093*
m;var t=45230483*m;for(f=0;f<a;f+=1)if(r[f+d]>=q&&(k=1000003*k^u^19349663*f,l=3000077*l^t^60000047*f,!p)){if(k!==e||l!==g){this.rb=e+1;this.sb=g+1;return}p=!0}}this.rb=k|0;this.sb=l|0};qa.prototype.Gp=function(a,b,c,d,f,e,g){var k=31415962,l=27182818,m,n=0,q=this.h,p=y.xa,r=!1;var u=d;for(m=0;m<b;m+=1){var t=73856093*m;var v=45230483*m;for(d=0;d<a;d+=1){if(q[n+f][u]>=p&&(k=1000003*k^t^19349663*d,l=3000077*l^v^60000047*d,!r)){if(k!==e||l!==g){this.rb=e+1;this.sb=g+1;return}r=!0}n+=1;n===c&&(n=0,u+=
1)}}this.rb=k|0;this.sb=l|0};qa.prototype.Hp=function(a,b,c,d,f,e,g,k,l){var m=31415962,n=27182818,q=0,p=0,r=this.h,u=y.xa,t=!1;d+=e;f+=g;for(g=0;g<b;g+=1){var v=73856093*g;var A=45230483*g;for(e=0;e<a;e+=1){if(r[f-p][d-q]>=u&&(m=1000003*m^v^19349663*e,n=3000077*n^A^60000047*e,!t)){if(m!==k||n!==l){this.rb=k+1;this.sb=l+1;return}t=!0}p+=1;p===c&&(p=0,q+=1)}}this.rb=m|0;this.sb=n|0};qa.prototype.ln=function(a,b,c,d){var f=a.I,e=a.J,g=a.L-f+1;a=a.M-e+1;var k=g-1,l=a-1,m=a;if(b===y.ri||b===y.pi||b===
y.Ff||b===y.Gf){var n=g;g=m;m=n}performance.now();switch(b){case y.ri:this.Ep(g,m,a,k,f,e,c,d);break;case y.xj:this.yp(g,m,k,l,f,e,c,d);break;case y.pi:this.Ap(g,m,a,l,f,e,c,d);break;case y.vj:this.ip(g,m,k,f,e,c,d);break;case y.wj:this.wp(g,m,l,f,e,c,d);break;case y.Ff:this.Gp(g,m,a,f,e,c,d);break;case y.Gf:this.Hp(g,m,a,k,l,f,e,c,d)}performance.now()};qa.prototype.mn=function(a,b){var c=31415962,d=27182818,f=a.I,e=a.J,g=a.L-f+1;a=a.M-e+1;var k=g-1,l=a-1,m=a,n,q,p=0,r=0,u=0,t=0,v=this.h,A=this.Ua,
w=y.xa,B=G.pb[6]+128;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(v=this.R);if(b===y.ri||b===y.pi||b===y.Ff||b===y.Gf){var C=g;g=m;m=C}for(q=0;q<m;q+=1){var O=73856093*q;var M=45230483*q;for(n=0;n<g;n+=1){switch(b){case y.pi:p=u;r=l-t;break;case y.xj:p=k-n;r=l-q;break;case y.ri:p=k-u;r=t;break;case y.vj:p=k-n;r=q;break;case y.wj:p=n;r=l-q;break;case y.Ff:p=u;r=t;break;case y.Gf:p=k-u,r=l-t}if(this.P){if(v[r+e][p+f]>=w||A[r+e][p+f]===B)c=1000003*c^O^19349663*n,d=3000077*d^M^60000047*n,
A[r+e][p+f]===B&&(c=1000003*c^6)}else if(this.v){if(C=v[r+e][p+f],C&1||6===C)c=1000003*c^O^19349663*n,d=3000077*d^M^60000047*n,6===C&&(c=1000003*c^C)}else if(C=v[r+e][p+f],C>this.u){C-=this.u;if(this.s)switch(b){case y.pi:C=C<<1&15|(C&8)>>3;break;case y.xj:C=(C&3)<<2|(C&12)>>2;break;case y.ri:C=C>>1&15|(C&1)<<3;break;case y.vj:C=C&5|(C&2)<<2|(C&8)>>2;break;case y.wj:C=C&10|(C&1)<<2|(C&4)>>2;break;case y.Ff:C=(C&8)>>3|(C&4)>>1|(C&2)<<1|(C&1)<<3;break;case y.Gf:C=(C&4)<<1|(C&8)>>1|(C&1)<<1|(C&2)>>1}else this.D||
this.G||(C=this.i-C);c=1000003*c^O^19349663*n;d=3000077*d^M^60000047*n;c=1000003*c^C}t+=1;t===a&&(t=0,u+=1)}}this.rb=c|0;this.sb=d|0};qa.prototype.kn=function(a,b,c,d,f){c?this.ln(a,b,d,f):this.mn(a,b)};qa.prototype.Qm=function(a,b,c,d,f,e,g,k,l){var m=0!==f&&0!==e,n=-1;a=this.$j(a,b,c,f,e,k,l);if(a&=d)a&1<<y.vj&&(n=y.vj,a&1<<y.wj?(n=y.IC,a&1<<y.ri?a&1<<y.pi&&(n=y.ls):a&1<<y.Ff&&a&1<<y.Gf&&(n=y.HC)):a&1<<y.xj&&(n=y.XI),n===y.vj&&2!==g&&(n=-1)),-1===n&&a&1<<y.wj&&(n=y.wj,a&1<<y.vj?(n=y.IC,a&1<<y.ri?
a&1<<y.pi&&(n=y.ls):a&1<<y.Ff&&a&1<<y.Gf&&(n=y.HC)):a&1<<y.xj&&(n=y.YI),n===y.wj&&2!==g&&(n=-1)),-1===n&&a&1<<y.ri&&(n=y.ri,a&1<<y.pi&&(n=y.JC,a&1<<y.vj&&a&1<<y.wj&&(n=y.ls),a&1<<y.Ff&&a&1<<y.Gf&&(n=y.GC)),n===y.ri&&4!==g&&(n=-1)),-1===n&&a&1<<y.pi&&(n=y.pi,a&1<<y.ri&&(n=y.JC,a&1<<y.vj&&a&1<<y.wj&&(n=y.ls),a&1<<y.Ff&&a&1<<y.Gf&&(n=y.GC)),n===y.pi&&4!==g&&(n=-1)),-1===n&&a&1<<y.Ff&&(n=y.Ff,a&1<<y.Gf?n=y.hw:!m&&a&1<<y.xj&&(n=y.EC)),-1===n&&a&1<<y.Gf&&(n=y.Gf,a&1<<y.Ff?n=y.hw:!m&&a&1<<y.xj&&(n=y.FC)),
-1===n&&a&1<<y.xj&&(n=y.xj,a&1<<y.Ff?n=y.EC:a&1<<y.Gf&&(n=y.FC),n===y.xj&&2!==g&&(n=-1));m&&(n===y.hw?(f===e&&(n=y.Ff),f===-e&&(n=y.Gf)):(a&1<<y.Gf&&f===e&&(n=-1),a&1<<y.Ff&&f===-e&&(n=-1)));this.ia||this.aa?1!==g&&2!==g&&3!==g&&6!==g&&(n=-1):1!==g&&2!==g&&4!==g&&(n=-1);return n};qa.prototype.$j=function(a,b,c,d,f,e,g){var k=2>=this.i&&!(this.D||this.P),l,m=0;var n=0===d&&0===f?y.ZI:y.$I;for(l=0;l<n.length;l+=1){var q=n[l];this.kn(a,q,k,e,g);if(this.rb===b&&this.sb===c){var p=!0;if(0!==d||0!==f)0!==
d||q!==y.wj&&q!==y.Ff&&q!==y.Gf||(p=!1),0!==f||q!==y.vj&&q!==y.Ff&&q!==y.Gf||(p=!1);p&&(m|=1<<q)}}return m};qa.prototype.Ch=function(a){var b=2>=this.i&&!this.D,c=this.h,d=this.h[0].length,f=performance.now();(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(c=this.R);V.S&&V.oE&&this.view.i?(this.P?xa.GH(c.o.byteOffset|0,this.Ua.o.byteOffset|0,a.J|0,a.I|0,a.M|0,a.L|0,d|0,this.xa|0,G.pb[6]+128|0,this.da.byteOffset|0):b?xa.JH(c.o.byteOffset|0,a.J|0,a.I|0,a.M|0,a.L|0,d|0,this.xa|0,this.da.byteOffset|
0):this.v?xa.IH(c.o.byteOffset|0,a.J|0,a.I|0,a.M|0,a.L|0,d|0,this.da.byteOffset|0):this.D||this.s||this.G?xa.HH(c.o.byteOffset|0,a.J|0,a.I|0,a.M|0,a.L|0,d|0,this.u|0,this.da.byteOffset|0):xa.FH(c.o.byteOffset|0,a.J|0,a.I|0,a.M|0,a.L|0,d|0,this.u|0,this.i|0,this.da.byteOffset|0),this.rb=this.da[0]|0,this.sb=this.da[1]|0):this.Ip(a);f=performance.now()-f;V.Db&&this.view.C.h("getHash",f,V.S&&V.oE&&this.view.i)};qa.prototype.Qi=function(a){var b=31415962,c=27182818,d=a.I,f=a.J,e=a.L;a=a.M;var g,k=this.h,
l=y.xa;for(g=f;g<=a;g+=1){var m=g-f;var n=k[g];var q=73856093*m;var p=45230483*m;for(m=d;m<=e;m+=1)if(n[m]>=l){b=1000003*b^q^19349663*(m-d);c=3000077*c^p^60000047*(m-d);this.rb=b|0;this.sb=c|0;return}}this.rb=b|0;this.sb=c|0};qa.prototype.Ip=function(a){var b=31415962,c=27182818,d=a.I,f=a.J,e=a.L;a=a.M;var g,k=2>=this.i&&!this.D,l=this.h,m=this.Ua,n=y.xa,q=G.pb[6]+128;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(l=this.R);for(g=f;g<=a;g+=1){var p=g-f;var r=73856093*p;var u=45230483*p;
var t=l[g];if(this.P){var v=m[g];for(p=d;p<=e;p+=1)if(t[p]>=n||v[p]===q)b=1000003*b^r^19349663*(p-d),c=3000077*c^u^60000047*(p-d),v[p]===q&&(b=1000003*b^6)}else if(k)for(p=d;p<=e;p+=1)t[p]>=n&&(b=1000003*b^r^19349663*(p-d),c=3000077*c^u^60000047*(p-d));else if(this.v)for(p=d;p<=e;p+=1){if(t[p]&1||6===t[p])b=1000003*b^r^19349663*(p-d),c=3000077*c^u^60000047*(p-d),6===t[p]&&(b=1000003*b^6)}else if(this.D||this.s||this.G)for(p=d;p<=e;p+=1)v=t[p],v>this.u&&(v-=this.u,b=1000003*b^r^19349663*(p-d),c=3000077*
c^u^60000047*(p-d),b=1000003*b^v);else for(p=d;p<=e;p+=1)v=t[p],v>this.u&&(v-=this.u,v=this.i-v,b=1000003*b^r^19349663*(p-d),c=3000077*c^u^60000047*(p-d),b=1000003*b^v)}this.rb=b;this.sb=c};qa.prototype.Hg=function(a,b){for(var c;0!==b;)c=b,b=a%b,a=c;return a};qa.prototype.fp=function(a,b){var c="Oblique";if(a>b){var d=a;a=b;b=d}d=this.Hg(a,b);a/=d;b/=d;switch(10*a+b){case 12:c+=" Knightwise";break;case 13:c+=" Camelwise";break;case 14:c+=" Giraffewise";break;case 15:c+=" Ibiswise";break;case 16:c+=
" Flamingowise";break;case 23:c+=" Zebrawise";break;case 34:c+=" Antelopewise"}return c};qa.prototype.ke=function(a,b){return a===Math.floor(a)?String(a):a.toFixed(b)};qa.prototype.Zk=function(a){var b,c,d=4283453520,f=4286611584,e=0;var g=[];var k=!1;var l=this.view.h.s;var m=this.displayWidth-120*l;var n=this.displayHeight-90*l;var q=0,p=0,r=this.Ac;this.jc||(d=1347440895,f=2155905279);this.ia&&(r+=Math.ceil(this.Va/2));l=this.Ze=8;m/=(r+2)*l;n/=(this.Va+2)*l;1<=(m>n?n:m)?(k=!0,e=1):l=this.Ze=1;
var u=0;for(m=2;m<this.ub.length-1;m+=1)0<this.ub[m]&&(u+=1);this.Zj=u;n=0;for(m=2;m<this.ub.length-1;m+=1)if(0<this.ub[m]){var t=Math.floor(n/u*360);g[m]="hsl("+t+",100%,"+(70-12*(n&3))+"%)";n+=1}g[0]="black";g[1]="rgb(168,168,168)";g[this.ub.length-1]="rgb(238,238,238)";this.Mb?(g[-1]="rgb(96,96,96)",m=-1):m=0;for(;m<this.ub.length;){if(-1===m||0===m||0<this.ub[m])this.bg.fillStyle=g[m],t=this.bg.fillStyle,n=parseInt(t.substring(1,3),16),u=parseInt(t.substring(3,5),16),t=parseInt(t.substring(5,
7),16),this.Xc[m]=this.jc?-16777216|t<<16|u<<8|n:n<<24|u<<16|t<<8|255;m+=1}g=l*(r+2)+e;this.ia&&0===(this.Va&1)&&(g+=l/2);g|=0;var v=l*(this.Va+2)+e;this.Kc.width=g;this.Kc.height=v;this.bg.fillStyle="rgba(0,0,0,0)";this.bg.fillRect(0,0,this.Kc.width,this.Kc.height);e=this.bg.getImageData(0,0,this.Kc.width,this.Kc.height);u=new Uint32Array(e.data.buffer);this.ia&&(p=-l/2,q=(this.Va>>1)*l-p,0===(this.Va&1)&&(q+=p));for(n=0;n<this.Va;n+=1){for(m=0;m<this.Ac;m+=1)for(t=this.Jd[n*this.Ac+m],t=this.Xc[t],
c=0;c<l;c+=1){var A=((n+1)*l+c)*g+(m+1)*l+q;for(b=0;b<l;b+=1)u[A+b|0]=t}q+=p}t=-1!==this.O?f:4278190080;this.ia&&(p=-l/2,q=(this.Va>>1)*l-p,0===(this.Va&1)&&(q+=p));q-=p;for(c=0;c<l;c+=1){A=c*g+q;for(m=0;m<(this.Ac+2)*l;m+=1)u[A+m]=t;A+=(this.Va+1)*l*g-q;for(m=0;m<(this.Ac+2)*l;m+=1)u[A+m]=t}q+=p;for(n=0;n<this.Va;n+=1){for(c=0;c<l;c+=1)for(A=((n+1)*l+c)*g+q,m=A+l*(this.Ac+1),b=0;b<l;b+=1)u[A+b]=t,u[m+b]=t;q+=p}if(k){this.ia&&(q=(this.Va>>1)*l-p+l,0===(this.Va&1)&&(q+=p));for(n=-1;n<=this.Va+1;n+=
1){q+=p;A=(n+1)*l*g;for(m=q;m<(this.Ac+2)*l+1+q;m+=1)0<=m&&(u[A+m]=d);if(this.ia)for(b=0;b<-p;b+=1)m+b<g&&(u[A+m+b]=d)}m=-1;k=this.Ac+1;this.ia&&(q=(this.Va>>1)*l-p,m+=1,k+=1,0===(this.Va&1)&&(q+=p));for(;m<=k;m+=1)for(f=0,t=q,n=0;n<(this.Va+2)*l;n+=1)0===f%l&&(t+=p),f+=1,v=(m+1)*l+t,0<=v&&v<this.Kc.width&&(u[n*g+v]=d)}else{this.ia&&(q=v>>1,p=-.5);k=0;0!==(this.Va&1)&&(k+=p);A=g*(v-1);for(m=0;m<g-q;m+=1)u[m+q]=d,u[m+A]=d;for(n=0;n<v;n+=1)u[n*g+(q|0)]=d,u[n*g+g-1+(k|0)]=d,q+=p,k+=p}m=this.Mb?-1:0;
for(this.Cc=[];m<this.ub.length;){if(-1===m||0<this.ub[m])t=this.Xc[m],this.jc?(n=t&255,u=t>>8&255,t=t>>16&255):(n=t>>24,u=t>>16&255,t=t>>8&255),this.Xc[m]=n<<16|u<<8|t,this.Cc[this.Cc.length]=m;m+=1}this.bg.putImageData(e,0,0);this.Eg=r;a.AA()};qa.prototype.Vk=function(a,b){var c,d,f=4283453520,e=4286611584,g=0;var k=[];var l=!1;var m=this.view.h.s;var n=this.displayWidth-120*m;var q=this.displayHeight-90*m;var p=0,r=0;var u={};var t=new Uint32Array(a);var v=[];var A=this.Ac;this.jc||(f=1347440895,
e=2155905279);this.ia&&(A+=Math.ceil(this.Va/2));m=this.Ze=8;n/=(A+2)*m;q/=(this.Va+2)*m;1<=(n>q?q:n)?(l=!0,g=1):m=this.Ze=1;t.sort();n=t[0];if(1<t.length)for(Ta=1;Ta<t.length;Ta+=1)q=t[Ta],n!==q&&(v[v.length]=n,n=q);else q=n;v[v.length]=q;t=v.length;this.qg=new Uint32Array(v);n=0;0===v[n]&&(k[n]="#000000",n+=1);q=v.length-1;v[q]===b&&(k[q]="rgb(168, 168, 168)",--q);for(Ta=n;Ta<=q;Ta+=1)b=Math.floor((Ta-n)/(q-n+1)*360),k[Ta]="hsl("+b+",100%,"+(70-12*(Ta-n&3))+"%)";this.Mb?(k[-1]="rgb(96,96,96)",n=
-1):n=0;for(;n<t;){this.$f.fillStyle=k[n];b=this.$f.fillStyle;q=parseInt(b.substring(1,3),16);var w=parseInt(b.substring(3,5),16);b=parseInt(b.substring(5,7),16);this.kd[n]=this.jc?-16777216|b<<16|w<<8|q:q<<24|w<<16|b<<8|255;n+=1}for(Ta=0;Ta<v.length;Ta+=1)u[v[Ta]]=Ta;this.Qe=new Uint32Array(v.length);for(Ta=0;Ta<a.length;Ta+=1)this.Qe[u[a[Ta]]]+=1;for(Ta=n=0;Ta<this.Qe.length;Ta+=1)n+=this.Qe[Ta];this.Pj=n;k=m*(A+2)+g;this.ia&&0===(this.Va&1)&&(k+=m/2);k|=0;w=m*(this.Va+2)+g;this.Wc.width=k;this.Wc.height=
w;this.$f.fillStyle="rgba(0,0,0,0)";this.$f.fillRect(0,0,this.Wc.width,this.Wc.height);g=this.$f.getImageData(0,0,this.Wc.width,this.Wc.height);v=new Uint32Array(g.data.buffer);this.ia&&(r=-m/2,p=(this.Va>>1)*m-r,0===(this.Va&1)&&(p+=r));for(q=0;q<this.Va;q+=1){for(n=0;n<this.Ac;n+=1)for(this.Mb&&-1===this.Jd[q*this.Ac+n]?b=this.kd[-1]:(b=a[q*this.Ac+n],b=this.kd[u[b]]),d=0;d<m;d+=1){var B=((q+1)*m+d)*k+(n+1)*m+p;for(c=0;c<m;c+=1)v[B+c|0]=b}p+=r}b=-1!==this.O?e:4278190080;this.ia&&(r=-m/2,p=(this.Va>>
1)*m-r,0===(this.Va&1)&&(p+=r));p-=r;for(d=0;d<m;d+=1){B=d*k+p;for(n=0;n<(this.Ac+2)*m;n+=1)v[B+n]=b;B+=(this.Va+1)*m*k-p;for(n=0;n<(this.Ac+2)*m;n+=1)v[B+n]=b}p+=r;for(q=0;q<this.Va;q+=1){for(d=0;d<m;d+=1)for(B=((q+1)*m+d)*k+p,n=B+m*(this.Ac+1),c=0;c<m;c+=1)v[B+c]=b,v[n+c]=b;p+=r}if(l){this.ia&&(p=(this.Va>>1)*m-r+m,0===(this.Va&1)&&(p+=r));for(q=-1;q<=this.Va+1;q+=1){p+=r;B=(q+1)*m*k;for(n=p;n<(this.Ac+2)*m+1+p;n+=1)0<=n&&(v[B+n]=f);if(this.ia)for(c=0;c<-r;c+=1)n+c<k&&(v[B+n+c]=f)}n=-1;l=this.Ac+
1;this.ia&&(p=(this.Va>>1)*m-r,n+=1,l+=1,0===(this.Va&1)&&(p+=r));for(;n<=l;n+=1)for(a=0,e=p,q=0;q<(this.Va+2)*m;q+=1)0===a%m&&(e+=r),a+=1,u=(n+1)*m+e,0<=u&&u<this.Kc.width&&(v[q*k+u]=f)}else{this.ia&&(p=w>>1,r=-.5);l=0;0!==(this.Va&1)&&(l+=r);B=k*(w-1);for(n=0;n<k-p;n+=1)v[n+p]=f,v[n+B]=f;for(q=0;q<w;q+=1)v[q*k+(p|0)]=f,v[q*k+k-1+(l|0)]=f,p+=r,l+=r}for(n=this.Mb?-1:0;n<t;)b=this.kd[n],this.jc?(q=b&255,w=b>>8&255,b=b>>16&255):(q=b>>24,w=b>>16&255,b=b>>8&255),this.kd[n]=q<<16|w<<8|b,n+=1;this.$f.putImageData(g,
0,0);this.Eg=A;this.Rj=t};qa.prototype.Zc=function(a,b,c,d,f){var e=this.oa;var g=e.measureText(a).width;e.fillText(a,c+b-g+f,d+f);return c+b};qa.prototype.On=function(a){var b=this.view.h.s,c=24*b,d=a.B+a.height,f=0;if(this.ub){for(a=this.ub.length-1;0<a;--a){var e=this.ub[a];0<e&&(f+=1)}this.Hc=d+(c>>1)+(f+1)*c>this.displayHeight-160*b?f-1:0}this.La=0};qa.prototype.In=function(a){var b=this.view.h.s,c=24*b;a=a.B+a.height;if(this.qg){var d=this.qg.length;this.Hc=a+(c>>1)+(d+1)*c>this.displayHeight-
160*b?d-1:0}this.La=0};qa.prototype.Em=function(){0!==this.Hc&&(this.La=0)};qa.prototype.Cm=function(){0!==this.Hc&&(this.La=this.Hc-this.Oc)};qa.prototype.Jm=function(){0<this.La&&(this.La-=this.Oc,0>this.La&&(this.La=0))};qa.prototype.Gm=function(){this.La<this.Hc-this.Oc&&(this.La+=this.Oc,this.La>this.Hc-this.Oc&&(this.La=this.Hc-this.Oc))};qa.prototype.yo=function(a){var b,c=0,d=2,f=this.view.h.s;var e=a.y+a.height;var g=a.width;var k=a.s;var l=a.dc;var m=a.hd;a=24*f;var n=16*f,q=(g>>2)-1,p=
this.displayWidth-g>>1,r=this.oa;r.fillStyle=l;r.globalAlpha=k;var u=a;for(b=this.Cc.length-1;0<=b;--b){k=this.view.g.Cc[b];var t=this.ub[k];0<t&&u+e<this.displayHeight-80*f&&(u+=a)}r.fillRect(p,e,g,u);r.font=(20*f|0)+"px Arial";r.globalAlpha=1;r.fillStyle=l;u=e+(a>>1);for(g=0;2>g;g+=1){l=p;l=this.Zc("Period",q,l,u,d);l=this.Zc("Count",q,l,u,d);l=this.Zc("% Total",q,l,u,d);this.Zc("% Rotor",q,l,u,d);u+=a;c=0;for(b=this.Cc.length-1;0<=b;--b)k=this.view.g.Cc[b],t=this.ub[k],0<t&&u<this.displayHeight-
80*f&&(c>=(this.La|0)&&(l=p,l=this.Zc(String(k),q,l,u,d),l=this.Zc(String(t),q,l,u,d),l=this.Zc((Math.floor(1E4*t/this.Yg)/100).toFixed(2)+"%",q,l,u,d),1<k&&this.Zc((Math.floor(1E4*t/this.uj)/100).toFixed(2)+"%",q,l,u,d),u+=a),c+=1);u=e+(a>>1);d=0;r.fillStyle=m}e=c;c=0;d=28*f>>1;for(b=this.Cc.length-1;0<=b;--b)k=this.view.g.Cc[b],t=this.ub[k],0<t&&c<e&&(c>=(this.La|0)&&(r.fillStyle=this.view.C.dc,r.fillRect(p+(n>>1)+2,u+d+2,n,n),r.fillStyle="#"+("000000"+this.Xc[k].toString(16)).slice(-6),r.fillRect(p+
(n>>1),u+d,n,n),u+=a),c+=1);0===this.La&&(this.Oc=e-1)};qa.prototype.so=function(a){var b=0,c=2,d=this.view.h.s;var f=a.y+a.height;var e=a.width;var g=a.s;var k=a.dc;var l=a.hd;a=24*d;var m=16*d,n=this.Rj,q=(e>>2)-1,p=this.displayWidth-e>>1,r=this.oa;r.fillStyle=k;r.globalAlpha=g;var u=a;for(g=n-1;0<=g;--g)u+f<this.displayHeight-80*d&&(u+=a);r.fillRect(p,f,e,u);r.font=(20*d|0)+"px Arial";r.globalAlpha=1;r.fillStyle=k;u=f+(a>>1);for(e=0;2>e;e+=1){var t=p;t=this.Zc("Frequency",q,t,u,c);t=this.Zc("Count",
q,t,u,c);this.Zc("% Total",q,t,u,c);u+=a;b=0;for(g=n-1;0<=g;--g)k=this.qg[g],u<this.displayHeight-80*d&&(b>=(this.La|0)&&(t=p,t=this.Zc(String(k),q,t,u,c),t=this.Zc(String(this.Qe[g]),q,t,u,c),this.Zc(String((100*this.Qe[g]/this.Pj).toFixed(2))+"%",q,t,u,c),u+=a),b+=1);u=f+(a>>1);c=0;r.fillStyle=l}f=b;b=0;c=28*d>>1;for(g=n-1;0<=g;--g)b<f&&(b>=(this.La|0)&&(r.fillStyle=this.view.C.dc,r.fillRect(p+(m>>1)+2,u+c+2,m,m),r.fillStyle="#"+("000000"+this.kd[g].toString(16)).slice(-6),r.fillRect(p+(m>>1),u+
c,m,m),u+=a),b+=1);0===this.La&&(this.Oc=f-1)};qa.prototype.wo=function(a){var b=this.view.h.s,c=50*b,d=15*b,f=16*b,e=.7*d|0;var g=this.displayHeight-90*b;var k=this.Zj;var l=this.Ze;var m=1,n=a.s,q=a.hd;a=a.dc;var p=this.oa,r=80*b;var u=this.Eh();var t=(this.displayWidth-b*(c+c+20))/((this.Eg+2)*l);l=g/((this.Va+2)*l);t=t>l?l:t;1<=t&&(t|=0);l=this.Kc.height*t;p.save();p.translate(this.displayWidth>>1,this.displayHeight>>1);1<u&&l*u>g-160?p.scale(t/u,t):p.scale(t,t*u);p.imageSmoothingEnabled=1>t||
1>=t*u||1>t/u?!0:!1;p.drawImage(this.Kc,-(this.Kc.width>>1),-(this.Kc.height>>1));p.imageSmoothingEnabled=!1;p.restore();var v=55*b;p.font=(11*b|0)+"px Arial";0===this.ub[this.ub.length-1]&&--k;0===this.ub[1]&&--k;this.Mb&&(k+=1);l=0;for(u=this.Cc.length-1;0<=u;--u)t=this.Cc[u],g=this.ub[t],0<g&&t>l&&(l=t);var A=p.measureText(String(l)+" ").width;this.Mb&&(l=this.G?p.measureText(y.op+" ").width:p.measureText(y.pp+" ").width,l>A&&(A=l));l=0;for(u=this.Cc.length-1;0<=u;--u)t=this.Cc[u],g=this.ub[t],
0<g&&(r+l*d+2+b>this.displayHeight-2*r&&(l=0,m+=1),l+=1);var w=1<m?r:this.displayHeight-(r+(l-1)*d+2+b)>>1;p.globalAlpha=n;p.fillStyle=a;1<m?p.fillRect(v-c-2,w-2,e+A+8*b,this.displayHeight-2*r+d/2):p.fillRect(v-c-2,w-2,e+A+8*b,(k+2)*d+3*b);p.globalAlpha=1;k=l=0;this.Mb&&k>=(this.La|0)&&(p.fillStyle=this.view.C.dc,p.fillRect(v-c+2,w+l+2,e,e),p.fillStyle="#"+("000000"+this.Xc[-1].toString(16)).slice(-6),p.fillRect(v-c,w+l,e,e),this.G?(p.fillStyle=a,p.fillText(y.op,v-c+f+2,w+l+2+7*b),p.fillStyle=q,p.fillText(y.op,
v-c+f,w+l+7*b)):(p.fillStyle=a,p.fillText(y.pp,v-c+f+2,w+l+2+7*b),p.fillStyle=q,p.fillText(y.pp,v-c+f,w+l+7*b)),l+=d,k+=1);for(u=this.Cc.length-1;0<=u;--u)t=this.Cc[u],g=this.ub[t],0<g&&l<this.displayHeight-2*r*b&&(k>=(this.La|0)&&(p.fillStyle=this.view.C.dc,p.fillRect(v-c+2,w+l+2+b,e,e),p.fillStyle="#"+("000000"+this.Xc[t].toString(16)).slice(-6),p.fillRect(v-c,w+l+b,e,e),p.fillStyle=a,p.fillText(String(t),v-c+f+2,w+l+2+7*b),p.fillStyle=q,p.fillText(String(t),v-c+f,w+l+7*b),l+=d),k+=1);0===this.La&&
(this.Oc=k-1)};qa.prototype.qo=function(a){var b=this.view.h.s,c=50*b,d=15*b,f=16*b,e=.7*d|0,g=this.displayHeight-90*b;var k=this.Ze;var l=1;var m=a.s,n=a.hd;a=a.dc;var q=this.oa,p=80*b,r=this.qg;var u=this.Eh();var t=(this.displayWidth-b*(c+c+20))/((this.Eg+2)*k);k=g/((this.Va+2)*k);t=t>k?k:t;1<=t&&(t|=0);k=this.Wc.height*t;q.save();q.translate(this.displayWidth>>1,this.displayHeight>>1);1<u&&k*u>g-160?q.scale(t/u,t):q.scale(t,t*u);q.imageSmoothingEnabled=1>t||1>=t*u||1>t/u?!0:!1;q.drawImage(this.Wc,
-(this.Wc.width>>1),-(this.Wc.height>>1));q.imageSmoothingEnabled=!1;q.restore();g=55*b;q.font=(11*b|0)+"px Arial";var v=q.measureText(String(r[r.length-1])+" ").width;this.Mb&&(k=this.G?q.measureText(y.op+" ").width:q.measureText(y.pp+" ").width,k>v&&(v=k));var A=r.length;this.Mb&&(A+=1);k=0;for(t=A-1;0<=t;--t)p+k*d+2+b>this.displayHeight-2*p&&(k=0,l+=1),k+=1;u=1<l?p:this.displayHeight-(p+(k-1)*d+2+b)>>1;q.globalAlpha=m;q.fillStyle=a;1<l?q.fillRect(g-c-2,u-2,e+v+8*b,this.displayHeight-2*p+d/2):q.fillRect(g-
c-2,u-2,e+v+8*b,A*d+3*b);q.globalAlpha=1;l=k=0;this.Mb&&(q.fillStyle=this.view.C.dc,q.fillRect(g-c+2,u+k+2,e,e),q.fillStyle="#"+("000000"+this.Xc[-1].toString(16)).slice(-6),q.fillRect(g-c,u+k,e,e),this.G?(q.fillStyle=a,q.fillText(y.op,g-c+f+2,u+k+2+7*b),q.fillStyle=n,q.fillText(y.op,g-c+f,u+k+7*b)):(q.fillStyle=a,q.fillText(y.pp,g-c+f+2,u+k+2+7*b),q.fillStyle=n,q.fillText(y.pp,g-c+f,u+k+7*b)),k+=d,l+=1,--A);for(t=A-1;0<=t;--t)k<this.displayHeight-2*p*b&&(l>=(this.La|0)&&(q.fillStyle=this.view.C.dc,
q.fillRect(g-c+2,u+k+2+b,e,e),q.fillStyle="#"+("000000"+this.kd[t].toString(16)).slice(-6),q.fillRect(g-c,u+k+b,e,e),q.fillStyle=a,q.fillText(String(r[t]),g-c+f+2,u+k+2+7*b),q.fillStyle=n,q.fillText(String(r[t]),g-c+f,u+k+7*b),k+=d),l+=1);0===this.La&&(this.Oc=l-1)};qa.prototype.Dq=function(a,b){var c,d=this.h,f=this.Jh,e,g,k,l,m=y.xa,n=this.Me;var q=this.K;var p=this.F>>4;var r=0;var u=q,t=y.ml;0>r&&(r=0);u>q&&(u=q);q=r<<4;var v=q+16;for(e=r;e<u;e+=1){var A=0;var w=b[e];for(g=0;g<p;g+=1)if(l=w[g])for(k=
15;0<=k;--k){if(0!==(l&1<<k))for(r=q;r<v;){var B=d[r];var C=f[r];if(0===a)for(c=A;c<A+16;)B[c]>=m&&(C[c]=t),c+=1,B[c]>=m&&(C[c]=t),c+=1,B[c]>=m&&(C[c]=t),c+=1,B[c]>=m&&(C[c]=t),c+=1;else c=A,C[c]=n[(B[c]&64)+C[c]],c+=1,C[c]=n[(B[c]&64)+C[c]],c+=1,C[c]=n[(B[c]&64)+C[c]],c+=1,C[c]=n[(B[c]&64)+C[c]],c+=1,C[c]=n[(B[c]&64)+C[c]],c+=1,C[c]=n[(B[c]&64)+C[c]],c+=1,C[c]=n[(B[c]&64)+C[c]],c+=1,C[c]=n[(B[c]&64)+C[c]],c+=1,C[c]=n[(B[c]&64)+C[c]],c+=1,C[c]=n[(B[c]&64)+C[c]],c+=1,C[c]=n[(B[c]&64)+C[c]],c+=1,C[c]=
n[(B[c]&64)+C[c]],c+=1,C[c]=n[(B[c]&64)+C[c]],c+=1,C[c]=n[(B[c]&64)+C[c]],c+=1,C[c]=n[(B[c]&64)+C[c]],c+=1,C[c]=n[(B[c]&64)+C[c]];r+=1}A+=16}else A+=256;q+=16;v+=16}};qa.prototype.zq=function(a,b){var c=a.I,d=a.J,f=a.L;a=a.M;var e,g=this.h,k=this.Jh,l=this.lf,m=y.xa,n=2>=this.i&&!this.D,q=y.ml,p=y.rq,r=y.gj;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(g=this.R);for(e=d;e<=a;e+=1){var u=g[e];var t=k[e];if(n)if(0===b)for(d=c;d<=f;d+=1)u[d]>=m&&(t[d]=q);else for(d=c;d<=f;d+=1)u[d]>=m?t[d]===
p&&(t[d]=r):t[d]===q&&(t[d]=r);else if(this.s)if(0===b)for(d=c;d<=f;d+=1){var v=u[d];v=v>this.u?v-this.u:0;var A=0;0!==(v&1)&&(A=q);var w=0;0!==(v&2)&&(w=q);var B=0;0!==(v&4)&&(B=q);var C=0;0!==(v&8)&&(C=q);t[d]=A|w<<2|B<<4|C<<6}else for(d=c;d<=f;d+=1)C=t[d],v=u[d],v=v>this.u?v-this.u:0,A=C&3,0!==(v&1)?A===p&&(A=r):A===q&&(A=r),w=C>>2&3,0!==(v&2)?w===p&&(w=r):w===q&&(w=r),B=C>>4&3,0!==(v&4)?B===p&&(B=r):B===q&&(B=r),C=C>>6&3,0!==(v&8)?C===p&&(C=r):C===q&&(C=r),t[d]=A|w<<2|B<<4|C<<6;else if(this.v)for(v=
l[e],d=c;d<=f;d+=1)0===b?(v[d]=u[d]&1,u[d]&1&&(t[d]=q)):u[d]&1?t[d]===p?t[d]=r:(u[d]&1)!==v[d]&&(t[d]=r):t[d]===q&&(t[d]=r);else if(this.G)for(v=l[e],d=c;d<=f;d+=1)A=0<u[c],0===b?A?(v[d]=1,t[d]=q):v[d]=0:A?t[d]===p?t[d]=r:0===v[d]&&(t[d]=r):t[d]===q&&(t[d]=r);else for(v=l[e],d=c;d<=f;d+=1)0===b?(v[d]=u[d],u[d]>this.u&&(t[d]=q)):u[d]>this.u?t[d]===p?t[d]=r:u[d]!==v[d]&&(t[d]=r):t[d]===q&&(t[d]=r)}};qa.prototype.vq=function(a,b){var c=this.Wf.o,d=this.m.o,f=this.Vg.o;if(-1===this.i||this.Ea&&2===this.i){for(a=
0;a<c.length;a+=1)c[a]=d[a]|f[a];this.Dq(b,this.Wf);f.set(d.subarray(0))}else this.zq(a,b)};qa.prototype.nz=function(a,b,c){var d=performance.now();if(V.S&&V.sE&&this.view.i&&!this.G){if(this.v||this.G||this.D)b=this.h,0!==(this.counter&1)&&(b=this.R);this.v||this.D?xa.ZK(b.o.byteOffset|0,c.byteOffset|0,a.J|0,a.I|0,a.M|0,a.L|0,b[0].length|0):xa.nz(b.o.byteOffset|0,c.byteOffset|0,a.J|0,a.I|0,a.M|0,a.L|0,b[0].length|0,this.xa|0)}else this.sq(a,b,c);V.Db&&(d=performance.now()-d,this.view.C.h("updateCounts",
d,V.S&&V.sE&&this.view.i))};qa.prototype.sq=function(a,b,c){var d,f,e=0,g,k=y.xa;if(this.v||this.G||this.D)b=this.h,0!==(this.counter&1)&&(b=this.R);for(f=a.J;f<=a.M;f+=1){var l=b[f];if(this.v||this.D)for(d=a.I;d<=a.L;d+=1)l[d]&1&&(c[e]+=1),e+=1;else if(this.G)for(d=a.I;d<=a.L;d+=1){if(g=l[d])switch(g){case 3:--this.A;break;case 6:this.na+=1;c[e]+=1;break;case 7:--this.A;this.ga+=1;break;case 10:this.na+=1;c[e]+=1;break;case 11:--this.A;this.ga+=1;break;case 12:this.na+=1;c[e]+=1;break;case 13:--this.A;
this.ga+=1;break;case 19:this.na+=1;c[e]+=1;break;case 20:--this.A;this.ga+=1;break;default:c[e]+=1}e+=1}else for(d=a.I;d<=a.L;d+=1)l[d]>=k&&(c[e]+=1),e+=1}};qa.prototype.oz=function(a,b,c,d,f,e,g){var k=performance.now();if(this.v||this.G||this.D)b=this.h,0!==(this.counter&1)&&(b=this.R);V.S&&V.uE&&this.view.i&&!this.G?this.v||this.D?xa.bL(b.o.byteOffset|0,c.byteOffset|0,a.J|0,a.I|0,a.M|0,a.L|0,d|0,f|0,e|0,g|0,b[0].length|0):xa.oz(b.o.byteOffset|0,c.byteOffset|0,a.J|0,a.I|0,a.M|0,a.L|0,d|0,f|0,e|
0,g|0,this.xa|0,b[0].length|0):this.Gq(a,b,c,d,f,e,g);V.Db&&(k=performance.now()-k,this.view.C.h("updateOccupancy",k,V.S&&V.uE&&this.view.i))};qa.prototype.Gq=function(a,b,c,d,f,e,g){var k,l=y.xa;if(this.v||this.G||this.D)b=this.h,0!==(this.counter&1)&&(b=this.R);var m=d*e;for(e=a.J;e<=a.M;e+=1){var n=b[e];var q=(e-a.J)*f+m;var p=g;if(this.v||this.D){d=a.I;for(k=0;d<=a.L-16;)n[d]&1&&(k|=p),p>>=1,d+=1,n[d]&1&&(k|=p),p>>=1,d+=1,n[d]&1&&(k|=p),p>>=1,d+=1,n[d]&1&&(k|=p),p>>=1,d+=1,n[d]&1&&(k|=p),p>>=
1,d+=1,n[d]&1&&(k|=p),p>>=1,d+=1,n[d]&1&&(k|=p),p>>=1,d+=1,n[d]&1&&(k|=p),p>>=1,d+=1,n[d]&1&&(k|=p),p>>=1,d+=1,n[d]&1&&(k|=p),p>>=1,d+=1,n[d]&1&&(k|=p),p>>=1,d+=1,n[d]&1&&(k|=p),p>>=1,d+=1,n[d]&1&&(k|=p),p>>=1,d+=1,n[d]&1&&(k|=p),p>>=1,d+=1,n[d]&1&&(k|=p),p>>=1,d+=1,n[d]&1&&(k|=p),d+=1,0!==k&&(c[q]=k,k=0),p=g,q+=1;for(;d<=a.L;)n[d]&1&&(k|=p),p>>=1,d+=1}else if(this.G){d=a.I;for(k=0;d<=a.L-16;)n[d]&&(k|=p),p>>=1,d+=1,n[d]&&(k|=p),p>>=1,d+=1,n[d]&&(k|=p),p>>=1,d+=1,n[d]&&(k|=p),p>>=1,d+=1,n[d]&&(k|=
p),p>>=1,d+=1,n[d]&&(k|=p),p>>=1,d+=1,n[d]&&(k|=p),p>>=1,d+=1,n[d]&&(k|=p),p>>=1,d+=1,n[d]&&(k|=p),p>>=1,d+=1,n[d]&&(k|=p),p>>=1,d+=1,n[d]&&(k|=p),p>>=1,d+=1,n[d]&&(k|=p),p>>=1,d+=1,n[d]&&(k|=p),p>>=1,d+=1,n[d]&&(k|=p),p>>=1,d+=1,n[d]&&(k|=p),p>>=1,d+=1,n[d]&&(k|=p),d+=1,0!==k&&(c[q]=k,k=0),p=g,q+=1;for(;d<=a.L;)n[d]&&(k|=p),p>>=1,d+=1}else{d=a.I;for(k=0;d<=a.L-16;)n[d]>=l&&(k|=p),p>>=1,d+=1,n[d]>=l&&(k|=p),p>>=1,d+=1,n[d]>=l&&(k|=p),p>>=1,d+=1,n[d]>=l&&(k|=p),p>>=1,d+=1,n[d]>=l&&(k|=p),p>>=1,d+=
1,n[d]>=l&&(k|=p),p>>=1,d+=1,n[d]>=l&&(k|=p),p>>=1,d+=1,n[d]>=l&&(k|=p),p>>=1,d+=1,n[d]>=l&&(k|=p),p>>=1,d+=1,n[d]>=l&&(k|=p),p>>=1,d+=1,n[d]>=l&&(k|=p),p>>=1,d+=1,n[d]>=l&&(k|=p),p>>=1,d+=1,n[d]>=l&&(k|=p),p>>=1,d+=1,n[d]>=l&&(k|=p),p>>=1,d+=1,n[d]>=l&&(k|=p),p>>=1,d+=1,n[d]>=l&&(k|=p),d+=1,0!==k&&(c[q]=k,k=0),p=g,q+=1;for(;d<=a.L;)n[d]>=l&&(k|=p),p>>=1,d+=1}0!==k&&(c[q]=k)}};qa.prototype.em=function(a,b,c,d,f,e,g,k,l){var m,n,q,p;for(m=1;m<=b/2;m+=1)if(0===b%m){var r=b-m;var u=r*g;var t=m*g;var v=
b/m;for(q=0;q<e;q+=1){var A=q*f;r=q*k;var w=l;for(n=0;n<f;n+=1){var B=A+n;if(a[B]===b&&!(d[B]%v)){var C=(n>>4)+r;for(p=C+u;C<p&&!((c[C]^c[C+t])&w);)C+=g;C===p&&(a[B]=m)}w=(w>>1|w<<15)&65535}}}};qa.prototype.um=function(a,b,c){var d=a.I,f=a.J,e=a.L;a=a.M;var g,k,l=G.pb[6]+128;this.Mb=0;for(k=f;k<=a;k+=1){var m=c[k];var n=(k-f)*(e-d+1);for(g=d;g<=e;g+=1)m[g]===l&&(b[n+g-d]=-1,this.Mb+=1)}};qa.prototype.ym=function(a,b,c){var d=a.I,f=a.J,e=a.L;a=a.M;var g,k;this.Mb=0;for(k=f;k<=a;k+=1){var l=c[k];var m=
(k-f)*(e-d+1);for(g=d;g<=e;g+=1)6===l[g]&&(b[m+g-d]=-1,this.Mb+=1)}};qa.prototype.rm=function(a,b,c){var d=a.I,f=a.J,e=a.L;a=a.M;var g,k;this.Mb=0;for(k=f;k<=a;k+=1){var l=c[k];var m=(k-f)*(e-d+1);for(g=d;g<=e;g+=1)3===l[g]&&(b[m+g-d]=-1,this.Mb+=1)}};qa.prototype.gi=function(){var a=this.Ea?this.ya:this.B,b=this.Ci,c=this.hj,d=this.ja?-1:0;this.v&&(a=this.Ve);-1!==this.O?(c.I=Math.round((this.width-this.$)/2)+d,c.J=Math.round((this.height-this.Z)/2)+d,c.L=c.I+this.$-1,c.M=c.J+this.Z-1):(c.set(a),
(this.v||this.P)&&c.h(b));return this.hj};qa.prototype.jn=function(a){var b=new Va(this.width,this.height,0,0),c;var d=this.yc-a;var f=this.view;if(-1!==this.yc)for(c=0;c<a;c+=1){var e=this.ae[d+c<<1];var g=e>>16;var k=e&65535;e=this.ae[(d+c<<1)+1];f=e>>16;e&=65535;f<b.I&&(b.I=f);f+g-1>b.L&&(b.L=f+g-1);e<b.J&&(b.J=e);e+k-1>b.M&&(b.M=e+k-1)}else for(c=0;c<a;c+=1)f.$g(),d=this.gi(),d.I<b.I&&(b.I=d.I),d.L>b.L&&(b.L=d.L),d.J<b.J&&(b.J=d.J),d.M>b.M&&(b.M=d.M);return b};qa.prototype.dk=function(a,b,c,d,
f){var e=0,g=0,k=!1,l=null,m=null,n=this.h,q=new Uint32Array(a+1),p=null,r=0,u=0,t=0,v,A=null,w,B=v=w=0,C=0,O=0,M=0,K=0,L=0,U=0,X=0,H=0,R=0,P=0,S=0,aa=0,pa=0,ha=0,ca=0,ia=0,na=[],ja,W,ma=0,ea,Z,Y,oa,Q;var F=V.S?this.T.H():y.TI;var z=this.T.Nj;this.ij=(performance.now()-this.mj)/1E3;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(n=this.R);c&&(A=this.jn(a));c&&(2>=this.i||this.v||this.G)&&(r=A.L-A.I+1,u=A.M-A.J+1,e=(r-1>>4)+1,g=e*u,2*g*a<=F&&(l=this.T.h(ra.Ya,a*g,"Life.bitFrames",V.S),p=this.T.h(ra.Ad,
r*u,"Life.cellPeriods",!1),m=this.T.h(ra.mc,r*u,"Life.cellCounts",V.S),w=8*l.BYTES_PER_ELEMENT-1,w=1<<w,k=!0));c&&!k&&(this.Jh.o.fill(y.rq),this.Vg=Array.matrix(ra.Ya,this.K,(this.F-1>>4)+1,0,this.T,"Life.occTileMap",!1),this.Wf=Array.matrix(ra.Ya,this.K,(this.F-1>>4)+1,0,this.T,"Life.occMergedTileMap",!1));performance.now();this.ig=268435456;this.Fh=this.Pg=0;var J=ja=this.A;var N=W=0;var I=this.width;var x=0;var E=this.height;var la=0;var ba=this.width*this.width;var ta=oa=Y=ea=Z=0;var ua=this.width;
var ka=0;var wa=this.height;for(F=Q=0;F<=a+1;F+=1){b.$g();c||(A=this.gi());if(b.Hk){-1===b.wb&&(b.wb=this.counter);return}this.counter&&0<this.A&&!c&&(b.Xb.I=A.I,b.Xb.J=A.J,b.Xb.L=A.L,b.Xb.M=A.M,b.cl(b,b.Xb));c&&(k?F<a&&(this.nz(A,n,m),this.oz(A,n,l,F,e,g,w)):this.vq(A,F));0===F?(this.Ch(A),v=this.rb,B=this.sb,C=A.L-A.I+1,O=A.M-A.J+1,this.Qi(A),M=this.rb,K=this.sb):1===F?(this.Ch(A),L=this.rb,U=this.sb,X=A.L-A.I+1,H=A.M-A.J+1,this.Qi(A),R=this.rb,P=this.sb):2===F&&this.ja&&v===L&&B===U&&(this.Ch(A),
S=this.rb,aa=this.sb,pa=A.L-A.I+1,ha=A.M-A.J+1,this.Qi(A),ca=this.rb,ia=this.sb);if(!this.ia&&!this.aa&&-1===this.nd){for(;-1===this.nd&&0<na.length&&na[0].i===F;){if(this.ja&&v===L&&B===U){var Ba=pa;var Ia=ha;var Ea=2;var Oa=S;var Pa=aa;var ya=ca;var Ka=ia}else Ba=X,Ia=H,Ea=1,Oa=L,Pa=U,ya=R,Ka=P;if(A.L-A.I+1===Ba&&A.M-A.J+1===Ia||A.L-A.I+1===Ia&&A.M-A.J+1===Ba)performance.now(),this.vg=this.Qm(A,Oa,Pa,na[0].h,d,f,a/(F-Ea),ya,Ka),performance.now(),this.nd=-1!==this.vg?F-Ea:-1;na.shift()}-1===this.nd&&
0<F&&0===a%F&&(A.L-A.I+1===C&&A.M-A.J+1===O||A.L-A.I+1===O&&A.M-A.J+1===C)&&(performance.now(),Ba=this.$j(A,v,B,d,f,M,K),performance.now(),0===Ba||this.ja&&v===L&&B===U&&2>F||(na[na.length]=this.ja&&v===L&&B===U?new Cb(F+2,Ba):new Cb(F+1,Ba)))}F<a&&(Ba=this.na+this.ga,Ba<this.ig&&(this.ig=Ba),Ba>this.Pg&&(this.Pg=Ba),this.Fh+=Ba,this.A<ja&&(ja=this.A,W=F),this.A>J&&(J=this.A,N=F),ma+=this.A,c?(Ba=this.gi(),Ia=Ba.L-Ba.I+1,Ea=Ba.M-Ba.J+1,Ba.I<ua&&(ua=Ba.I),Ba.L>ka&&(ka=Ba.L),Ba.J<wa&&(wa=Ba.J),Ba.M>
Q&&(Q=Ba.M)):(Ia=A.L-A.I+1,Ea=A.M-A.J+1,Ia>oa&&(oa=Ia),Ea>ta&&(ta=Ea)),Ia*Ea<ba&&(ba=Ia*Ea,I=Ia,E=Ea,ea=F),Ia*Ea>Z&&(Z=Ia*Ea,x=Ia,la=Ea,Y=F))}performance.now();performance.now();if(k){performance.now();for(f=0;f<u;f+=1)for(v=f*r,d=0;d<r;d+=1)m[v+d]&&(p[v+d]=a,t+=1);performance.now();performance.now();this.em(p,a,l,m,r,u,g,e,w);performance.now();performance.now();for(f=0;f<u;f+=1)for(v=f*r,d=0;d<r;d+=1)(F=p[v+d])&&(q[F]+=1);performance.now();c&&(this.Mb=0,this.P&&this.um(A,p,this.Ua),this.v&&this.ym(A,
p,n),this.G&&this.rm(A,p,n));F=q[a]/t;this.Ei=this.ke(F,2);this.ub=q;this.Yg=t;this.Jd=p;this.Ac=this.Eg=r;this.Va=u;this.Yj=m;performance.now();this.Zk(b);performance.now();performance.now();this.Vk(m,a);performance.now()}else this.ub=null,this.Cc=[];this.Ol=ja;this.Sl=W;this.Hl=J;this.Jl=N;this.xl=ma/a;this.Ml=I;this.Kl=E;this.Ll=ea;this.Cl=x;this.Al=la;this.Bl=Y;c&&(oa=ka-ua+1,ta=Q-wa+1);this.Ul=ua;this.Vl=wa;this.zl=oa;this.yl=ta;this.jj=(performance.now()-this.mj)/1E3;this.T.O(z)};qa.prototype.vn=
function(a,b,c,d,f,e,g){var k="",l=String(this.counter-c),m="",n="",q=16384,p=0,r=16384,u=0,t=276627456,v=0,A=0,w=0,B=0,C=0,O=0,M="",K="",L="",U=this.Jh,X=0,H=0,R="",P="",S="";0<c&&(l+=" and "+this.counter);var aa=d;var pa=f;d=Math.abs(d);f=Math.abs(f);if(0<d||0<f){var ha="Spaceship";0===d||0===f?n="0":(d>f?(n=d,m=f):(n=f,m=d),k=this.Hg(n,m),n=String(n/k),1!==m/k&&(n+="/"+String(m/k)));if(d===f||0===d||0===f)if(m=d===f&&0!==d?"Diagonal":"Orthogonal",0===d&&(d=f),1<d)if(1===c)k=d+"c";else{k=this.Hg(d,
c);var ca=d/k;var ia=c/k;1!==k?(k=1===ca?"c":ca+"c",1<ia&&(k+="/"+ia),k+=" | "+d+"c/"+c):k=d+"c/"+c}else k="c",1<c&&(k+="/"+c);else k=this.Hg(d,this.Hg(f,c)),ca=d/k,m=f/k,ia=c/k,1!==k?(k=ca>m?"("+ca+","+m+")c":"("+m+","+ca+")c",1<ia&&(k+="/"+ia),k=d>f?k+(" | ("+d+","+f+")c"):k+(" | ("+f+","+d+")c")):k=d>f?"("+d+","+f+")c":"("+f+","+d+")c",1<c&&(k+="/"+c),m=this.fp(d,f);this.dk(c,a,!1,aa,pa)}else 1===c||2===c&&this.ja&&this.gg[0]===this.gg[1]&&this.Ig[0]===this.Ig[1]?ha="Still Life":(ha="Oscillator",
this.dk(c,a,!0,0,0));if(0===this.A)return this.s||this.ja?["Life ended at generation "+(this.ac+a.Ja),"Empty"]:["Life ended at generation "+(this.counter+a.Ja),"Empty"];this.Ih="";"Still Life"===ha?a=String(this.A):(d=this.Ol,f=this.Sl,pa=this.Hl,aa=this.Jl,a=this.xl,d===pa?a=String(pa):(a=String(d)+" | "+String(pa)+" | "+this.ke(a,1),this.Ih=String(d)+" @ T"+f+" | "+String(pa)+" @ T"+aa));aa=f=0;this.Gh="";"Still Life"!==ha&&(A=this.Ml,w=this.Kl,f=this.Ll,B=this.Cl,C=this.Al,aa=this.Bl,e=this.zl,
g=this.yl,t=A*w,v=B*C,q=this.Ul,p=q+e,r=this.Vl,u=r+g);d=String(e+" x "+g+" = "+e*g);if(A!==B||w!==C)this.Gh=String(A+" x "+w+" = "+t+" @ T"+f+" | "+B+" x "+C+" = "+v+" @ T"+aa);0<c&&(this.ig===this.Pg?(O=this.ig,M=String(O.toFixed(1))):(O=this.Fh/c,M=this.ke(this.ig,1)+" | "+this.ke(this.Pg,1)+" | "+this.ke(O,1)));if("Oscillator"===ha){if(this.ub)X=this.Yg-this.ub[1],H=this.ub[1];else for(t=r;t<=u;t+=1)if(K=U[t],this.s)for(r=q;r<=p;r+=1)L=K[r],(L&3)===y.gj?X+=1:(L&3)===y.ml&&(H+=1),L>>=2,(L&3)===
y.gj?X+=1:(L&3)===y.ml&&(H+=1),L>>=2,(L&3)===y.gj?X+=1:(L&3)===y.ml&&(H+=1),L>>=2,(L&3)===y.gj?X+=1:(L&3)===y.ml&&(H+=1);else for(r=q;r<=p;r+=1)K[r]===y.gj?X+=1:K[r]===y.ml&&(H+=1);K=this.ke(X/(X+H),2);L=this.Ei;this.uj=X}this.sl=X===e*g?!0:!1;"Oscillator"===ha&&(P=0===X?this.ke(O/(X+H),2)+" | "+this.ke(0,2):this.ke(O/(X+H),2)+" | "+this.ke(O/X,2));q=String(X+" | "+H+" | "+(X+H));this.ia||this.aa||(0>=this.nd?(this.nd=c,R=String(this.nd)):R=0===c%this.nd&&c!==this.nd?String(this.nd)+" ("+y.aJ[this.vg]+
")":String(this.nd));"Still Life"===ha&&(e=this.A/(e*g),this.s&&(e/=4),S=1===e?String(e):e.toFixed(3));return[b,ha,m,k,d,l,a,n,c,M,K,L,R,q,P,S]};qa.prototype.vm=function(a,b,c,d,f){this.Ke[this.Sb]=a;this.Ge[this.Sb]=b;this.fe[this.Sb]=this.counter;this.Tg[this.Sb]=this.A;this.Gc[this.Sb<<1]=c;this.Gc[(this.Sb<<1)+1]=d<<16|f};qa.prototype.tm=function(a,b,c,d,f){this.gg[this.yc]=a;this.Ig[this.yc]=b;this.ae[this.yc<<1]=c;this.ae[(this.yc<<1)+1]=d<<16|f};qa.prototype.No=function(a){var b=this.gi(),
c=b.I,d=b.J,f=b.L-c+1,e=b.M-d+1,g=f<<16|e,k=c<<16|d,l=!1,m,n=this.Sb,q=0,p=0,r="",u=[];if(-1!==this.kf)return--this.kf,-1===this.kf&&(this.Xl=this.He[1],u=this.vn(a,this.He[0],this.He[1],this.He[2],this.He[3],this.He[4],this.He[5])),u;0!==this.Tj&&(u=["Cells Killed","Empty"],e=f=0,l=!0);if(this.Sb<y.Fl)if(0===this.A)u=["Empty pattern","Empty"];else{this.Ch(b);b=this.rb;var t=this.sb;var v=!1;for(m=0;m<n&&!v;){var A=this.Ke[m];var w=this.Ge[m];if(b>A)m+=1;else if(b<A)this.Sb=m,v=!0;else if(b===A&&
t===w){var B=m<<1;if(this.A===this.Tg[m]&&g===this.Gc[B]){A=!0;w=this.counter-this.fe[m];if(this.Gc[B+1]===k)1===(w&1)&&this.ja?A=!1:r=1===w||2===w&&this.ja&&this.Ke[0]===this.Ke[1]&&this.Ge[0]===this.Ge[1]?"Still Life":"Oscillator period "+w;else if(A=!1,m<this.Sb-1&&(B=m+1,b===this.Ke[B]&&t===this.Ge[B]&&this.A===this.Tg[B]&&g===this.Gc[B<<1]&&this.fe[B]-this.fe[m]===this.counter-this.fe[B])){q=(this.Gc[(B<<1)+1]>>16)-(this.Gc[(m<<1)+1]>>16);p=(this.Gc[(B<<1)+1]&65535)-(this.Gc[(m<<1)+1]&65535);
var C=c-(this.Gc[(B<<1)+1]>>16);var O=d-(this.Gc[(B<<1)+1]&65535);q===C&&p===O&&(w=this.counter-this.fe[B],r=this.Jp(w,q,p),A=!0)}A?(l=v=!0,this.He=[r,w,q,p,f,e],this.kf=y.rI,a.C.notification.notify(r,15,40,15,!0),a.C.notification.notify("Calculating...",15,40,15,!1)):m+=1}else m+=1}else m+=1}l||(this.vm(b,t,g,c,d),0<=this.yc&&(this.tm(b,t,g,c,d),this.yc+=1,this.yc===y.Jo&&(this.yc=-1,this.lj=performance.now(),a.eA())),this.Sb+=1,this.Sb===y.Fl&&(this.Sb=0,u=[y.TA]))}-1===this.yc&&(performance.now()-
this.lj)/1E3>y.sI&&(this.lj=performance.now(),a.eA());return u};qa.prototype.Ro=function(a,b,c,d,f,e,g){var k=this.displayWidth/2,l=this.displayHeight/2,m=0,n=this.width/2,q=this.height/2,p=this.coords,r=this.oc,u=this.height/2-this.ka-this.Aa+.5,t=this.width/2-this.ma-this.Ja+.5,v=this.zoom*this.cb;if(a>c){var A=c;c=a;a=A}b>d&&(A=d,d=b,b=A);a+=f;c+=f;b+=e;d+=e;r.length!==y.Uc&&(this.coords=this.T.h(ra.Dd,12*y.Uc,"Life.coords",!1),this.oc=this.T.h(ra.mc,y.Uc,"Life.cellColours",!1),p=this.coords,r=
this.oc);this.oa.lineWidth=y.jz;this.oa.lineCap="butt";this.oa.lineJoin="bevel";for(e=f=0;b<=d;b+=1)if(A=(b-q+u)*v+l,A>=-v&&A<this.displayHeight+v){var w=b-q;var B=t-n;for(A=a;A<=c;A+=1){if(0<g[m]){var C=(A+B)*v+k;if(C>=-v&&C<this.displayWidth+2*v){r[f]=(0<<y.ug)+e;C=A-n+.5;var O=A+b&1;p[e]=C-1;p[e+1]=w+O;p[e+2]=C+1;p[e+3]=w+O;p[e+4]=C;p[e+5]=w+1-O;e+=6;f+=1;f===y.Uc&&(this.Yb=f,this.$c(!0,!1,!0),e=f=0)}}m+=1}}else m+=c-a+1;this.Yb=f;0<f&&this.$c(!0,!1,!0)};qa.prototype.ol=function(a,b,c,d,f,e){var g=
this.displayWidth/2,k=this.displayHeight/2,l=this.width/2,m=this.height/2,n=this.coords,q=this.oc,p=this.height/2-this.ka-this.Aa+.5,r=this.width/2-this.ma-this.Ja+.5,u=this.zoom*this.cb;if(a>c){var t=c;c=a;a=t}b>d&&(t=d,d=b,b=t);a+=f;c+=f;b+=e;d+=e;q.length!==y.Uc&&(this.coords=this.T.h(ra.Dd,12*y.Uc,"Life.coords",!1),this.oc=this.T.h(ra.mc,y.Uc,"Life.cellColours",!1),n=this.coords,q=this.oc);this.oa.lineWidth=y.jz;this.oa.lineCap="butt";this.oa.lineJoin="bevel";for(e=f=0;b<=d;b+=1)if(t=(b-m+p)*
u+k,t>=-u&&t<this.displayHeight+u){var v=b-m;var A=r-l;for(t=a;t<=c;t+=1){var w=(t+A)*u+g;if(w>=-u&&w<this.displayWidth+2*u){q[f]=(0<<y.ug)+e;w=t-l+.5;var B=t+b&1;n[e]=w-1;n[e+1]=v+B;n[e+2]=w+1;n[e+3]=v+B;n[e+4]=w;n[e+5]=v+1-B;e+=6;f+=1;f===y.Uc&&(this.Yb=f,this.$c(!0,!1,!0),e=f=0)}}}this.Yb=f;0<f&&this.$c(!0,!1,!0)};qa.prototype.Ni=function(){var a=this.h,b=this.Ua,c=null,d=this.hb,f=this.displayWidth/2,e=this.displayHeight/2,g,k,l=this.width/2,m=this.height/2,n=G.pb[3]+128,q=G.pb[4]+128,p=G.pb[5]+
128,r=G.pb[6]+128,u=this.xa,t=this.coords,v=this.oc,A=d.I,w=d.L;var B=d.J;var C=d.M,O=this.height/2-this.ka-this.Aa+.5,M=this.width/2-this.ma-this.Ja+.5,K=this.zoom*this.cb,L=!this.Za&&!this.jb,U=this.width,X=this.height,H=0,R=0,P=this.fa;(this.v||this.G||this.D)&&0!==(this.counter&1)&&(a=this.R);v.length!==y.Uc&&(this.coords=this.T.h(ra.Dd,12*y.Uc,"Life.coords",!1),this.oc=this.T.h(ra.mc,y.Uc,"Life.cellColours",!1),t=this.coords,v=this.oc);-1!==this.O&&(0!==this.$?(A=Math.round((this.width-this.$)/
2)-1,w=A+this.$-1+2):(A=0,w=this.width-1),0!==this.Z?(B=Math.round((this.height-this.Z)/2)-1,C=B+this.Z-1+2):(B=0,C=this.height-1));this.oa.lineWidth=y.jz;this.oa.lineCap="butt";this.oa.lineJoin="bevel";for(k=d=0;B<=C;B+=1){var S=(B-m+O)*K+e;if(S>=-K&&S<this.displayHeight+K){S=a[B];b&&(c=b[B]);var aa=B-m;var pa=M-l;for(g=A-1;g<=w+1;g+=1){var ha=(g+pa)*K+f;if(ha>=-K&&ha<=this.displayWidth+2*K){ha=S[g];if(c){var ca=c[g];if(ca===q||ca===r)ha=ha>=u?n:ca;else if(ca===n||ca===p)ha=ha<u?q:ca}0<ha&&(v[d]=
(ha<<y.ug)+k,ha=g-l+.5,ca=g+B&1,t[k]=ha-1,t[k+1]=aa+ca,t[k+2]=ha+1,t[k+3]=aa+ca,t[k+4]=ha,t[k+5]=aa+1-ca,k+=6,d+=1);d===y.Uc&&(this.Yb=d,this.$c(!0,L,!1),this.jb&&!this.Za&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.$c(!1,!1,!1)),k=d=0)}}}}this.Yb=d;0<d&&(this.$c(!0,L,!1),this.jb&&!this.Za&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.$c(!1,!1,!1)));for(k=d=0;U<P;)H+=U>>1,U<<=1;for(;X<P;)R+=X>>1,X<<=1;C=e/K-O+m|0;for(B=-e/K-O+m|0;B<=
C;B+=1)if(S=(B-m+O)*K+e,S>=-K&&S<this.displayHeight+K)for(aa=B-m,pa=M-l,A=-f/K-pa-K|0,w=f/K-pa+K|0,g=A-1;g<=w+1;g+=1)if(ha=(g+pa)*K+f,ha>=-K&&ha<=this.displayWidth+2*K){if(0>g+H||g+H>=P||0>B+R||B+R>=P)v[d]=(256<<y.ug)+k,ha=g-l+.5,ca=g+B&1,t[k]=ha-1,t[k+1]=aa+ca,t[k+2]=ha+1,t[k+3]=aa+ca,t[k+4]=ha,t[k+5]=aa+1-ca,k+=6,d+=1;d===y.Uc&&(this.Yb=d,this.$c(!0,L,!1),this.jb&&!this.Za&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.$c(!1,!1,!1)),k=d=0)}this.Yb=d;0<d&&(this.$c(!0,
L,!1),this.jb&&!this.Za&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.$c(!1,!1,!1)),k=0);if(this.Za){this.oa.strokeStyle="rgb("+(this.Ob>>16)+","+(this.Ob>>8&255)+","+(this.Ob&255)+")";this.oa.lineWidth=1;C=e/K-O+m|0;d=0;for(B=-e/K-O+m|0;B<=C;B+=1)if(S=(B-m+O)*K+e,S>=-K&&S<this.displayHeight+K)for(aa=B-m,pa=M-l,A=-f/K-pa-K|0,w=f/K-pa+K|0,g=A-1;g<=w+1;g+=1)ha=(g+pa)*K+f,ha>=-K&&ha<this.displayWidth+2*K&&(ha=g-l+.5,ca=g+B&1,t[k]=ha-1,t[k+1]=aa+ca,t[k+2]=ha+1,t[k+3]=
aa+ca,t[k+4]=ha,t[k+5]=aa+1-ca,k+=6,d+=1),d===y.Uc&&(this.Yb=d,this.$c(!1,!1,!1),k=d=0);this.Yb=d;0<d&&this.$c(!1,!1,!1)}};qa.prototype.$c=function(a,b,c){var d,f=this.oa,e=this.width/2-this.ma-this.Ja,g=this.height/2-this.ka-this.Aa,k=this.zoom*this.cb,l=this.zc(this.zoom)*this.cb,m=this.displayWidth/2,n=this.displayHeight/2,q=0,p=0,r=-1,u=this.coords,t=this.Yb,v=this.oc,A=(1<<y.ug)-1;if(a&&!c&&v.sort){p=(y.Uc<<y.ug)+256;for(d=t;d<y.Uc;d+=1)v[d]=p;v.sort()}f.beginPath();a||(r=p=q=0);for(d=0;d<t;d+=
1){a&&(p=v[d],q=p&A,p>>=y.ug);var w=u[q];var B=u[q+1];q+=2;var C=(B+g)*l+n;var O=(w+e)*k+m;var M=(u[q+1]-B)*l;var K=(u[q]-w)*k;q+=2;p!==r&&(r=p,0<d&&(a?(b&&f.stroke(),f.fill()):f.stroke(),f.beginPath()),a&&!c&&(f.fillStyle=this.Xe[p],b&&(f.strokeStyle=this.Xe[p])));f.moveTo(O|0,C|0);f.lineTo(K+O|0,M+C|0);f.lineTo(K+O|0,C|0);M=(u[q+1]-B)*l;K=(u[q]-w)*k;f.lineTo(K+O|0,M+C|0);q+=2}a?(b&&f.stroke(),f.fill()):f.stroke()};qa.prototype.Do=function(a,b,c,d,f,e,g){var k=0,l=this.width/2-G.lp/4,m=this.height/
2,n=Math.PI/3,q=1/G.lp,p=[],r=[],u=this.coords,t=this.oc,v=this.displayWidth/2,A=this.displayHeight/2,w=this.width/2-this.ma-this.Ja,B=this.height/2-this.ka-this.Aa,C=this.zoom*this.cb,O=this.zc(this.zoom)*this.cb;w=w+B/2+-(this.height>>2)+.5;B+=.5;if(a>c){var M=c;c=a;a=M}b>d&&(M=d,d=b,b=M);a+=f;c+=f;b+=e;d+=e;t.length!==y.Uc&&(this.coords=this.T.h(ra.Dd,12*y.Uc,"Life.coords",!1),this.oc=this.T.h(ra.mc,y.Uc,"Life.cellColours",!1),u=this.coords,t=this.oc);e=n/2;for(f=0;5>=f;f+=1)p[f]=Math.cos(e)*q,
r[f]=Math.sin(e)*q*1.16,e+=n;n=p[0];q=r[0];M=p[1];var K=r[1];var L=p[2];var U=r[2];var X=p[3];var H=r[3];var R=p[4];var P=r[4];p=p[5];r=r[5];this.oa.lineWidth=1;this.oa.lineCap="round";this.oa.lineJoin="round";for(e=f=0;b<=d;b+=1){var S=b-m;var aa=(S+B)*O+A;if(aa>=-O&&aa<this.displayHeight+O)for(aa=a;aa<=c;aa+=1){if(0<g[k]){var pa=aa-l;var ha=(pa+w-(S+B)/2)*C+v;ha>=-C&&ha<this.displayWidth+C&&(t[f]=(0<<y.ug)+e,u[e]=n+pa,u[e+1]=q+S,u[e+2]=M+pa,u[e+3]=K+S,u[e+4]=L+pa,u[e+5]=U+S,u[e+6]=X+pa,u[e+7]=H+
S,u[e+8]=R+pa,u[e+9]=P+S,u[e+10]=p+pa,u[e+11]=r+S,e+=12,f+=1,f===y.Uc&&(this.Yb=f,this.Yc(!0,!1,!1,!0),e=f=0))}k+=1}else k+=c-a+1}this.Yb=f;0<f&&this.Yc(!0,!1,!1,!0)};qa.prototype.il=function(a,b,c,d,f,e){var g=this.width/2-G.lp/4,k=this.height/2,l=Math.PI/3,m=1/G.lp,n=[],q=[],p=this.coords,r=this.oc,u=this.displayWidth/2,t=this.displayHeight/2,v=this.width/2-this.ma-this.Ja,A=this.height/2-this.ka-this.Aa,w=this.zoom*this.cb,B=this.zc(this.zoom)*this.cb;v=v+A/2+-(this.height>>2)+.5;A+=.5;if(a>c){var C=
c;c=a;a=C}b>d&&(C=d,d=b,b=C);a+=f;c+=f;b+=e;d+=e;r.length!==y.Uc&&(this.coords=this.T.h(ra.Dd,12*y.Uc,"Life.coords",!1),this.oc=this.T.h(ra.mc,y.Uc,"Life.cellColours",!1),p=this.coords,r=this.oc);e=l/2;for(f=0;5>=f;f+=1)n[f]=Math.cos(e)*m,q[f]=Math.sin(e)*m*1.16,e+=l;l=n[0];m=q[0];C=n[1];var O=q[1];var M=n[2];var K=q[2];var L=n[3];var U=q[3];var X=n[4];var H=q[4];n=n[5];q=q[5];this.oa.lineWidth=1;this.oa.lineCap="round";this.oa.lineJoin="round";for(e=f=0;b<=d;b+=1){var R=b-k;var P=(R+A)*B+t;if(P>=
-B&&P<this.displayHeight+B)for(P=a;P<=c;P+=1){var S=P-g;var aa=(S+v-(R+A)/2)*w+u;aa>=-w&&aa<this.displayWidth+w&&(r[f]=(0<<y.ug)+e,p[e]=l+S,p[e+1]=m+R,p[e+2]=C+S,p[e+3]=O+R,p[e+4]=M+S,p[e+5]=K+R,p[e+6]=L+S,p[e+7]=U+R,p[e+8]=X+S,p[e+9]=H+R,p[e+10]=n+S,p[e+11]=q+R,e+=12,f+=1,f===y.Uc&&(this.Yb=f,this.Yc(!0,!1,!1,!0),e=f=0))}}this.Yb=f;0<f&&this.Yc(!0,!1,!1,!0)};qa.prototype.Mi=function(){var a=this.h,b=this.Ua,c=null,d=this.hb,f=this.displayWidth/2,e=this.displayHeight/2,g,k=this.width/2-G.lp/4,l=this.height/
2,m=Math.PI/3,n=1/G.lp,q=[],p=[],r=G.pb[3]+128,u=G.pb[4]+128,t=G.pb[5]+128,v=G.pb[6]+128,A=this.xa,w=this.coords,B=this.oc,C=d.I,O=d.L;var M=d.J;var K=d.M,L=this.height/2-this.ka-this.Aa+.5,U=this.width/2-this.ma-this.Ja+.5-(this.height>>2)+L/2,X=this.zoom*this.cb,H=this.zc(this.zoom)*this.cb,R=!this.Za&&!this.jb,P=this.width,S=this.height,aa=0,pa=0,ha=this.fa;(this.v||this.G||this.D)&&0!==(this.counter&1)&&(a=this.R);B.length!==y.Uc&&(this.coords=this.T.h(ra.Dd,12*y.Uc,"Life.coords",!1),this.oc=
this.T.h(ra.mc,y.Uc,"Life.cellColours",!1),w=this.coords,B=this.oc);-1!==this.O&&(0!==this.$?(C=Math.round((this.width-this.$)/2)-1,O=C+this.$-1+2):(C=0,O=this.width-1),0!==this.Z?(M=Math.round((this.height-this.Z)/2)-1,K=M+this.Z-1+2):(M=0,K=this.height-1));var ca=m/2;for(d=0;5>=d;d+=1)q[d]=Math.cos(ca)*n,p[d]=Math.sin(ca)*n*1.16,ca+=m;m=q[0];n=p[0];var ia=q[1];var na=p[1];var ja=q[2];var W=p[2];var ma=q[3];var ea=p[3];var Z=q[4];var Y=p[4];q=q[5];p=p[5];this.oa.lineWidth=1;this.oa.lineCap="round";
this.oa.lineJoin="round";ca=d=0;0<M&&--M;for(K<this.height-1&&(K+=1);M<=K;M+=1){var oa=(M+L-l)*H+e;if(oa>=-H&&oa<this.displayHeight+H){oa=a[M];b&&(c=b[M]);var Q=M-l;var F=U-k-(Q+L)/2;for(g=C;g<=O;g+=1){var z=(g+F)*X+f;if(z>=-X&&z<this.displayWidth+X){z=oa[g];if(c){var J=c[g];if(J===u||J===v)z=z>=A?r:J;else if(J===r||J===t)z=z<A?u:J}0<z&&(B[d]=(z<<y.ug)+ca,z=g-k,w[ca]=m+z,w[ca+1]=n+Q,w[ca+2]=ia+z,w[ca+3]=na+Q,w[ca+4]=ja+z,w[ca+5]=W+Q,w[ca+6]=ma+z,w[ca+7]=ea+Q,w[ca+8]=Z+z,w[ca+9]=Y+Q,w[ca+10]=q+z,w[ca+
11]=p+Q,ca+=12,d+=1);d===y.Uc&&(this.Yb=d,this.Yc(!0,R,!1,!1),this.jb&&!this.Za&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.Yc(!1,!1,!1,!1)),ca=d=0)}}}}this.Yb=d;0<d&&(this.Yc(!0,R,!1,!1),this.jb&&!this.Za&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.Yc(!1,!1,!1,!1)));for(ca=d=0;P<ha;)aa+=P>>1,P<<=1;for(;S<ha;)pa+=S>>1,S<<=1;K=(e/H-L+l|0)+1;for(M=(-e/H-L+l|0)-1;M<=K;M+=1)if(oa=(M+L-l)*H+e,oa>=-H&&oa<this.displayHeight+H)for(Q=M-
l,F=U-k-(Q+L)/2,C=-f/X-F-X|0,O=f/X-F+X|0,g=C;g<=O;g+=1)if(z=(g+F)*X+f,z>=-X&&z<this.displayWidth+X){if(0>g+aa||g+aa>=ha||0>M+pa||M+pa>=ha)B[d]=(256<<y.ug)+ca,z=g-k,w[ca]=m+z,w[ca+1]=n+Q,w[ca+2]=ia+z,w[ca+3]=na+Q,w[ca+4]=ja+z,w[ca+5]=W+Q,w[ca+6]=ma+z,w[ca+7]=ea+Q,w[ca+8]=Z+z,w[ca+9]=Y+Q,w[ca+10]=q+z,w[ca+11]=p+Q,ca+=12,d+=1;d===y.Uc&&(this.Yb=d,this.Yc(!0,R,!1,!1),this.jb&&!this.Za&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.Yc(!1,!1,!1,!1)),ca=d=0)}this.Yb=d;0<d&&
(this.Yc(!0,R,!1,!1),this.jb&&!this.Za&&(this.oa.strokeStyle="rgb("+this.sa[0]+","+this.qa[0]+","+this.ra[0]+")",this.Yc(!1,!1,!1,!1)),ca=0);if(this.Za){this.oa.strokeStyle="rgb("+(this.Ob>>16)+","+(this.Ob>>8&255)+","+(this.Ob&255)+")";this.oa.lineWidth=1;d=0;K=e/H-L+l|0;for(M=-e/H-L+l|0;M<=K;M+=1)if(oa=(M+L-l)*H+e,oa>=-H&&oa<this.displayHeight+H)for(Q=M-l,F=U-k-(Q+L)/2,C=-f/X-F-X|0,O=f/X-F+X|0,g=C;g<=O;g+=1)z=(g+F)*X+f,z>=-X&&z<this.displayWidth+X&&(z=g-k,w[ca]=m+z,w[ca+1]=n+Q,w[ca+2]=ia+z,w[ca+
3]=na+Q,w[ca+4]=ja+z,w[ca+5]=W+Q,w[ca+6]=ma+z,w[ca+7]=ea+Q,ca+=8,d+=1),d===y.Uc&&(this.Yb=d,this.Yc(!1,!1,!0,!1),ca=d=0);this.Yb=d;0<d&&this.Yc(!1,!1,!0,!1)}};qa.prototype.Yc=function(a,b,c,d){var f=this.oa,e=this.width/2-this.ma-this.Ja,g=this.height/2-this.ka-this.Aa,k=this.zoom*this.cb,l=this.zc(this.zoom)*this.cb,m=this.displayWidth/2,n=this.displayHeight/2,q=0,p=0,r=12,u=0,t=-1,v=this.coords,A=this.Yb,w=this.oc,B=(1<<y.ug)-1;e=e+g/2+-(this.height>>2)+.5;g+=.5;a&&!d&&w.sort&&(u=(y.Uc<<y.ug)+256,
w.fill(u,A),w.sort());f.beginPath();a||(p=r=c?8:12,t=u=q=0);for(c=0;c<A;c+=1){a&&(u=w[c],q=u&B,p=q+r,u>>=y.ug);var C=v[q];var O=v[q+1];var M=O+g;var K=C+e-M/2;q+=2;M=M*l+n;K=K*k+m;var L=(v[q+1]-O)*l;var U=(v[q]-C)*k;q+=2;u!==t&&(t=u,0<c&&(a?(b&&f.stroke(),f.fill()):f.stroke(),f.beginPath()),a&&!d&&(f.fillStyle=this.Xe[u],b&&(f.strokeStyle=this.Xe[u])));f.moveTo(K,M);for(f.lineTo(U+K,L+M);q<p;)L=(v[q+1]-O)*l,U=(v[q]-C)*k,q+=2,f.lineTo(U+K,L+M);p+=r}a?(b&&f.stroke(),f.fill()):f.stroke()};qa.prototype.Yf=
function(a,b,c,d,f,e,g){var k="",l=b.P?b.hb:b.Ea?b.ya:b.B,m=l.I,n=l.L,q=l.M,p=l.J,r=n-m+1,u=q-p+1;l=0;var t=[],v=this.h,A=null;var w=a.K-a.ca;var B=a.H-a.fa,C=a.ga,O=0!==(g&y.BD),M=0!==(g&y.DD),K=0!==(g&y.CD);g=0!==(g&y.hp);2>c&&(c=2);2>d&&(d=2);c===d&&b.P&&(d=c=7);a.R&&(m=C.I+w,p=C.J+B,n=C.L+w,q=C.M+B,m>n&&(w=m,m=n,n=w),p>q&&(w=p,p=q,q=w),r=n-m+1,u=q-p+1,a.na&&(-1!==b.O?(m-=Math.floor(a.Z/2)-2*a.zc,n-=Math.floor(a.Z/2)-2*a.zc,p-=Math.floor(a.X/2)-2*a.bd,q-=Math.floor(a.X/2)-2*a.bd):(m+=2*a.zc,n+=
2*a.zc,p+=2*a.bd,q+=2*a.bd)));b.aa&&(0<m&&0!==(m&1)&&(--m,r+=1),0<p&&0!==(p&1)&&(--p,u+=1));b.ja&&(0<m&&0===(m&1)&&(--m,r+=1),0<p&&0===(p&1)&&(--p,u+=1));if(0===f.length)for(w=0;w<c;w+=1)f[w]=w;if(2>=d)t[0]="b",t[1]="o";else for(t[0]=".",w=0;w<d-1;w+=1)t[w+1]=24<=w?String.fromCharCode(112+(w/24|0)-1)+String.fromCharCode(65+w%24):String.fromCharCode(65+w);g&&(k+=b.wi);K||(d=e&&""!==a.$a?a.$a:a.$,"Conway's Life"===d&&(d="Life"),"B3/S23History"===d&&(d="LifeHistory"),k=k+("x = "+r+", y = "+u+", rule = "+
d)+a.bf,k+="\n");for(a=k.length;p<=q;){w=m;2>=c&&!this.D?(A=v[p],r=A[w],d=r<=this.pe||r===this.nc?0:1):d=b.mb(w,p,!1);e=1;for(w+=1;w<=n+1;)w>n?r=-1:2>=c&&!this.D?(r=A[w],r=r<=this.pe||r===this.nc?0:1):r=b.mb(w,p,!1),r!==d?((-1!==r||0!==d||O)&&0<l&&(1<l&&(k+=l),k+="$",!M&&69<=k.length-a&&(k+="\n",a=k.length),l=0),0<d||O?(1<e&&(k+=e),k+=t[f[d]]):w<=n&&(1<e&&(k+=e),k+=t[f[d]]),!M&&69<=k.length-a&&(k+="\n",a=k.length),e=1,d=r):e+=1,w+=1;l+=1;p+=1}k+="!\n";g&&(k+=b.Se);return k};qa.prototype.Le=function(a,
b){var c=this.h,d=c[b-1],f=c[b];b=c[b+1];c=y.xa;return 64+(d[a-1]>=c?1:0)+(d[a]>=c?5:0)+(d[a+1]>=c?1:0)+(f[a-1]>=c?5:0)+(f[a+1]>=c?5:0)+(b[a-1]>=c?1:0)+(b[a]>=c?5:0)+(b[a+1]>=c?1:0)};qa.prototype.hi=function(a,b){var c=this.h;--b;var d=c[b];d[a-1]>=this.xa&&(d[a-1]=this.Le(a-1,b));d[a]>=this.xa&&(d[a]=this.Le(a,b));d[a+1]>=this.xa&&(d[a+1]=this.Le(a+1,b));b+=1;d=c[b];d[a-1]>=this.xa&&(d[a-1]=this.Le(a-1,b));d[a]>=this.xa&&(d[a]=this.Le(a,b));d[a+1]>=this.xa&&(d[a+1]=this.Le(a+1,b));b+=1;d=c[b];d[a-
1]>=this.xa&&(d[a-1]=this.Le(a-1,b));d[a]>=this.xa&&(d[a]=this.Le(a,b));d[a+1]>=this.xa&&(d[a+1]=this.Le(a+1,b))};qa.prototype.gq=function(a,b,c,d){var f=this.va,e=this.j,g=this.h,k=this.wa,l=this.m,m=this.B,n=this.hb,q,p=!0,r=this.aa?1:0,u=this.aa?14:15;if(a!==(a&this.Ia)||b!==(b&this.Ga)){p=!1;var t=this.width<this.fa&&a!==(a&this.Ia);for(q=this.height<this.fa&&b!==(b&this.Ga);t||q;)(t||q)&&this.fg(t,q,!0),t&&(a+=this.width>>2),q&&(b+=this.height>>2),t=this.width<this.fa&&a!==(a&this.Ia),q=this.height<
this.fa&&b!==(b&this.Ga);a===(a&this.Ia)&&b===(b&this.Ga)&&(p=!0,f=this.va,e=this.j,g=this.h,k=this.wa,l=this.m)}if(p){0!==(this.counter&1)&&(f=this.Ta,e=this.H);t=1<<(~a&15);q=1<<(~(a>>4)&15);if(1===(c&1)){0===(f[b][a>>4]&t)&&(this.A+=1);switch(this.Wa){case y.gf:g[b][a]=this.xa;break;case y.hf:g[b][a]=(a+b&127)+64;break;case y.Uf:g[b][a]=this.xa;this.hi(a,b);break;case y.Hf:g[b][a]=this.xa}k[b>>4][a>>8]|=q;l[b>>4][a>>8]|=q;f[b][a>>4]|=t;e[b>>4][a>>8]|=q;d=a&15;0<a&&d<=r?(a-=d+1,e[b>>4][a>>8]|=1<<
(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=u&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d);0<b&&0===(b&15)?(--b,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=r?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=u&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=r?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=u&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),--b)}else 0!==(f[b][a>>4]&t)&&
--this.A,g[b][a]=d?0:this.pe,this.Wa===y.Uf&&this.hi(a,b),k[b>>4][a>>8]|=q,l[b>>4][a>>8]|=q,f[b][a>>4]&=~t;if(0<c)1===this.A?(m.I=a,m.L=a,m.J=b,m.M=b):(a<m.I&&(m.I=a),a>m.L&&(m.L=a),b<m.J&&(m.J=b),b>m.M&&(m.M=b)),a<n.I&&(n.I=a),a>n.L&&(n.L=a),b<n.J&&(n.J=b),b>n.M&&(n.M=b);else if(a===m.I||a===m.L||b===m.M||b===m.J)this.Nb=!0}return 0};qa.prototype.hq=function(a,b,c,d){var f=this.va,e=this.j,g=this.h,k=this.wa,l=this.m,m=this.Ua,n=this.B,q=this.hb,p,r=!0,u=0,t=this.aa?1:0,v=this.aa?14:15;if(a!==(a&
this.Ia)||b!==(b&this.Ga)){r=!1;var A=this.width<this.fa&&a!==(a&this.Ia);for(p=this.height<this.fa&&b!==(b&this.Ga);A||p;)(A||p)&&this.fg(A,p,!0),A&&(a+=this.width>>2),p&&(b+=this.height>>2),A=this.width<this.fa&&a!==(a&this.Ia),p=this.height<this.fa&&b!==(b&this.Ga);a===(a&this.Ia)&&b===(b&this.Ga)&&(r=!0,f=this.va,e=this.j,g=this.h,k=this.wa,l=this.m,m=this.Ua)}if(r){0!==(this.counter&1)&&(f=this.Ta,e=this.H);A=1<<(~a&15);p=1<<(~(a>>4)&15);1===(c&1)?(0===(f[b][a>>4]&A)&&(this.A+=1),g[b][a]=this.xa,
k[b>>4][a>>8]|=p,l[b>>4][a>>8]|=p,f[b][a>>4]|=A,e[b>>4][a>>8]|=p,d=a&15,0<a&&d<=t?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=v&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),0<b&&0===(b&15)?(--b,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=t?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=v&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=t?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),
a+=d+1):a<this.width-1&&d>=v&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),--b)):(0!==(f[b][a>>4]&A)&&--this.A,g[b][a]=d?0:this.pe,k[b>>4][a>>8]|=p,l[b>>4][a>>8]|=p,f[b][a>>4]&=~A);if(m){e=m[b][a];0<e&&(e=G.pb.indexOf(e-128));if(6===c&&6!==e||6!==c&&6===e)u=1;2===c&&(g[b][a]=y.ki);m[b][a]=0===c?0:G.pb[c]+128}if(0<c)1===this.A?(n.I=a,n.L=a,n.J=b,n.M=b):(a<n.I&&(n.I=a),a>n.L&&(n.L=a),b<n.J&&(n.J=b),b>n.M&&(n.M=b)),a<q.I&&(q.I=a),a>q.L&&(q.L=a),b<q.J&&(q.J=b),b>q.M&&(q.M=b);else if(a===n.I||a===
n.L||b===n.M||b===n.J)this.Nb=!0}return u};qa.prototype.fl=function(a,b,c,d){var f=this.va,e=this.j,g=this.h,k=this.wa,l=this.m,m=this.Ua,n=this.B,q=this.ya,p=this.hb,r=0,u=c,t=0,v=0,A=this.aa?1:0,w=this.aa?14:15;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(g=this.R);if(this.s||this.D)t=g[b][a],g[b][a]=d&&0===c?0:this.u+c,l[b>>4][a>>8]=65535,this.D&&(0!==(this.counter&1)&&(e=this.H),r=1<<(~(a>>4)&15),e[b>>4][a>>8]|=r),0===c?t>this.u&&(this.s?this.A-=this.kc[t-this.u]:--this.A):this.s?
t<=this.u?this.A+=this.kc[c]:(this.A-=this.kc[t-this.u],this.A+=this.kc[c]):(e[b>>4][a>>8]|=r,0===t&&(this.A+=1),d=a&15,0<a&&d<=A?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),0<b&&0===(b&15)?(--b,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=A?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),
0<a&&d<=A?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),--b));else{0!==(this.counter&1)&&(f=this.Ta,e=this.H);var B=1<<(~a&15);r=1<<(~(a>>4)&15);if(this.Ea)t=g[b][a],2===this.i?(e=this.xa,1===c&&(c=this.xa),0===c&&t>=e&&(c=d?0:this.u)):(e=this.i-1+this.u,0<c&&(c=this.u+c)),g[b][a]=c,k[b>>4][a>>8]|=r,l[b>>4][a>>8]|=r,t<e&&c>=e?this.A+=1:t>=e&&c<e&&--this.A;else{if(this.G){var C=0<c;t=g[b][a]}else C=2>=this.i||this.v?1===(c&1):
c===this.i-1;this.v&&(t=g[b][a],6===c&&6!==t||6!==c&&6===t)&&(v=1);C?(this.G?t||(this.A+=1):0===(f[b][a>>4]&B)&&(this.A+=1),this.Wa===y.hf?g[b][a]=(a+b&127)+64:this.Wa===y.Uf?(g[b][a]=this.xa,this.hi(a,b)):g[b][a]=this.G||this.v?c:this.xa,k[b>>4][a>>8]|=r,l[b>>4][a>>8]|=r,f[b][a>>4]|=B,e[b>>4][a>>8]|=r,d=a&15,0<a&&d<=A?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),0<b&&0===(b&15)?(--b,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=A?
(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&d<=A?(a-=d+1,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=d+1):a<this.width-1&&d>=w&&(a+=16-d,e[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-d),--b)):(this.G?0<t&&--this.A:0!==(f[b][a>>4]&B)&&--this.A,g[b][a]=this.G||this.v?c:d?0:this.pe,this.Wa===y.Uf&&this.hi(a,b),k[b>>4][a>>8]|=r,l[b>>4][a>>8]|=r,f[b][a>>4]&=~B);if(this.P&&
m){t=m[b][a];0<t&&(t=G.pb.indexOf(t-128));if(6===c&&6!==t||6!==c&&6===t)v=1;2===c?g[b][a]=y.ki:m[b][a]=0===c?0:G.pb[c]+128}2<this.i&&!this.v&&!this.G&&(0<c&&(c=this.u+c),g[b][a]=c)}}if(0<u)1===this.A&&(this.Nb=!0),a<n.I&&(n.I=a),a>n.L&&(n.L=a),b<n.J&&(n.J=b),b>n.M&&(n.M=b),a<p.I&&(p.I=a),a>p.L&&(p.L=a),b<p.J&&(p.J=b),b>p.M&&(p.M=b),this.Ea&&c===this.i-1+this.u&&(1===this.A?(q.I=a,q.L=a,q.J=b,q.M=b):(a<q.I&&(q.I=a),a>q.L&&(q.L=a),b<q.J&&(q.J=b),b>q.M&&(q.M=b)));else if(a===n.I||a===n.L||b===n.M||b===
n.J)this.Nb=!0;return v};qa.prototype.mb=function(a,b,c){switch(this.xk){case y.iw:return this.ql(a,b,c);case y.kw:return this.ql(a,b,!0);case y.jw:return this.nn(a,b,c);default:return this.on(a,b,c)}};qa.prototype.Wd=function(a,b,c,d){switch(this.xk){case y.iw:return this.gq(a,b,c,d);case y.kw:return this.fl(a,b,c,d);case y.jw:return this.hq(a,b,c,d);default:return this.fl(a,b,c,d)}};qa.prototype.iq=function(){this.xk=-1!==this.i||-1!==this.O||this.la?this.D&&2===this.i?y.kw:y.bJ:this.P?y.jw:y.iw};
qa.prototype.zm=function(a){var b=1<<y.lk;a?(this.ad=Array.matrix(ra.mc,1,b,0,this.T,"Life.popGraphData",!1),this.Zf=Array.matrix(ra.mc,1,b,0,this.T,"Life.birthGraphData",!1),this.eg=Array.matrix(ra.mc,1,b,0,this.T,"Life.deathGraphData",!1),this.Xg=b):(this.ad=Array.matrix(ra.mc,0,0,0,this.T,"Life.popGraphData",!1),this.Zf=Array.matrix(ra.mc,0,0,0,this.T,"Life.birthGraphData",!1),this.eg=Array.matrix(ra.mc,0,0,0,this.T,"Life.deathGraphData",!1),this.Xg=0)};qa.prototype.ql=function(a,b,c){var d=0,
f=this.h;a===(a&this.Ia)&&b===(b&this.Ga)&&(this.D&&0!==(this.counter&1)&&(f=this.R),a=f[b][a],d=c?a:a<=this.pe?0:1);return d};qa.prototype.nn=function(a,b,c){var d=0,f=G.pb[3]+128,e=G.pb[4]+128,g=G.pb[5]+128,k=G.pb[6]+128;a===(a&this.Ia)&&b===(b&this.Ga)&&(d=this.h[b][a],c||(this.Ua?(a=this.Ua[b][a],a===e||a===k?(d>=this.xa&&(a=f),d=G.pb.indexOf(a-128)):a===f||a===g?(d<this.xa&&(a=e),d=G.pb.indexOf(a-128)):d=0===d?0:d<=this.pe?2:1):d=d<=this.pe?0:1));return d};qa.prototype.on=function(a,b,c){var d=
0,f=G.pb[3]+128,e=G.pb[4]+128,g=G.pb[5]+128,k=G.pb[6]+128,l=this.ja?-1:0,m=Math.round((this.width-this.$)/2)+l;l=Math.round((this.height-this.Z)/2)+l;var n=m+this.$-1,q=l+this.Z-1,p=this.h;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(p=this.R);a===(a&this.Ia)&&b===(b&this.Ga)&&(d=p[b][a],c||2<this.i?2<this.i&&0<d&&!this.la&&(d<=this.u?d=0:(-1!==this.O&&(0===this.$&&(m=0,n=this.width-1),0===this.Z&&(l=0,q=this.height-1)),d=-1===this.O||d!==this.nc||a>=m&&a<=n&&b>=l&&b<=q?this.s||this.D||
this.v||this.G?d-this.u:this.i+this.u-d:0)):this.Ua?-1===this.O||d!==this.nc||a>=m&&a<=n&&b>=l&&b<=q?(a=this.Ua[b][a],a===e||a===k?(d>=this.xa&&(a=f),d=G.pb.indexOf(a-128)):a===f||a===g?(d<this.xa&&(a=e),d=G.pb.indexOf(a-128)):d=0===d?0:d<=this.pe?2:1):d=0:d=d<=this.pe||d===this.nc?0:1);return d};qa.prototype.Cd=function(a){var b,c,d,f=a.length,e=a[0].length,g=this.kc,k=0;for(b=0;b<f;b+=1){var l=a[b];for(c=0;c<e;c+=1)(d=l[c])&&(k+=g[d])}return k};qa.prototype.Ym=function(a,b){var c=a.mb,d=c.length,
f=!1;if(this.ja||this.s)for(this.yb=this.Zb=!1,a=0;!f&&a<d;){var e=c[a];e.tg<b?("reverse playback"===e.action&&(this.yb=!this.yb),a+=1):e.tg>b?f=!0:"reverse playback"===e.action?f=this.Zb=!0:a+=1}};qa.prototype.nm=function(a,b){var c=this.fd.h.length,d=null;a<this.counter&&(d=this.fd.$(a),c!==this.fd.h.length&&(this.Lf-=y.$q*(c-this.fd.h.length)));d&&(this.Yk(d,b),b.Dt());for(this.view.Ri=!0;this.counter<a;)this.Ym(b,this.counter),this.s&&(1===(this.counter&1)?this.h.o.fill(0):this.R.o.fill(0)),this.view.eh&&
this.view.lC(),this.Gl(!0),b.la+=b.ic,this.cg(),this.ei(),this.view.eh&&this.view.FA(),this.pg(b),b.zn()};qa.prototype.Yk=function(a,b){var c=this.h,d=this.Ua;this.counter=a.counter;b.la=a.K;this.ac=a.B;this.Ue=a.F;if(0!==(this.counter&1)){b=this.Rd;var f=this.grid;var e=this.H;var g=this.j}else b=this.grid,f=this.Rd,e=this.j,g=this.H;b.o.fill(0);f.o.fill(0);this.h.o.fill(0);(this.s||this.D||this.v||this.G)&&this.R.o.fill(0);this.Ba.o.fill(0);a.U(b,e);a.P(c,this.wa,a.H);(this.s||this.D||this.v||this.G)&&
Array.Of(c,this.R);this.Nc?(d.o.fill(0),this.Hb.o.fill(0),a.P(d,this.m,a.v),this.wb()):(this.v&&this.wb(),Array.Of(this.m,this.wa));Array.Of(e,g);Array.Of(b,f);this.B.I=a.i.I;this.B.J=a.i.J;this.B.L=a.i.L;this.B.M=a.i.M;this.ya.I=a.h.I;this.ya.J=a.h.J;this.ya.L=a.h.L;this.ya.M=a.h.M;this.A=a.G;this.na=a.A;this.ga=a.D};qa.prototype.zi=function(a){if(0!==(this.counter&1)){var b=this.Rd;var c=this.H}else b=this.grid,c=this.j;this.dl(!1,b,c,a)};qa.prototype.Zg=function(a,b){this.Yk(this.Vj,a);this.fd.reset();
this.Lf=y.$q;b||this.zi(a)};qa.prototype.dl=function(a,b,c,d){var f=this.h;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(f=this.R);this.fd.X(b,c,f,this.m,this.Ua,this.m,this.B,this.ya,this.A,this.na,this.ga,this.counter,d.la,this.ac,this.Ue,(this.F-1>>4)+1,this.K,this,a)};qa.prototype.eq=function(a,b){this.fd.reset();this.Vj=this.fd.H((this.F-1>>4)+1,this.K,!0,this.Nc);this.dl(!0,this.grid,this.j,b);a||this.zi(b)};qa.prototype.Zp=function(){var a=this.Ua,b=this.gd;this.width=512;this.height=
256;this.Ea&&this.ba.resize(this.width,this.height);this.grid=Array.matrix(ra.ab,this.height,(this.width-1>>3)+1,0,this.T,"Life.grid",V.S);this.Rd=Array.matrix(ra.ab,this.height,(this.width-1>>3)+1,0,this.T,"Life.nextGrid",V.S);this.va=Array.qe(ra.Ya,this.grid,"Life.grid16");this.Ta=Array.qe(ra.Ya,this.Rd,"Life.nextGrid16");b&&(this.gd=Array.matrix(ra.Ya,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Mask",!1),this.Oe=Array.matrix(ra.Ya,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Alive",
!1),this.he=Array.matrix(ra.Ya,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Cells",!1));this.F=this.width>>4;this.K=this.height>>4;b&&(this.yd=Array.matrix(ra.Ya,this.K,(this.F-1>>4)+1,0,this.T,"Life.state6TileGrid",!1));this.j=Array.matrix(ra.Ya,this.K,(this.F-1>>4)+1,0,this.T,"Life.tileGrid",V.S);this.H=Array.matrix(ra.Ya,this.K,(this.F-1>>4)+1,0,this.T,"Life.nextTileGrid",V.S);this.wa=Array.matrix(ra.Ya,this.K,(this.F-1>>4)+1,0,this.T,"Life.colourTileGrid",V.S);this.m=Array.matrix(ra.Ya,
this.K,(this.F-1>>4)+1,0,this.T,"Life.colourTileHistoryGrid",V.S);this.ta=Array.matrix(ra.Ya,this.K,(this.F-1>>4)+1,0,this.T,"Life.diedGrid",V.S);this.Hd=this.T.h(ra.Ya,(this.width-1>>4)+1,"Life.blankRow16",V.S);this.ca=this.T.h(ra.Ya,this.F>>4,"Life.blankTileRow",V.S);this.ha=this.T.h(ra.ab,this.width,"Life.blankColourRow",V.S);this.U=this.T.h(ra.Ya,(this.width-1>>4)+1,"Life.columnOccupied16",V.S);this.X=this.T.h(ra.Ya,(this.height-1>>4)+1,"Life.rowOccupied16",V.S);this.cf=this.T.h(ra.Ya,(this.width-
1>>4)+1,"Life.columnAliveOccupied16",V.S);this.uf=this.T.h(ra.Ya,(this.height-1>>4)+1,"Life.rowAliveOccupied16",V.S);this.h=Array.matrix(ra.ab,this.height,this.width,0,this.T,"Life.colourGrid",V.S);this.s||this.D||this.v||this.G?(this.R=Array.matrix(ra.ab,this.height,this.width,0,this.T,"Life.nextColourGrid",V.S),this.Kf=Array.qe(ra.Ya,this.R,"Life.nextColourGrid16"),this.Pa=Array.qe(ra.mc,this.R,"Life.nextColourGrid32")):this.Pa=this.Kf=this.R=null;this.Ba=Array.matrix(ra.ab,this.height,this.width,
0,this.T,"Life.smallColourGrid",V.S);this.Ae=Array.qe(ra.Ya,this.h,"Life.colourGrid16");this.Xa=Array.qe(ra.mc,this.h,"Life.colourGrid32");a&&(this.Ua=Array.matrix(ra.ab,this.height,this.width,0,this.T,"Life.overlayGrid",V.S),this.Hb=Array.matrix(ra.ab,this.height,this.width,0,this.T,"Life.smallOverlayGrid",V.S),this.Wg=Array.qe(ra.Ya,this.Ua,"Life.overlayGrid16"),this.Bc=Array.qe(ra.mc,this.Ua,"Life.overlayGrid32"));this.Ia=this.width-1;this.Ga=this.height-1;this.fd.R((this.F-1>>4)+1,this.K,0,0,
0,0,this.Nc)};qa.prototype.Lc=function(a,b,c,d,f){var e;for(e=0;e<a;e+=1)d[e+b].set(f[e],c)};qa.prototype.fg=function(a,b,c){var d=this.height,f=this.grid,e=this.Rd,g=this.h,k=this.R,l=this.Ua,m=this.gd,n=this.Oe,q=this.he,p=this.Jh,r=this.lf,u=this.yd,t=this.j,v=this.H,A=this.wa,w=this.m,B=this.ta,C=this.Vg,O=this.Wf,M=this.K,K=0,L=0,U=0,X=0;if(this.width<this.fa||d<this.fa||!c){a&&(K=this.width>>1,this.width*=2);b&&(L=this.height>>1,this.height*=2);this.Ea&&this.ba.resize(this.width,this.height);
this.grid=Array.matrix(ra.ab,this.height,(this.width-1>>3)+1,0,this.T,"Life.grid",V.S);this.Rd=Array.matrix(ra.ab,this.height,(this.width-1>>3)+1,0,this.T,"Life.nextGrid",V.S);this.va=Array.qe(ra.Ya,this.grid,"Life.grid16");this.Ta=Array.qe(ra.Ya,this.Rd,"Life.nextGrid16");m&&(this.gd=Array.matrix(ra.Ya,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Mask",!1),this.Oe=Array.matrix(ra.Ya,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Alive",!1),this.he=Array.matrix(ra.Ya,this.height,(this.width-
1>>4)+1,0,this.T,"Life.state6Cells",!1));this.F=this.width>>4;this.K=this.height>>4;m&&(this.yd=Array.matrix(ra.Ya,this.K,(this.F-1>>4)+1,0,this.T,"Life.state6TileGrid",!1));this.j=Array.matrix(ra.Ya,this.K,(this.F-1>>4)+1,0,this.T,"Life.tileGrid",V.S);this.H=Array.matrix(ra.Ya,this.K,(this.F-1>>4)+1,0,this.T,"Life.nextTileGrid",V.S);this.wa=Array.matrix(ra.Ya,this.K,(this.F-1>>4)+1,0,this.T,"Life.colourTileGrid",V.S);this.m=Array.matrix(ra.Ya,this.K,(this.F-1>>4)+1,0,this.T,"Life.colourTileHistoryGrid",
V.S);this.ta=Array.matrix(ra.Ya,this.K,(this.F-1>>4)+1,0,this.T,"Life.diedGrid",V.S);C&&(this.Vg=Array.matrix(ra.Ya,this.K,(this.F-1>>4)+1,0,this.T,"Life.occTileMap",!1));O&&(this.Wf=Array.matrix(ra.Ya,this.K,(this.F-1>>4)+1,0,this.T,"Life.occMergedTileMap",!1));this.Hd=this.T.h(ra.Ya,(this.width-1>>4)+1,"Life.blankRow16",V.S);this.ca=this.T.h(ra.Ya,this.F>>4,"Life.blankTileRow",V.S);this.ha=this.T.h(ra.ab,this.width,"Life.blankColourRow",V.S);this.U=this.T.h(ra.Ya,(this.width-1>>4)+1,"Life.columnOccupied16",
V.S);this.X=this.T.h(ra.Ya,(this.height-1>>4)+1,"Life.rowOccupied16",V.S);this.cf=this.T.h(ra.Ya,(this.width-1>>4)+1,"Life.columnAliveOccupied16",V.S);this.uf=this.T.h(ra.Ya,(this.height-1>>4)+1,"Life.rowAliveOccupied16",V.S);p&&(this.Jh=Array.matrix(ra.ab,this.height,this.width,y.rq,this.T,"Life.countList",!1));r&&(this.lf=Array.matrix(ra.ab,this.height,this.width,0,this.T,"Life.initList",!1));this.h=Array.matrix(ra.ab,this.height,this.width,0,this.T,"Life.colourGrid",V.S);this.Ba=Array.matrix(ra.ab,
this.height,this.width,0,this.T,"Life.smallColourGrid",V.S);this.Ae=Array.qe(ra.Ya,this.h,"Life.colourGrid16");this.Xa=Array.qe(ra.mc,this.h,"Life.colourGrid32");this.s||this.D||this.v||this.G?(this.R=Array.matrix(ra.ab,this.height,this.width,0,this.T,"Life.nextColourGrid",V.S),this.Kf=Array.qe(ra.Ya,this.R,"Life.nextColourGrid16"),this.Pa=Array.qe(ra.mc,this.R,"Life.nextColourGrid32")):this.Pa=this.Kf=this.R=null;l&&(this.Ua=Array.matrix(ra.ab,this.height,this.width,0,this.T,"Life.overlayGrid",V.S),
this.Hb=Array.matrix(ra.ab,this.height,this.width,0,this.T,"Life.smallOverlayGrid",V.S),this.Wg=Array.qe(ra.Ya,this.Ua,"Life.overlayGrid16"),this.Bc=Array.qe(ra.mc,this.Ua,"Life.overlayGrid32"));this.Ia=this.width-1;this.Ga=this.height-1;c&&(this.Lc(d,L,K>>3,this.grid,f),this.Lc(d,L,K>>3,this.Rd,e),this.Lc(d,L,K,this.h,g),(this.s||this.D||this.v||this.G)&&this.Lc(d,L,K,this.R,k),this.Jh&&this.Lc(d,L,K,this.Jh,p),this.lf&&this.Lc(d,L,K,this.lf,r),l&&this.Lc(d,L,K,this.Ua,l),m&&n&&q&&(this.Lc(d,L,K>>
4,this.gd,m),this.Lc(d,L,K>>4,this.Oe,n),this.Lc(d,L,K>>4,this.he,q)),b&&(X=M>>1),a&&(U=this.j[0].length>>2),u&&this.Lc(M,X,U,this.yd,u),this.Lc(M,X,U,this.j,t),this.Lc(M,X,U,this.H,v),this.Lc(M,X,U,this.wa,A),this.Lc(M,X,U,this.m,w),this.Lc(M,X,U,this.ta,B));this.fd.R((this.F-1>>4)+1,this.K,U,X,K,L,this.Nc);this.ma+=K;this.ka+=L;this.ia&&(this.ma-=L/2|0);this.B.I+=K;this.B.L+=K;this.B.M+=L;this.B.J+=L;this.ya.I+=K;this.ya.L+=K;this.ya.M+=L;this.ya.J+=L;this.Bb.I+=K;this.Bb.L+=K;this.Bb.M+=L;this.Bb.J+=
L;this.hb.I+=K;this.hb.L+=K;this.hb.M+=L;this.hb.J+=L;if(0<this.Sb){for(a=0;a<this.Sb;a+=1)c=this.Gc[(a<<1)+1],b=(c>>16)+K,c=(c&65535)+L,this.Gc[(a<<1)+1]=b<<16|c;for(a=0;a<this.yc;a+=1)c=this.ae[(a<<1)+1],b=(c>>16)+K,c=(c&65535)+L,this.ae[(a<<1)+1]=b<<16|c}if(this.view.eh)for(a=0;a<this.view.Jd.length;a+=1)b=this.view.Jd[a],this.view.Jd[a]=[b[0]+K,b[1]+L,b[2]]}};qa.prototype.Nm=function(a,b,c){var d=this.width,f=this.height,e=!1,g=!1,k=!1;if(d<this.fa||f<this.fa)if(d<this.fa&&(b.I<=c||b.L>=d-c)&&
(e=!0),f<this.fa&&(b.J<=c||b.M>=f-c)&&(g=!0),e||g)this.fg(e,g,!0),k=!0,e&&(a.Aa+=this.width>>2,a.Ca+=this.width>>2),g&&(a.Kb+=this.height>>2,a.Mb+=this.height>>2),a.g.ia&&g&&(a.Aa-=this.height>>3,a.Ca-=this.height>>3),e&&(a.K+=this.width>>2),g&&(a.H+=this.height>>2),e&&(b.I+=this.width>>2,b.L+=this.width>>2),g&&(b.J+=this.height>>2,b.M+=this.height>>2);return k};qa.prototype.Km=function(a,b,c){for(c=c+1>>1;this.Nm(a,b,c););};qa.prototype.xn=function(){var a,b,c=this.kc;for(a=0;65536>a;a+=1){var d=
a;for(b=0;d;b+=1)d&=d-1;c[a]=b}};qa.prototype.zn=function(){var a,b,c=this.yh,d=this.xa;for(a=0;256>a;a+=1)for(b=0;8>b;b+=1)c[(a<<3)+b]=a&1<<7-b?d:0};qa.prototype.$p=function(a,b){V.S&&V.lL&&this.view.i?this.Ea||this.s||this.D||this.G||this.la?this.Uk(a,b):(this.A=xa.qK(a.o.byteOffset|0,a[0].length|0,this.B.I|0,this.B.J|0,this.B.L|0,this.B.M|0),this.ga=0):this.Uk(a,b)};qa.prototype.Uk=function(a,b){var c,d=0,f=this.kc;var e=0;var g=this.B;var k=g.I,l=g.L,m=g.M;g=g.J;this.Ea&&(e=2<this.i?this.u+this.i-
1:y.xa);if(this.Ea||this.s||this.D||this.G||this.la)for(;g<=m;g+=1)for(a=b[g],c=k;c<=l;c+=1){var n=a[c];0<n&&(this.s?d+=f[n-this.u]:this.Ea?n===e&&(d+=1):this.G?0<n&&(d+=1):d+=1)}else for(k>>=4,l>>=4;g<=m;g+=1)for(b=a[g],c=k;c<=l;c+=1)e=f[b[c]],d+=e;this.A=d;this.ga=this.na=0};qa.prototype.Wk=function(a,b){var c=this.oa,d=!1;var f=this.jc?4278190080:255;if(this.displayWidth!==a||this.displayHeight!==b)d=!0;this.displayWidth=a;this.displayHeight=b;this.Sg=this.jo=this.Rc=this.Tc=null;V.S&&this.T.K();
a=this.T.A(ra.Ut,c.canvas.width*c.canvas.height*4,"Life.imageData",V.S);this.Tc=new ImageData(a,c.canvas.width,c.canvas.height);V.S&&(this.eh=this.T.A(ra.mc,this.displayWidth,"Life.xOffsets",V.S),this.Gi=this.T.A(ra.mc,this.displayWidth,"Life.xMaxOffsets",V.S));this.Tc.data.buffer?this.Rc=new Uint32Array(this.Tc.data.buffer,this.Tc.data.byteOffset,c.canvas.width*c.canvas.height):(this.Rc=new Uint32Array(this.Tc.data.length>>2),this.jo=new Uint8Array(this.Rc.buffer));d&&(this.bm(f),this.pj(),null!==
this.bc&&(this.bc.width=this.displayWidth+G.Qb,this.bc.height=this.displayHeight+G.Qb,this.vf=this.bc.getContext("2d",{alpha:!1}),this.qh=this.vf.createImageData(this.bc.width,this.bc.height)))};qa.prototype.im=function(a,b,c){var d,f,e=this.h,g=a.width,k=a.height,l=this.Ia,m=this.Ga,n=this.ki,q=G.pb[2];for(f=0;f<k;f+=1){var p=a.ba[f];var r=e[f+c&m];for(d=0;d<g;d+=1)p[d]===q&&(r[d+b&l]=n)}};qa.prototype.Uo=function(){this.Bc=this.Wg=this.Hb=this.Ua=null};qa.prototype.Kn=function(){this.Ua=Array.matrix(ra.ab,
this.height,this.width,0,this.T,"Life.overlayGrid",V.S);this.Hb=Array.matrix(ra.ab,this.height,this.width,0,this.T,"Life.smallOverlayGrid",V.S);this.Wg=Array.qe(ra.Ya,this.Ua,"Life.overlayGrid16");this.Bc=Array.qe(ra.mc,this.Ua,"Life.overlayGrid32")};qa.prototype.Xo=function(){this.yd=this.he=this.Oe=this.gd=null};qa.prototype.Yn=function(){this.gd=Array.matrix(ra.Ya,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Mask",!1);this.Oe=Array.matrix(ra.Ya,this.height,(this.width-1>>4)+1,0,this.T,
"Life.state6Alive",!1);this.he=Array.matrix(ra.Ya,this.height,(this.width-1>>4)+1,0,this.T,"Life.state6Cells",!1);this.yd=Array.matrix(ra.Ya,this.K,(this.F-1>>4)+1,0,this.T,"Life.state6TileGrid",!1)};qa.prototype.wb=function(){var a,b,c=this.Ia,d=this.Ga,f=this.yd,e=this.v?6:G.pb[6]+128,g=this.v?this.h:this.Ua,k=this.Ci,l=this.width,m=-1,n=this.height,q=-1;if(this.P)for(this.gd.o.fill(0),this.he.o.fill(0),this.Oe.o.fill(0),this.yd.o.fill(0),b=0;b<this.height;b+=1){var p=g[b];if(0<b){var r=this.gd[b-
1&d];var u=f[(b-1&d)>>4]}else u=r=null;var t=this.gd[b&d];var v=f[(b&d)>>4];var A=this.he[b&d];if(b<this.height-1){var w=this.gd[b+1&d];var B=f[(b+1&d)>>4]}else B=w=null;for(a=0;a<this.width;a+=1)if(p[a]===e){a<l&&(l=a);a>m&&(m=a);b<n&&(n=b);b>q&&(q=b);var C=a&c;A[C>>4]|=1<<(~C&15);r&&(r[C>>4]|=1<<(~C&15),u[C>>8]|=1<<(~(C>>4)&15));t[C>>4]|=1<<(~C&15);v[C>>8]|=1<<(~(C>>4)&15);w&&(w[C>>4]|=1<<(~C&15),B[C>>8]|=1<<(~(C>>4)&15));0<a&&(C=a-1&c,!this.Ed&&r&&(r[C>>4]|=1<<(~C&15),u[C>>8]|=1<<(~(C>>4)&15)),
t[C>>4]|=1<<(~C&15),v[C>>8]|=1<<(~(C>>4)&15),this.ia||this.Ed||!w||(w[C>>4]|=1<<(~C&15),B[C>>8]|=1<<(~(C>>4)&15)));a<this.width-1&&(C=a+1&c,this.ia||this.Ed||!r||(r[C>>4]|=1<<(~C&15),u[C>>8]|=1<<(~(C>>4)&15)),t[C>>4]|=1<<(~C&15),v[C>>8]|=1<<(~(C>>4)&15),!this.Ed&&w&&(w[C>>4]|=1<<(~C&15),B[C>>8]|=1<<(~(C>>4)&15)))}}else for(b=0;b<this.height;b+=1)for(p=g[b],a=0;a<this.width;a+=1)6===p[a]&&(a<l&&(l=a),a>m&&(m=a),b<n&&(n=b),b>q&&(q=b));k.I=l;k.J=n;k.L=m;k.M=q};qa.prototype.ng=function(a){if(!(this.s||
this.D||this.Ea))switch(this.Wa){case y.gf:V.S&&V.kL&&this.view.i?xa.pK(a.o.byteOffset|0,a[0].length|0,this.h.o.byteOffset|0,this.h[0].length|0,y.xa|0,this.B.I|0,this.B.J|0,this.B.L|0,this.B.M|0):this.Ij(a);break;case y.hf:this.Yp(a);break;case y.Uf:this.Ij(a);this.ek();break;case y.Hf:this.Ij(a)}};qa.prototype.Yp=function(a){var b,c=this.h;var d=this.B;var f=d.I>>4,e=d.L>>4,g=d.M;for(b=d.J;b<=g;b+=1){var k=a[b];var l=c[b];var m=f<<4;for(d=f;d<=e;d+=1){var n=k[d]>>8;l[m]=n&128?(b+m&127)+64:0;m+=1;
l[m]=n&64?(b+m&127)+64:0;m+=1;l[m]=n&32?(b+m&127)+64:0;m+=1;l[m]=n&16?(b+m&127)+64:0;m+=1;l[m]=n&8?(b+m&127)+64:0;m+=1;l[m]=n&4?(b+m&127)+64:0;m+=1;l[m]=n&2?(b+m&127)+64:0;m+=1;l[m]=n&1?(b+m&127)+64:0;m+=1;n=k[d]&255;l[m]=n&128?(b+m&127)+64:0;m+=1;l[m]=n&64?(b+m&127)+64:0;m+=1;l[m]=n&32?(b+m&127)+64:0;m+=1;l[m]=n&16?(b+m&127)+64:0;m+=1;l[m]=n&8?(b+m&127)+64:0;m+=1;l[m]=n&4?(b+m&127)+64:0;m+=1;l[m]=n&2?(b+m&127)+64:0;m+=1;l[m]=n&1?(b+m&127)+64:0;m+=1}}};qa.prototype.Ij=function(a){var b,c,d=this.Xa,
f=new Uint32Array(this.yh.buffer,this.yh.byteOffset,this.yh.length/4);var e=this.B;var g=e.I>>4,k=e.L>>4,l=e.M;e=e.J;if(!(this.s||this.D||this.Ea))for(b=e;b<=l;b+=1){var m=a[b];var n=d[b];var q=g<<2;for(e=g;e<=k;e+=1){if(c=m[e]){var p=c>>8<<1;n[q]=f[p];q+=1;n[q]=f[p+1];q+=1;p=(c&255)<<1;n[q]=f[p];q+=1;n[q]=f[p+1]}else n[q]=0,q+=1,n[q]=0,q+=1,n[q]=0,q+=1,n[q]=0;q+=1}}};qa.prototype.Mc=function(a){var b=[],c,d;for(d=0;7>d;d+=1){var f=[];for(c=0;7>c;c+=1)f[c]=0;b[d]=f}for(d=0;3>d;d+=1)for(c=0;3>c;c+=
1)b[d+2][c+2]=a[d][c];return b};qa.prototype.yn=function(){this.Vi=this.Mc(y.PH);this.Wi=this.Mc(y.QH);this.Xi=this.Mc(y.RH);this.Yi=this.Mc(y.SH);this.Ri=this.Mc(y.LH);this.Si=this.Mc(y.MH);this.Ti=this.Mc(y.NH);this.Ui=this.Mc(y.OH);this.cj=this.Mc(y.XH);this.Ai=this.Mc(y.YH);this.dj=this.Mc(y.ZH);this.ej=this.Mc(y.$H);this.Zi=this.Mc(y.TH);this.$i=this.Mc(y.UH);this.aj=this.Mc(y.VH);this.bj=this.Mc(y.WH)};qa.prototype.Bn=function(a,b,c){var d=this.Hd,f=this.ha,e=this.ca;this.Nc=!1;this.Ia=this.width-
1;this.Ga=this.height-1;this.B=new Va(0,0,this.width-1,this.height-1);this.Bb=new Va(0,0,this.width-1,this.height-1);this.ya=new Va(0,0,this.width-1,this.height-1);this.hj=new Va(0,0,this.width-1,this.height-1);this.Ci=new Va(this.width,this.height,-1,-1);this.hb=new Va(0,0,this.width-1,this.height-1);this.oa=a;this.zn();this.Wk(b,c);d.fill(0);f.fill(0);e.fill(0);this.yn()};qa.prototype.Gn=function(){var a=0;this.pa[a]=new Sa("Mono",new Aa(new T(0,0,0),new T(0,0,0)),new Aa(new T(255,255,255),new T(255,
255,255)),new T(0,0,0),new T(255,255,255),new Aa(new T(64,64,64),new T(-1,-1,-1)),new Aa(new T(0,0,0),new T(0,0,0)),new T(0,0,0),[new T(64,64,64),new T(64,64,64),new T(128,128,128),new T(64,64,64),new T(128,128,128),new T(128,128,128),new T(192,192,192),new T(64,64,64),new T(128,128,128),new T(128,128,128),new T(192,192,192),new T(128,128,128),new T(192,192,192),new T(192,192,192),new T(255,255,255)]);a+=1;this.pa[a]=new Sa("Blues",new Aa(new T(0,0,47),new T(0,0,255)),new Aa(new T(0,255,255),new T(255,
255,255)),new T(0,0,0),new T(0,255,255),new Aa(new T(0,0,255),new T(-1,-1,-1)),new Aa(new T(0,0,47),new T(0,0,128)),new T(0,0,0),[new T(0,128,255),new T(0,255,128),new T(0,192,192),new T(128,0,255),new T(0,0,255),new T(96,128,192),new T(128,255,224),new T(255,0,128),new T(96,96,192),new T(128,128,255),new T(128,224,255),new T(192,0,192),new T(255,128,224),new T(224,128,225),new T(224,224,255)]);a+=1;this.pa[a]=new Sa("Fire",new Aa(new T(32,0,0),new T(160,0,0)),new Aa(new T(255,144,0),new T(255,255,
0)),new T(0,0,0),new T(255,144,0),new Aa(new T(240,0,0),new T(-1,-1,-1)),new Aa(new T(32,0,0),new T(160,0,0)),new T(0,0,0),[new T(128,0,0),new T(128,0,48),new T(192,0,48),new T(128,48,48),new T(192,64,0),new T(192,48,64),new T(224,48,64),new T(128,48,0),new T(192,48,0),new T(192,0,64),new T(224,48,64),new T(192,64,48),new T(224,64,48),new T(224,64,64),new T(255,192,0)]);a+=1;this.pa[a]=new Sa("Poison",new Aa(new T(0,24,0),new T(0,128,0)),new Aa(new T(0,255,255),new T(255,255,255)),new T(0,0,0),new T(0,
255,255),new Aa(new T(0,192,0),new T(-1,-1,-1)),new Aa(new T(0,24,0),new T(0,128,0)),new T(0,0,0),[new T(0,128,255),new T(0,255,128),new T(0,192,192),new T(64,0,255),new T(0,0,255),new T(48,128,192),new T(64,255,224),new T(0,128,128),new T(48,128,192),new T(64,128,255),new T(64,224,255),new T(0,96,192),new T(64,128,224),new T(56,128,255),new T(224,255,224)]);a+=1;this.pa[a]=new Sa("Yellow",new Aa(new T(0,47,0),new T(128,0,128)),new Aa(new T(255,255,0),new T(255,255,255)),new T(0,32,128),new T(255,
255,0),new Aa(new T(192,64,64),new T(-1,-1,-1)),new Aa(new T(0,47,0),new T(128,0,128)),new T(0,32,128),[new T(0,150,0),new T(50,100,0),new T(50,200,0),new T(150,0,0),new T(75,25,0),new T(200,100,0),new T(200,225,0),new T(100,50,0),new T(100,200,0),new T(25,75,0),new T(150,255,0),new T(200,50,0),new T(225,200,0),new T(255,225,0),new T(255,255,0)]);a+=1;this.pa[a]=new Sa("Gray",new Aa(new T(16,16,16),new T(104,104,104)),new Aa(new T(176,176,176),new T(240,240,240)),new T(0,0,0),new T(240,240,240),new Aa(new T(160,
160,160),new T(-1,-1,-1)),new Aa(new T(16,16,16),new T(104,104,104)),new T(0,0,0),[new T(128,128,128),new T(128,128,128),new T(144,144,144),new T(128,128,128),new T(144,144,144),new T(144,144,144),new T(160,160,160),new T(128,128,128),new T(144,144,144),new T(144,144,144),new T(160,160,160),new T(144,144,144),new T(160,160,160),new T(160,160,160),new T(192,192,192)]);a+=1;this.pa[a]=new Sa("Inverse",new Aa(new T(255,255,255),new T(255,255,255)),new Aa(new T(0,0,0),new T(0,0,0)),new T(255,255,255),
new T(0,0,0),new Aa(new T(192,192,192),new T(-1,-1,-1)),new Aa(new T(255,255,255),new T(255,255,255)),new T(255,255,255),[new T(192,192,192),new T(192,192,192),new T(128,128,128),new T(192,192,192),new T(128,128,128),new T(128,128,128),new T(64,64,64),new T(192,192,192),new T(128,128,128),new T(128,128,128),new T(64,64,64),new T(128,128,128),new T(64,64,64),new T(64,64,64),new T(0,0,0)]);a+=1;this.pa[a]=new Sa("Day",new Aa(new T(240,240,240),new T(0,255,255)),new Aa(new T(0,0,255),new T(0,0,0)),new T(255,
255,255),new T(0,0,255),new Aa(new T(0,255,255),new T(-1,-1,-1)),new Aa(new T(240,240,240),new T(0,192,192)),new T(255,255,255),[new T(192,224,255),new T(192,255,224),new T(192,0,192),new T(224,192,255),new T(128,128,255),new T(96,96,192),new T(0,128,32),new T(255,192,224),new T(96,128,192),new T(0,0,255),new T(0,32,128),new T(0,192,192),new T(128,0,32),new T(32,0,128),new T(0,0,32)]);a+=1;this.pa[a]=new Sa("Occupied",new Aa(new T(240,240,240),new T(240,240,240)),new Aa(new T(240,240,240),new T(240,
240,240)),new T(0,0,0),new T(240,240,240),new Aa(new T(240,240,240),new T(240,240,240)),new Aa(new T(240,240,240),new T(240,240,240)),new T(0,0,0),[new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240),new T(240,240,240)]);a+=1;this.pa[a]=new Sa("Red",new Aa(new T(160,0,0),new T(160,0,0)),
new Aa(new T(240,240,240),new T(240,240,240)),new T(0,0,0),new T(255,255,255),new Aa(new T(160,160,160),new T(160,160,160)),new Aa(new T(160,0,0),new T(160,0,0)),new T(0,0,0),[new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255),new T(255,255,255)]);a+=1;this.pa[a]=new Sa("LifeHistory",new Aa(new T(0,
0,96),new T(0,0,160)),new Aa(new T(0,240,0),new T(16,255,16)),new T(0,0,0),new T(16,255,16),new Aa(new T(0,128,160),new T(-1,-1,-1)),new Aa(new T(0,0,96),new T(0,0,160)),new T(0,0,0),[new T(255,0,0),new T(192,192,0),new T(224,144,0),new T(0,192,192),new T(192,144,144),new T(144,192,144),new T(255,224,192),new T(0,0,255),new T(192,0,192),new T(144,144,192),new T(255,192,255),new T(0,144,224),new T(128,96,224),new T(144,192,224),new T(224,224,224)]);a+=1;this.pa[a]=new Sa("Generations",new Aa(new T(64,
0,0),new T(255,0,0)),new Aa(new T(255,255,0),new T(255,255,255)),new T(0,0,0),new T(255,255,0),new Aa(new T(255,0,0),new T(-1,-1,-1)),new Aa(new T(64,0,0),new T(128,0,0)),new T(0,0,0),[new T(255,128,0),new T(224,128,64),new T(192,192,0),new T(255,16,32),new T(255,0,0),new T(192,128,48),new T(255,224,64),new T(128,32,64),new T(192,96,48),new T(255,128,64),new T(255,224,64),new T(192,24,48),new T(224,128,128),new T(255,218,112),new T(255,255,224)]);a+=1;this.pa[a]=new Sa("Golly",new Aa(new T(48,48,
48),new T(48,48,48)),new Aa(new T(255,255,255),new T(255,255,255)),new T(48,48,48),new T(255,0,0),new Aa(new T(255,255,0),new T(-1,-1,-1)),new Aa(new T(48,48,48),new T(48,48,48)),new T(48,48,48),[new T(0,255,127),new T(127,0,255),new T(148,148,148),new T(128,255,9),new T(255,0,128),new T(0,128,255),new T(1,159,0),new T(159,0,1),new T(255,254,96),new T(0,1,159),new T(96,255,254),new T(254,96,255),new T(126,125,21),new T(21,126,125),new T(125,21,126)]);this.pa[a].K(10,new T(80,80,80),new T(112,112,
112));a+=1;this.pa[a]=new Sa("MCell",new Aa(new T(0,0,0),new T(0,0,0)),new Aa(new T(255,255,0),new T(255,255,0)),new T(0,0,0),new T(255,255,0),new Aa(new T(0,255,0),new T(-1,-1,-1)),new Aa(new T(0,0,0),new T(0,0,0)),new T(0,0,0),[new T(255,255,0),new T(255,219,0),new T(255,183,0),new T(255,147,0),new T(255,111,0),new T(255,75,0),new T(255,39,0),new T(255,0,0),new T(240,0,0),new T(225,0,0),new T(210,0,0),new T(195,0,0),new T(180,0,0),new T(165,0,0),new T(150,0,0)]);this.pa[a].K(5,new T(64,0,0),new T(99,
3,1));a+=1;this.pa[a]=new Sa("Catagolue",new Aa(new T(160,221,204),new T(160,221,204)),new Aa(new T(0,0,0),new T(0,0,0)),new T(192,255,238),new T(0,0,0),new Aa(new T(96,192,139),new T(2,129,2)),new Aa(new T(160,221,204),new T(160,221,204)),new T(192,255,238),[new T(0,0,0),new T(0,128,0),new T(0,64,0),new T(255,0,0),new T(128,0,0),new T(128,64,0),new T(85,43,0),new T(0,0,255),new T(0,0,128),new T(0,64,128),new T(0,43,85),new T(128,0,128),new T(85,0,85),new T(85,43,85),new T(64,32,64)]);this.pa[a].K(0,
new T(160,221,204),new T(160,221,204));a+=1;this.pa[a]=new Sa("Caterer",new Aa(new T(54,57,62),new T(54,57,62)),new Aa(new T(255,255,255),new T(255,255,255)),new T(54,57,62),new T(255,170,0),new Aa(new T(255,85,0),new T(-1,-1,-1)),new Aa(new T(54,57,62),new T(54,57,62)),new T(54,57,62),[new T(48,93,148),new T(58,73,148),new T(144,137,188),new T(78,72,128),new T(134,137,218),new T(124,147,228),new T(130,151,242),new T(78,93,118),new T(114,107,218),new T(114,137,238),new T(120,171,242),new T(84,137,
188),new T(150,171,212),new T(150,151,222),new T(186,205,255)]);this.pa[a].K(0,new T(0,0,0),new T(0,0,0));a+=1;this.pa[a]=new Sa("Life32",new Aa(new T(255,255,255),new T(255,255,255)),new Aa(new T(0,0,128),new T(0,0,128)),new T(255,255,255),new T(0,0,128),new Aa(new T(0,0,64),new T(-1,-1,-1)),new Aa(new T(255,255,255),new T(255,255,255)),new T(255,255,255),[new T(255,128,128),new T(192,192,128),new T(224,144,96),new T(128,192,192),new T(192,112,112),new T(144,192,144),new T(128,96,64),new T(128,128,
255),new T(192,96,192),new T(112,112,192),new T(128,64,128),new T(96,144,224),new T(64,32,160),new T(32,96,128),new T(32,32,32)]);this.pa[a].K(5,new T(192,192,192),new T(128,128,128));a+=1;this.pa[a]=new Sa("Margolus",new Aa(new T(0,0,47),new T(0,0,128)),new Aa(new T(255,255,0),new T(255,255,255)),new T(0,0,0),new T(255,255,0),new Aa(new T(64,64,128),new T(-1,-1,-1)),new Aa(new T(0,0,47),new T(0,0,128)),new T(0,0,0),[new T(255,128,0),new T(224,128,64),new T(192,192,0),new T(255,16,32),new T(255,0,
0),new T(192,128,48),new T(224,255,64),new T(128,32,64),new T(192,96,48),new T(255,128,64),new T(255,224,64),new T(192,24,48),new T(224,128,128),new T(255,128,112),new T(255,255,224)]);this.pa[a].K(2,new T(64,64,128),new T(32,32,255));a+=1;this.pa[a]=new Sa("PCA",new Aa(new T(24,24,24),new T(64,64,64)),new Aa(new T(176,176,176),new T(240,240,240)),new T(0,0,0),new T(240,240,240),new Aa(new T(160,160,160),new T(-1,-1,-1)),new Aa(new T(24,24,24),new T(64,64,64)),new T(0,0,0),[new T(255,0,0),new T(0,
255,0),new T(128,128,0),new T(16,16,255),new T(128,0,128),new T(0,128,128),new T(96,96,96),new T(255,255,0),new T(255,128,0),new T(128,255,0),new T(170,170,0),new T(144,144,144),new T(170,85,85),new T(85,128,43),new T(128,128,64)]);a+=1;this.pa[a]=new Sa("Book",new Aa(new T(255,220,192),new T(192,220,255)),new Aa(new T(0,0,0),new T(0,0,0)),new T(255,255,255),new T(0,0,0),new Aa(new T(128,128,128),new T(48,48,48)),new Aa(new T(255,220,192),new T(192,220,255)),new T(255,255,255),[new T(255,128,128),
new T(192,192,128),new T(224,144,96),new T(128,192,192),new T(192,112,112),new T(144,192,144),new T(128,96,64),new T(128,128,255),new T(192,96,192),new T(112,112,192),new T(128,64,128),new T(96,144,224),new T(64,32,160),new T(32,96,128),new T(32,32,32)]);this.pa[a].K(0,new T(192,192,192),new T(209,209,209));this.pa[a+1]=new Sa(D.sp,new Aa(new T(0,0,0),new T(0,0,0)),new Aa(new T(0,0,0),new T(0,0,0)),new T(0,0,0),new T(0,0,0),new Aa(new T(0,0,0),new T(0,0,0)),new Aa(new T(0,0,0),new T(0,0,0)),new T(0,
0,0),[new T(255,0,0),new T(0,255,0),new T(128,128,0),new T(16,16,255),new T(128,0,128),new T(0,128,128),new T(96,96,96),new T(255,255,0),new T(255,128,0),new T(128,255,0),new T(170,170,0),new T(144,144,144),new T(170,85,85),new T(85,128,43),new T(128,128,64)]);this.Tb=this.pa.length-1;this.me=new Aa(new T(0,0,0),new T(0,0,0));this.vd=new Aa(new T(0,0,0),new T(0,0,0));this.Pe=new T(0,0,0);this.Xf=new T(0,0,0);this.Ce=new Aa(new T(0,0,0),new T(0,0,0));this.ef=new Aa(new T(0,0,0),new T(0,0,0));this.sg=
new T(0,0,0);this.mf=[new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0)];this.Fd=new Aa(new T(0,0,0),new T(0,0,0));this.ld=new Aa(new T(0,0,0),new T(0,0,0));this.ie=new T(0,0,0);this.xf=new T(0,0,0);this.de=new Aa(new T(0,0,0),new T(0,0,0));this.Be=new Aa(new T(0,0,0),new T(0,0,0));this.Nf=new T(0,0,0);this.Td=[new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,
0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0),new T(0,0,0)]};qa.prototype.Mj=function(a,b,c){var d=this.pa[a],f;this.qb=a;this.zh();this.me.set(this.Fd);this.vd.set(this.ld);this.Pe.set(this.ie);this.Xf.set(this.xf);this.ef.set(this.Be);this.Ce.set(this.de);this.sg.set(this.Nf);for(f=0;f<this.Td.length;f+=1)this.mf[f]=this.Td[f];12===a&&this.Ea?this.Fd.set(this.pa[11].i):this.Fd.set(d.i);this.ld.set(d.h);this.ie.set(d.v);
this.Nf.set(d.F);for(f=0;f<this.Td.length;f+=1)this.Td[f]=d.D[f];this.Be.set(d.j);12===a&&this.Ea&&(d=this.pa[11]);this.xf.set(d.A);this.de.set(d.m);this.ce=b;this.Ob=d.s;this.Dc=d.u;this.lb=a!==this.Tb&&this.ja&&0!==d.B?2:d.B;this.jc?(this.md=-16777216|(this.Ob&255)<<16|(this.Ob>>8&255)<<8|this.Ob>>16,this.xd=-16777216|(this.Dc&255)<<16|(this.Dc>>8&255)<<8|this.Dc>>16):(this.md=this.Ob>>16<<24|(this.Ob>>8&255)<<16|(this.Ob&255)<<8|255,this.xd=this.Dc>>16<<24|(this.Dc>>8&255)<<16|(this.Dc&255)<<8|
255);this.P&&(a===this.Tb?this.Fi(c.Cf,c.aa):this.Fi(c.Cf,null));c.In()};qa.prototype.zh=function(){var a=this.Wa;a!==y.gf||this.pa[this.qb].H(this.P,this.view)||this.Ea||(a=y.Hf);switch(a){case y.gf:this.al();break;case y.hf:this.En();break;case y.Uf:this.al();break;case y.Hf:this.Cn()}};qa.prototype.Cn=function(){var a=this.bf;a[0]=0;a[1]=16384;a[2]=64;a[3]=16448};qa.prototype.En=function(){var a=this.bf,b;for(b=0;512>b;b+=1){var c=b&128;var d=b&256;var f=b&127;var e=0;0!==c&&(e=(f+1&127)+64<<8);
0!==d&&(e|=(f&127)+64);a[b]=e}};qa.prototype.al=function(){var a=this.bf,b=this.ck,c=this.Re,d=this.xa,f=this.ki,e=this.pe,g,k=new Uint8Array(256);k[0]=0;k[c+1]=d;for(g=1;g<c+1;g+=1)k[g]=Math.min(Math.max(g-1,f),e),k[g+c+1]=Math.max(Math.min(g+1,c),d);if(0===this.u)for(g=d;g<=c;g+=1)k[g]=0;else this.u<e&&(k[e-this.u]=1);for(g=0;65536>g;g+=1)a[g]=k[g>>8]<<8|k[g&255];for(g=0;131072>g;g+=1)c=g&65407|(g&65536)>>9,b[g]=a[c]};qa.prototype.nr=function(){var a;for(a=0;a<this.pa.length;a+=1){var b=this.pa[a];
if(b.G)if(2>=this.i)b.m.i.set(b.A);else{var c=1/(this.i-2);b.m.i.h=b.m.h.h*c+b.A.h*(1-c)|0;b.m.i.j=b.m.h.j*c+b.A.j*(1-c)|0;b.m.i.i=b.m.h.i*c+b.A.i*(1-c)|0}}};qa.prototype.Di=function(){var a;var b=(this.ce-1)/this.af;if(!this.la)if(this.G)for(a=0;a<y.Ar.length;a+=1){if(this.sa[a+this.u]=y.Ar[a][0],this.ra[a+this.u]=y.Ar[a][1],this.qa[a+this.u]=y.Ar[a][2],this.tc&&this.tc.length>=a){var c=this.tc[a];-1!==c&&(this.sa[a+this.u]=c>>16,this.ra[a+this.u]=c>>8&255,this.qa[a+this.u]=c&255)}}else if(this.v)for(a=
0;a<y.Br.length;a+=1)this.sa[a+this.u]=y.Br[a][0],this.ra[a+this.u]=y.Br[a][1],this.qa[a+this.u]=y.Br[a][2],this.tc&&this.tc.length>=a&&(c=this.tc[a],-1!==c&&(this.sa[a+this.u]=c>>16,this.ra[a+this.u]=c>>8&255,this.qa[a+this.u]=c&255));else if(2<this.i||this.D){a=0;this.D?(this.sa[a]=this.Qc[a]>>16,this.ra[a]=this.Qc[a]>>8&255,this.qa[a]=this.Qc[a]&255):(this.sa[a]=Math.round(this.sg.h*b+this.Nf.h*(1-b)),this.ra[a]=Math.round(this.sg.j*b+this.Nf.j*(1-b)),this.qa[a]=Math.round(this.sg.i*b+this.Nf.i*
(1-b)));for(a=1;a<this.i-1;a+=1){c=3>=this.i?0:(a-1)/(this.i-3);if(this.s)this.sa[a+this.u]=Math.round(this.mf[a-1].h*b+this.Td[a-1].h*(1-b)),this.ra[a+this.u]=Math.round(this.mf[a-1].j*b+this.Td[a-1].j*(1-b)),this.qa[a+this.u]=Math.round(this.mf[a-1].i*b+this.Td[a-1].i*(1-b));else if(this.D)this.sa[a]=this.Qc[a]>>16,this.ra[a]=this.Qc[a]>>8&255,this.qa[a]=this.Qc[a]&255;else{var d=Math.round(this.Ce.i.h*c+this.Ce.h.h*(1-c));var f=Math.round(this.de.i.h*c+this.de.h.h*(1-c));this.sa[a+this.u]=Math.round(d*
b+f*(1-b));d=Math.round(this.Ce.i.j*c+this.Ce.h.j*(1-c));f=Math.round(this.de.i.j*c+this.de.h.j*(1-c));this.ra[a+this.u]=Math.round(d*b+f*(1-b));d=Math.round(this.Ce.i.i*c+this.Ce.h.i*(1-c));f=Math.round(this.de.i.i*c+this.de.h.i*(1-c));this.qa[a+this.u]=Math.round(d*b+f*(1-b))}this.tc&&this.tc.length>a&&this.qb===this.Tb&&(c=this.s||this.D?this.tc[a]:this.tc[this.i-a],-1!==c&&(this.sa[a+this.u]=c>>16,this.ra[a+this.u]=c>>8&255,this.qa[a+this.u]=c&255))}a=this.i-1;this.s?(this.sa[a+this.u]=Math.round(this.mf[a-
1].h*b+this.Td[a-1].h*(1-b)),this.ra[a+this.u]=Math.round(this.mf[a-1].j*b+this.Td[a-1].j*(1-b)),this.qa[a+this.u]=Math.round(this.mf[a-1].i*b+this.Td[a-1].i*(1-b))):this.D?(this.sa[a]=this.Qc[a]>>16,this.ra[a]=this.Qc[a]>>8&255,this.qa[a]=this.Qc[a]&255):(this.sa[a+this.u]=Math.round(this.Xf.h*b+this.xf.h*(1-b)),this.ra[a+this.u]=Math.round(this.Xf.j*b+this.xf.j*(1-b)),this.qa[a+this.u]=Math.round(this.Xf.i*b+this.xf.i*(1-b)));this.tc&&this.tc.length>a&&this.qb===this.Tb&&(c=this.s||this.D?this.tc[a]:
this.tc[this.i-a],-1!==c&&(this.sa[a+this.u]=c>>16,this.ra[a+this.u]=c>>8&255,this.qa[a+this.u]=c&255));for(a=0;a<this.u;a+=1)c=1<this.u?1-a/(this.u-1):1,d=Math.round(this.ef.h.h*c+this.ef.i.h*(1-c)),f=Math.round(this.Be.h.h*c+this.Be.i.h*(1-c)),this.sa[a+1]=Math.round(d*b+f*(1-b)),d=Math.round(this.ef.h.j*c+this.ef.i.j*(1-c)),f=Math.round(this.Be.h.j*c+this.Be.i.j*(1-c)),this.ra[a+1]=Math.round(d*b+f*(1-b)),d=Math.round(this.ef.h.i*c+this.ef.i.i*(1-c)),f=Math.round(this.Be.h.i*c+this.Be.i.i*(1-c)),
this.qa[a+1]=Math.round(d*b+f*(1-b));this.tc&&0<this.tc.length&&this.qb===this.Tb&&(c=this.tc[0],-1!==c&&(this.sa[0]=c>>16,this.ra[0]=c>>8&255,this.qa[0]=c&255))}else{a=0;this.sa[a]=Math.round(this.Pe.h*b+this.ie.h*(1-b));this.ra[a]=Math.round(this.Pe.j*b+this.ie.j*(1-b));this.qa[a]=Math.round(this.Pe.i*b+this.ie.i*(1-b));if(0===this.u)for(a=1;a<=this.pe;a+=1)this.sa[a]=Math.round(this.Pe.h*b+this.ie.h*(1-b)),this.ra[a]=Math.round(this.Pe.j*b+this.ie.j*(1-b)),this.qa[a]=Math.round(this.Pe.i*b+this.ie.i*
(1-b));else{var e=this.pe-this.u+1;for(a=1;a<e;a+=1)this.sa[a]=Math.round(this.vd.h.h*b+this.ld.h.h*(1-b)),this.ra[a]=Math.round(this.vd.h.j*b+this.ld.h.j*(1-b)),this.qa[a]=Math.round(this.vd.h.i*b+this.ld.h.i*(1-b));for(a=e;a<=this.pe;a+=1)c=this.pe===e?1:1-(a-e)/(this.pe-e),d=Math.round(this.vd.h.h*c+this.vd.i.h*(1-c)),f=Math.round(this.ld.h.h*c+this.ld.i.h*(1-c)),this.sa[a]=Math.round(d*b+f*(1-b)),d=Math.round(this.vd.h.j*c+this.vd.i.j*(1-c)),f=Math.round(this.ld.h.j*c+this.ld.i.j*(1-c)),this.ra[a]=
Math.round(d*b+f*(1-b)),d=Math.round(this.vd.h.i*c+this.vd.i.i*(1-c)),f=Math.round(this.ld.h.i*c+this.ld.i.i*(1-c)),this.qa[a]=Math.round(d*b+f*(1-b))}for(a=this.xa;a<=this.Re;a+=1)c=0===this.rh?1:a<this.xa+this.rh?1-(a-this.xa)/this.rh:0,d=Math.round(this.me.h.h*c+this.me.i.h*(1-c)),f=Math.round(this.Fd.h.h*c+this.Fd.i.h*(1-c)),this.sa[a]=Math.round(d*b+f*(1-b)),d=Math.round(this.me.h.j*c+this.me.i.j*(1-c)),f=Math.round(this.Fd.h.j*c+this.Fd.i.j*(1-c)),this.ra[a]=Math.round(d*b+f*(1-b)),d=Math.round(this.me.h.i*
c+this.me.i.i*(1-c)),f=Math.round(this.Fd.h.i*c+this.Fd.i.i*(1-c)),this.qa[a]=Math.round(d*b+f*(1-b))}};qa.prototype.cl=function(a,b){var c=this.sa,d=this.ra,f=this.qa,e;for(e=0;e<a.length;e+=1){var g=b&&-1!==b[e]?b[e]:a[e];c[e]=g>>16;d[e]=g>>8&255;f[e]=g&255}this.ce=0};qa.prototype.Fi=function(a,b){var c=this.sa,d=this.ra,f=this.qa,e=G.pb,g;for(g=0;g<a.length;g+=1)b&&-1!==b[g]?(c[128+e[g]]=b[g]>>16,d[128+e[g]]=b[g]>>8&255,f[128+e[g]]=b[g]&255):(c[128+e[g]]=a[g]>>16,d[128+e[g]]=a[g]>>8&255,f[128+
e[g]]=a[g]&255)};qa.prototype.kb=function(a){this.$a.fill(4294967295);switch(this.Wa){case y.gf:this.wk(a);break;case y.hf:this.Sn(a);break;case y.Uf:this.Qn(a);break;case y.Hf:this.wk(a)}};qa.prototype.Sn=function(a){var b=this.$a,c,d=255,f=15,e=15,g=0,k=0,l=[[0,1,0],[-1,0,0],[0,0,1],[0,-1,0],[1,0,0],[0,0,-1]],m=this.sa,n=this.ra,q=this.qa,p=this.Xe,r=this.ia&&!this.Fa||this.aa&&!this.Fa,u=this.Ob,t=this.Dc;for(c=1;240>=c;c+=1)b[c]=this.jc?-16777216|e*a<<16|f*a<<8|d*a:d*a<<24|f*a<<16|e*a<<8|255,
d+=6*l[k][0],f+=6*l[k][1],e+=6*l[k][2],g+=1,40===g&&(g=0,k+=1);for(c=0;128>c;c+=1)g=240*(c+1)/128|0,b[c]=b[g];for(c=127;0<=c;--c)b[c+64]=b[c],r&&(this.jc?(d=b[c]&255,f=b[c]>>8&255,e=b[c]>>16&255):(d=b[c]>>24,f=b[c]>>16&255,e=b[c]>>8&255),p[c+64]="#"+(16777216+((d<<16)+(f<<8)+e)).toString(16).substring(1));b[0]=this.jc?-16777216|q[0]*a<<16|n[0]*a<<8|m[0]*a:m[0]*a<<24|n[0]*a<<16|q[0]*a<<8|255;this.jc?(this.md=-16777216|(u&255)<<16|(u>>8&255)<<8|u>>16,this.xd=-16777216|(t&255)<<16|(t>>8&255)<<8|t>>16):
(this.md=u>>16<<24|(u>>8&255)<<16|(u&255)<<8|255,this.xd=t>>16<<24|(t>>8&255)<<16|(t&255)<<8|255);-1!==this.O&&(c=this.nc,b[c]=this.jc?-16777216|q[c]*a<<16|n[c]*a<<8|m[c]*a:m[c]*a<<24|n[c]*a<<16|q[c]*a<<8|255,r&&(p[c]="#"+(16777216+((m[c]<<16)+(n[c]<<8)+q[c])).toString(16).substring(1)));p[256]=this.wg};qa.prototype.Qn=function(a){var b=this.$a,c=255,d=15,f=15,e=[],g=[[0,1,0],[-1,0,0],[0,0,1],[0,-1,0],[1,0,0],[0,0,-1]];var k=this.sa;var l=this.ra;var m=this.qa,n=this.Xe,q=this.ia&&!this.Fa||this.aa&&
!this.Fa;var p=this.Ob;var r=this.Dc;b[0]=this.jc?-16777216|m[0]*a<<16|l[0]*a<<8|k[0]*a:k[0]*a<<24|l[0]*a<<16|m[0]*a<<8|255;this.jc?(this.md=-16777216|(p&255)<<16|(p>>8&255)<<8|p>>16,this.xd=-16777216|(r&255)<<16|(r>>8&255)<<8|r>>16):(this.md=p>>16<<24|(p>>8&255)<<16|(p&255)<<8|255,this.xd=r>>16<<24|(r>>8&255)<<16|(r&255)<<8|255);-1!==this.O&&(p=this.nc,b[p]=this.jc?-16777216|m[p]*a<<16|l[p]*a<<8|k[p]*a:k[p]*a<<24|l[p]*a<<16|m[p]*a<<8|255,q&&(n[p]="#"+(16777216+((k[p]<<16)+(l[p]<<8)+m[p])).toString(16).substring(1)));
n[256]=this.wg;k=l=0;for(p=1;240>=p;p+=1)b[p]=this.jc?-16777216|f*a<<16|d*a<<8|c*a:c*a<<24|d*a<<16|f*a<<8|255,c+=6*g[l][0],d+=6*g[l][1],f+=6*g[l][2],k+=1,40===k&&(k=0,l+=1);for(p=0;25>p;p+=1)k=240*(p+1)/25|0,e[p]=b[k-1];for(p=0;25>p;p+=1)b[64+p]=e[p];switch(this.qb){case 0:for(p=0;25>p;p+=1)a=6*p+105,b[64+p]=-16777216|a<<16|a<<8|a;break;case 2:b[64]=4278190131;b[68]=4278203289;b[72]=4278212095;b[76]=4278255615;b[80]=4294967295;b[84]=4291624959;b[88]=4291624959;for(p=1;4>p;p+=1)b[64+p]=b[64],b[68+
p]=b[68],b[72+p]=b[72],b[76+p]=b[76],b[80+p]=b[80],b[84+p]=b[84];break;case 3:b[64]=4284874803;b[68]=4294919168;b[72]=4294967040;b[76]=4294902015;b[80]=4294928127;b[84]=4294967295;b[88]=4294967295;for(p=1;4>p;p+=1)b[64+p]=b[64],b[68+p]=b[68],b[72+p]=b[72],b[76+p]=b[76],b[80+p]=b[80],b[84+p]=b[84];break;case 4:b[64]=4281536768;b[68]=4284892160;b[72]=4278255360;b[76]=4278255615;b[80]=4278233855;b[84]=4294967295;b[88]=4294967295;for(p=1;4>p;p+=1)b[64+p]=b[64],b[68+p]=b[68],b[72+p]=b[72],b[76+p]=b[76],
b[80+p]=b[80],b[84+p]=b[84];break;case 5:for(b[64]=4289331200,b[68]=4278233600,b[72]=4278233770,b[76]=4278220799,b[80]=4278190335,b[84]=4294967295,b[88]=4294967295,p=1;4>p;p+=1)b[64+p]=b[64],b[68+p]=b[68],b[72+p]=b[72],b[76+p]=b[76],b[80+p]=b[80],b[84+p]=b[84]}if(q)for(p=64;89>p;p+=1)this.jc?(c=b[p]&255,d=b[p]>>8&255,f=b[p]>>16&255):(c=b[p]>>24,d=b[p]>>16&255,f=b[p]>>8&255),n[p+64]="#"+(16777216+((c<<16)+(d<<8)+f)).toString(16).substring(1)};qa.prototype.wk=function(a){var b=this.sa,c=this.ra,d=this.qa,
f=this.$a,e=this.Ob,g=this.Dc,k=this.Xe,l=this.ia&&!this.Fa||this.aa&&!this.Fa||this.ee,m=0;if(2<this.i)if(this.jc){f[0]=-16777216|d[0]<<16|c[0]<<8|b[0];l&&(k[m]="#"+(16777216+((b[m]<<16)+(c[m]<<8)+d[m])).toString(16).substring(1));if(this.v||this.G||this.Ea||this.s)m=1;else{for(m=1;m<=this.u;m+=1)f[m]=-16777216|d[m]<<16|c[m]<<8|b[m],l&&(k[m]="#"+(16777216+((b[m]<<16)+(c[m]<<8)+d[m])).toString(16).substring(1));m=this.u+1}for(;m<=this.i+this.u;m+=1)f[m]=-16777216|d[m]*a<<16|c[m]*a<<8|b[m]*a,l&&(k[m]=
"#"+(16777216+((b[m]<<16)+(c[m]<<8)+d[m])).toString(16).substring(1))}else if(f[0]=b[0]<<24|c[m]<<16|d[m]<<8|255,l&&(k[m]="#"+(16777216+((b[m]<<16)+(c[m]<<8)+d[m])).toString(16).substring(1)),this.v||this.G||this.Ea||this.s)for(m=1;m<=this.i+this.u;m+=1)f[m]=b[m]*a<<24|c[m]*a<<16|d[m]*a<<8|255,l&&(k[m]="#"+(16777216+((b[m]<<16)+(c[m]<<8)+d[m])).toString(16).substring(1));else for(m=1;m<=this.u;m+=1)for(f[m]=b[m]<<24|c[m]<<16|d[m]<<8|255,l&&(k[m]="#"+(16777216+((b[m]<<16)+(c[m]<<8)+d[m])).toString(16).substring(1)),
m=this.u+1;m<=this.i+this.u;m+=1)f[m]=b[m]*a<<24|c[m]*a<<16|d[m]*a<<8|255,l&&(k[m]="#"+(16777216+((b[m]<<16)+(c[m]<<8)+d[m])).toString(16).substring(1));else if(this.D)this.jc?(f[0]=-16777216|d[0]<<16|c[0]<<8|b[0],f[1]=-16777216|d[1]*a<<16|c[1]*a<<8|b[1]*a):(f[0]=b[0]<<24|c[0]<<16|d[0]<<8|255,f[1]=b[1]*a<<24|c[1]*a<<16|d[1]*a<<8|255),l&&(k[0]="#"+(16777216+((b[0]<<16)+(c[0]<<8)+d[0])).toString(16).substring(1),k[1]="#"+(16777216+((b[1]<<16)+(c[1]<<8)+d[1])).toString(16).substring(1));else if(this.jc){for(m=
0;m<this.xa;m+=1)f[m]=-16777216|d[m]<<16|c[m]<<8|b[m],l&&(k[m]="#"+(16777216+((b[m]<<16)+(c[m]<<8)+d[m])).toString(16).substring(1));for(m=this.xa;m<=this.Re;m+=1)f[m]=-16777216|d[m]*a<<16|c[m]*a<<8|b[m]*a,l&&(k[m]="#"+(16777216+((b[m]<<16)+(c[m]<<8)+d[m])).toString(16).substring(1));for(m=this.Re+1;256>m;m+=1)f[m]=-16777216|d[m]*a<<16|c[m]*a<<8|b[m]*a,l&&(k[m]="#"+(16777216+((b[m]<<16)+(c[m]<<8)+d[m])).toString(16).substring(1))}else{for(m=0;m<this.xa;m+=1)f[m]=b[m]<<24|c[m]<<16|d[m]<<8|255,l&&(k[m]=
"#"+(16777216+((b[m]<<16)+(c[m]<<8)+d[m])).toString(16).substring(1));for(m=this.xa;m<=this.Re;m+=1)f[m]=b[m]*a<<24|c[m]*a<<16|d[m]*a<<8|255,l&&(k[m]="#"+(16777216+((b[m]<<16)+(c[m]<<8)+d[m])).toString(16).substring(1));for(m=this.Re+1;256>m;m+=1)f[m]=b[m]*a<<24|c[m]*a<<16|d[m]*a<<8|255,l&&(k[m]="#"+(16777216+((b[m]<<16)+(c[m]<<8)+d[m])).toString(16).substring(1))}this.jc?(this.md=-16777216|(e&255)<<16|(e>>8&255)<<8|e>>16,this.xd=-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16):(this.md=e>>16<<24|(e>>8&
255)<<16|(e&255)<<8|255,this.xd=g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255);-1!==this.O&&(m=this.nc,f[m]=this.jc?-16777216|d[m]*a<<16|c[m]*a<<8|b[m]*a:b[m]*a<<24|c[m]*a<<16|d[m]*a<<8|255,l&&(k[m]="#"+(16777216+((b[m]<<16)+(c[m]<<8)+d[m])).toString(16).substring(1)),this.v||this.G)&&(f[31]=f[m]);k[256]=this.wg};qa.prototype.fq=function(){var a=this.sa,b=this.ra,c=this.qa;this.nc=-1!==this.O&&256===this.i+this.u?2:255;-1!==this.O&&256>this.i+this.u&&(this.jc?(a[this.nc]=this.We&255,b[this.nc]=this.We>>
8&255,c[this.nc]=this.We>>16&255):(a[this.nc]=this.We>>24,b[this.nc]=this.We>>16&255,c[this.nc]=this.We>>8&255))};qa.prototype.Bi=function(){var a=this.Rd,b=this.h,c=this.R,d=this.Ba,f=this.Ua,e=this.Hb,g=this.j,k=this.wa,l=this.m,m=this.H;this.grid.o.fill(0);a.o.fill(0);b.o.fill(0);c&&c.o.fill(0);d.o.fill(0);f&&(f.o.fill(0),e.o.fill(0));g.o.fill(0);m.o.fill(0);k.o.fill(0);l.o.fill(0)};qa.prototype.Ii=function(a,b){var c=y.ZB,d;for(d=0;d<c;d+=1)a[d]=b[d]};qa.prototype.Ah=function(a,b){var c=y.Qr,
d;for(d=0;d<c;d+=1){var f=b[d>>9&448|d>>6&56|d>>3&7]<<3;f|=b[d>>8&448|d>>5&56|d>>2&7]<<2;f|=b[d>>7&448|d>>4&56|d>>1&7]<<1;f|=b[d>>6&448|d>>3&56|d&7];a[d]=f}};qa.prototype.dg=function(a,b,c){if(c){var d=new Uint8Array(16);for(c=0;16>c;c+=1){var f=b[c];d[f]=c}for(c=0;c<y.xm;c+=1)f=(d[c>>12]&1)<<2,f|=(d[c>>8&15]&2)<<2,f|=(d[c>>4&15]&4)>>2,f|=(d[c&15]&8)>>2,a[c]=f}else for(c=0;c<y.xm;c+=1)f=(c>>12&1)<<2,f|=(c>>8&2)<<2,f|=(c>>4&4)>>2,f|=(c&8)>>2,a[c]=b[f]};qa.prototype.df=function(a,b){var c,d,f,e;for(c=
0;c<y.wl;c+=1){var g=c>>8;var k=c&255;var l=192;var m=6;for(d=e=f=0;4>d;d+=1){var n=0===m?(k&l)<<2|g&l:(k&l)>>m-2|(g&l)>>m;n=(n&8)>>1|(n&4)<<1|(n&2)>>1|(n&1)<<1;n=b[n];n=(n&8)>>1|(n&4)<<1|(n&2)>>1|(n&1)<<1;f<<=2;e<<=2;f|=n>>2&3;e|=n&3;l>>=2;m-=2}a[c]=e<<8|f}};qa.prototype.Id=function(a,b){var c,d=0,f=!0,e=new Uint8Array(16);for(c=0;f&&16>c;){var g=1<<a[c];0!==(d&g)?f=!1:(d|=g,c+=1)}if(f){for(c=0;16>c;c+=1)d=a[c],e[d]=c;if(b)for(c=0;c<e.length;c+=1)a[c]=e[c]}return f};qa.prototype.el=function(a,b){var c;
for(c=0;16>c;c+=1)b[c]=a[15-c];for(c=0;16>c;c+=1)a[c]=15-a[c]};qa.prototype.Wn=function(){var a=this.i,b,c=this.Xd,d=this.Ab,f=this.Ic,e,g;var k=a*a;var l=k*a;var m=l*a;var n=m*a;for(b=0;1<<b<a;)b+=1;switch(this.rd){case Ha.kh:var q=9*b;break;default:q=y.Fm+1}if(q<=y.Fm){if(null===this.ua&&(this.ua=this.T.h(ra.ab,1<<q,"Life.ruleTreeLookup",V.S),this.cd=b),this.rd===Ha.kh){var p=b;var r=p+b;var u=r+b;var t=u+b;var v=t+b;var A=v+b;q=A+b;var w=c[0];var B=c[1];var C=c[2];var O=c[3];var M=c[4];var K=c[5];
var L=c[6];var U=c[7];c=c[8];var X=this.nb/m|0;c=c[X];m=this.nb%m/l|0;C=C[m];l=this.nb%l/k|0;L=L[l];k=this.nb%k/a|0;A=X<<0|m<<A|l<<r|k<<q+b;b=M[k];M=this.nb%a;u=A|M<<u;l=B[M];for(A=0;A<a;A+=1)for(k=u|A<<p,m=U[A],B=0;B<a;B+=1){X=k|B<<q;var H=O[B];for(r=0;r<a;r+=1){var R=K[r];var P=X|r<<v;for(M=0;M<a;M+=1){var S=w[M];var aa=M;for(g=0;g<f;g+=1)if(e=S[g]&l[g])if(e&=C[g]&H[g])if(e&=b[g]&R[g])if(e&=L[g]&m[g]&c[g]){aa=0;for(S=1;!(e&S);)aa+=1,S<<=1;aa=d[(g<<5)+aa];break}this.ua[P+(M<<t)]=aa}}}this.nb+=1;
this.nb===n&&(this.nb=-1)}}else this.ua=null};qa.prototype.Un=function(){var a=this.i,b,c,d,f,e,g,k,l,m;var n=this.Xd;var q=this.Ab,p=this.Ic,r,u;for(b=0;1<<b<a;)b+=1;switch(this.rd){case Ha.Hj:var t=5*b;break;case Ha.jh:t=7*b;break;case Ha.kh:t=9*b;break;case Ha.nk:t=3*b;break;default:t=y.Fm+1}if(t<=y.Fm)switch(this.ua=this.T.h(ra.ab,1<<t,"Life.ruleTreeLookup",V.S),this.cd=b,this.rd){case Ha.Hj:var v=0;var A=v+b;var w=A+b;var B=w+b;var C=B+b;b=n[0];var O=n[1];var M=n[2];var K=n[3];var L=n[4];for(g=
0;g<a;g+=1){var U=L[g];for(f=0;f<a;f+=1){var X=M[f];for(c=0;c<a;c+=1){var H=O[c];for(l=0;l<a;l+=1){var R=K[l];var P=g<<C|f<<w|c<<A|l<<v;for(e=0;e<a;e+=1){var S=b[e];var aa=e;for(u=0;u<p;u+=1)if(r=S[u]&H[u])if(r&=X[u]&R[u]&U[u]){aa=0;for(S=1;!(r&S);)aa+=1,S<<=1;aa=q[(u<<5)+aa];break}this.ua[P+(e<<B)]=aa}}}}}break;case Ha.kh:t=0;C=t+b;var pa=C+b;A=pa+b;B=A+b;v=B+b;var ha=v+b;w=ha+b;var ca=w+b;b=n[0];O=n[1];M=n[2];K=n[3];L=n[4];var ia=n[5];var na=n[6];var ja=n[7];var W=n[8];for(n=0;n<a;n+=1){var ma=
n<<t;var ea=W[n];for(d=0;d<a;d+=1){var Z=ma|d<<ha;var Y=M[d];for(m=0;m<a;m+=1){var oa=Z|m<<pa;var Q=na[m];for(k=0;k<a;k+=1){var F=oa|k<<ca;var z=L[k];for(c=0;c<a;c+=1){var J=F|c<<A;H=O[c];for(g=0;g<a;g+=1){var N=J|g<<C;U=ja[g];for(f=0;f<a;f+=1){var I=N|f<<w;X=K[f];for(l=0;l<a;l+=1)for(R=ia[l],P=I|l<<v,e=0;e<a;e+=1){S=b[e];aa=e;for(u=0;u<p;u+=1)if(r=S[u]&H[u])if(r&=Y[u]&X[u])if(r&=z[u]&R[u])if(r&=Q[u]&U[u]&ea[u]){aa=0;for(S=1;!(r&S);)aa+=1,S<<=1;aa=q[(u<<5)+aa];break}this.ua[P+(e<<B)]=aa}}}}}}}}break;
case Ha.jh:B=0;v=B+b;w=v+b;C=w+b;A=C+b;ca=A+b;t=ca+b;b=n[0];O=n[1];M=n[2];K=n[3];L=n[4];ia=n[5];na=n[6];for(n=0;n<a;n+=1)for(ma=n<<t,ea=na[n],k=0;k<a;k+=1)for(F=ma|k<<ca,z=K[k],c=0;c<a;c+=1)for(J=F|c<<A,H=O[c],g=0;g<a;g+=1)for(N=J|g<<C,U=ia[g],f=0;f<a;f+=1)for(I=N|f<<w,X=M[f],l=0;l<a;l+=1)for(P=I|l<<v,R=L[l],e=0;e<a;e+=1){S=b[e];aa=e;for(u=0;u<p;u+=1)if(r=S[u]&H[u])if(r&=X[u]&z[u])if(r&=R[u]&U[u]&ea[u]){aa=0;for(S=1;!(r&S);)aa+=1,S<<=1;aa=q[(u<<5)+aa];break}this.ua[P+(e<<B)]=aa}break;case Ha.nk:w=
0;B=w+b;C=B+b;b=n[0];O=n[1];M=n[2];for(g=0;g<a;g+=1)for(U=O[g],f=0;f<a;f+=1)for(X=M[f],P=g<<C|f<<w,e=0;e<a;e+=1){S=b[e];aa=e;for(u=0;u<p;u+=1)if(r=S[u]&U[u]&X[u]){aa=0;for(S=1;!(r&S);)aa+=1,S<<=1;aa=q[(u<<5)+aa];break}this.ua[P+(e<<B)]=aa}break;default:this.ua=null}else this.ua=null};qa.prototype.gn=function(){var a=this.yi,b,c,d,f,e,g,k,l,m,n=this.le,q=this.qd;var p=this.sd;this.ge=null;for(b=0;1<<b<a;)b+=1;var r=(this.Yd+1)*b;if(r<=y.Fm)if(this.ua=this.T.h(ra.ab,1<<r,"Life.ruleTreeLookup",V.S),
this.cd=b,4===this.Yd){var u=0;var t=u+b;var v=t+b;var A=v+b;var w=A+b;for(g=0;g<a;g+=1)for(f=0;f<a;f+=1)for(c=0;c<a;c+=1)for(l=0;l<a;l+=1){var B=q[q[q[q[n+c]+g]+f]+l];var C=c<<t|f<<v|g<<w|l<<u;for(e=0;e<a;e+=1)this.ua[C+(e<<A)]=p[B+e]}}else if(8===this.Yd){r=0;w=r+b;var O=w+b;t=O+b;A=t+b;u=A+b;var M=u+b;v=M+b;var K=v+b;for(b=0;b<a;b+=1){var L=b<<r;var U=q[n+b];for(d=0;d<a;d+=1){var X=L|d<<M;var H=q[U+d];for(m=0;m<a;m+=1){var R=X|m<<O;var P=q[H+m];for(k=0;k<a;k+=1){f=R|k<<K;var S=q[P+k];for(c=0;c<
a;c+=1){var aa=q[S+c];for(g=0;g<a;g+=1){var pa=q[aa+g];for(f=0;f<a;f+=1){var ha=q[pa+f];for(l=0;l<a;l+=1)for(B=q[ha+l],e=0;e<a;e+=1)C=b<<r|g<<w|m<<O|c<<t|e<<A|l<<u|d<<M|f<<v|k<<K,this.ua[C]=p[B+e]}}}}}}}}else this.ua=null;else if(this.ua=null,8===this.Yd&&r<=y.uC)for(this.ge=this.T.h(ra.mc,16777216,"Life.ruleTreePartialLookup",V.S),this.cd=24,w=0,t=w+b,K=t+b,O=K+b,M=O+b,r=M+b,b=0;b<a;b+=1)for(L=b<<r,U=q[n+b],d=0;d<a;d+=1)for(X=L|d<<M,H=q[U+d],m=0;m<a;m+=1)for(R=X|m<<O,P=q[H+m],k=0;k<a;k+=1)for(f=
R|k<<K,S=q[P+k],c=0;c<a;c+=1)for(p=f|c<<t,aa=q[S+c],g=0;g<a;g+=1)v=p|g<<w,pa=q[aa+g],this.ge[v]=pa};qa.prototype.lm=function(){this.Gb&&(this.Mf=performance.now(),null===this.Ab?this.gn():this.Un(),this.Mf=performance.now()-this.Mf)};qa.prototype.og=function(){var a=!1,b;if(this.D){if(null===this.Ab){var c=this.yi;for(b=0;1<<b<c;)b+=1;c=(this.Yd+1)*b}else{c=this.i;for(b=0;1<<b<c;)b+=1;switch(this.rd){case Ha.Hj:c=5*b;break;case Ha.kh:c=9*b;break;case Ha.jh:c=7*b;break;default:c=y.Fm+1}}c<=y.Fm?a=
!0:c<=y.uC&&null===this.Ab&&8===this.Yd&&(a=!0)}return a};qa.prototype.uq=function(a){var b=this.aa?this.W.Nb:this.W.m,c=this.aa?this.W.Mb:this.W.ba,d=this.W.ca,f=this.aa?y.ZB:y.hI,e=!1,g=null,k=b.length;this.eb=d;if(this.D)this.ua=null,this.nb=-1;else if(this.eb&&this.Ea){var l=0;var m=!0;for(k=this.ba.P.length;l<k&&m;)this.ba.P[l]!==this.ba.ja[l]?m=!1:l+=1;if(m){l=0;for(k=this.ba.G.length;l<k&&m;)this.ba.G[l]!==this.ba.ka[l]?m=!1:l+=1;m&&(this.eb=!1,l=a.$.indexOf("|"),-1!==l&&(a.$=a.$.substring(0,
l)),l=a.$a.indexOf("|"),-1!==l&&(a.$a=a.$a.substring(0,l)))}}else{if(this.eb){if(this.ja||this.s)k=16;l=0;for(m=!0;l<k&&m;)b[l]!==c[l]?m=!1:l+=1;m&&(this.eb=!1,l=a.$.indexOf("|"),-1!==l&&(a.$=a.$.substring(0,l)),l=a.$a.indexOf("|"),-1!==l&&(a.$a=a.$a.substring(0,l)));if(this.eb&&(this.ja||this.s))for(l=0;l<k;l+=1)a=b[l],b[l]=c[l],c[l]=a}this.Je=this.Cb=this.Jf=this.Ie=this.Lh=this.Jg=this.Bf=this.hg=null;if(this.s)this.Ie=this.T.h(ra.Ya,y.xm,"Life.PCALookup1",!1),d?(this.Jf=this.T.h(ra.Ya,y.xm,"Life.PCALookup2",
!1),this.dg(this.Jf,b,!1),this.dg(this.Ie,c,!1),this.Id(b,!1)&&this.Id(c,!1)&&(this.Cb=this.T.h(ra.Ya,y.xm,"Life.PCAReverseLookup1",!1),this.Je=this.T.h(ra.Ya,y.xm,"Life.PCAReverseLookup2",!1),this.Id(c,!1),this.dg(this.Cb,c,!0),this.Id(b,!1),this.dg(this.Je,b,!0))):(this.dg(this.Ie,b,!1),this.Id(b,!1)&&(this.Cb=this.T.h(ra.Ya,y.xm,"Life.PCAsReverseLookup1",!1),this.dg(this.Cb,b,!0)));else if(this.ja){this.Ie=this.T.h(ra.Ya,y.wl,"Life.margolusLookup1",!1);if(15===b[0]&&0===b[15]){d=this.eb=!0;g=new Uint8Array(16);
for(l=0;16>l;l+=1)g[l]=b[l];this.el(b,c)}d?(this.Jf=this.T.h(ra.Ya,y.wl,"Life.margolusLookup2",!1),this.df(this.Jf,b),this.df(this.Ie,c),g&&this.Id(g,!0)?(this.Cb=this.T.h(ra.Ya,y.wl,"Life.margolusReverseLookup1",!1),this.Je=this.T.h(ra.Ya,y.wl,"Life.margolusReverseLookup2",!1),this.el(g,c),this.df(this.Cb,c),this.df(this.Je,g)):this.Id(b,!1)&&this.Id(c,!1)&&(this.Cb=this.T.h(ra.Ya,y.wl,"Life.margolusReverseLookup1",!1),this.Je=this.T.h(ra.Ya,y.wl,"Life.margolusReverseLookup2",!1),this.Id(b,!0),this.df(this.Cb,
b),this.Id(c,!0),this.df(this.Je,c))):(this.df(this.Ie,b),this.Id(b,!0)&&(this.Cb=this.T.h(ra.Ya,y.wl,"Life.margolusReverseLookup1",!1),this.df(this.Cb,b)))}else if(this.aa)this.Jg=this.T.h(ra.ab,y.YB,"Life.indexLookupTri1",!1),d?(this.Lh=this.T.h(ra.ab,y.YB,"Life.indexLookupTri2",!1),this.Ii(this.Lh,b),this.Ii(this.Jg,c)):this.Ii(this.Jg,b);else{this.hg=this.T.h(ra.ab,y.Qr,"Life.indexLookup63",V.S);if(-1===this.Zd&&b[0])if(b[f-1])for(l=0;l<f/2;l+=1)a=b[l],b[l]=1-b[f-l-1],b[f-l-1]=1-a;else{for(l=
0;l<f/2;l+=1)a=b[l],b[l]=b[f-l-1],b[f-l-1]=a;e=!0;this.Bf=this.T.h(ra.ab,y.Qr,"Life.indexLookup632",V.S);this.Ah(this.Bf,b);if(this.G)for(c.set(b),l=0;l<f/2;l+=1)a=c[l],c[l]=1-c[f-l-1],c[f-l-1]=1-a;else for(l=0;l<f/2;l+=1)a=b[l],b[l]=1-b[f-l-1],b[f-l-1]=1-a}this.eb?(this.Bf=this.T.h(ra.ab,y.Qr,"Life.indexLookup632",V.S),this.Ah(this.Bf,b),this.Ah(this.hg,c)):(this.Ah(this.hg,b),e&&(this.eb=!0))}}};qa.prototype.Xb=function(a){var b=0;0!==(a&32768)?b=0:0!==(a&16384)?b=1:0!==(a&8192)?b=2:0!==(a&4096)?
b=3:0!==(a&2048)?b=4:0!==(a&1024)?b=5:0!==(a&512)?b=6:0!==(a&256)?b=7:0!==(a&128)?b=8:0!==(a&64)?b=9:0!==(a&32)?b=10:0!==(a&16)?b=11:0!==(a&8)?b=12:0!==(a&4)?b=13:0!==(a&2)?b=14:0!==(a&1)&&(b=15);return b};qa.prototype.$b=function(a){var b=0;0!==(a&1)?b=15:0!==(a&2)?b=14:0!==(a&4)?b=13:0!==(a&8)?b=12:0!==(a&16)?b=11:0!==(a&32)?b=10:0!==(a&64)?b=9:0!==(a&128)?b=8:0!==(a&256)?b=7:0!==(a&512)?b=6:0!==(a&1024)?b=5:0!==(a&2048)?b=4:0!==(a&4096)?b=3:0!==(a&8192)?b=2:0!==(a&16384)&&(b=1);return b};qa.prototype.Mn=
function(a){var b=this.Ua,c=this.j,d=this.width,f=this.height,e,g=this.B.M,k=this.B.J,l=this.B.I,m=this.B.L,n,q;for(n=0;n<f;n+=1){var p=b[n];var r=c[n>>4];for(q=e=0;q<d;q+=1)0!==p[q]&&(r[q>>8]|=1<<(~(q>>4)&15),e|=p[q],q<l&&(l=q),q>m&&(m=q));e&&(n<k&&(k=n),n>g&&(g=n))}a||(this.B.M=g,this.B.J=k,this.B.I=l,this.B.L=m)};qa.prototype.Gs=function(){V.S&&V.mL&&this.view.i?xa.Gs(this.va.o.byteOffset|0,this.va[0].length|0,this.H.o.byteOffset|0,this.j.o.byteOffset|0,this.j[0].length|0,this.j.o.byteLength|0,
this.aa?49152:32768,this.aa?3:1,16,2,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.width|0):this.kq()};qa.prototype.kq=function(){var a,b,c,d=this.va,f=this.H,e=this.j,g,k=this.aa?49152:32768,l=this.aa?3:1,m=this.K,n=this.F>>4,q=this.ca;var p=0;var r=p+16;e.o.fill(0);for(b=0;b<m;b+=1){var u=0;var t=f[b];var v=e[b];var A=0<b?e[b-1]:q;var w=b<m-1?e[b+1]:q;for(c=0;c<n;c+=1)if(g=t[c]){var B=v[c];var C=A[c];var O=w[c];for(a=15;0<=a;--a){if(0!==
(g&1<<a)){var M=!1;var K=0;var L=p;var U=d[L];if(U=U[u])M=!0,0!==(U&k)&&(K|=y.Ka,K|=y.Qa),0!==(U&l)&&(K|=y.Ha,K|=y.Ra),K|=y.Oa;for(L+=1;L<r-1;){U=d[L];if(U=U[u])M=!0,0!==(U&k)&&(K|=y.Ka),0!==(U&l)&&(K|=y.Ha);L+=1}U=d[L];if(U=U[u])M=!0,0!==(U&k)&&(K|=y.Ka,K|=y.Sa),0!==(U&l)&&(K|=y.Ha,K|=y.Ma),K|=y.Na;M&&(B|=1<<a,K&&(0!==(K&y.Ka)&&(15>a?B|=1<<a+1:0<c&&(v[c-1]|=1)),0!==(K&y.Ha)&&(0<a?B|=1<<a-1:c<n-1&&(v[c+1]|=32768)),0!==(K&y.Oa)&&(C|=1<<a),0!==(K&y.Na)&&(O|=1<<a),0!==(K&y.Qa)&&(15>a?C|=1<<a+1:0<c&&
(A[c-1]|=1)),0!==(K&y.Ra)&&(0<a?C|=1<<a-1:c<n-1&&(A[c+1]|=32768)),0!==(K&y.Sa)&&(15>a?O|=1<<a+1:0<c&&(w[c-1]|=1)),0!==(K&y.Ma)&&(0<a?O|=1<<a-1:c<n-1&&(w[c+1]|=32768))))}u+=1}v[c]|=B;0<b&&(A[c]|=C);b<m-1&&(w[c]|=O)}else u+=16;p+=16;r+=16}q.fill(0)};qa.prototype.jq=function(){var a,b,c,d=this.va,f=this.H,e=this.h,g=this.j,k,l=this.K,m=this.F>>4,n=this.ca;var q=0;var p=q+16;g.o.fill(0);for(b=0;b<l;b+=1){var r=0;var u=f[b];var t=g[b];var v=0<b?g[b-1]:n;var A=b<l-1?g[b+1]:n;for(c=0;c<m;c+=1)if(k=u[c]){var w=
t[c];var B=v[c];var C=A[c];for(a=15;0<=a;--a){if(0!==(k&1<<a)){var O=!1;var M=0;var K=q;var L=d[K];var U=e[K];L=L[r];var X=r<<4;0<U[X]&&(L|=32768);X+=1;0<U[X]&&(L|=16384);X+=1;0<U[X]&&(L|=8192);X+=1;0<U[X]&&(L|=4096);X+=1;0<U[X]&&(L|=2048);X+=1;0<U[X]&&(L|=1024);X+=1;0<U[X]&&(L|=512);X+=1;0<U[X]&&(L|=256);X+=1;0<U[X]&&(L|=128);X+=1;0<U[X]&&(L|=64);X+=1;0<U[X]&&(L|=32);X+=1;0<U[X]&&(L|=16);X+=1;0<U[X]&&(L|=8);X+=1;0<U[X]&&(L|=4);X+=1;0<U[X]&&(L|=2);X+=1;0<U[X]&&(L|=1);L&&(O=!0,0!==(L&32768)&&(M|=y.Ka,
M|=y.Qa),0!==(L&1)&&(M|=y.Ha,M|=y.Ra),M|=y.Oa);for(K+=1;K<p-1;)L=d[K],U=e[K],L=L[r],X=r<<4,0<U[X]&&(L|=32768),X+=1,0<U[X]&&(L|=16384),X+=1,0<U[X]&&(L|=8192),X+=1,0<U[X]&&(L|=4096),X+=1,0<U[X]&&(L|=2048),X+=1,0<U[X]&&(L|=1024),X+=1,0<U[X]&&(L|=512),X+=1,0<U[X]&&(L|=256),X+=1,0<U[X]&&(L|=128),X+=1,0<U[X]&&(L|=64),X+=1,0<U[X]&&(L|=32),X+=1,0<U[X]&&(L|=16),X+=1,0<U[X]&&(L|=8),X+=1,0<U[X]&&(L|=4),X+=1,0<U[X]&&(L|=2),X+=1,0<U[X]&&(L|=1),L&&(O=!0,0!==(L&32768)&&(M|=y.Ka),0!==(L&1)&&(M|=y.Ha)),K+=1;L=d[K];
U=e[K];L=L[r];X=r<<4;0<U[X]&&(L|=32768);X+=1;0<U[X]&&(L|=16384);X+=1;0<U[X]&&(L|=8192);X+=1;0<U[X]&&(L|=4096);X+=1;0<U[X]&&(L|=2048);X+=1;0<U[X]&&(L|=1024);X+=1;0<U[X]&&(L|=512);X+=1;0<U[X]&&(L|=256);X+=1;0<U[X]&&(L|=128);X+=1;0<U[X]&&(L|=64);X+=1;0<U[X]&&(L|=32);X+=1;0<U[X]&&(L|=16);X+=1;0<U[X]&&(L|=8);X+=1;0<U[X]&&(L|=4);X+=1;0<U[X]&&(L|=2);X+=1;0<U[X]&&(L|=1);L&&(O=!0,0!==(L&32768)&&(M|=y.Ka,M|=y.Sa),0!==(L&1)&&(M|=y.Ha,M|=y.Ma),M|=y.Na);O&&(w|=1<<a,M&&(0!==(M&y.Ka)&&(15>a?w|=1<<a+1:0<c&&(t[c-
1]|=1)),0!==(M&y.Ha)&&(0<a?w|=1<<a-1:c<m-1&&(t[c+1]|=32768)),0!==(M&y.Oa)&&(B|=1<<a),0!==(M&y.Na)&&(C|=1<<a),0!==(M&y.Qa)&&(15>a?B|=1<<a+1:0<c&&(v[c-1]|=1)),0!==(M&y.Ra)&&(0<a?B|=1<<a-1:c<m-1&&(v[c+1]|=32768)),0!==(M&y.Sa)&&(15>a?C|=1<<a+1:0<c&&(A[c-1]|=1)),0!==(M&y.Ma)&&(0<a?C|=1<<a-1:c<m-1&&(A[c+1]|=32768))))}r+=1}t[c]|=w;0<b&&(v[c]|=B);b<l-1&&(A[c]|=C)}else r+=16;q+=16;p+=16}n.fill(0)};qa.prototype.ap=function(a){var b,c=this.u+1,d=this.height,f=this.width,e=this.h,g=this.height,k=-1,l=this.width,
m=-1;var n=this.ja?-1:0;this.s&&0!==(this.counter&1)&&(e=this.R);if(-1===this.O){var q=0;var p=f-1;var r=0;var u=d-1}else 0===this.$?(q=0,p=f-1):(q=Math.round((this.width-this.$)/2)+n,p=q+this.$),0===this.Z?(r=0,u=d-1):(r=Math.round((this.height-this.Z)/2)+n,u=r+this.Z);for(b=r;b<u;b+=1){var t=e[b];var v=!1;for(n=q;n<p;n+=1){var A=t[n];A>=c&&255>=A&&(v=!0,n<l&&(l=n),n>m&&(m=n))}v&&(b<g&&(g=b),b>k&&(k=b))}if(0>k||g>=d||l>=f||0>m)g=k=u-r>>1,m=l=p-q>>1;k>d-1&&(k=d-1);0>g&&(g=0);0>l&&(l=0);m>f-1&&(m=
f-1);a.M=k;a.J=g;a.I=l;a.L=m};qa.prototype.Wb=function(){var a,b,c=this.width>>4,d=this.height,f=this.width,e=this.Ua,g=this.h,k=this.B,l=this.ya,m=this.Bb,n=this.hb,q=this.height,p=-1,r=this.width,u=-1,t=this.height,v=-1,A=this.width,w=-1,B=this.height,C=-1,O=this.width,M=-1,K,L,U=this.Ea?this.view.Wi()>>1:0,X=G.pb[3]+128,H=G.pb[5]+128,R=G.pb[6]+128,P=this.U;if(this.Nb){this.Nb=!1;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(g=this.R);var S=0!==(this.counter&1)?this.Ta:this.va;-1!==this.O&&
this.Af(g,0);if(e)for(b=0;b<d;b+=1){var aa=e[b];var pa=g[b];for(a=L=K=0;a<f;a+=1){var ha=aa[a];var ca=pa[a];ha||0<ca&&ca<this.xa?(ca=1,ha=ha===X||ha===H||ha==R?1:0):ha=ca=0;K|=ca;L|=ha;ca&&(a<A&&(A=a),a>w&&(w=a));ha&&(a<O&&(O=a),a>M&&(M=a))}K&&(b<t&&(t=b),b>v&&(v=b));L&&(b<B&&(B=b),b>C&&(C=b))}P.fill(0);if(this.Ea&&2===this.i)for(b=0;b<d;b+=1){pa=g[b];for(a=K=0;a<f;a+=1)ca=pa[a]&64,K|=ca,ca&&(a<r&&(r=a),a>u&&(u=a));K&&(b<q&&(q=b),b>p&&(p=b))}else if(-1!==this.i)for(b=0;b<d;b+=1){pa=g[b];for(a=K=0;a<
f;a+=1)ca=pa[a],K|=ca,ca&&(a<r&&(r=a),a>u&&(u=a));K&&(b<q&&(q=b),b>p&&(p=b))}else{for(b=0;b<d;b+=1){aa=S[b];for(a=K=0;a<c;a+=1)ca=aa[a],K|=ca,P[a]|=ca;K&&(b<q&&(q=b),b>p&&(p=b))}for(a=0;a<c;a+=1)P[a]&&(a<r&&(r=a),a>u&&(u=a));r=(r<<4)+this.Xb(P[r]);u=(u<<4)+this.$b(P[u])}if(0>p||q>=d||r>=f||0>u)q=p=d>>1,u=r=f>>1;e&&(v>p&&(p=v),t<q&&(q=t),A<r&&(r=A),w>u&&(u=w),C>this.height-1-U&&(C=this.height-1-U),B<U&&(B=U),O<U&&(O=U),M>this.width-1-U&&(M=this.width-1-U),this.Hh.I=O,this.Hh.J=B,this.Hh.L=M,this.Hh.M=
C);p>this.height-1-U&&(p=this.height-1-U);q<U&&(q=U);r<U&&(r=U);u>this.width-1-U&&(u=this.width-1-U);this.Ea&&2===this.i||(k.M=p,k.J=q,k.I=r,k.L=u);l.M=p;l.J=q;l.I=r;l.L=u;m.M=p;m.J=q;m.I=r;m.L=u;n.M=p;n.J=q;n.I=r;n.L=u}};qa.prototype.Gj=function(a){var b=this.B;if(V.S&&V.jL&&this.view.i)if(-1===this.i&&null===this.Ua){if(0!==(this.counter&1)){var c=this.Ta;a=this.H;var d=this.j}else c=this.va,a=this.j,d=this.H;xa.oK(c.o.byteOffset|0,c[0].length|0,a.o.byteOffset|0,d.o.byteOffset|0,a[0].length|0,this.U.byteOffset|
0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.width|0,this.height|0,4,!this.view.Ed||this.view.eb||-1!==this.view.Wa||this.view.Ie?0:1,this.da.byteOffset|0);var f=this.da[0];c=this.da[1];var e=this.da[2];var g=this.da[3];b.I=f;b.J=c;b.L=e;b.M=g;(!this.view.Ed||this.view.eb||-1!==this.view.Wa||this.view.Ie)&&this.Gs();Array.Of(a,d);Array.Of(a,this.wa);Array.Of(a,this.m)}else this.Sk(a);else this.Sk(a)};qa.prototype.Sk=function(a){var b,c,d=this.width>>4,f=this.height,e=this.width,g=this.Ua;
var k=this.h;var l=this.B,m=this.ya,n=this.Bb,q=this.height,p=-1,r=this.width,u=-1,t=this.height,v=-1,A=this.width,w=-1,B,C=this.U,O=this.wa,M=this.m;if(0!==(this.counter&1)){var K=this.Ta;var L=this.H;var U=this.j}else K=this.va,L=this.j,U=this.H;if(g&&!a)for(c=0;c<f;c+=1){var X=g[c];for(b=B=0;b<e;b+=1){var H=X[b];B|=H;H&&(b<A&&(A=b),b>w&&(w=b))}B&&(c<t&&(t=c),c>v&&(v=c))}C.fill(0);U.o.fill(0);if(-1!==this.i)for(c=0;c<f;c+=1){d=k[c];for(b=B=0;b<e;b+=1)H=d[b],B|=H,H&&(b<r&&(r=b),b>u&&(u=b));B&&(c<
q&&(q=c),c>p&&(p=c))}else{for(c=0;c<f;c+=1){k=K[c];for(b=B=0;b<d;b+=1)H=k[b],B|=H,C[b]|=H;B&&(c<q&&(q=c),c>p&&(p=c))}for(b=0;b<d;b+=1)C[b]&&(b<r&&(r=b),b>u&&(u=b));r=(r<<4)+this.Xb(C[r]);u=(u<<4)+this.$b(C[u])}if(0>p||q>=f||r>=e||0>u)q=p=f>>1,u=r=e>>1,v=p,t=q,A=r,w=u;g&&!a&&-1!==v&&(v<p&&(p=v),t>q&&(q=t),A<r&&(r=A),w>u&&(u=w));p>this.height-1&&(p=this.height-1);0>q&&(q=0);0>r&&(r=0);u>this.width-1&&(u=this.width-1);l.M=p;l.J=q;l.I=r;l.L=u;m.M=p;m.J=q;m.I=r;m.L=u;n.M=p;n.J=q;n.I=r;n.L=u;0<r&&--r;0<
q&&--q;u<this.width-1&&(u+=1);p<this.height-1&&(p+=1);b=q>>4;p>>=4;r>>=8;u>>=8;if(!this.view.Ed||this.view.eb||-1===this.view.Wa||this.view.Ie){for(c=b;c<=p;c+=1)for(H=U[c],b=r;b<=u;b+=1)H[b]=-1;-1!==this.i?this.jq():this.Gs()}else for(c=b;c<=p;c+=1)for(H=L[c],b=r;b<=u;b+=1)H[b]=-1;g&&(this.Mn(a),n.M=l.M,n.J=l.J,n.I=l.I,n.L=l.L);Array.Of(L,U);Array.Of(L,O);Array.Of(L,M)};qa.prototype.cn=function(){var a=Math.round((this.width-this.$)/2),b=Math.round((this.height-this.Z)/2),c=a+this.$-1,d=b+this.Z-
1,f=this.Ua,e=!1,g;--a;c+=1;d+=1;--b;var k=f[d];var l=f[b];if(0===this.$)for(g=a;g<=c;g+=1)129===l[g]&&(e=!0,l[g]=0),129===k[g]&&(e=!0,k[g]=0);else if(0===this.Z)for(b=0;b<this.height;b+=1)129===f[b][a]&&(e=!0,f[b][a]=0),129===f[b][c]&&(e=!0,f[b][c]=0);else{for(g=a;g<=c;g+=1)129===l[g]&&(e=!0,l[g]=0),129===k[g]&&(e=!0,k[g]=0);for(b+=1;b<=d-1;b+=1)129===f[b][a]&&(e=!0,f[b][a]=0),129===f[b][c]&&(e=!0,f[b][c]=0)}e&&this.wb()};qa.prototype.am=function(){var a=Math.round((this.width-this.$)/2),b=Math.round((this.height-
this.Z)/2),c=a+this.$-1,d=b+this.Z-1,f=a-16,e=b-16,g=c+16,k=d+16,l,m=this.h;0!==(this.counter&1)&&(m=this.R);0>f&&(f=0);g>=this.width&&(g=this.width-1);0>e&&(e=0);e>=this.height&&(e=this.height-1);for(l=e;l<=k;l+=1){var n=m[l];if(l<b||l>d)for(e=f;e<=g;e+=1)0!==n[e]&&(n[e]=0);else for(e=f;e<=g;e+=1)(e<a||e>c)&&0!==n[e]&&(n[e]=0)}this.j.o.fill(0);this.H.o.fill(0);this.wa.o.fill(0);this.m.o.fill(0);this.dh();this.A=0;for(l=b;l<=d;l+=1)for(n=m[l],e=a;e<=c;e+=1)0!==n[e]&&(this.A+=1)};qa.prototype.an=function(a){var b=
this.ja?-1:0,c=Math.round((this.width-this.$)/2)+b;b=Math.round((this.height-this.Z)/2)+b;var d=c+this.$-1,f=b+this.Z-1,e=d+a>>4;var g=c-a>>4;var k=d+a>>4;var l=~(1<<(~(c-a)&15)),m=~(1<<(~(d+a)&15)),n,q=this.kc,p=0;if(!(this.s||this.D||this.G)){var r=0!==(this.counter&1)?this.Ta:this.va;var u=r[f+a];var t=r[b-a];if(0===this.$)for(e=this.width>>4,n=0;n<e;n+=1)p+=q[t[n]],t[n]=0,p+=q[u[n]],u[n]=0;else if(0===this.Z)for(b=0,f=this.height,n=0;n<f;n+=1)e=r[n],e[g]&~l&&(p+=1),e[g]&=l,e[k]&~m&&(p+=1),e[k]&=
m;else{for(n=c-a>>4;n<=e;n+=1)p+=q[t[n]],t[n]=0,p+=q[u[n]],u[n]=0;for(n=b-a+1;n<=f+a-1;n+=1)e=r[n],e[g]&~l&&(p+=1),e[g]&=l,e[k]&~m&&(p+=1),e[k]&=m}this.A-=p}if(-1!==this.i){r=this.h;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(r=this.R);c-=a;d+=a;f+=a;b-=a;g=r[f];k=r[b];if(0===this.$)for(n=0;n<this.width;n+=1)a=k[n],0!==a&&(k[n]=0,p+=1),a=g[n],0!==a&&(g[n]=0,p+=1);else if(0===this.Z)for(n=0;n<this.height;n+=1)a=r[n][c],0!==a&&(r[n][c]=0,p+=1),a=r[n][d],0!==a&&(r[n][d]=0,p+=1);else{for(n=
0;n<this.width;n+=1)a=k[n],0!==a&&(k[n]=0,p+=1),a=g[n],0!==a&&(g[n]=0,p+=1);for(n=b+1;n<=f-1;n+=1)a=r[n][c],0!==a&&(r[n][c]=0,p+=1),a=r[n][d],0!==a&&(r[n][d]=0,p+=1)}if(this.D||this.G)this.A-=p}};qa.prototype.Ji=function(a,b,c,d,f){var e=0;this.Ea&&(e=this.view.rj);if(!this.Hn(b,c,d,f))for(this.Ug+=1,f=0;f<a.length;f+=1){var g=a[f];if(this.P)for(d=0;d<g.length;d+=1){if(1===g[d]){var k=this.mb(b+d,c+f,!1);3===k||5===k?this.Wd(b+d,c+f,4,!1):k&1&&this.Wd(b+d,c+f,0,!1);this.ga+=1}}else for(d=0;d<g.length;d+=
1)1===g[d]&&(this.Wd(b+d,c+f,e,!1),this.ga+=1)}};qa.prototype.fb=function(a,b,c,d,f,e,g,k){var l,m=0,n=0,q=d+d,p=f+f,r=q+d,u=p+f,t=r+d,v=u+f,A=this.h;var w=this.Ea?this.ya:this.B;var B=w.I;var C=w.L;var O=w.J;var M=w.M;var K=this.xa;b-=2;c-=2;var L=0;for(w=!0;w&&L<a.length;){var U=0;for(l=a[L];w&&U<l.length;){var X=l[U];var H=A[c+L][b+U];H<K&&0===X||H>=K&&1===X||(w=!1);U+=1}L+=1}if(w){U=b+3+d+d;L=c+3+f+f;B+=4*Math.abs(d);C-=4*Math.abs(d);O+=4*Math.abs(d);M-=4*Math.abs(d);for(w=!1;!(w||U<B||U>C||L<
O||L>M);)l=A[L],H=l[U],H&64&&(m=U,n=L,w=!0),H=A[L+f][U],H&64&&(m=U,n=L+f,w=!0),H=l[U+d],H&64&&(m=U+d,n=L,w=!0),H=A[L+p][U],H&64&&(m=U,n=L+p,w=!0),H=l[U+q],H&64&&(m=U+q,n=L,w=!0),H=A[L+u][U],H&64&&(m=U,n=L+u,w=!0),H=l[U+r],H&64&&(m=U+r,n=L,w=!0),H=A[L+v][U],H&64&&(m=U,n=L+v,w=!0),H=l[U+t],H&64&&(m=U+t,n=L,w=!0),H=A[L+v+f][U],H&64&&(m=U,n=L+v+f,w=!0),H=l[U+t+d],H&64&&(m=U+t+d,n=L+f,w=!0),H=A[L+v+f][U],H&64&&(m=U,n=L+v+f,w=!0),H=l[U+t+d],H&64&&(m=U+t+d,n=L,w=!0),H=A[L+v+p][U],H&64&&(m=U,n=L+v+p,w=!0),
H=l[U+t+q],H&64&&(m=U+t+q,n=L,w=!0),H=A[L+v+u][U],H&64&&(m=U,n=L+v+u,w=!0),H=l[U+t+r],H&64&&(m=U+t+r,n=L,w=!0),H=A[L-v][U],H&64&&(m=U,n=L-v,w=!0),H=l[U-t],H&64&&(m=U-t,n=L,w=!0),H=A[L-v-f][U],H&64&&(m=U,n=L-v-f,w=!0),H=l[U-t-d],H&64&&(m=U-t-d,n=L,w=!0),H=A[L-v-p][U],H&64&&(m=U,n=L-v-p,w=!0),l=l[U-t-q],l&64&&(m=U-t-q,n=L,w=!0),U+=d,L+=f;this.nf[this.nf.length]={ev:a,x:b,y:c,sL:m,wL:n,orientation:e,FB:w,offset:g,Uu:k}}return w};qa.prototype.Hn=function(a,b,c,d){var f=!1,e=this.Ea?this.ya:this.B,g=e.I,
k=e.L,l=e.J;e=e.M;var m=this.h,n=this.xa;switch(c){case y.Ph:if(d===y.nj)for(b+=1,a+=1;b>=l&&!f;){if(m[b][a]>=n||m[b][a+1]>=n||m[b][a+2]>=n)f=!0;--b}else for(b+=5,a+=5;a<=k&&!f;){if(m[b][a]>=n||m[b-1][a]>=n||m[b-2][a]>=n)f=!0;a+=1}break;case y.Rh:if(d===y.nj)for(b+=5,a+=1;b<=e&&!f;){if(m[b][a]>=n||m[b][a+1]>=n||m[b][a+2]>=n)f=!0;b+=1}else for(b+=1,a+=5;a<=k&&!f;){if(m[b][a]>=n||m[b+1][a]>=n||m[b+2][a]>=n)f=!0;a+=1}break;case y.Sh:if(d===y.oj)for(b+=5,a+=5;b<=e&&!f;){if(m[b][a]>=n||m[b][a-1]>=n||m[b][a-
2]>=n)f=!0;b+=1}else for(b+=1,a+=1;a>=g&&!f;){if(m[b][a]>=n||m[b+1][a]>=n||m[b+2][a]>=n)f=!0;--a}break;case y.Qh:if(d===y.oj)for(b+=1,a+=5;b>=l&&!f;){if(m[b][a]>=n||m[b][a-1]>=n||m[b][a-2]>=n)f=!0;--b}else for(b+=5,a+=1;a>=g&&!f;){if(m[b][a]>=n||m[b-1][a]>=n||m[b-2][a]>=n)f=!0;--a}}return f};qa.prototype.Um=function(){var a,b=this.nf.length,c;if(1<b)for(a=0;a<b;a+=1){var d=this.nf[a];if(d.FB){var f=d.sL;var e=d.wL;var g=d.orientation;var k=0;for(c=!1;!c&&k<b;){if(k!==a){var l=this.nf[k];var m=l.x+
3;var n=l.y+3;f>=m-1&&f<=m+1&&e>=n-1&&e<=n+1&&l.orientation===g&&0===d.offset&&(this.Ji(d.ev,d.x,d.y,d.orientation,d.Uu),c=!0)}k+=1}}else{f=d.x+3;e=d.y+3;g=d.orientation;k=0;for(c=!1;!c&&k<b;){if(k!==a)switch(l=this.nf[k],m=l.x+3,n=l.y+3,l=l.orientation,g){case y.Qh:l===y.Ph&&e>=n-6&&e<=n+6&&f>=m&&(c=!0);l===y.Sh&&f>=m-6&&f<=m+6&&e>=n&&(c=!0);break;case y.Ph:l===y.Qh&&e>=n-6&&e<=n+6&&f<=m&&(c=!0);l===y.Rh&&f>=m-6&&f<=m+6&&e>=n&&(c=!0);break;case y.Sh:l===y.Rh&&e>=n-6&&e<=n+6&&f>=m&&(c=!0);l===y.Qh&&
f>=m-6&&f<=m+6&&e<=n&&(c=!0);break;case y.Rh:l===y.Sh&&e>=n-6&&e<=n+6&&f<=m&&(c=!0),l===y.Ph&&f>=m-6&&f<=m+6&&e<=n&&(c=!0)}k+=1}c||0!==d.offset||this.Ji(d.ev,d.x,d.y,d.orientation,d.Uu)}}else 1===b&&(d=this.nf[0],d.FB||0!==d.offset||this.Ji(d.ev,d.x,d.y,d.orientation,d.Uu))};qa.prototype.ak=function(){var a=this.Ea?this.ya:this.B;var b=a.I;var c=a.L;var d=a.J;var f=a.M,e=new Va(0,0,0,0),g=this.h,k=this.xa;if(0!==this.A&&!(-1!==this.O||this.Ea&&1<this.ba.m)){this.nf=[];16>b&&(b=16);c>=this.width-16&&
(c=this.width-16-1);16>d&&(d=16);f>=this.height-16&&(f=this.height-16-1);e.I=b;e.J=d;e.L=c;e.M=f;for(b-=6;b<=c+6;b+=1)for(a=0;5>=a;a+=1){d=e.J+a;f=g[d];f[b]>=k&&(this.fb(this.Vi,b,d,-1,1,y.Qh,a,y.ul)||this.fb(this.Wi,b-1,d,-1,1,y.Qh,a,y.ul)||this.fb(this.Xi,b,d,-1,1,y.Qh,a,y.ul)||this.fb(this.Yi,b-1,d,-1,1,y.Qh,a,y.ul)||this.fb(this.Ri,b,d,1,1,y.Ph,a,y.ul)||this.fb(this.Si,b-1,d,1,1,y.Ph,a,y.ul)||this.fb(this.Ti,b-1,d,1,1,y.Ph,a,y.ul)||this.fb(this.Ui,b,d,1,1,y.Ph,a,y.ul));f=e.M-a;var l=g[f];l[b]>=
k&&(this.fb(this.cj,b,f-2,-1,-1,y.Sh,a,y.tl)||this.fb(this.Ai,b-1,f-2,-1,-1,y.Sh,a,y.tl)||this.fb(this.dj,b,f-2,-1,-1,y.Sh,a,y.tl)||this.fb(this.ej,b-1,f-2,-1,-1,y.Sh,a,y.tl)||this.fb(this.Zi,b,f-2,1,-1,y.Rh,a,y.tl)||this.fb(this.$i,b-1,f-2,1,-1,y.Rh,a,y.tl)||this.fb(this.aj,b-1,f-2,1,-1,y.Rh,a,y.tl)||this.fb(this.bj,b,f-2,1,-1,y.Rh,a,y.tl))}for(d-=6;d<=f+6;d+=1)for(a=0;5>=a;a+=1)l=g[d],b=e.I+a,l[b]>=k&&(this.fb(this.Vi,b,d,1,-1,y.Qh,a,y.oj)||this.fb(this.Wi,b,d-1,1,-1,y.Qh,a,y.oj)||this.fb(this.Xi,
b,d,1,-1,y.Qh,a,y.oj)||this.fb(this.Yi,b,d-1,1,-1,y.Qh,a,y.oj)||this.fb(this.cj,b,d-1,1,1,y.Sh,a,y.oj)||this.fb(this.Ai,b,d,1,1,y.Sh,a,y.oj)||this.fb(this.dj,b,d,1,1,y.Sh,a,y.oj)||this.fb(this.ej,b,d-1,1,1,y.Sh,a,y.oj)),c=e.L-a,l[c]>=k&&(this.fb(this.Ri,c-2,d,-1,-1,y.Ph,a,y.nj)||this.fb(this.Si,c-2,d-1,-1,-1,y.Ph,a,y.nj)||this.fb(this.Ti,c-2,d,-1,-1,y.Ph,a,y.nj)||this.fb(this.Ui,c-2,d-1,-1,-1,y.Ph,a,y.nj)||this.fb(this.Zi,c-2,d-1,-1,1,y.Rh,a,y.nj)||this.fb(this.$i,c-2,d,-1,1,y.Rh,a,y.nj)||this.fb(this.aj,
c-2,d,-1,1,y.Rh,a,y.nj)||this.fb(this.bj,c-2,d-1,-1,1,y.Rh,a,y.nj));this.Um();this.Wb()}};qa.prototype.dh=function(){var a,b,c=this.ja?-1:0,d=this.$,f=this.Z;for(b=0;1>=b;b+=1){var e=Math.round((this.width-d)/2-1)+c+b>>4;var g=Math.round((this.width+d)/2)+c-b>>4;var k=Math.round((this.height-f)/2-1+b)+c>>4;var l=Math.round((this.height+f)/2)+c-b>>4;0===f&&(k=0,l=(this.height>>4)-1);0===d&&(e=0,g=(this.width>>4)-1);0>e&&(e=0);0>k&&(k=0);g>=this.width>>4&&(g=(this.width>>4)-1);l>=this.height>>4&&(l=
(this.height>>4)-1);if(this.wf)for(;k<=l;k+=1){var m=this.j[k];var n=this.H[k];var q=this.wa[k];var p=this.m[k];for(a=e;a<=g;a+=1){var r=1<<(~a&15);m[a>>4]|=r;n[a>>4]|=r;q[a>>4]|=r;p[a>>4]|=r}}else{for(a=e;a<=g;a+=1)r=1<<(~a&15),this.j[k][a>>4]|=r,this.H[k][a>>4]|=r,this.wa[k][a>>4]|=r,this.m[k][a>>4]|=r,this.j[l][a>>4]|=r,this.H[l][a>>4]|=r,this.wa[l][a>>4]|=r,this.m[l][a>>4]|=r;for(;k<=l;k+=1)r=1<<(~e&15),this.j[k][e>>4]|=r,this.H[k][e>>4]|=r,this.wa[k][e>>4]|=r,this.m[k][e>>4]|=r,r=1<<(~g&15),
this.j[k][g>>4]|=r,this.H[k][g>>4]|=r,this.wa[k][g>>4]|=r,this.m[k][g>>4]|=r}}};qa.prototype.Lp=function(a){var b=this.$,c=this.Z,d=Math.round((this.width-b)/2),f=Math.round((this.height-c)/2),e=d+b-1,g=f+c-1,k=this.ne,l=this.oe,m=this.m,n=!1,q;0===this.$&&(d=0,e=this.width-1,b=this.width);0===this.Z&&(f=0,g=this.height-1,c=this.height);if(0!==this.Z)for(q=0;q<b;q+=1){var p=d+q;var r=d+((q+k)%b+b)%b;var u=a[g][p];129===u&&(n=!0,a[f-1][r]=u,m[f-1>>4][r>>8]|=1<<(~(r>>4)&15),15===(f-1&15)&&(m[(f-1>>
4)+1][r>>8]|=1<<(~(r>>4)&15)));r=d+((q-k)%b+b)%b;u=a[f][p];129===u&&(n=!0,a[g+1][r]=u,m[g+1>>4][r>>8]|=1<<(~(r>>4)&15),0===(g+1&15)&&(m[(g+1>>4)-1][r>>8]|=1<<(~(r>>4)&15)))}if(0!==this.$)for(q=0;q<c;q+=1)p=f+q,r=f+((q-l)%c+c)%c,u=a[p][d],129===u&&(n=!0,a[r][e+1]=u,m[r>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(m[r>>4][e-15>>8]|=1<<(~(e-15>>4)&15))),r=f+((q+l)%c+c)%c,u=a[p][e],129===u&&(n=!0,a[r][d-1]=u,m[r>>4][d-1>>8]|=1<<(~(d-1>>4)&15),15===(d-1&15)&&(m[r>>4][d+15>>8]|=1<<(~(d+15>>4)&15)));0!==
this.$&&0!==this.Z&&(u=a[f+(c-1+l+c)%c][d+(-k+b)%b],129===u&&(a[f-1][e+1]=u,n=!0),u=a[f+(c-1-l+c)%c][d+(b-1-k+b)%b],129===u&&(a[f-1][d-1]=u,n=!0),u=a[f+(l+c)%c][d+(k+b)%b],129===u&&(a[g+1][e+1]=u,n=!0),u=a[f+(-l+c)%c][d+(b-1+k+b)%b],129===u&&(a[g+1][d-1]=u,n=!0));n&&this.wb()};qa.prototype.Bp=function(a){var b=this.m,c=this.$,d=this.Z,f=Math.round((this.width-c)/2),e=Math.round((this.height-d)/2),g=f+c-1,k=e+d-1,l=this.ne,m=this.oe,n=this.xg,q=this.vh,p=!1,r;for(r=0;r<c;r+=1){var u=f+r;var t=n?g-
(r+l+c)%c:f+(r+l+c)%c;var v=a[k][u];129===v&&(p=!0,a[e-1][t]=v,b[e-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(e-1&15)&&(b[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));t=n?g-(r+l+c)%c:f+(r+l+c)%c;v=a[e][u];129===v&&(p=!0,a[k+1][t]=v,b[k+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(k+1&15)&&(b[(k+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(r=0;r<d;r+=1)c=e+r,u=q?k-(r+m+d)%d:e+(r+m+d)%d,v=a[c][f],129===v&&(p=!0,a[u][g+1]=v,b[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),u=q?k-(r+m+d)%d:e+(r+
m+d)%d,v=a[c][g],129===v&&(p=!0,a[u][f-1]=v,b[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(b[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==this.$&&0!==this.Z&&this.xp(n,f,e,g,k,l,m,a,b)&&(p=!0);p&&this.wb()};qa.prototype.bp=function(a){var b=this.wa,c=this.$,d=this.Z,f=Math.round((this.width-c)/2),e=Math.round((this.height-d)/2),g=f+c-1,k=e+d-1,l=!1,m;for(m=0;m<c;m+=1){var n=f+m;var q=g-m;var p=a[k][n];129===p&&(l=!0,a[e-1][q]=p,b[e-1>>4][q>>8]|=1<<(~(q>>4)&15),15===(e-1&15)&&(b[(e-1>>4)+1][q>>8]|=
1<<(~(q>>4)&15)));p=a[e][n];129===p&&(l=!0,a[k+1][q]=p,b[k+1>>4][q>>8]|=1<<(~(q>>4)&15),0===(k+1&15)&&(b[(k+1>>4)-1][q>>8]|=1<<(~(q>>4)&15)))}for(m=0;m<=d;m+=1)n=e+m,q=k-m,p=a[n][f],129===p&&(l=!0,a[q][g+1]=p,b[q>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[q>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),p=a[n][g],129===p&&(l=!0,a[q][f-1]=p,b[q>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(b[q>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));p=a[k][f];129===p&&(a[k+1][f-1]=p,l=!0);p=a[k][g];129===p&&(a[k+1][g+1]=p,l=
!0);p=a[e][f];129===p&&(a[e-1][f-1]=p,l=!0);p=a[e][g];129===p&&(a[e-1][g+1]=p,l=!0);l&&this.wb()};qa.prototype.qr=function(a){var b=this.wa,c=this.$,d=this.Z,f=Math.round((this.width-c)/2),e=Math.round((this.height-d)/2),g=f+c-1;d=e+d-1;var k=!1,l;if(this.yg)for(l=0;l<c;l+=1){var m=e+l;var n=f+l;var q=a[m][f];129===q&&(k=!0,a[e-1][n]=q,b[e-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(e-1&15)&&(b[(e-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));q=a[m][g];129===q&&(k=!0,a[d+1][n]=q,b[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+
1&15)&&(b[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)));q=a[e][n];129===q&&(k=!0,a[m][f-1]=q,b[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(b[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));q=a[d][n];129===q&&(k=!0,a[m][g+1]=q,b[m>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[m>>4][g-15>>8]|=1<<(~(g-15>>4)&15)))}else for(l=0;l<c;l+=1)m=e+l,n=f+(c-l-1),q=a[m][g],129===q&&(k=!0,a[e-1][n]=q,b[e-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(e-1&15)&&(b[(e-1>>4)+1][n>>8]|=1<<(~(n>>4)&15))),q=a[m][f],129===q&&(k=!0,a[d+1][n]=q,
b[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&(b[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15))),q=a[e][n],129===q&&(k=!0,a[m][g+1]=q,b[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),0===(g+1&15)&&(b[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15),b[m>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),q=a[d][n],129===q&&(k=!0,a[m][f-1]=q,b[m>>4][g+1>>8]|=1<<(~(g+1>>4)&15),15===(f+15&15)&&(b[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));q=a[d][f];129===q&&(k=!0,a[d+1][f-1]=q);q=a[d][g];129===q&&(k=!0,a[d+1][g+1]=q);q=a[e][f];129===q&&(k=!0,a[e-1][f-1]=q);q=a[e][g];
129===q&&(k=!0,a[e-1][g+1]=q);k&&this.wb()};qa.prototype.Mp=function(a){var b=this.$,c=this.Z,d=this.ja?-1:0,f=Math.round((this.width-b)/2)+d;d=Math.round((this.height-c)/2)+d;var e=f+b-1,g=d+c-1,k=this.ne,l=this.oe,m=this.m,n;0===this.$&&(f=0,e=this.width-1,b=this.width);0===this.Z&&(d=0,g=this.height-1,c=this.height);if(0!==this.Z)for(n=0;n<b;n+=1){var q=f+n;var p=f+((n+k)%b+b)%b;var r=a[g][q];0!==r&&(a[d-1][p]=r,m[d-1>>4][p>>8]|=1<<(~(p>>4)&15),15===(d-1&15)&&(m[(d-1>>4)+1][p>>8]|=1<<(~(p>>4)&
15)));p=f+((n-k)%b+b)%b;r=a[d][q];0!==r&&(a[g+1][p]=r,m[g+1>>4][p>>8]|=1<<(~(p>>4)&15),0===(g+1&15)&&(m[(g+1>>4)-1][p>>8]|=1<<(~(p>>4)&15)))}if(0!==this.$)for(n=0;n<c;n+=1)q=d+n,p=d+((n-l)%c+c)%c,r=a[q][f],0!==r&&(a[p][e+1]=r,m[p>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(m[p>>4][e-15>>8]|=1<<(~(e-15>>4)&15))),p=d+((n+l)%c+c)%c,r=a[q][e],0!==r&&(a[p][f-1]=r,m[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(m[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==this.$&&0!==this.Z&&(r=a[d+(c-1+l+c)%c][f+(-k+
b)%b],a[d-1][e+1]=r,r=a[d+(c-1-l+c)%c][f+(b-1-k+b)%b],a[d-1][f-1]=r,r=a[d+(l+c)%c][f+(k+b)%b],a[g+1][e+1]=r,r=a[d+(-l+c)%c][f+(b-1+k+b)%b],a[g+1][f-1]=r)};qa.prototype.Fp=function(a){var b=this.m,c=this.$,d=this.Z,f=this.ja?-1:0,e=Math.round((this.width-c)/2)+f;f=Math.round((this.height-d)/2)+f;var g=e+c-1,k=f+d-1,l=this.ne,m=this.oe,n=this.xg,q=this.vh,p;for(p=0;p<c;p+=1){var r=e+p;var u=n?g-(p+l+c)%c:e+(p+l+c)%c;var t=a[k][r];0!==t&&(a[f-1][u]=t,b[f-1>>4][u>>8]|=1<<(~(u>>4)&15),15===(f-1&15)&&(b[(f-
1>>4)+1][u>>8]|=1<<(~(u>>4)&15)));u=n?g-(p+l+c)%c:e+(p+l+c)%c;t=a[f][r];0!==t&&(a[k+1][u]=t,b[k+1>>4][u>>8]|=1<<(~(u>>4)&15),0===(k+1&15)&&(b[(k+1>>4)-1][u>>8]|=1<<(~(u>>4)&15)))}for(p=0;p<d;p+=1)c=f+p,r=q?k-(p+m+d)%d:f+(p+m+d)%d,t=a[c][e],0!==t&&(a[r][g+1]=t,b[r>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[r>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),r=q?k-(p+m+d)%d:f+(p+m+d)%d,t=a[c][g],0!==t&&(a[r][e-1]=t,b[r>>4][e-1>>8]|=1<<(~(e-1>>4)&15),15===(e-1&15)&&(b[r>>4][e+15>>8]|=1<<(~(e+15>>4)&15)));0!==
this.$&&0!==this.Z&&this.zp(n,e,f,g,k,l,m,a,b)};qa.prototype.gp=function(a){var b=this.wa,c=this.$,d=this.Z,f=this.ja?-1:0,e=Math.round((this.width-c)/2)+f;f=Math.round((this.height-d)/2)+f;var g=e+c-1,k=f+d-1,l;for(l=0;l<c;l+=1){var m=e+l;var n=g-l;var q=a[k][m];0!==q&&(a[f-1][n]=q,b[f-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(f-1&15)&&(b[(f-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));q=a[f][m];0!==q&&(a[k+1][n]=q,b[k+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(k+1&15)&&(b[(k+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)))}for(l=0;l<=d;l+=
1)m=f+l,n=k-l,q=a[m][e],0!==q&&(a[n][g+1]=q,b[n>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[n>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),q=a[m][g],0!==q&&(a[n][e-1]=q,b[n>>4][e-1>>8]|=1<<(~(e-1>>4)&15),15===(e-1&15)&&(b[n>>4][e+15>>8]|=1<<(~(e+15>>4)&15)));q=a[k][e];a[k+1][e-1]=q;q=a[k][g];a[k+1][g+1]=q;q=a[f][e];a[f-1][e-1]=q;q=a[f][g];a[f-1][g+1]=q};qa.prototype.Kp=function(a){var b=this.wa,c=this.$,d=this.Z,f=this.ja?-1:0,e=Math.round((this.width-c)/2)+f;f=Math.round((this.height-d)/2)+f;var g=e+c-
1;d=f+d-1;var k=this.u,l;if(this.yg)for(l=0;l<c;l+=1){var m=f+l;var n=e+l;var q=a[m][e];q>k&&(this.s&&(q-=k,q=(q>>1&15|(q&1)<<3)+k),a[f-1][n]=q,b[f-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(f-1&15)&&(b[(f-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));q=a[m][g];q>k&&(this.s&&(q-=k,q=(q>>1&15|(q&1)<<3)+k),a[d+1][n]=q,b[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&(b[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)));q=a[f][n];q>k&&(this.s&&(q-=k,q=(q<<1&15|(q&8)>>3)+k),a[m][e-1]=q,b[m>>4][e-1>>8]|=1<<(~(e-1>>4)&15),15===(e-1&15)&&
(b[m>>4][e+15>>8]|=1<<(~(e+15>>4)&15)));q=a[d][n];q>k&&(this.s&&(q-=k,q=(q<<1&15|(q&8)>>3)+k),a[m][g+1]=q,b[m>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(b[m>>4][g-15>>8]|=1<<(~(g-15>>4)&15)))}else for(l=0;l<c;l+=1)m=f+l,n=e+(c-l-1),q=a[m][g],q>k&&(this.s&&(q-=k,q=(q<<1&15|(q&8)>>3)+k),a[f-1][n]=q,b[f-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(f-1&15)&&(b[(f-1>>4)+1][n>>8]|=1<<(~(n>>4)&15))),q=a[m][e],q>k&&(this.s&&(q-=k,q=(q<<1&15|(q&8)>>3)+k),a[d+1][n]=q,b[d+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(d+1&15)&&
(b[(d+1>>4)-1][n>>8]|=1<<(~(n>>4)&15))),q=a[f][n],q>k&&(this.s&&(q-=k,q=(q>>1&15|(q&1)<<3)+k),a[m][g+1]=q,b[m>>4][e-1>>8]|=1<<(~(e-1>>4)&15),0===(g+1&15)&&(b[m>>4][e+15>>8]|=1<<(~(e+15>>4)&15),b[m>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),q=a[d][n],q>k&&(this.s&&(q-=k,q=(q>>1&15|(q&1)<<3)+k),a[m][e-1]=q,b[m>>4][g+1>>8]|=1<<(~(g+1>>4)&15),15===(e+15&15)&&(b[m>>4][e+15>>8]|=1<<(~(e+15>>4)&15)));q=a[d][e];a[d+1][e-1]=q;q=a[d][g];a[d+1][g+1]=q;q=a[f][e];a[f-1][e-1]=q;q=a[f][g];a[f-1][g+1]=q};qa.prototype.Kk=
function(){var a=this.wa,b=this.$,c=this.Z;var d=this.ja?-1:0;var f=Math.round((this.width-b)/2)+d,e=Math.round((this.height-c)/2)+d,g=f+b-1,k=e+c-1,l=this.ne,m=this.oe,n=this.aa&&0<f&&g<this.width-1,q;if(0!==(this.counter&1)){d=this.Ta;var p=this.H}else d=this.va,p=this.j;0===this.$&&(f=0,g=this.width-1,b=this.width);0===this.Z&&(e=0,k=this.height-1,c=this.height);if(0!==this.Z)for(q=0;q<b;q+=1){var r=f+q;var u=f+((q+l)%b+b)%b;0!==(d[k][r>>4]&1<<(~r&15))&&(d[e-1][u>>4]|=1<<(~u&15),p[e-1>>4][u>>8]|=
1<<(~(u>>4)&15),a[e-1>>4][u>>8]|=1<<(~(u>>4)&15),15===(e-1&15)&&(p[(e-1>>4)+1][u>>8]|=1<<(~(u>>4)&15),a[(e-1>>4)+1][u>>8]|=1<<(~(u>>4)&15)));u=f+((q-l)%b+b)%b;0!==(d[e][r>>4]&1<<(~r&15))&&(d[k+1][u>>4]|=1<<(~u&15),p[k+1>>4][u>>8]|=1<<(~(u>>4)&15),a[k+1>>4][u>>8]|=1<<(~(u>>4)&15),0===(k+1&15)&&(p[(k+1>>4)-1][u>>8]|=1<<(~(u>>4)&15),a[(k+1>>4)-1][u>>8]|=1<<(~(u>>4)&15)))}if(0!==this.$)for(q=0;q<c;q+=1)r=e+q,u=e+((q-m)%c+c)%c,0!==(d[r][f>>4]&1<<(~f&15))&&(d[u][g+1>>4]|=1<<(~(g+1)&15),p[u>>4][g+1>>8]|=
1<<(~(g+1>>4)&15),a[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(p[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),n&&(f+=1,g+=1,0!==(d[r][f>>4]&1<<(~f&15))&&(d[u][g+1>>4]|=1<<(~(g+1)&15),p[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[u>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(p[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[u>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),--f,--g),u=e+((q+m)%c+c)%c,0!==(d[r][g>>4]&1<<(~g&15))&&(d[u][f-1>>4]|=1<<(~(f-1)&15),p[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[u>>
4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(p[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),n&&(--f,--g,0!==(d[r][g>>4]&1<<(~g&15))&&(d[u][f-1>>4]|=1<<(~(f-1)&15),p[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[u>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(p[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[u>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),f+=1,g+=1);0!==this.$&&0!==this.Z&&(r=f+(-l+b)%b,d[e-1][g+1>>4]=0!==(d[e+(c-1+m+c)%c][r>>4]&1<<(~r&15))?d[e-1][g+1>>4]|1<<(~(g+1)&15):d[e-1][g+1>>
4]&~(1<<(~(g+1)&15)),r=f+(b-1-l+b)%b,d[e-1][f-1>>4]=0!==(d[e+(c-1-m+c)%c][r>>4]&1<<(~r&15))?d[e-1][f-1>>4]|1<<(~(f-1)&15):d[e-1][f-1>>4]&~(1<<(~(f-1)&15)),r=f+(l+b)%b,d[k+1][g+1>>4]=0!==(d[e+(m+c)%c][r>>4]&1<<(~r&15))?d[k+1][g+1>>4]|1<<(~(g+1)&15):d[k+1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1+l+b)%b,d[k+1][f-1>>4]=0!==(d[e+(-m+c)%c][r>>4]&1<<(~r&15))?d[k+1][f-1>>4]|1<<(~(f-1)&15):d[k+1][f-1>>4]&~(1<<(~(f-1)&15)),n&&(f+=1,g+=1,r=f+(-l+b)%b,d[e-1][g+1>>4]=0!==(d[e+(c-1+m+c)%c][r>>4]&1<<(~r&15))?d[e-1][g+
1>>4]|1<<(~(g+1)&15):d[e-1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1-l+b)%b,d[e-1][f-1>>4]=0!==(d[e+(c-1-m+c)%c][r>>4]&1<<(~r&15))?d[e-1][f-1>>4]|1<<(~(f-1)&15):d[e-1][f-1>>4]&~(1<<(~(f-1)&15)),r=f+(l+b)%b,d[k+1][g+1>>4]=0!==(d[e+(m+c)%c][r>>4]&1<<(~r&15))?d[k+1][g+1>>4]|1<<(~(g+1)&15):d[k+1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1+l+b)%b,d[k+1][f-1>>4]=0!==(d[e+(-m+c)%c][r>>4]&1<<(~r&15))?d[k+1][f-1>>4]|1<<(~(f-1)&15):d[k+1][f-1>>4]&~(1<<(~(f-1)&15)),f-=2,g-=2,r=f+(-l+b)%b,d[e-1][g+1>>4]=0!==(d[e+(c-1+m+c)%
c][r>>4]&1<<(~r&15))?d[e-1][g+1>>4]|1<<(~(g+1)&15):d[e-1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1-l+b)%b,d[e-1][f-1>>4]=0!==(d[e+(c-1-m+c)%c][r>>4]&1<<(~r&15))?d[e-1][f-1>>4]|1<<(~(f-1)&15):d[e-1][f-1>>4]&~(1<<(~(f-1)&15)),r=f+(l+b)%b,d[k+1][g+1>>4]=0!==(d[e+(m+c)%c][r>>4]&1<<(~r&15))?d[k+1][g+1>>4]|1<<(~(g+1)&15):d[k+1][g+1>>4]&~(1<<(~(g+1)&15)),r=f+(b-1+l+b)%b,d[k+1][f-1>>4]=0!==(d[e+(-m+c)%c][r>>4]&1<<(~r&15))?d[k+1][f-1>>4]|1<<(~(f-1)&15):d[k+1][f-1>>4]&~(1<<(~(f-1)&15))))};qa.prototype.xp=function(a,
b,c,d,f,e,g,k,l){var m=!1;if(a){g=d-e;g<b&&(g=d);var n=d+1;var q=c-1;a=k[f][g];129===a&&(m=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15)));g=b-e;g<b&&(g=d);var p=f;n=b-1;q=c-1;a=k[p][g];129===a&&(m=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15)));0!==(k[p][g>>4]&1<<(~g&15))&&(k[c-1][b-1>>4]|=1<<(~(b-1)&15));g=d-e;g<b&&(g=d);n=d+1;q=f+1;a=k[c][g];129===a&&(m=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===
(q&15)&&(l[(q>>4)-1][n>>8]|=1<<(~(n>>4)&15)));g=b-e;g<b&&(g=d);n=b-1;q=f+1;a=k[c][g];129===a&&(m=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)-1][n>>8]|=1<<(~(n>>4)&15)))}else p=c-g,p<c&&(p=f),n=d+1,q=c-1,a=k[p][b],129===a&&(m=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15))),p=c-g,p<c&&(p=f),n=b-1,q=c-1,a=k[p][d],129===a&&(m=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15))),p=f-g,p<c&&(p=
f),n=d+1,q=f+1,a=k[p][b],129===a&&(m=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15))),p=f-g,p<c&&(p=f),n=b-1,q=f+1,a=k[p][d],129===a&&(m=!0,k[q][n]=a,l[q>>4][n>>8]|=1<<(~(n>>4)&15),15===(q&15)&&(l[(q>>4)+1][n>>8]|=1<<(~(n>>4)&15)));return m};qa.prototype.zp=function(a,b,c,d,f,e,g,k,l){if(a){g=d-e;g<b&&(g=d);a=c-1;var m=k[f][g];0!==m&&(k[a][d+1]=m,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15));g=b-e;g<b&&(g=d);a=c-1;m=k[f][g];0!==m&&(k[a][b-1]=m,l[a>>4][b-1>>8]|=
1<<(~(b-1>>4)&15));g=d-e;g<b&&(g=d);a=f+1;m=k[c][g];0!==m&&(k[a][d+1]=m,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15));g=b-e;g<b&&(g=d);e=b-1;a=f+1;m=k[c][g]}else m=c-g,m<c&&(m=f),a=c-1,m=k[m][b],0!==m&&(k[a][d+1]=m,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15)),m=c-g,m<c&&(m=f),a=c-1,m=k[m][d],0!==m&&(k[a][b-1]=m,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15)),m=f-g,m<c&&(m=f),a=f+1,m=k[m][b],0!==m&&(k[a][d+1]=m,l[a>>4][b-1>>8]|=1<<(~(b-1>>4)&15)),m=f-g,m<c&&(m=f),e=b-1,a=f+1,m=k[m][d];0!==m&&(k[a][e]=m,l[a>>4][b-1>>8]|=1<<(~(b-
1>>4)&15))};qa.prototype.Aj=function(a,b,c,d,f,e,g,k){a?(a=d-e,a<b&&(a=d),0!==(k[f][a>>4]&1<<(~a&15))&&(k[c-1][d+1>>4]|=1<<(~(d+1)&15)),a=b-e,a<b&&(a=d),0!==(k[f][a>>4]&1<<(~a&15))&&(k[c-1][b-1>>4]|=1<<(~(b-1)&15)),a=d-e,a<b&&(a=d),0!==(k[c][a>>4]&1<<(~a&15))&&(k[f+1][d+1>>4]|=1<<(~(d+1)&15)),a=b-e,a<b&&(a=d),0!==(k[c][a>>4]&1<<(~a&15))&&(k[f+1][b-1>>4]|=1<<(~(b-1)&15))):(a=b,e=c-g,e<c&&(e=f),0!==(k[e][a>>4]&1<<(~a&15))&&(k[c-1][d+1>>4]|=1<<(~(d+1)&15)),a=d,e=c-g,e<c&&(e=f),0!==(k[e][a>>4]&1<<(~a&
15))&&(k[c-1][b-1>>4]|=1<<(~(b-1)&15)),a=b,e=f-g,e<c&&(e=f),0!==(k[e][a>>4]&1<<(~a&15))&&(k[f+1][d+1>>4]|=1<<(~(d+1)&15)),a=d,e=f-g,e<c&&(e=f),0!==(k[e][a>>4]&1<<(~a&15))&&(k[f+1][b-1>>4]|=1<<(~(b-1)&15)))};qa.prototype.Ik=function(){var a=this.wa,b=this.$,c=this.Z;var d=this.ja?-1:0;var f=Math.round((this.width-b)/2)+d,e=Math.round((this.height-c)/2)+d,g=f+b-1,k=e+c-1,l=this.ne,m=this.oe,n=this.xg,q=this.vh,p=this.aa&&0<f&&g<this.width-1,r;if(0!==(this.counter&1)){d=this.Ta;var u=this.H}else d=this.va,
u=this.j;for(r=0;r<b;r+=1){var t=f+r;var v=n?g-(r+l)%b:t;0!==(d[k][v>>4]&1<<(~v&15))&&(d[e-1][t>>4]|=1<<(~t&15),u[e-1>>4][t>>8]|=1<<(~(t>>4)&15),a[e-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(e-1&15)&&(u[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15),a[(e-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));0!==(d[e][v>>4]&1<<(~v&15))&&(d[k+1][t>>4]|=1<<(~t&15),u[k+1>>4][t>>8]|=1<<(~(t>>4)&15),a[k+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(k+1&15)&&(u[(k+1>>4)-1][t>>8]|=1<<(~(t>>4)&15),a[(k+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(r=0;r<c;r+=1)v=
e+r,b=q?k-(r+m)%c:v,0!==(d[b][f>>4]&1<<(~f&15))&&(d[v][g+1>>4]|=1<<(~(g+1)&15),u[v>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[v>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(u[v>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[v>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),p&&(f+=1,g+=1,0!==(d[b][f>>4]&1<<(~f&15))&&(d[v][g+1>>4]|=1<<(~(g+1)&15),u[v>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[v>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(u[v>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[v>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),--f,--g),0!==(d[b][g>>4]&1<<
(~g&15))&&(d[v][f-1>>4]|=1<<(~(f-1)&15),u[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(u[v>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[v>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),p&&(--f,--g,0!==(d[b][g>>4]&1<<(~g&15))&&(d[v][f-1>>4]|=1<<(~(f-1)&15),u[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[v>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(u[v>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[v>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),f+=1,g+=1);0!==this.$&&0!==this.Z&&(this.Aj(n,f,e,g,k,l,m,d),p&&(f+=
1,g+=1,this.Aj(n,f,e,g,k,l,m,d),this.Aj(n,f-2,e,g-2,k,l,m,d)))};qa.prototype.Hk=function(){var a=this.wa,b=this.$,c=this.Z;var d=this.ja?-1:0;var f=Math.round((this.width-b)/2)+d,e=Math.round((this.height-c)/2)+d,g=f+b-1,k=e+c-1,l=this.aa&&0<f&&g<this.width-1,m;if(0!==(this.counter&1)){d=this.Ta;var n=this.H}else d=this.va,n=this.j;for(m=0;m<b;m+=1){var q=f+m;var p=g-m;0!==(d[k][q>>4]&1<<(~q&15))&&(d[e-1][p>>4]|=1<<(~p&15),n[e-1>>4][p>>8]|=1<<(~(p>>4)&15),a[e-1>>4][p>>8]|=1<<(~(p>>4)&15),15===(e-
1&15)&&(n[(e-1>>4)+1][p>>8]|=1<<(~(p>>4)&15),a[(e-1>>4)+1][p>>8]|=1<<(~(p>>4)&15)));0!==(d[e][q>>4]&1<<(~q&15))&&(d[k+1][p>>4]|=1<<(~p&15),n[k+1>>4][p>>8]|=1<<(~(p>>4)&15),a[k+1>>4][p>>8]|=1<<(~(p>>4)&15),0===(k+1&15)&&(n[(k+1>>4)-1][p>>8]|=1<<(~(p>>4)&15),a[(k+1>>4)-1][p>>8]|=1<<(~(p>>4)&15)))}for(m=0;m<c;m+=1)q=e+m,p=k-m,0!==(d[q][f>>4]&1<<(~f&15))&&(d[p][g+1>>4]|=1<<(~(g+1)&15),n[p>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[p>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(n[p>>4][g-15>>8]|=1<<(~(g-15>>4)&
15),a[p>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),l&&(f+=1,g+=1,0!==(d[q][f>>4]&1<<(~f&15))&&(d[p][g+1>>4]|=1<<(~(g+1)&15),n[p>>4][g+1>>8]|=1<<(~(g+1>>4)&15),a[p>>4][g+1>>8]|=1<<(~(g+1>>4)&15),0===(g+1&15)&&(n[p>>4][g-15>>8]|=1<<(~(g-15>>4)&15),a[p>>4][g-15>>8]|=1<<(~(g-15>>4)&15))),--f,--g),0!==(d[q][g>>4]&1<<(~g&15))&&(d[p][f-1>>4]|=1<<(~(f-1)&15),n[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(n[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[p>>4][f+15>>8]|=1<<(~(f+15>>4)&
15))),l&&(--f,--g,0!==(d[q][g>>4]&1<<(~g&15))&&(d[p][f-1>>4]|=1<<(~(f-1)&15),n[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[p>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(n[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[p>>4][f+15>>8]|=1<<(~(f+15>>4)&15))),f+=1,g+=1);0!==this.$&&0!==this.Z&&(0!==(d[k][f>>4]&1<<(~f&15))&&(d[k+1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[k][g>>4]&1<<(~g&15))&&(d[k+1][g+1>>4]|=1<<(~(g+1)&15)),0!==(d[e][f>>4]&1<<(~f&15))&&(d[e-1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[e][g>>4]&1<<(~g&15))&&(d[e-1][g+1>>
4]|=1<<(~(g+1)&15)),l&&(f+=1,g+=1,0!==(d[k][f>>4]&1<<(~f&15))&&(d[k+1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[k][g>>4]&1<<(~g&15))&&(d[k+1][g+1>>4]|=1<<(~(g+1)&15)),0!==(d[e][f>>4]&1<<(~f&15))&&(d[e-1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[e][g>>4]&1<<(~g&15))&&(d[e-1][g+1>>4]|=1<<(~(g+1)&15)),f-=2,g-=2,0!==(d[k][f>>4]&1<<(~f&15))&&(d[k+1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[k][g>>4]&1<<(~g&15))&&(d[k+1][g+1>>4]|=1<<(~(g+1)&15)),0!==(d[e][f>>4]&1<<(~f&15))&&(d[e-1][f-1>>4]|=1<<(~(f-1)&15)),0!==(d[e][g>>4]&1<<(~g&
15))&&(d[e-1][g+1>>4]|=1<<(~(g+1)&15))))};qa.prototype.Jk=function(){var a=this.wa,b=this.$;var c=this.Z;var d=this.ja?-1:0,f=Math.round((this.width-b)/2)+d;d=Math.round((this.height-c)/2)+d;var e=f+b-1,g=d+c-1,k;if(0!==(this.counter&1)){c=this.Ta;var l=this.H}else c=this.va,l=this.j;if(this.yg)for(k=0;k<b;k+=1){var m=d+k;var n=f+k;0!==(c[m][f>>4]&1<<(~f&15))&&(c[d-1][n>>4]|=1<<(~n&15),l[d-1>>4][n>>8]|=1<<(~(n>>4)&15),a[d-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(d-1&15)&&(l[(d-1>>4)+1][n>>8]|=1<<(~(n>>
4)&15),a[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15)));0!==(c[m][e>>4]&1<<(~e&15))&&(c[g+1][n>>4]|=1<<(~n&15),l[g+1>>4][n>>8]|=1<<(~(n>>4)&15),a[g+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(g+1&15)&&(l[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15),a[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15)));0!==(c[d][n>>4]&1<<(~n&15))&&(c[m][f-1>>4]|=1<<(~(f-1)&15),l[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),15===(f-1&15)&&(l[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==(c[g][n>>4]&1<<(~n&
15))&&(c[m][e+1>>4]|=1<<(~(e+1)&15),l[m>>4][e+1>>8]|=1<<(~(e+1>>4)&15),a[m>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(l[m>>4][e-15>>8]|=1<<(~(e-15>>4)&15),a[m>>4][e-15>>8]|=1<<(~(e-15>>4)&15)))}else for(k=0;k<b;k+=1)m=d+k,n=f+(b-k-1),0!==(c[m][e>>4]&1<<(~e&15))&&(c[d-1][n>>4]|=1<<(~n&15),l[d-1>>4][n>>8]|=1<<(~(n>>4)&15),a[d-1>>4][n>>8]|=1<<(~(n>>4)&15),15===(d-1&15)&&(l[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15),a[(d-1>>4)+1][n>>8]|=1<<(~(n>>4)&15))),0!==(c[m][f>>4]&1<<(~f&15))&&(c[g+1][n>>4]|=1<<(~n&
15),l[g+1>>4][n>>8]|=1<<(~(n>>4)&15),a[g+1>>4][n>>8]|=1<<(~(n>>4)&15),0===(g+1&15)&&(l[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15),a[(g+1>>4)-1][n>>8]|=1<<(~(n>>4)&15))),0!==(c[d][n>>4]&1<<(~n&15))&&(c[m][e+1>>4]|=1<<(~(e+1)&15),l[m>>4][e+1>>8]|=1<<(~(e+1>>4)&15),a[m>>4][e+1>>8]|=1<<(~(e+1>>4)&15),15===(e+1&15)&&(l[m>>4][e-15>>8]|=1<<(~(e-15>>4)&15),a[m>>4][e-15>>8]|=1<<(~(e-15>>4)&15))),0!==(c[g][n>>4]&1<<(~n&15))&&(c[m][f-1>>4]|=1<<(~(f-1)&15),l[m>>4][f-1>>8]|=1<<(~(f-1>>4)&15),a[m>>4][f-1>>8]|=1<<(~(f-
1>>4)&15),0===(f-1&15)&&(l[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15),a[m>>4][f+15>>8]|=1<<(~(f+15>>4)&15)));0!==(c[g][f>>4]&1<<(~f&15))&&(c[g+1][f-1>>4]|=1<<(~(f-1)&15));0!==(c[g][e>>4]&1<<(~e&15))&&(c[g+1][e+1>>4]|=1<<(~(e+1)&15));0!==(c[d][f>>4]&1<<(~f&15))&&(c[d-1][f-1>>4]|=1<<(~(f-1)&15));0!==(c[d][e>>4]&1<<(~e&15))&&(c[d-1][e+1>>4]|=1<<(~(e+1)&15))};qa.prototype.So=function(){var a,b=1;0!==this.O&&(b=2);this.aa&&(b+=1);for(a=1;a<=b+1;a+=1)this.an(a);this.P&&this.cn();this.wf&&this.am()};qa.prototype.Yo=
function(){var a=this.h,b=this.Ua;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(a=this.R);this.Af(a,0);this.dh();switch(this.O){case 1:this.s||this.D||this.v||this.G?(this.Mp(a),(this.v||this.G)&&this.Kk()):(this.Kk(),this.P&&this.Lp(b));break;case 2:this.s||this.D||this.v||this.G?(this.Fp(a),(this.v||this.G)&&this.Ik()):(this.Ik(),this.P&&this.Bp(b));break;case 3:this.s||this.D||this.v||this.G?(this.gp(a),(this.v||this.G)&&this.Hk()):(this.Hk(),this.P&&this.bp(b));break;case 4:this.s||
this.D||this.v||this.G?(this.Kp(a),(this.v||this.G)&&this.Jk()):(this.Jk(),this.P&&this.qr(b))}this.dh()};qa.prototype.pg=function(a){this.Oj&&(this.Lf+=y.$q,this.zi(a),this.Oj=!1)};qa.prototype.Gl=function(a){this.la?this.counter+=1:this.pr(a)};qa.prototype.$m=function(){var a=this.B;var b=a.I>>4,c=a.L>>4,d,f=0,e=this.kc;for(a=(this.counter&1?this.va:this.Ta)[a.J];b<=c;b+=1)if(d=a[b])f+=e[d],a[b]=0;this.A-=f;this.ga+=f};qa.prototype.pr=function(a){var b=this.B,c=this.hb;this.Tj=0;this.Oj=this.counter!==
this.Lf-1||a?!1:!0;-1===this.O||this.Ea||this.Yo();this.gd&&this.pq();this.D?null===this.Ab?this.mo():this.Zn():this.s?this.Tn():this.Ea?this.ba.Da(this.counter):this.ja?this.Rn():this.aa?this.Go():this.G||(this.Co(),this.eb&&-1!==this.Zd&&this.$m());this.counter+=1;if(this.ja||this.s)this.yb?--this.ac:this.ac+=1,this.ac>this.Ue&&(this.Ue=this.ac);-1===this.i||this.Ea||this.s||this.D||this.v||this.G||(a=performance.now(),V.S&&V.rE&&this.view.i?(0!==(this.counter&1)?xa.ns(this.h.o.byteOffset|0,this.m.o.byteOffset|
0,this.wa.o.byteOffset|0,16,2,this.K|0,this.F|0,this.Rd.o.byteOffset|0,this.H.o.byteOffset|0,this.h[0].length|0,this.da.byteOffset|0,this.u|0,this.i+this.u-1|0,(0<this.u?1:0)|0,this.width|0,this.height|0):xa.ns(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.K|0,this.F|0,this.grid.o.byteOffset|0,this.j.o.byteOffset|0,this.h[0].length|0,this.da.byteOffset|0,this.u|0,this.i+this.u-1|0,(0<this.u?1:0)|0,this.width|0,this.height|0),this.A=this.da[0],this.na=this.da[1],this.ga=
this.da[2],this.B.I=this.da[3],this.B.J=this.da[4],this.B.L=this.da[5],this.B.M=this.da[6]):this.ns(),a=performance.now()-a,V.Db&&this.view.C.h("nextGenerations",a,V.S&&V.rE&&this.view.i));this.v&&this.ro();this.G&&this.Jn();this.gd&&this.mq();-1===this.O||this.Ea||this.So();if(this.width===this.fa||this.height===this.fa)if(a=this.Ea?this.ba.type===this.W.j?(b.M+2*this.ba.m-(b.J-2*this.ba.m)+1+(b.L+2*this.ba.m-(b.I-2*this.ba.m)+1-1)/2|0)>this.height?b.J>this.height-b.M?b.J+1:this.height-b.M:2*this.ba.m:
2*this.ba.m:this.G||this.D?1:16,b.I<a||b.L>=this.fa-a||b.J<a||b.M>=this.fa-a){var d=this.A;this.Ea?this.fn(2*this.ba.m+1,a+1):this.D||this.s?this.cm():this.G?this.dn():this.en();d!==this.A&&(this.Tj=this.A-d,this.Nb=!0,this.Wb(),this.view.Yc&&this.view.C.notification.notify("Cells killed after hitting boundary",15,120,15,!0))}0<this.A&&(b.I<c.I&&(c.I=b.I),b.L>c.L&&(c.L=b.L),b.J<c.J&&(c.J=b.J),b.M>c.M&&(c.M=b.M))};qa.prototype.ei=function(){var a=this.counter>>y.lk,b=this.counter&(1<<y.lk)-1;this.counter<
y.bs&&(this.A>this.Rg&&(this.Rg=this.A),this.na>this.Mh&&(this.Mh=this.na),this.ga>this.Og&&(this.Og=this.ga),this.ad&&0<this.ad.length&&(this.counter>=this.Xg&&(Array.lq(this.ad,"Life.popGraphData"),Array.lq(this.Zf,"Life.birthGraphData"),Array.lq(this.eg,"Life.deathGraphData"),this.Xg+=1<<y.lk),this.ad[a][b]=this.A,this.Zf[a][b]=this.na,this.eg[a][b]=this.ga))};qa.prototype.Ej=function(a,b,c,d,f,e,g,k){var l=1,m,n=(1<<y.lk)-1,q=y.bs;var p=this.counter;p>q&&(p=q);p>c&&(l=c/p);if(k){a.strokeStyle=
b;a.beginPath();var r=d-g[0][0]/this.Qd*d|0;a.moveTo(e+.5,r+f+e+.5)}else a.fillStyle=b;g.length<<y.lk<q&&(q=g.length<<y.lk);var u=0;for(b=p=1;b<c;b+=1){if(p<q){var t=p>>y.lk;r=p&n;var v=m=g[t][r];u+=l;for(p+=1;0===(u|0)&&p<q;)t=p>>y.lk,r=p&n,t=g[t][r],p+=1,t>v&&(v=t),t<m&&(m=t),u+=l;--u}else v=m=0;b<=this.counter&&(t=e+1+b,r=d-m/this.Qd*d|0,k?(a.lineTo(t+.5,r+f+e+.5),m!==v&&(r=d-v/this.Qd*d|0,a.lineTo(t+.5,r+f+e+.5))):0<m&&0<v&&(m!==v&&(r=d-v/this.Qd*d|0),a.fillRect(t+.5,r+f+e+.5,1,1)))}k&&a.stroke()};
qa.prototype.ll=function(a,b,c,d,f){var e=this.oa,g=f.h.s,k=40*f.h.B,l=40*g,m=this.displayWidth-l,n=this.displayHeight-k-l,q=this.counter,p="rgb("+this.Md[0]+","+this.Md[1]+","+this.Md[2]+")",r="rgb("+this.Ld[0]+","+this.Ld[1]+","+this.Ld[2]+")",u="rgb("+this.Kd[0]+","+this.Kd[1]+","+this.Kd[2]+")",t="rgb("+this.Nd[0]+","+this.Nd[1]+","+this.Nd[2]+")",v="rgb("+this.Od[0]+","+this.Od[1]+","+this.Od[2]+")";this.ei();if(this.ad&&0<this.ad.length){c?(n=this.displayHeight,k=0):d&&(n=this.displayHeight,
k=0,m=this.displayWidth,l=0);var A=m-l;q>y.bs&&(q=y.bs);this.Qd=0;-1===this.O&&(f.th&&(this.Qd=this.Mh),f.uh&&this.Og>this.Qd&&(this.Qd=this.Og));f.vh&&this.Rg>this.Qd&&(this.Qd=this.Rg);e.save();e.fillStyle=p;e.globalAlpha=b;e.fillRect(0,k,m+l,n);e.globalAlpha=1;c&&(n-=l);if(!d){e.font=(16*g|0)+"px Arial";e.textAlign="center";e.fillStyle=f.C.dc;for(b=2;0<=b;b-=2)e.save(),e.translate(this.displayWidth/2,n+l/2-(6*g|0)),e.fillText("Generation",b,b),e.restore(),e.save(),e.translate(l/2+(6*g|0),this.displayHeight/
2),e.rotate(-90*Math.PI/180),320>this.displayHeight?e.fillText("Pop",b,b):e.fillText("Population",b,b),e.restore(),e.fillStyle=r;e.fillStyle=f.C.dc;for(b=2;0<=b;b-=2)e.save(),e.translate(l-l/2+(6*g|0),k+l),e.rotate(-90*Math.PI/180),e.fillText(String(this.Qd),b,b),e.restore(),e.save(),e.translate(l-l/2+(6*g|0),n),e.rotate(-90*Math.PI/180),e.fillText("0",b,b),e.restore(),e.save(),e.translate(l,n+l/2-(6*g|0)),e.fillText("0",b,b),e.restore(),e.save(),e.translate(m,n+l/2-(6*g|0)),e.fillText(String(q>A?
q:A|0),b,b),e.restore(),e.fillStyle=r}-1===this.O&&(f.uh&&this.Ej(e,v,A,n-k-l,k,l,this.eg,a),f.th&&this.Ej(e,t,A,n-k-l,k,l,this.Zf,a));(-1!==this.O||f.vh)&&this.Ej(e,u,A,n-k-l,k,l,this.ad,a);-1!==this.O||f.uh||f.th||f.vh||(e.save(),e.font=(24*g|0)+"px Arial",e.translate(this.displayWidth/2,this.displayHeight/2),e.fillStyle=f.C.dc,e.fillText("Select Data",2,2),e.fillStyle=r,e.fillText("Select Data",0,0),e.restore());e.strokeStyle=r;e.lineWidth=1;e.beginPath();e.moveTo(l+.5,k+l+.5);e.lineTo(l+.5,n+
.5);e.lineTo(m+.5,n+.5);e.lineTo(m+.5,n+2.5);e.moveTo(l+.5,n+.5);e.lineTo(l+.5,n+2.5);e.moveTo(l+.5,n+.5);e.lineTo(l+.5-2,n+.5);e.moveTo(l+.5,k+l+.5);e.lineTo(l+.5-2,k+l+.5);e.stroke();e.restore()}};qa.prototype.ci=function(){var a;if(this.ad&&0<this.ad.length){if(0<this.counter)for(a=0;a<this.ad.length;a+=1)this.ad[a].fill(0),this.Zf[a].fill(0),this.eg[a].fill(0);this.ad[0][0]=this.A}this.Rg=this.A;this.Mh=this.na;this.Og=this.ga};qa.prototype.Zh=function(){var a=this.B,b=this.hb;b.I=a.I;b.L=a.L;
b.M=a.M;b.J=a.J};qa.prototype.pq=function(){var a,b,c,d,f=this.gd,e=this.Oe,g=this.he,k=this.yd,l=this.K,m=this.F>>4,n;var q=0;var p=0!==(this.counter&1)?this.Ta:this.va;for(a=0;a<l;a+=1){var r=0;var u=k[a];for(b=0;b<m;b+=1)if(n=u[b])for(c=15;0<=c;--c){if(0!==(n&1<<c))for(d=q;d<q+16;d+=1)e[d][r]=(p[d][r]|g[d][r])&f[d][r];r+=1}else r+=16;q+=16}};qa.prototype.mq=function(){var a,b,c,d,f,e=this.kc,g=this.Oe,k=this.he,l=this.yd,m=this.K,n=this.F>>4,q;var p=0!==(this.counter&1)?this.Ta:this.va;for(a=f=
0;a<m;a+=1){var r=0;var u=l[a];for(b=0;b<n;b+=1)if(q=u[b])for(c=15;0<=c;--c){if(0!==(q&1<<c))for(d=f;d<f+16;d+=1){var t=p[d][r];var v=t&~g[d][r];var A=t&~k[d][r];v!==t&&(p[d][r]=v,v=e[t]-e[v],t=e[t]-e[A],this.A-=v,this.na-=t,this.ga+=v-t)}r+=1}else r+=16;f+=16}};qa.prototype.Cj=function(a,b,c,d){var f,e,g=this.$d,k=0,l=this.cc[k],m=this.ec[k],n=0,q=y.Pm,p=q-1,r=0,u=q,t=this.tf,v=this.Ia,A=this.Ga,w=this.i+this.u-2,B=0;l[n]=a;m[n]=b;n+=1;-1===this.i&&(w=this.xa);if(c[b][a>>4]&1<<(~a&15)){c[b][a>>4]&=
~(1<<(~a&15));B+=1;if(this.v)switch(d[b][a]){case 3:case 4:w=4;break;case 7:case 8:w=8;break;case 9:w=10;break;case 11:w=12;break;case 13:case 15:case 17:case 19:case 21:case 23:case 25:w=0;break;default:w=2}d[b][a]=w}for(;0<n;)for(--n,n<r&&(--k,r-=q,u-=q,l=this.cc[k],m=this.ec[k]),a=l[n&p],b=m[n&p],e=b-t;e<=b+t;){for(f=a-t;f<=a+t;){if(f===(f&v)&&e===(e&A)&&0!==(c[e][f>>4]&1<<(~f&15))){c[e][f>>4]&=~(1<<(~f&15));B+=1;if(this.v)switch(d[e][f]){case 3:case 4:w=4;break;case 7:case 8:w=8;break;case 9:w=
10;break;case 11:w=12;break;case 13:case 15:case 17:case 19:case 21:case 23:case 25:w=0;break;default:w=2}d[e][f]=w;n===u&&(k+=1,r+=q,u+=q,k>g&&(this.cc[k]=this.T.h(ra.Ad,q,"Life.boundaryX"+k,!1),this.ec[k]=this.T.h(ra.Ad,q,"Life.boundaryY"+k,!1),this.$d=g+=1),l=this.cc[k],m=this.ec[k]);l[n&p]=f;m[n&p]=e;n+=1}f+=1}e+=1}this.A-=B;this.ga+=B};qa.prototype.Lk=function(a,b,c,d){for(var f=c[b][a],e=15;0<=e;)0!==(f&1<<e)&&this.Cj((a<<4)+(~e&15),b,c,d),--e};qa.prototype.Np=function(a,b,c){this.Cj(0,a,b,
c)};qa.prototype.Op=function(a,b,c,d){this.Cj((a<<4)+15,b,c,d)};qa.prototype.en=function(){var a=this.h,b;this.v&&0!==(this.counter&1)&&(a=this.R);var c=0!==(this.counter&1)?this.Ta:this.va;var d=c.length;var f=c[0].length;var e=c[0];var g=c[d-1];for(b=0;b<f;)e[b]&&this.Lk(b,0,c,a),g[b]&&this.Lk(b,d-1,c,a),b+=1;for(b=0;b<d;)0!==(c[b][0]&32768)&&this.Np(b,c,a),0!==(c[b][f-1]&1)&&this.Op(f-1,b,c,a),b+=1};qa.prototype.Yh=function(a,b){var c,d=this.h,f,e=this.$d,g=0,k=this.cc[g],l=this.ec[g],m=0,n=y.Pm,
q=n-1,p=0,r=n,u=this.Ia,t=this.Ga,v=this.tf,A=this.s?this.u:0,w=0;0!==(this.counter&1)&&(d=this.R);k[m]=a;l[m]=b;m+=1;d[b][a]>A&&(w=this.s?w+this.kc[d[b][a]-this.u]:w+1,d[b][a]=A);for(;0<m;)for(--m,m<p&&(--g,p-=n,r-=n,k=this.cc[g],l=this.ec[g]),a=k[m&q],b=l[m&q],c=b-v;c<=b+v;){var B=a-v;for(f=d[c];B<=a+v;)B===(B&u)&&c===(c&t)&&f[B]>A&&(w=this.s?w+this.kc[f[B]-this.u]:w+1,f[B]=A,m===r&&(g+=1,p+=n,r+=n,g>e&&(this.cc[g]=this.T.h(ra.Ad,n,"Life.boundaryX"+g,!1),this.ec[g]=this.T.h(ra.Ad,n,"Life.boundaryY"+
g,!1),this.$d=e+=1),k=this.cc[g],l=this.ec[g]),k[m&q]=B,l[m&q]=c,m+=1),B+=1;c+=1}this.A-=w;this.ga+=w};qa.prototype.Th=function(a,b){var c,d=this.h,f,e=this.$d,g=0,k=this.cc[g],l=this.ec[g],m=0,n=y.Pm,q=n-1,p=0,r=n,u=this.Ia,t=this.Ga,v=this.tf,A=0;0!==(this.counter&1)&&(d=this.R);k[m]=a;l[m]=b;m+=1;1===d[b][a]&&(d[b][a]=0,A+=1);for(;0<m;)for(--m,m<p&&(--g,p-=n,r-=n,k=this.cc[g],l=this.ec[g]),a=k[m&q],b=l[m&q],c=b-v;c<=b+v;){var w=a-v;for(f=d[c];w<=a+v;)w===(w&u)&&c===(c&t)&&1===f[w]&&(f[w]=0,A+=
1,m===r&&(g+=1,p+=n,r+=n,g>e&&(this.cc[g]=this.T.h(ra.Ad,n,"Life.boundaryX"+g,!1),this.ec[g]=this.T.h(ra.Ad,n,"Life.boundaryY"+g,!1),this.$d=e+=1),k=this.cc[g],l=this.ec[g]),k[m&q]=w,l[m&q]=c,m+=1),w+=1;c+=1}this.A-=A;this.ga+=A};qa.prototype.Vh=function(a,b){var c,d=this.h,f,e=this.$d,g=0,k=this.cc[g],l=this.ec[g],m=0,n=y.Pm,q=n-1,p=0,r=n,u=this.Ia,t=this.Ga,v=y.xa,A=y.pe,w=this.tf,B=0;k[m]=a;l[m]=b;m+=1;d[b][a]>=v&&(d[b][a]=A,B+=1);for(;0<m;)for(--m,m<p&&(--g,p-=n,r-=n,k=this.cc[g],l=this.ec[g]),
a=k[m&q],b=l[m&q],c=b-w;c<=b+w;){var C=a-w;for(f=d[c];C<=a+w;)C===(C&u)&&c===(c&t)&&f[C]>=v&&(f[C]=A,B+=1,m===r&&(g+=1,p+=n,r+=n,g>e&&(this.cc[g]=this.T.h(ra.Ad,n,"Life.boundaryX"+g,!1),this.ec[g]=this.T.h(ra.Ad,n,"Life.boundaryY"+g,!1),this.$d=e+=1),k=this.cc[g],l=this.ec[g]),k[m&q]=C,l[m&q]=c,m+=1),C+=1;c+=1}this.A-=B;this.ga+=B};qa.prototype.Wh=function(a,b){var c,d=this.h,f,e=this.$d,g=0,k=this.cc[g],l=this.ec[g],m=0,n=y.Pm,q=n-1,p=0,r=n,u=this.Ia,t=this.Ga,v=this.i+this.u-1,A=this.i+this.u-2,
w=this.tf,B=0;k[m]=a;l[m]=b;m+=1;d[b][a]===v&&(d[b][a]=A,B+=1);for(;0<m;)for(--m,m<p&&(--g,p-=n,r-=n,k=this.cc[g],l=this.ec[g]),a=k[m&q],b=l[m&q],c=b-w;c<=b+w;){var C=a-w;for(f=d[c];C<=a+w;)C===(C&u)&&c===(c&t)&&f[C]===v&&(f[C]=A,B+=1,m===r&&(g+=1,p+=n,r+=n,g>e&&(this.cc[g]=this.T.h(ra.Ad,n,"Life.boundaryX"+g,!1),this.ec[g]=this.T.h(ra.Ad,n,"Life.boundaryY"+g,!1),this.$d=e+=1),k=this.cc[g],l=this.ec[g]),k[m&q]=C,l[m&q]=c,m+=1),C+=1;c+=1}this.A-=B;this.ga+=B};qa.prototype.cm=function(){var a=this.h,
b=a.length,c=a[0].length,d=this.B,f=d.I,e=d.L,g=d.J,k=d.M,l=this.s?this.u:0,m,n;0!==(this.counter&1)&&(a=this.R);if(1>=b-k-1){for(n=b-1-1;n<=k;n+=1){var q=a[n];for(m=f;m<=e;m+=1)q[m]>l&&this.Yh(m,n)}d.M=b-1}if(1>=g){for(n=g;1>=n;n+=1)for(q=a[n],m=f;m<=e;m+=1)q[m]>l&&this.Yh(m,n);d.J=1}if(1>=f){for(n=g;n<=k;n+=1)for(q=a[n],m=f;1>=m;m+=1)q[m]>l&&this.Yh(m,n);d.I=1}if(1>=c-e-1){for(n=g;n<=k;n+=1)for(q=a[n],m=c-1-1;m<=e;m+=1)q[m]>l&&this.Yh(m,n);d.L=c-1}};qa.prototype.dn=function(){var a=this.h,b=a.length,
c=a[0].length,d=this.B,f=d.I,e=d.L,g=d.J,k=d.M,l,m;0!==(this.counter&1)&&(a=this.R);if(1>=b-k-1){for(m=b-1-1;m<=k;m+=1){var n=a[m];for(l=f;l<=e;l+=1)0<n[l]&&this.Th(l,m)}d.M=b-1}if(1>=g){for(m=g;1>=m;m+=1)for(n=a[m],l=f;l<=e;l+=1)0<n[l]&&this.Th(l,m);d.J=1}if(1>=f){for(m=g;m<=k;m+=1)for(n=a[m],l=f;1>=l;l+=1)0<n[l]&&this.Th(l,m);d.I=1}if(1>=c-e-1){for(m=g;m<=k;m+=1)for(n=a[m],l=c-1-1;l<=e;l+=1)0<n[l]&&this.Th(l,m);d.L=c-1}};qa.prototype.fn=function(a,b){var c=this.h,d=c.length,f=c[0].length,e=this.B,
g=e.I,k=e.L,l=e.J,m=e.M,n=2<this.i?this.i+this.u-1:y.xa,q,p;if(d-m-1<=b){for(p=d-b-1;p<=m;p+=1){var r=c[p];for(q=g;q<=k;q+=1)r[q]>=n&&(2===this.i?this.Vh(q,p):this.Wh(q,p))}e.M=d-b}if(l<=b){for(p=l;p<=b;p+=1)for(r=c[p],q=g;q<=k;q+=1)r[q]>=n&&(2===this.i?this.Vh(q,p):this.Wh(q,p));e.J=b}if(g<=a){for(p=l;p<=m;p+=1)for(r=c[p],q=g;q<=a;q+=1)r[q]>=n&&(2===this.i?this.Vh(q,p):this.Wh(q,p));e.I=a}if(f-k-1<=a){for(p=l;p<=m;p+=1)for(r=c[p],q=f-a-1;q<=k;q+=1)r[q]>=n&&(2===this.i?this.Vh(q,p):this.Wh(q,p));
e.L=f-a}};qa.prototype.Go=function(){var a=this.Jg,b,c,d,f,e,g=this.U,k,l=this.height,m=this.width,n=m>>4,q=this.B,p=l,r=-1,u=m,t=-1,v=this.K,A=this.F>>4,w=this.ca;var B=0;var C=v,O=this.kc,M=0,K=0,L=0;if(0!==(this.counter&1)){var U=this.Ta;var X=this.va;var H=this.H;var R=this.j;this.eb&&(a=this.Lh)}else U=this.va,X=this.Ta,H=this.j,R=this.H;g.fill(0);0>B&&(B=0);C>v&&(C=v);var P=B<<4;var S=P+16;R.o.fill(0);for(c=B;c<C;c+=1){var aa=0;var pa=H[c];var ha=R[c];var ca=0<c?R[c-1]:w;var ia=c<v-1?R[c+1]:
w;for(d=0;d<A;d+=1)if(f=pa[d]){var na=ha[d];var ja=ca[d];var W=ia[d];for(b=15;0<=b;--b){if(0!==(f&1<<b)){var ma=k=0;var ea=P;var Z=0===ea?this.Hd:U[ea-1];var Y=U[ea];B=U[ea+1];var oa=e=Y[aa];Z=Z[aa-1]<<18|Z[aa]<<2|Z[aa+1]>>14;var Q=Y[aa-1]<<18|e<<2|Y[aa+1]>>14;var F=B[aa-1]<<18|B[aa]<<2|B[aa+1]>>14;var z=a[Z>>7&7936|F>>11&224|Q>>15&31]<<15;z|=a[F>>6&7936|Z>>10&224|Q>>14&31]<<14;z|=a[Z>>5&7936|F>>9&224|Q>>13&31]<<13;z|=a[F>>4&7936|Z>>8&224|Q>>12&31]<<12;z|=a[Z>>3&7936|F>>7&224|Q>>11&31]<<11;z|=a[F>>
2&7936|Z>>6&224|Q>>10&31]<<10;z|=a[Z>>1&7936|F>>5&224|Q>>9&31]<<9;z|=a[F>>0&7936|Z>>4&224|Q>>8&31]<<8;z|=a[Z<<1&7936|F>>3&224|Q>>7&31]<<7;z|=a[F<<2&7936|Z>>2&224|Q>>6&31]<<6;z|=a[Z<<3&7936|F>>1&224|Q>>5&31]<<5;z|=a[F<<4&7936|Z>>0&224|Q>>4&31]<<4;z|=a[Z<<5&7936|F<<1&224|Q>>3&31]<<3;z|=a[F<<6&7936|Z<<2&224|Q>>2&31]<<2;z|=a[Z<<7&7936|F<<3&224|Q>>1&31]<<1;z|=a[F<<8&7936|Z<<4&224|Q>>0&31]<<0;X[ea][aa]=z;M+=O[z];K+=O[z&~e];L+=O[e&~z];z&&(k|=z,ea<p&&(p=ea),ea>r&&(r=ea),0!==(z&49152)&&(ma|=y.Qa),0!==(z&3)&&
(ma|=y.Ra),ma|=y.Oa);for(ea+=1;ea<S-1;){e=B[aa];oa|=e;B=U[ea+1];Z=Q;Q=F;F=B[aa-1]<<18|B[aa]<<2|B[aa+1]>>14;0!==(ea&1)&&(Y=Z,Z=F,F=Y);z=a[Z>>7&7936|F>>11&224|Q>>15&31]<<15;z|=a[F>>6&7936|Z>>10&224|Q>>14&31]<<14;z|=a[Z>>5&7936|F>>9&224|Q>>13&31]<<13;z|=a[F>>4&7936|Z>>8&224|Q>>12&31]<<12;z|=a[Z>>3&7936|F>>7&224|Q>>11&31]<<11;z|=a[F>>2&7936|Z>>6&224|Q>>10&31]<<10;z|=a[Z>>1&7936|F>>5&224|Q>>9&31]<<9;z|=a[F>>0&7936|Z>>4&224|Q>>8&31]<<8;z|=a[Z<<1&7936|F>>3&224|Q>>7&31]<<7;z|=a[F<<2&7936|Z>>2&224|Q>>6&31]<<
6;z|=a[Z<<3&7936|F>>1&224|Q>>5&31]<<5;z|=a[F<<4&7936|Z>>0&224|Q>>4&31]<<4;z|=a[Z<<5&7936|F<<1&224|Q>>3&31]<<3;z|=a[F<<6&7936|Z<<2&224|Q>>2&31]<<2;z|=a[Z<<7&7936|F<<3&224|Q>>1&31]<<1;z|=a[F<<8&7936|Z<<4&224|Q>>0&31]<<0;M+=O[z];K+=O[z&~e];L+=O[e&~z];0!==(ea&1)&&(F=Y=Z);if(X[ea][aa]=z)k|=z,ea<p&&(p=ea),ea>r&&(r=ea);ea+=1}e=B[aa];oa|=e;B=ea===this.height-1?this.Hd:U[ea+1];Z=Q;Q=F;F=B[aa-1]<<18|B[aa]<<2|B[aa+1]>>14;0!==(ea&1)&&(Y=Z,Z=F,F=Y);z=a[Z>>7&7936|F>>11&224|Q>>15&31]<<15;z|=a[F>>6&7936|Z>>10&224|
Q>>14&31]<<14;z|=a[Z>>5&7936|F>>9&224|Q>>13&31]<<13;z|=a[F>>4&7936|Z>>8&224|Q>>12&31]<<12;z|=a[Z>>3&7936|F>>7&224|Q>>11&31]<<11;z|=a[F>>2&7936|Z>>6&224|Q>>10&31]<<10;z|=a[Z>>1&7936|F>>5&224|Q>>9&31]<<9;z|=a[F>>0&7936|Z>>4&224|Q>>8&31]<<8;z|=a[Z<<1&7936|F>>3&224|Q>>7&31]<<7;z|=a[F<<2&7936|Z>>2&224|Q>>6&31]<<6;z|=a[Z<<3&7936|F>>1&224|Q>>5&31]<<5;z|=a[F<<4&7936|Z>>0&224|Q>>4&31]<<4;z|=a[Z<<5&7936|F<<1&224|Q>>3&31]<<3;z|=a[F<<6&7936|Z<<2&224|Q>>2&31]<<2;z|=a[Z<<7&7936|F<<3&224|Q>>1&31]<<1;z|=a[F<<8&7936|
Z<<4&224|Q>>0&31]<<0;M+=O[z];K+=O[z&~e];L+=O[e&~z];if(X[ea][aa]=z)k|=z,ea<p&&(p=ea),ea>r&&(r=ea),0!==(z&49152)&&(ma|=y.Sa),0!==(z&3)&&(ma|=y.Ma),ma|=y.Na;k&&(0!==(k&49152)&&(ma|=y.Ka),0!==(k&3)&&(ma|=y.Ha));g[aa]|=k;if(k||oa)na|=1<<b,ma&&(0!==(ma&y.Ka)&&(15>b?na|=1<<b+1:0<d&&0<aa&&(ha[d-1]|=1)),0!==(ma&y.Ha)&&(0<b?na|=1<<b-1:d<A-1&&aa<n-1&&(ha[d+1]|=32768)),0!==(ma&y.Oa)&&(ja|=1<<b),0!==(ma&y.Na)&&(W|=1<<b),0!==(ma&y.Qa)&&(15>b?ja|=1<<b+1:0<d&&0<aa&&(ca[d-1]|=1)),0!==(ma&y.Ra)&&(0<b?ja|=1<<b-1:d<
A-1&&aa<n-1&&(ca[d+1]|=32768)),0!==(ma&y.Sa)&&(15>b?W|=1<<b+1:0<d&&0<aa&&(ia[d-1]|=1)),0!==(ma&y.Ma)&&(0<b?W|=1<<b-1:d<A-1&&aa<n-1&&(ia[d+1]|=32768)))}aa+=1}ha[d]|=na;0<c&&(ca[d]|=ja);c<v-1&&(ia[d]|=W)}else aa+=16;P+=16;S+=16}for(d=0;d<n;d+=1)g[d]&&(d<u&&(u=d),d>t&&(t=d));u=(u<<4)+this.Xb(g[u]);t=(t<<4)+this.$b(g[t]);0>r&&(r=l-1);p>=l&&(p=0);u>=m&&(u=0);0>t&&(t=m-1);r>l-1&&(r=l-1);0>p&&(p=0);0>u&&(u=0);t>m-1&&(t=m-1);q.M=r;q.J=p;q.I=u;q.L=t;w.fill(0);this.A=M;this.na=K;this.ga=L};qa.prototype.Rn=
function(){var a=this.Ie,b,c,d,f=this.ta,e=this.U,g,k=this.height,l=this.width,m=l>>4,n=this.B,q=k,p=-1,r=l,u=-1,t=this.K,v=this.F>>4,A=this.ca,w=this.kc,B=0,C=0,O=0,M=this.counter&1;this.Zb&&(this.yb=!this.yb,this.Zb=!1);if(0!==M){var K=this.Ta;var L=this.va;var U=this.H;var X=this.j;this.yb&&(a=this.Cb)}else K=this.va,L=this.Ta,U=this.j,X=this.H,this.eb&&(a=this.Jf),this.yb&&(a=this.eb?this.Je:this.Cb);this.yb&&(M=1-M);e.fill(0);var H=1-M;var R=H+16;X.o.fill(0);for(c=0;c<U.length;c+=1){var P=0;
var S=U[c];var aa=X[c];var pa=f[c];var ha=0<c?X[c-1]:A;var ca=c<t-1?X[c+1]:A;for(d=0;d<v;d+=1){var ia=S[d];var na=0;if(ia){var ja=aa[d];var W=ha[d];var ma=ca[d];for(b=15;0<=b;--b){var ea=0===b&&d===v-1?!0:!1;if(0!==(ia&1<<b)){var Z=g=0;if(0!==M){var Y=H;var oa=K[Y][P];var Q=K[Y+1][P];var F=oa|Q;var z=a[oa&65280|Q>>8];var J=z&65280;var N=(z&255)<<8;z=a[(oa&255)<<8|Q&255];J|=z>>8;N|=z&255;L[Y][P]=J;L[Y+1][P]=N;B+=w[J];C+=w[J&~oa];O+=w[oa&~J];B+=w[N];C+=w[N&~Q];O+=w[Q&~N];if(z=J|N)g|=z,J&&(Y<q&&(q=Y),
Y>p&&(p=Y)),N&&(Y+1<q&&(q=Y+1),Y+1>p&&(p=Y+1)),0!==(z&49152)&&(Z|=y.Qa),0!==(z&3)&&(Z|=y.Ra),Z|=y.Oa;for(Y+=2;Y<R-2;){oa=K[Y][P];Q=K[Y+1][P];F|=oa|Q;z=a[oa&65280|Q>>8];J=z&65280;N=(z&255)<<8;z=a[(oa&255)<<8|Q&255];J|=z>>8;N|=z&255;L[Y][P]=J;L[Y+1][P]=N;B+=w[J];C+=w[J&~oa];O+=w[oa&~J];B+=w[N];C+=w[N&~Q];O+=w[Q&~N];if(z=J|N)g|=z,J&&(Y<q&&(q=Y),Y>p&&(p=Y)),N&&(Y+1<q&&(q=Y+1),Y+1>p&&(p=Y+1));Y+=2}oa=K[Y][P];Q=K[Y+1][P];F|=oa|Q;z=a[oa&65280|Q>>8];J=z&65280;N=(z&255)<<8;z=a[(oa&255)<<8|Q&255];J|=z>>8;N|=
z&255;L[Y][P]=J;L[Y+1][P]=N;B+=w[J];C+=w[J&~oa];O+=w[oa&~J];B+=w[N];C+=w[N&~Q];O+=w[Q&~N];if(z=J|N)g|=z,J&&(Y<q&&(q=Y),Y>p&&(p=Y)),N&&(Y+1<q&&(q=Y+1),Y+1>p&&(p=Y+1)),z&&(0!==(z&49152)&&(Z|=y.Sa),0!==(z&3)&&(Z|=y.Ma),Z|=y.Na);g&&(0!==(g&49152)&&(Z|=y.Ka),0!==(g&3)&&(Z|=y.Ha),e[P]|=g);if(g||F)Z|=y.Ma,Z|=y.Ha}else{Y=H;ea?(oa=K[Y][P]<<1&65535,Q=K[Y+1][P]<<1&65535):(oa=(K[Y][P]<<1|K[Y][P+1]>>15)&65535,Q=(K[Y+1][P]<<1|K[Y+1][P+1]>>15)&65535);F=oa|Q;z=a[oa&65280|Q>>8];J=z&65280;N=(z&255)<<8;z=a[(oa&255)<<
8|Q&255];J|=z>>8;N|=z&255;ea?(L[Y][P]=L[Y][P]&32768|J>>1,L[Y+1][P]=L[Y+1][P]&32768|N>>1):(L[Y][P]=L[Y][P]&32768|J>>1,L[Y][P+1]=L[Y][P+1]&32767|(J&1)<<15,L[Y+1][P]=L[Y+1][P]&32768|N>>1,L[Y+1][P+1]=L[Y+1][P+1]&32767|(N&1)<<15);B+=w[J];C+=w[J&~oa];O+=w[oa&~J];B+=w[N];C+=w[N&~Q];O+=w[Q&~N];if(z=J|N)g|=z,J&&(Y<q&&(q=Y),Y>p&&(p=Y)),N&&(Y+1<q&&(q=Y+1),Y+1>p&&(p=Y+1));for(Y+=2;Y<R-2;){ea?(oa=K[Y][P]<<1&65535,Q=K[Y+1][P]<<1&65535):(oa=(K[Y][P]<<1|K[Y][P+1]>>15)&65535,Q=(K[Y+1][P]<<1|K[Y+1][P+1]>>15)&65535);
F|=oa|Q;z=a[oa&65280|Q>>8];J=z&65280;N=(z&255)<<8;z=a[(oa&255)<<8|Q&255];J|=z>>8;N|=z&255;ea?(L[Y][P]=L[Y][P]&32768|J>>1,L[Y+1][P]=L[Y+1][P]&32768|N>>1):(L[Y][P]=L[Y][P]&32768|J>>1,L[Y][P+1]=L[Y][P+1]&32767|(J&1)<<15,L[Y+1][P]=L[Y+1][P]&32768|N>>1,L[Y+1][P+1]=L[Y+1][P+1]&32767|(N&1)<<15);B+=w[J];C+=w[J&~oa];O+=w[oa&~J];B+=w[N];C+=w[N&~Q];O+=w[Q&~N];if(z=J|N)g|=z,J&&(Y<q&&(q=Y),Y>p&&(p=Y)),N&&(Y+1<q&&(q=Y+1),Y+1>p&&(p=Y+1));Y+=2}ea?(oa=K[Y][P]<<1&65535,Q=K[Y+1][P]<<1&65535):(oa=(K[Y][P]<<1|K[Y][P+
1]>>15)&65535,Q=(K[Y+1][P]<<1|K[Y+1][P+1]>>15)&65535);F|=oa|Q;z=a[oa&65280|Q>>8];J=z&65280;N=(z&255)<<8;z=a[(oa&255)<<8|Q&255];J|=z>>8;N|=z&255;ea?(L[Y][P]=L[Y][P]&32768|J>>1,L[Y+1][P]=L[Y+1][P]&32768|N>>1):(L[Y][P]=L[Y][P]&32768|J>>1,L[Y][P+1]=L[Y][P+1]&32767|(J&1)<<15,L[Y+1][P]=L[Y+1][P]&32768|N>>1,L[Y+1][P+1]=L[Y+1][P+1]&32767|(N&1)<<15);B+=w[J];C+=w[J&~oa];O+=w[oa&~J];B+=w[N];C+=w[N&~Q];O+=w[Q&~N];if(z=J|N)g|=z,J&&(Y<q&&(q=Y),Y>p&&(p=Y)),N&&(Y+1<q&&(q=Y+1),Y+1>p&&(p=Y+1)),0!==(z&3)&&(Z|=y.Ma),
Z|=y.Na;oa|Q&&(0!==((oa|Q)&3)&&(Z|=y.Ma),Z|=y.Na);g&&(0!==(g&3)&&(Z|=y.Ha),e[P]|=g>>1,e[P+1]|=(g&1)<<15);0!==(F&3)&&(Z|=y.Ha)}if(g||F)ja|=1<<b,Z&&(0!==(Z&y.Ka)&&(15>b?ja|=1<<b+1:0<d&&0<P&&(aa[d-1]|=1)),0!==(Z&y.Ha)&&(0<b?ja|=1<<b-1:d<v-1&&P<m-1&&(aa[d+1]|=32768)),0!==(Z&y.Oa)&&(W|=1<<b),0!==(Z&y.Na)&&(ma|=1<<b),0!==(Z&y.Qa)&&(15>b?W|=1<<b+1:0<d&&0<P&&(ha[d-1]|=1)),0!==(Z&y.Ra)&&(0<b?W|=1<<b-1:d<v-1&&P<m-1&&(ha[d+1]|=32768)),0!==(Z&y.Sa)&&(15>b?ma|=1<<b+1:0<d&&0<P&&(ca[d-1]|=1)),0!==(Z&y.Ma)&&(0<b?
ma|=1<<b-1:d<v-1&&P<m-1&&(ca[d+1]|=32768)));0===g&&F&&(na|=1<<b)}P+=1}aa[d]|=ja;0<c&&(ha[d]|=W);c<t-1&&(ca[d]|=ma)}else P+=16;pa[d]=na}H+=16;R+=16;R>=k&&(R=k-1)}for(d=0;d<m;d+=1)e[d]&&(d<r&&(r=d),d>u&&(u=d));r=(r<<4)+this.Xb(e[r]);u=(u<<4)+this.$b(e[u]);0>p&&(p=k-1);q>=k&&(q=0);r>=l&&(r=0);0>u&&(u=l-1);p>k-1&&(p=k-1);0>q&&(q=0);0>r&&(r=0);u>l-1&&(u=l-1);n.M=p;n.J=q;n.I=r;n.L=u;A.fill(0);this.dm(K);this.A=B;this.na=C;this.ga=O};qa.prototype.Co=function(){var a=performance.now();V.S&&V.qE&&this.view.i?
(xa.Gl(this.va.o.byteOffset|0,this.Ta.o.byteOffset|0,this.va[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.j[0].length|0,this.hg.byteOffset|0,(this.eb?this.Bf.byteOffset:0)|0,(this.eb?1:0)|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.width|0,this.height|0,2,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.Hd.byteOffset|0,this.$|0,this.Z|0,this.O|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.j.o.byteLength|
0,this.da.byteOffset|0),this.A=this.da[0],this.na=this.da[1],this.ga=this.da[2],this.B.I=this.da[3],this.B.J=this.da[4],this.B.L=this.da[5],this.B.M=this.da[6]):this.Eo();a=performance.now()-a;V.Db&&this.view.C.h("nextGeneration",a,V.S&&V.qE&&this.view.i)};qa.prototype.Eo=function(){var a=this.hg,b,c,d,f,e,g,k=this.U,l,m=this.X,n,q=this.kc,p=0,r=0,u=0,t=this.height,v=this.width,A=v>>4,w=this.B,B=t,C=-1,O=v,M=-1,K=this.K,L=this.F>>4,U=this.ca,X=this.$,H=this.Z,R=Math.round((this.width-X)/2),P=Math.round((this.height-
H)/2),S=R+X-1,aa=P+H-1;if(0!==(this.counter&1)){var pa=this.Ta;var ha=this.va;var ca=this.H;var ia=this.j;this.eb&&(a=this.Bf)}else pa=this.va,ha=this.Ta,ca=this.j,ia=this.H;k.fill(0);m.fill(0);var na=0;var ja=na+16;ia.o.fill(0);for(d=0;d<ca.length;d+=1){var W=0;var ma=ca[d];var ea=ia[d];var Z=0<d?ia[d-1]:U;var Y=d<K-1?ia[d+1]:U;for(f=0;f<L;f+=1)if(e=ma[f]){var oa=ea[f];var Q=Z[f];var F=Y[f];for(b=15;0<=b;--b){if(0!==(e&1<<b)){var z=n=l=0;var J=na;var N=32768;var I=0===J?this.Hd:pa[J-1];var x=pa[J];
var E=pa[J+1];var la=g=x[W];if(W)if(W>=A-1){I=(I[W-1]&1)<<17|I[W]<<1;x=(x[W-1]&1)<<17|g<<1;var ba=(E[W-1]&1)<<17|E[W]<<1;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,p+=q[c],0!==(c&32768)&&(z|=y.Qa),z|=y.Oa;ha[J][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);J+=1;for(N>>=1;J<ja-1;){g=E[W];la|=g;E=pa[J+1];I=x;x=ba;ba=(E[W-1]&1)<<17|E[W]<<1;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<
12,c|=a[I>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,p+=q[c];ha[J][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);J+=1;N>>=1}g=E[W];la|=g;E=J===this.height-1?this.Hd:pa[J+1];I=x;x=ba;ba=(E[W-1]&1)<<17|E[W]<<1;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,p+=q[c],0!==(c&32768)&&(z|=y.Sa),z|=y.Na}else{I=(I[W-1]&1)<<
17|I[W]<<1|I[W+1]>>15;x=(x[W-1]&1)<<17|g<<1|x[W+1]>>15;ba=(E[W-1]&1)<<17|E[W]<<1|E[W+1]>>15;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,p+=q[c],0!==(c&32768)&&(z|=y.Qa),0!==(c&1)&&(z|=y.Ra),z|=y.Oa;ha[J][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);J+=1;N>>=1;g=E[W];la|=g;E=pa[J+1];I=x;x=ba;ba=(E[W-1]&1)<<17|E[W]<<1|E[W+1]>>15;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>
8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,p+=q[c];ha[J][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);J+=1;N>>=1;g=E[W];la|=g;E=pa[J+1];I=x;x=ba;ba=(E[W-1]&1)<<17|E[W]<<1|E[W+1]>>15;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,p+=q[c];ha[J][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);J+=1;N>>=1;g=E[W];la|=g;E=pa[J+1];I=x;
x=ba;ba=(E[W-1]&1)<<17|E[W]<<1|E[W+1]>>15;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,p+=q[c];ha[J][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);J+=1;N>>=1;g=E[W];la|=g;E=pa[J+1];I=x;x=ba;ba=(E[W-1]&1)<<17|E[W]<<1|E[W+1]>>15;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=
c,n|=N,p+=q[c];ha[J][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);J+=1;N>>=1;g=E[W];la|=g;E=pa[J+1];I=x;x=ba;ba=(E[W-1]&1)<<17|E[W]<<1|E[W+1]>>15;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,p+=q[c];ha[J][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);J+=1;N>>=1;g=E[W];la|=g;E=pa[J+1];I=x;x=ba;ba=(E[W-1]&1)<<17|E[W]<<1|E[W+1]>>15;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>8&63|x>>2&
4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,p+=q[c];ha[J][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);J+=1;N>>=1;g=E[W];la|=g;E=pa[J+1];I=x;x=ba;ba=(E[W-1]&1)<<17|E[W]<<1|E[W+1]>>15;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,p+=q[c];ha[J][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);J+=1;N>>=1;g=E[W];la|=g;E=pa[J+1];I=x;x=ba;ba=(E[W-
1]&1)<<17|E[W]<<1|E[W+1]>>15;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,p+=q[c];ha[J][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);J+=1;N>>=1;g=E[W];la|=g;E=pa[J+1];I=x;x=ba;ba=(E[W-1]&1)<<17|E[W]<<1|E[W+1]>>15;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,
p+=q[c];ha[J][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);J+=1;N>>=1;g=E[W];la|=g;E=pa[J+1];I=x;x=ba;ba=(E[W-1]&1)<<17|E[W]<<1|E[W+1]>>15;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,p+=q[c];ha[J][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);J+=1;N>>=1;g=E[W];la|=g;E=pa[J+1];I=x;x=ba;ba=(E[W-1]&1)<<17|E[W]<<1|E[W+1]>>15;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>8&63|x>>2&4032|ba<<
4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,p+=q[c];ha[J][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);J+=1;N>>=1;g=E[W];la|=g;E=pa[J+1];I=x;x=ba;ba=(E[W-1]&1)<<17|E[W]<<1|E[W+1]>>15;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,p+=q[c];ha[J][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);J+=1;N>>=1;g=E[W];la|=g;E=pa[J+1];I=x;x=ba;ba=(E[W-1]&1)<<
17|E[W]<<1|E[W+1]>>15;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,p+=q[c];ha[J][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);J+=1;N>>=1;g=E[W];la|=g;E=pa[J+1];I=x;x=ba;ba=(E[W-1]&1)<<17|E[W]<<1|E[W+1]>>15;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,p+=q[c];
ha[J][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);J+=1;N>>=1;g=E[W];la|=g;E=J===this.height-1?this.Hd:pa[J+1];I=x;x=ba;ba=(E[W-1]&1)<<17|E[W]<<1|E[W+1]>>15;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,p+=q[c],0!==(c&32768)&&(z|=y.Sa),0!==(c&1)&&(z|=y.Ma),z|=y.Na}else{I=I[W]<<1|I[W+1]>>15;x=g<<1|x[W+1]>>15;ba=E[W]<<1|E[W+1]>>15;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>
8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,0!==(c&1)&&(z|=y.Ra),z|=y.Oa,p+=q[c];ha[J][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);J+=1;for(N>>=1;J<ja-1;){g=E[W];la|=g;E=pa[J+1];I=x;x=ba;ba=E[W]<<1|E[W+1]>>15;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,p+=q[c];ha[J][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);J+=1;N>>=1}g=
E[W];la|=g;E=J===this.height-1?this.Hd:pa[J+1];I=x;x=ba;ba=E[W]<<1|E[W+1]>>15;if(c=I|x|ba)if(c=a[I>>12|x>>12<<6|ba&258048]<<12,c|=a[I>>8&63|x>>2&4032|ba<<4&258048]<<8,c|=a[I>>4&63|x<<2&4032|ba<<8&258048]<<4,c|=a[I&63|(x&63)<<6|(ba&63)<<12])l|=c,n|=N,p+=q[c],0!==(c&1)&&(z|=y.Ma),z|=y.Na}ha[J][W]=c;c|g&&(r+=q[c&~g],u+=q[g&~c]);l&&(0!==(l&32768)&&(z|=y.Ka),0!==(l&1)&&(z|=y.Ha));k[W]|=l;if(l||la)oa|=1<<b,z&&(0!==(z&y.Ka)&&(15>b?oa|=1<<b+1:0<f&&0<W&&(ea[f-1]|=1)),0!==(z&y.Ha)&&(0<b?oa|=1<<b-1:f<L-1&&W<
A-1&&(ea[f+1]|=32768)),0!==(z&y.Oa)&&(Q|=1<<b),0!==(z&y.Na)&&(F|=1<<b),0!==(z&y.Qa)&&(15>b?Q|=1<<b+1:0<f&&0<W&&(Z[f-1]|=1)),0!==(z&y.Ra)&&(0<b?Q|=1<<b-1:f<L-1&&W<A-1&&(Z[f+1]|=32768)),0!==(z&y.Sa)&&(15>b?F|=1<<b+1:0<f&&0<W&&(Y[f-1]|=1)),0!==(z&y.Ma)&&(0<b?F|=1<<b-1:f<L-1&&W<A-1&&(Y[f+1]|=32768)));m[d]|=n}W+=1}ea[f]|=oa;0<d&&(Z[f]|=Q);d<K-1&&(Y[f]|=F)}else W+=16;na+=16;ja+=16}-1!==this.O&&(0!==X&&(k[R-1>>4]&=~(1<<(~(R-1)&15)),k[S+1>>4]&=~(1<<(~(S+1)&15)),k[R-2>>4]&=~(1<<(~(R-2)&15)),k[S+2>>4]&=~(1<<
(~(S+2)&15))),0!==H&&(m[P-1>>4]&=~(1<<(~(P-1)&15)),m[aa+1>>4]&=~(1<<(~(aa+1)&15)),m[P-2>>4]&=~(1<<(~(P-2)&15)),m[aa+2>>4]&=~(1<<(~(aa+2)&15))));for(f=0;f<A;f+=1)k[f]&&(f<O&&(O=f),f>M&&(M=f));for(d=0;d<m.length;d+=1)m[d]&&(d<B&&(B=d),d>C&&(C=d));O=(O<<4)+this.Xb(k[O]);M=(M<<4)+this.$b(k[M]);B=(B<<4)+this.Xb(m[B]);C=(C<<4)+this.$b(m[C]);0>C&&(C=t-1);B>=t&&(B=0);O>=v&&(O=0);0>M&&(M=v-1);C>t-1&&(C=t-1);0>B&&(B=0);0>O&&(O=0);M>v-1&&(M=v-1);w.M=C;w.J=B;w.I=O;w.L=M;U.fill(0);this.A=p;this.na=r;this.ga=u};
qa.prototype.km=function(a,b){var c,d=this.m,f,e,g,k,l=this.K,m=this.F>>4;var n=0;var q=n+16;for(f=0;f<l;f+=1){var p=0;var r=d[f];for(e=0;e<m;e+=1)if(k=r[e])for(g=15;0<=g;--g){if(0!==(k&1<<g))for(c=n;c<q;c+=2){var u=b[c];var t=a[c];var v=a[c+1];var A=p<<3;var w=t[A];w|=(w&257)<<5;var B=w&255;var C=B-(w>>8);B-=C&C>>255;w=v[A];w|=(w&257)<<5;C=B-(w&255);B-=C&C>>255;C=B-(w>>8);u[A+A]=B-(C&C>>255)&31;A+=1;w=t[A];w|=(w&257)<<5;B=w&255;C=B-(w>>8);B-=C&C>>255;w=v[A];w|=(w&257)<<5;C=B-(w&255);B-=C&C>>255;
C=B-(w>>8);u[A+A]=B-(C&C>>255)&31;A+=1;w=t[A];w|=(w&257)<<5;B=w&255;C=B-(w>>8);B-=C&C>>255;w=v[A];w|=(w&257)<<5;C=B-(w&255);B-=C&C>>255;C=B-(w>>8);u[A+A]=B-(C&C>>255)&31;A+=1;w=t[A];w|=(w&257)<<5;B=w&255;C=B-(w>>8);B-=C&C>>255;w=v[A];w|=(w&257)<<5;C=B-(w&255);B-=C&C>>255;C=B-(w>>8);u[A+A]=B-(C&C>>255)&31;A+=1;w=t[A];w|=(w&257)<<5;B=w&255;C=B-(w>>8);B-=C&C>>255;w=v[A];w|=(w&257)<<5;C=B-(w&255);B-=C&C>>255;C=B-(w>>8);u[A+A]=B-(C&C>>255)&31;A+=1;w=t[A];w|=(w&257)<<5;B=w&255;C=B-(w>>8);B-=C&C>>255;w=
v[A];w|=(w&257)<<5;C=B-(w&255);B-=C&C>>255;C=B-(w>>8);u[A+A]=B-(C&C>>255)&31;A+=1;w=t[A];w|=(w&257)<<5;B=w&255;C=B-(w>>8);B-=C&C>>255;w=v[A];w|=(w&257)<<5;C=B-(w&255);B-=C&C>>255;C=B-(w>>8);u[A+A]=B-(C&C>>255)&31;A+=1;w=t[A];w|=(w&257)<<5;B=w&255;C=B-(w>>8);B-=C&C>>255;w=v[A];w|=(w&257)<<5;C=B-(w&255);B-=C&C>>255;C=B-(w>>8);u[A+A]=B-(C&C>>255)&31}p+=1}else p+=16;n+=16;q+=16}};qa.prototype.Nk=function(a,b){var c,d=this.m,f,e,g,k,l=this.K,m=this.F>>4;var n=0;var q=n+16;for(f=0;f<l;f+=1){var p=0;var r=
d[f];for(e=0;e<m;e+=1)if(k=r[e])for(g=15;0<=g;--g){if(0!==(k&1<<g))for(c=n;c<q;c+=2){var u=b[c];var t=a[c];var v=a[c+1];var A=p<<3;var w=t[A];var B=w&255;var C=B-(w>>8);B-=C&C>>255;w=v[A];C=B-(w&255);B-=C&C>>255;C=B-(w>>8);u[A+A]=B-(C&C>>255);A+=1;w=t[A];B=w&255;C=B-(w>>8);B-=C&C>>255;w=v[A];C=B-(w&255);B-=C&C>>255;C=B-(w>>8);u[A+A]=B-(C&C>>255);A+=1;w=t[A];B=w&255;C=B-(w>>8);B-=C&C>>255;w=v[A];C=B-(w&255);B-=C&C>>255;C=B-(w>>8);u[A+A]=B-(C&C>>255);A+=1;w=t[A];B=w&255;C=B-(w>>8);B-=C&C>>255;w=v[A];
C=B-(w&255);B-=C&C>>255;C=B-(w>>8);u[A+A]=B-(C&C>>255);A+=1;w=t[A];B=w&255;C=B-(w>>8);B-=C&C>>255;w=v[A];C=B-(w&255);B-=C&C>>255;C=B-(w>>8);u[A+A]=B-(C&C>>255);A+=1;w=t[A];B=w&255;C=B-(w>>8);B-=C&C>>255;w=v[A];C=B-(w&255);B-=C&C>>255;C=B-(w>>8);u[A+A]=B-(C&C>>255);A+=1;w=t[A];B=w&255;C=B-(w>>8);B-=C&C>>255;w=v[A];C=B-(w&255);B-=C&C>>255;C=B-(w>>8);u[A+A]=B-(C&C>>255);A+=1;w=t[A];B=w&255;C=B-(w>>8);B-=C&C>>255;w=v[A];C=B-(w&255);B-=C&C>>255;C=B-(w>>8);u[A+A]=B-(C&C>>255)}p+=1}else p+=16;n+=16;q+=16}};
qa.prototype.wn=function(a,b){var c,d,f=this.m,e,g,k,l,m,n=this.K,q=this.F>>4;var p=0;var r=p+16;for(g=0;g<n;g+=1){var u=0;var t=f[g];for(k=0;k<q;k+=1)if(m=t[k])for(l=15;0<=l;--l){if(0!==(m&1<<l))for(c=p;c<r;c+=4){var v=b[c];var A=a[c];var w=a[c+1];var B=a[c+2];var C=a[c+3];var O=u<<2;var M=u<<4;for(d=0;4>d;d+=1){var K=0;if(e=A[O]){var L=K-(e&255|(e&1)<<5);K-=L&L>>255;e>>=8;L=K-(e&255|(e&1)<<5);K-=L&L>>255;e>>=8;L=K-(e&255|(e&1)<<5);K-=L&L>>255;e>>=8;L=K-(e&255|(e&1)<<5);K-=L&L>>255}if(e=w[O])L=K-
(e&255|(e&1)<<5),K-=L&L>>255,e>>=8,L=K-(e&255|(e&1)<<5),K-=L&L>>255,e>>=8,L=K-(e&255|(e&1)<<5),K-=L&L>>255,e>>=8,L=K-(e&255|(e&1)<<5),K-=L&L>>255;if(e=B[O])L=K-(e&255|(e&1)<<5),K-=L&L>>255,e>>=8,L=K-(e&255|(e&1)<<5),K-=L&L>>255,e>>=8,L=K-(e&255|(e&1)<<5),K-=L&L>>255,e>>=8,L=K-(e&255|(e&1)<<5),K-=L&L>>255;if(e=C[O])L=K-(e&255|(e&1)<<5),K-=L&L>>255,e>>=8,L=K-(e&255|(e&1)<<5),K-=L&L>>255,e>>=8,L=K-(e&255|(e&1)<<5),K-=L&L>>255,e>>=8,L=K-(e&255|(e&1)<<5),K-=L&L>>255;v[M]=K&31;O+=1;M+=4}}u+=1}else u+=16;
p+=16;r+=16}};qa.prototype.Rk=function(a,b){var c,d,f=this.m,e,g,k,l,m,n=this.K,q=this.F>>4;var p=0;var r=p+16;for(g=0;g<n;g+=1){var u=0;var t=f[g];for(k=0;k<q;k+=1)if(m=t[k])for(l=15;0<=l;--l){if(0!==(m&1<<l))for(c=p;c<r;c+=4){var v=b[c];var A=a[c];var w=a[c+1];var B=a[c+2];var C=a[c+3];var O=u<<2;var M=u<<4;for(d=0;4>d;d+=1){var K=0;if(e=A[O])K-=K-(e&255)&K-(e&255)>>255,e>>=8,K-=K-(e&255)&K-(e&255)>>255,e>>=8,K-=K-(e&255)&K-(e&255)>>255,e>>=8,K-=K-(e&255)&K-(e&255)>>255;if(e=w[O])K-=K-(e&255)&K-
(e&255)>>255,e>>=8,K-=K-(e&255)&K-(e&255)>>255,e>>=8,K-=K-(e&255)&K-(e&255)>>255,e>>=8,K-=K-(e&255)&K-(e&255)>>255;if(e=B[O])K-=K-(e&255)&K-(e&255)>>255,e>>=8,K-=K-(e&255)&K-(e&255)>>255,e>>=8,K-=K-(e&255)&K-(e&255)>>255,e>>=8,K-=K-(e&255)&K-(e&255)>>255;if(e=C[O])K-=K-(e&255)&K-(e&255)>>255,e>>=8,K-=K-(e&255)&K-(e&255)>>255,e>>=8,K-=K-(e&255)&K-(e&255)>>255,e>>=8,K-=K-(e&255)&K-(e&255)>>255;v[M]=K;O+=1;M+=4}}u+=1}else u+=16;p+=16;r+=16}};qa.prototype.An=function(a,b){var c,d,f=this.m,e,g,k,l,m,n=
this.K,q=this.F>>4;var p=0;var r=p+16;for(g=0;g<n;g+=1){var u=0;var t=f[g];for(k=0;k<q;k+=1)if(m=t[k])for(l=15;0<=l;--l){if(0!==(m&1<<l))for(c=p;c<r;c+=8){var v=b[c];var A=a[c];var w=a[c+1];var B=a[c+2];var C=a[c+3];var O=a[c+4];var M=a[c+5];var K=a[c+6];var L=a[c+7];var U=u<<2;var X=u<<4;for(d=0;2>d;d+=1){var H=0;if(e=A[U]){var R=H-(e&255|(e&1)<<5);H-=R&R>>255;e>>=8;R=H-(e&255|(e&1)<<5);H-=R&R>>255;e>>=8;R=H-(e&255|(e&1)<<5);H-=R&R>>255;e>>=8;R=H-(e&255|(e&1)<<5);H-=R&R>>255}if(e=A[U+1])R=H-(e&255|
(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255;if(e=w[U])R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255;if(e=w[U+1])R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255;if(e=B[U])R=H-(e&255|(e&1)<<5),H-=R&R>>255,
e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255;if(e=B[U+1])R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255;if(e=C[U])R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255;if(e=C[U+1])R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|
(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255;if(e=O[U])R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255;if(e=O[U+1])R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255;if(e=M[U])R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,
e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255;if(e=M[U+1])R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255;if(e=K[U])R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255;if(e=K[U+1])R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|
(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255;if(e=L[U])R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255;if(e=L[U+1])R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255,e>>=8,R=H-(e&255|(e&1)<<5),H-=R&R>>255;v[X]=H&31;U+=2;X+=8}}u+=1}else u+=16;p+=16;r+=16}};qa.prototype.Tk=function(a,b){var c,d,f=this.m,e,g,k,l,m,n=this.K,q=
this.F>>4;var p=0;var r=p+16;for(g=0;g<n;g+=1){var u=0;var t=f[g];for(k=0;k<q;k+=1)if(m=t[k])for(l=15;0<=l;--l){if(0!==(m&1<<l))for(c=p;c<r;c+=8){var v=b[c];var A=a[c];var w=a[c+1];var B=a[c+2];var C=a[c+3];var O=a[c+4];var M=a[c+5];var K=a[c+6];var L=a[c+7];var U=u<<2;var X=u<<4;for(d=0;2>d;d+=1){var H=0;if(e=A[U])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=A[U+1])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&
255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=w[U])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=w[U+1])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=B[U])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>
255;if(e=B[U+1])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=C[U])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=C[U+1])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=O[U])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=
8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=O[U+1])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=M[U])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=M[U+1])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=K[U])H-=
H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=K[U+1])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=L[U])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;if(e=L[U+1])H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255,e>>=8,H-=H-(e&255)&
H-(e&255)>>255,e>>=8,H-=H-(e&255)&H-(e&255)>>255;v[X]=H;U+=2;X+=8}}u+=1}else u+=16;p+=16;r+=16}};qa.prototype.jm=function(a,b){var c=this.m,d,f,e,g,k,l,m=this.K,n=this.F>>4;var q=0;var p=q+16;for(f=0;f<m;f+=1){var r=0;var u=c[f];for(e=0;e<n;e+=1)if(l=u[e])for(g=15;0<=g;--g){if(0!==(l&1<<g)){var t=0;for(k=q;k<p;k+=1){var v=a[k];var A=r<<2;if(d=v[A]){var w=t-(d&255|(d&1)<<5);t-=w&w>>255;d>>=8;w=t-(d&255|(d&1)<<5);t-=w&w>>255;d>>=8;w=t-(d&255|(d&1)<<5);t-=w&w>>255;d>>=8;w=t-(d&255|(d&1)<<5);t-=w&w>>
255}if(d=v[A+1])w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255;if(d=v[A+2])w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255;if(d=v[A+3])w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255,d>>=8,w=t-(d&255|(d&1)<<5),t-=w&w>>255}v=b[q];A=r<<
4;v[A]=t&31}r+=1}else r+=16;q+=16;p+=16}};qa.prototype.fk=function(a,b){var c=this.m,d,f,e,g,k,l,m=this.K,n=this.F>>4;var q=0;var p=q+16;for(f=0;f<m;f+=1){var r=0;var u=c[f];for(e=0;e<n;e+=1)if(l=u[e])for(g=15;0<=g;--g){if(0!==(l&1<<g)){var t=0;for(k=q;k<p;k+=1){var v=a[k];var A=r<<2;if(d=v[A])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255;if(d=v[A+1])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=
8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255;if(d=v[A+2])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255;if(d=v[A+3])t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255,d>>=8,t-=t-(d&255)&t-(d&255)>>255}v=b[q];A=r<<4;v[A]=t}r+=1}else r+=16;q+=16;p+=16}};qa.prototype.un=function(a,b){var c=this.m,d,f,e,g,k,l=this.K,m=this.F>>4;var n=0;var q=n+32;for(f=0;f<
l;f+=2){var p=0;var r=c[f];var u=c[f+1];for(e=0;e<m;e+=1){var t=r[e]|u[e];if(0!==t)for(g=49152;0<g;g>>=2){if(0!==(t&g)){var v=0;for(k=n;k<q;k+=1){var A=a[k];var w=p<<2;if(d=A[w]){var B=v-(d&255|(d&1)<<5);v-=B&B>>255;d>>=8;B=v-(d&255|(d&1)<<5);v-=B&B>>255;d>>=8;B=v-(d&255|(d&1)<<5);v-=B&B>>255;d>>=8;B=v-(d&255|(d&1)<<5);v-=B&B>>255}if(d=A[w+1])B=v-(d&255|(d&1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255;if(d=A[w+
2])B=v-(d&255|(d&1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255;if(d=A[w+3])B=v-(d&255|(d&1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255;if(d=A[w+4])B=v-(d&255|(d&1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255;if(d=A[w+5])B=v-(d&255|(d&
1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255;if(d=A[w+6])B=v-(d&255|(d&1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255;if(d=A[w+7])B=v-(d&255|(d&1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255,d>>=8,B=v-(d&255|(d&1)<<5),v-=B&B>>255}A=b[n];w=p<<4;A[w]=v&31}p+=2}else p+=16}n+=
32;q+=32}};qa.prototype.Pk=function(a,b){var c=this.m,d,f,e,g,k,l=this.K,m=this.F>>4;var n=0;var q=n+32;for(f=0;f<l;f+=2){var p=0;var r=c[f];var u=c[f+1];for(e=0;e<m;e+=1){var t=r[e]|u[e];if(0!==t)for(g=49152;0<g;g>>=2){if(0!==(t&g)){var v=0;for(k=n;k<q;k+=1){var A=a[k];var w=p<<2;if(d=A[w])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=A[w+1])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,
v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=A[w+2])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=A[w+3])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=A[w+4])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=A[w+5])v-=
v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=A[w+6])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255;if(d=A[w+7])v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255,d>>=8,v-=v-(d&255)&v-(d&255)>>255}A=b[n];w=p<<4;A[w]=v}p+=2}else p+=16}n+=32;q+=32}};qa.prototype.$e=function(a){this.qj&&a.o.fill(0)};
qa.prototype.Hi=function(a,b,c){var d=performance.now();if(.5<=c&&1>c){var f="max02x02";this.$e(this.Ba);this.v?V.S&&V.Vf&&this.view.i?xa.bH(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,2,this.K|0,this.F|0,b[0].length|0):this.km(a,this.Ba):V.S&&V.Vf&&this.view.i?xa.dB(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,2,this.K|0,this.F|0,b[0].length|0):this.Nk(a,this.Ba)}else.25<=c&&.5>c?(f="max04x04",this.$e(this.Ba),this.v?V.S&&V.Vf&&this.view.i?xa.dH(b.o.byteOffset|
0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.K|0,this.F|0,b[0].length|0):this.wn(b,this.Ba):V.S&&V.Vf&&this.view.i?xa.fB(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.K|0,this.F|0,b[0].length|0):this.Rk(b,this.Ba)):.125<=c&&.25>c?(f="max08x08",this.$e(this.Ba),this.v?V.S&&V.Vf&&this.view.i?xa.eH(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.K|0,this.F|0,b[0].length|0):this.An(b,this.Ba):V.S&&V.Vf&&this.view.i?xa.gB(b.o.byteOffset|0,this.Ba.o.byteOffset|
0,this.m.o.byteOffset|0,16,2,this.K|0,this.F|0,b[0].length|0):this.Tk(b,this.Ba)):.0625<=c&&.125>c?(f="max16x16",this.$e(this.Ba),this.v?V.S&&V.Vf&&this.view.i?xa.aH(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,2,this.K|0,this.F|0,b[0].length|0):this.jm(b,this.Ba):V.S&&V.Vf&&this.view.i?xa.cB(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,2,this.K|0,this.F|0,b[0].length|0):this.fk(b,this.Ba)):(f="max32x32",this.v?V.S&&V.Vf&&this.view.i?xa.cH(b.o.byteOffset|0,this.Ba.o.byteOffset|
0,this.m.o.byteOffset|0,16,2,this.K|0,this.F|0,b[0].length|0):this.un(b,this.Ba):V.S&&V.Vf&&this.view.i?xa.eB(b.o.byteOffset|0,this.Ba.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.K|0,this.F|0,b[0].length|0):this.Pk(b,this.Ba));this.Nc&&(.5<=c&&1>c?(this.$e(this.Hb),V.S&&V.Vf&&this.view.i?xa.dB(this.Bc.o.byteOffset|0,this.Hb.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.K|0,this.F|0,this.Bc[0].length|0):this.Nk(this.Wg,this.Hb)):.25<=c&&.5>c?(this.$e(this.Hb),V.S&&V.Vf&&this.view.i?xa.fB(this.Bc.o.byteOffset|
0,this.Hb.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.K|0,this.F|0,this.Bc[0].length|0):this.Rk(this.Bc,this.Hb)):.125<=c&&.25>c?(this.$e(this.Hb),V.S&&V.Vf&&this.view.i?xa.gB(this.Bc.o.byteOffset|0,this.Hb.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.K|0,this.F|0,this.Bc[0].length|0):this.Tk(this.Bc,this.Hb)):.0625<=c&&.125>c?(this.$e(this.Hb),V.S&&V.Vf&&this.view.i?xa.cB(this.Bc.o.byteOffset|0,this.Hb.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.K|0,this.F|0,this.Bc[0].length|0):this.fk(this.Bc,
this.Hb)):V.S&&V.Vf&&this.view.i?xa.eB(this.Bc.o.byteOffset|0,this.Hb.o.byteOffset|0,this.m.o.byteOffset|0,16,2,this.K|0,this.F|0,this.Bc[0].length|0):this.Pk(this.Bc,this.Hb));d=performance.now()-d;V.Db&&this.view.C.h(f,d,V.S&&V.Vf&&this.view.i);this.qj=.0625>c?!0:!1};qa.prototype.hc=function(a,b,c,d,f){var e=-1,g=-1,k,l=this.width,m=this.height;for(k=0;k<a.length;k+=1)a[k]&&(k<c&&(c=k),k>e&&(e=k));for(k=0;k<b.length;k+=1)b[k]&&(k<d&&(d=k),k>g&&(g=k));c=(c<<4)+this.Xb(a[c]);e=(e<<4)+this.$b(a[e]);
d=(d<<4)+this.Xb(b[d]);g=(g<<4)+this.$b(b[g]);0>g&&(g=m-1);d>=m&&(d=0);c>=l&&(c=0);0>e&&(e=l-1);g>m-1&&(g=m-1);0>d&&(d=0);0>c&&(c=0);e>l-1&&(e=l-1);f.M=g;f.J=d;f.I=c;f.L=e};qa.prototype.fc=function(a){var b,c,d,f=this.F>>4,e=this.ta,g,k;var l=0;var m=l+16;for(b=0;b<e.length;b+=1){var n=0;var q=e[b];for(c=0;c<f;c+=1)if(g=q[c])for(k=15;0<=k;--k){if(g&1<<k){var p=n>>2;for(d=l;d<m;d+=1){var r=a[d];r[p]=0;r[p+1]=0;r[p+2]=0;r[p+3]=0}}n+=16}else n+=256;l+=16;m+=16}};qa.prototype.dm=function(a){var b,c,d,
f=this.F>>4,e=this.ta,g,k;var l=0;var m=l+16;for(b=0;b<e.length;b+=1){var n=0;var q=e[b];for(c=0;c<f;c+=1)if(g=q[c])for(k=15;0<=k;--k){if(g&1<<k){var p=n;for(d=l;d<m;d+=1){var r=a[d];r[p]=0}}n+=1}else n+=16;l+=16;m+=16}};qa.prototype.Pn=function(){var a=this.ta,b,c,d,f=this.width,e=this.height,g=this.B,k=0,l=0,m=0,n,q,p=this.U,r,u=this.X,t,v,A=this.K,w=this.F>>4,B=this.ca,C=this.W.m,O=this.sj;if(0===(this.counter&1)){var M=this.R;var K=this.Pa;var L=this.h;var U=this.H;var X=this.j;this.eb&&(C=this.W.ba)}else M=
this.h,K=this.Xa,L=this.R,U=this.j,X=this.H;p.fill(0);u.fill(0);var H=0;var R=H+16;X.o.fill(0);for(b=0;b<U.length;b+=1){var P=0;var S=P+16;var aa=U[b];var pa=X[b];var ha=a[b];var ca=0<b?X[b-1]:B;var ia=b<A-1?X[b+1]:B;for(c=0;c<w;c+=1){var na=aa[c];var ja=0;if(na){var W=pa[c];var ma=ca[c];var ea=ia[c];for(d=15;0<=d;--d){if(0!==(na&1<<d)){var Z=t=r=n=0;var Y=H;for(v=32768;Y<R;){var oa=0===Y?this.ha:M[Y-1];var Q=M[Y];var F=Y===this.height-1?this.ha:M[Y+1];var z=L[Y];var J=32768;var N=P;var I=0===N?0:
Q[N-1];for(q=Q[N];N<S-1;){var x=oa[N];var E=I;I=q;q=Q[N+1];var la=F[N];if(2<=I)x=O[I];else{var ba=1<<x|1<<E|1<<q|1<<la;1===ba&&0===I?x=0:ba&(I?82124:29440)?x=1-I:I||!(ba&98304)||ba&2?(ba=I?1414486:759126,x=C[(ba>>la&1)<<7|(ba>>E&1)<<5|I<<4|(ba>>q&1)<<3|(ba>>x&1)<<1]):x=0}z[N]=x;E=I?1:0;0<x?(m+=1,k+=1-E):l+=E;0<x&&(t|=v,r|=J);n|=I;J>>=1;N+=1}x=oa[N];E=I;I=q;q=N===f-1?0:Q[N+1];la=F[N];2<=I?x=O[I]:(ba=1<<x|1<<E|1<<q|1<<la,1===ba&&0===I?x=0:ba&(I?82124:29440)?x=1-I:I||!(ba&98304)||ba&2?(ba=I?1414486:
759126,x=C[(ba>>la&1)<<7|(ba>>E&1)<<5|I<<4|(ba>>q&1)<<3|(ba>>x&1)<<1]):x=0);z[N]=x;E=I?1:0;0<x?(m+=1,k+=1-E):l+=E;0<x&&(t|=v,r|=J);n|=I;Y+=1;v>>=1}p[P>>4]|=r;r?(W|=1<<d,t&1&&(Z|=y.Na,r&32768&&(Z|=y.Sa),r&1&&(Z|=y.Ma)),t&32768&&(Z|=y.Oa,r&32768&&(Z|=y.Qa),r&1&&(Z|=y.Ra)),r&32768&&(Z|=y.Ka),r&1&&(Z|=y.Ha),Z&&(0!==(Z&y.Ka)&&(15>d?W|=1<<d+1:0<c&&0<P&&(pa[c-1]|=1)),0!==(Z&y.Ha)&&(0<d?W|=1<<d-1:c<w-1&&P<f-1&&(pa[c+1]|=32768)),0!==(Z&y.Oa)&&(ma|=1<<d),0!==(Z&y.Na)&&(ea|=1<<d),0!==(Z&y.Qa)&&(15>d?ma|=1<<
d+1:0<c&&0<P&&(ca[c-1]|=1)),0!==(Z&y.Ra)&&(0<d?ma|=1<<d-1:c<w-1&&P<f-1&&(ca[c+1]|=32768)),0!==(Z&y.Sa)&&(15>d?ea|=1<<d+1:0<c&&0<P&&(ia[c-1]|=1)),0!==(Z&y.Ma)&&(0<d?ea|=1<<d-1:c<w-1&&P<f-1&&(ia[c+1]|=32768)))):n&&(ja|=1<<d);u[b]|=t}P+=16;S+=16}pa[c]|=W;0<b&&(ca[c]|=ma);b<A-1&&(ia[c]|=ea)}else P+=256,S+=256;ha[c]=ja}H+=16;R+=16}this.hc(p,u,f,e,g);B.fill(0);this.fc(K);for(Y=0;Y<this.m.o.length;Y+=1)this.m.o[Y]=this.m.o[Y]|U.o[Y]|X.o[Y];this.A=m;this.na=k;this.ga=l};qa.prototype.Ln=function(){var a=this.ta,
b,c,d,f=this.width,e=this.height,g=this.B,k=0,l=0,m=0,n,q,p,r=this.U,u,t=this.X,v,A,w=this.K,B=this.F>>4,C=this.ca,O=this.W.m,M=[0,1,2,3,4,5,7,6,8,9,11,10,13,12,14,15,16,17,18,20,19];if(0===(this.counter&1)){var K=this.R;var L=this.Pa;var U=this.h;var X=this.H;var H=this.j;this.eb&&(O=this.W.m)}else K=this.h,L=this.Xa,U=this.R,X=this.j,H=this.H,this.eb&&(O=this.W.ba);r.fill(0);t.fill(0);var R=0;var P=R+16;H.o.fill(0);for(b=0;b<X.length;b+=1){var S=0;var aa=S+16;var pa=X[b];var ha=H[b];var ca=a[b];
var ia=0<b?H[b-1]:C;var na=b<w-1?H[b+1]:C;for(c=0;c<B;c+=1){var ja=pa[c];var W=0;if(ja){var ma=ha[c];var ea=ia[c];var Z=na[c];for(d=15;0<=d;--d){if(0!==(ja&1<<d)){var Y=v=u=n=0;var oa=R;for(A=32768;oa<P;){var Q=0===oa?this.ha:K[oa-1];var F=K[oa];var z=oa===this.height-1?this.ha:K[oa+1];var J=U[oa];var N=32768;var I=S;if(0===I)var x=q=0;else q=F[I-1],x=Q[I-1];var E=z[I];for(p=F[I];I<aa-1;){var la=x;x=Q[I];var ba=q;q=p;p=F[I+1];var ta=E;E=z[I+1];if(2<=q)la=M[q];else{var ua=1<<la|1<<x|1<<ba|1<<p|1<<
ta|1<<E;1===ua&&0===q?la=0:ua&(q?82124:29440)?la=1-q:q||!(ua&98304)||ua&2?(ua=q?1414486:759126,la=O[(ua>>ta&1)<<7|(ua>>E&1)<<6|(ua>>ba&1)<<5|q<<4|(ua>>p&1)<<3|(ua>>la&1)<<2|(ua>>x&1)<<1]):la=0}J[I]=la;ba=q?1:0;0<la?(m+=1,k+=1-ba):l+=ba;0<la&&(v|=A,u|=N);n|=q;N>>=1;I+=1}la=x;x=Q[I];ba=q;q=p;ta=E;I===f-1?E=p=0:(p=F[I+1],E=z[I+1]);2<=q?la=M[q]:(ua=1<<la|1<<x|1<<ba|1<<p|1<<ta|1<<E,1===ua&&0===q?la=0:ua&(q?82124:29440)?la=1-q:q||!(ua&98304)||ua&2?(ua=q?1414486:759126,la=O[(ua>>ta&1)<<7|(ua>>E&1)<<6|(ua>>
ba&1)<<5|q<<4|(ua>>p&1)<<3|(ua>>la&1)<<2|(ua>>x&1)<<1]):la=0);J[I]=la;ba=q?1:0;0<la?(m+=1,k+=1-ba):l+=ba;0<la&&(v|=A,u|=N);n|=q;oa+=1;A>>=1}r[S>>4]|=u;u?(ma|=1<<d,v&1&&(Y|=y.Na,u&32768&&(Y|=y.Sa),u&1&&(Y|=y.Ma)),v&32768&&(Y|=y.Oa,u&32768&&(Y|=y.Qa),u&1&&(Y|=y.Ra)),u&32768&&(Y|=y.Ka),u&1&&(Y|=y.Ha),Y&&(0!==(Y&y.Ka)&&(15>d?ma|=1<<d+1:0<c&&0<S&&(ha[c-1]|=1)),0!==(Y&y.Ha)&&(0<d?ma|=1<<d-1:c<B-1&&S<f-1&&(ha[c+1]|=32768)),0!==(Y&y.Oa)&&(ea|=1<<d),0!==(Y&y.Na)&&(Z|=1<<d),0!==(Y&y.Qa)&&(15>d?ea|=1<<d+1:0<
c&&0<S&&(ia[c-1]|=1)),0!==(Y&y.Ra)&&(0<d?ea|=1<<d-1:c<B-1&&S<f-1&&(ia[c+1]|=32768)),0!==(Y&y.Sa)&&(15>d?Z|=1<<d+1:0<c&&0<S&&(na[c-1]|=1)),0!==(Y&y.Ma)&&(0<d?Z|=1<<d-1:c<B-1&&S<f-1&&(na[c+1]|=32768)))):n&&(W|=1<<d);t[b]|=v}S+=16;aa+=16}ha[c]|=ma;0<b&&(ia[c]|=ea);b<w-1&&(na[c]|=Z)}else S+=256,aa+=256;ca[c]=W}R+=16;P+=16}this.hc(r,t,f,e,g);C.fill(0);this.fc(L);for(oa=0;oa<this.m.o.length;oa+=1)this.m.o[oa]=this.m.o[oa]|X.o[oa]|H.o[oa];this.A=m;this.na=k;this.ga=l};qa.prototype.Nn=function(){var a=this.ta,
b,c,d,f=this.width,e=this.height,g=this.B,k=0,l=0,m=0,n,q,p,r,u=this.U,t,v=this.X,A,w,B=this.K,C=this.F>>4,O=this.ca,M=this.W.m,K=[0,1,2,3,4,5,7,6,8,9,11,10,13,12,14,15,16,17,18,20,19];if(0===(this.counter&1)){var L=this.R;var U=this.Pa;var X=this.h;var H=this.H;var R=this.j;this.eb&&(M=this.W.m)}else L=this.h,U=this.Xa,X=this.R,H=this.j,R=this.H,this.eb&&(M=this.W.ba);u.fill(0);v.fill(0);var P=0;var S=P+16;R.o.fill(0);for(b=0;b<H.length;b+=1){var aa=0;var pa=aa+16;var ha=H[b];var ca=R[b];var ia=
a[b];var na=0<b?R[b-1]:O;var ja=b<B-1?R[b+1]:O;for(c=0;c<C;c+=1){var W=ha[c];var ma=0;if(W){var ea=ca[c];var Z=na[c];var Y=ja[c];for(d=15;0<=d;--d){if(0!==(W&1<<d)){var oa=A=t=n=0;var Q=P;for(w=32768;Q<S;){var F=0===Q?this.ha:L[Q-1];var z=L[Q];var J=Q===this.height-1?this.ha:L[Q+1];var N=X[Q];var I=32768;var x=aa;if(0===x)var E=p=q=0;else q=F[x-1],p=z[x-1],E=J[x-1];var la=F[x];var ba=z[x];for(r=J[x];x<pa-1;){var ta=q;var ua=p;var ka=E;q=la;p=ba;E=r;la=F[x+1];ba=z[x+1];r=J[x+1];if(2<=p)ta=K[p];else{var wa=
1<<ta|1<<q|1<<la|1<<ua|1<<ba|1<<ka|1<<E|1<<r;1===wa&&0===p?ta=0:wa&(p?82124:29440)?ta=1-p:p||!(wa&98304)||wa&2?(wa=p?1414486:759126,ta=M[(wa>>ka&1)<<8|(wa>>E&1)<<7|(wa>>r&1)<<6|(wa>>ua&1)<<5|p<<4|(wa>>ba&1)<<3|(wa>>ta&1)<<2|(wa>>q&1)<<1|wa>>la&1]):ta=0}N[x]=ta;ua=p?1:0;0<ta?(m+=1,k+=1-ua):l+=ua;0<ta&&(A|=w,t|=I);n|=p;I>>=1;x+=1}ta=q;ua=p;ka=E;q=la;p=ba;E=r;x===f-1?r=ba=la=0:(la=F[x+1],ba=z[x+1],r=J[x+1]);2<=p?ta=K[p]:(wa=1<<ta|1<<q|1<<la|1<<ua|1<<ba|1<<ka|1<<E|1<<r,1===wa&&0===p?ta=0:wa&(p?82124:
29440)?ta=1-p:p||!(wa&98304)||wa&2?(wa=p?1414486:759126,ta=M[(wa>>ka&1)<<8|(wa>>E&1)<<7|(wa>>r&1)<<6|(wa>>ua&1)<<5|p<<4|(wa>>ba&1)<<3|(wa>>ta&1)<<2|(wa>>q&1)<<1|wa>>la&1]):ta=0);N[x]=ta;ua=p?1:0;0<ta?(m+=1,k+=1-ua):l+=ua;0<ta&&(A|=w,t|=I);n|=p;Q+=1;w>>=1}u[aa>>4]|=t;t?(ea|=1<<d,A&1&&(oa|=y.Na,t&32768&&(oa|=y.Sa),t&1&&(oa|=y.Ma)),A&32768&&(oa|=y.Oa,t&32768&&(oa|=y.Qa),t&1&&(oa|=y.Ra)),t&32768&&(oa|=y.Ka),t&1&&(oa|=y.Ha),oa&&(0!==(oa&y.Ka)&&(15>d?ea|=1<<d+1:0<c&&0<aa&&(ca[c-1]|=1)),0!==(oa&y.Ha)&&(0<
d?ea|=1<<d-1:c<C-1&&aa<f-1&&(ca[c+1]|=32768)),0!==(oa&y.Oa)&&(Z|=1<<d),0!==(oa&y.Na)&&(Y|=1<<d),0!==(oa&y.Qa)&&(15>d?Z|=1<<d+1:0<c&&0<aa&&(na[c-1]|=1)),0!==(oa&y.Ra)&&(0<d?Z|=1<<d-1:c<C-1&&aa<f-1&&(na[c+1]|=32768)),0!==(oa&y.Sa)&&(15>d?Y|=1<<d+1:0<c&&0<aa&&(ja[c-1]|=1)),0!==(oa&y.Ma)&&(0<d?Y|=1<<d-1:c<C-1&&aa<f-1&&(ja[c+1]|=32768)))):n&&(ma|=1<<d);v[b]|=A}aa+=16;pa+=16}ca[c]|=ea;0<b&&(na[c]|=Z);b<B-1&&(ja[c]|=Y)}else aa+=256,pa+=256;ia[c]=ma}P+=16;S+=16}this.hc(u,v,f,e,g);O.fill(0);this.fc(U);for(Q=
0;Q<this.m.o.length;Q+=1)this.m.o[Q]=this.m.o[Q]|H.o[Q]|R.o[Q];this.A=m;this.na=k;this.ga=l};qa.prototype.to=function(){var a=this.m,b=this.wa,c=this.ha,d,f,e,g,k=this.width,l=k>>4,m=this.height,n=k,q=-1,p=-1,r=m,u=this.B,t=k,v=-1,A=-1,w=m,B=this.Ve,C,O=this.U,M=this.cf,K,L,U,X=this.X,H=this.uf,R;var P=this.K;var S=this.F>>4;var aa=0;var pa=P,ha=this.kc;if(0!==(this.counter&1)){var ca=this.Ta;var ia=this.H;var na=this.h;var ja=this.R}else ca=this.va,ia=this.j,na=this.R,ja=this.h;0>aa&&(aa=0);pa>P&&
(pa=P);O.fill(0);M.fill(0);X.fill(0);H.fill(0);P=aa<<4;var W=P+16;for(d=aa;d<pa;d+=1){var ma=0;var ea=ia[d];var Z=b[d];var Y=a[d];for(f=0;f<S;f+=1){if(g=ea[f]|Z[f])for(e=15;0<=e;--e){if(0!==(g&1<<e)){var oa=R=L=K=0;var Q=32768;for(aa=P;aa<W;aa+=1){var F=ca[aa];var z=na[aa];var J=0===aa?c:na[aa-1];var N=aa===this.height-1?c:na[aa+1];var I=ja[aa];var x=ma<<4;if(0===x)var E=C=0;else C=z[x-1],E=J[x-1];var la=N[x];var ba=z[x];var ta=F[ma];for(U=32768;0<U;){var ua=E;E=J[x];var ka=C;C=ba;ba=z[x+1];var wa=
la;la=N[x+1];var Ba=C;ua=1<<ua|1<<E|1<<ba|1<<ka|1<<wa|1<<la;ka=!0;if(0!==(ua&64)){ka=!1;if(7===C||8===C||13<=C)Ba=0;else switch(C){case 1:Ba=2;break;case 3:case 5:Ba=4;break;case 9:Ba=10;break;case 11:Ba=12;break;default:ka=!0}!ka&&0!==(C&1)&&ta&U&&(F[ma]&=~U,this.ga+=1,--this.A)}if(ka)if(0!==(ta&U)){if(0===(C&1))switch(C){case 4:Ba=3;break;case 6:F[ma]&=~U;--this.na;--this.A;break;case 8:Ba=7;break;default:Ba=1,ka=ua&44739072,0===(ua&170)&&1===ha[ka&65535]+ha[ka>>16]?(Ba=0,65535<ka&&(ka>>=16,Ba+=
16),255<ka&&(ka>>=8,Ba+=8),15<ka&&(ka>>=4,Ba+=4),3<ka&&(ka>>=2,Ba+=2),Ba+=ka>>1):(ka=ua&44736512,0!==(ua&8)&&0===(ua&2722)&&1===ha[ka&65535]+ha[ka>>16]?(Ba=0,65535<ka&&(ka>>=16,Ba+=16),255<ka&&(ka>>=8,Ba+=8),15<ka&&(ka>>=4,Ba+=4),3<ka&&(ka>>=2,Ba+=2),Ba+=ka>>1):(ka=ua&2560,0!==(ua&128)&&0===(ua&44736554)&&1===ha[ka&65535]+ha[ka>>16]?(Ba=0,65535<ka&&(ka>>=16,Ba+=16),255<ka&&(ka>>=8,Ba+=8),15<ka&&(ka>>=4,Ba+=4),3<ka&&(ka>>=2,Ba+=2),Ba+=ka>>1):(ka=ua&44736640)&&0===(ua&2602)&&(Ba=13)))}}else if(0!==
(C&1))Ba=11>=C?5===C?4:C+1:0;else if(14===C)Ba=0;else if(14<C)switch(C){case 16:0!==(ua&44755626)&&(Ba=14);break;case 18:0!==(ua&4194304)&&(Ba=22);break;case 20:0!==(ua&262144)&&(Ba=18);break;case 22:0!==(ua&1048576)&&(Ba=20);break;case 24:0!==(ua&45017770)&&(Ba=18)}I[x]=Ba;0<Ba&&(K|=U,R|=Q,Ba&1&&(L|=U,oa|=Q));U>>=1;x+=1}Q>>=1}O[ma]|=K;X[d]|=R;M[ma]|=L;H[d]|=oa}ma+=1}else ma+=16;Z[f]=g|0;Y[f]=Y[f]|g|0}P+=16;W+=16}for(f=0;f<l;f+=1)O[f]&&(f<n&&(n=f),f>q&&(q=f)),M[f]&&(f<t&&(t=f),f>v&&(v=f));for(d=0;d<
X.length;d+=1)X[d]&&(d<r&&(r=d),d>p&&(p=d)),H[d]&&(d<w&&(w=d),d>A&&(A=d));n=(n<<4)+this.Xb(O[n]);q=(q<<4)+this.$b(O[q]);r=(r<<4)+this.Xb(X[r]);p=(p<<4)+this.$b(X[p]);0>p&&(p=m-1);r>=m&&(r=0);n>=k&&(n=0);0>q&&(q=k-1);p>m-1&&(p=m-1);0>r&&(r=0);0>n&&(n=0);q>k-1&&(q=k-1);u.M=p;u.J=r;u.I=n;u.L=q;t=(t<<4)+this.Xb(M[t]);v=(v<<4)+this.$b(M[v]);w=(w<<4)+this.Xb(H[w]);A=(A<<4)+this.$b(H[A]);0>A&&(A=m-1);w>=m&&(w=0);t>=k&&(t=0);0>v&&(v=k-1);A>m-1&&(A=m-1);0>w&&(w=0);0>t&&(t=0);v>k-1&&(v=k-1);B.M=A;B.J=w;B.I=
t;B.L=v};qa.prototype.zo=function(){var a=this.m,b=this.wa,c=this.ha,d,f,e,g,k=this.width,l=k>>4,m=this.height,n=k,q=-1,p=-1,r=m,u=this.B,t=k,v=-1,A=-1,w=m,B=this.Ve,C=this.U,O=this.cf,M,K,L,U=this.X,X=this.uf,H;var R=this.K;var P=this.F>>4;var S=0;var aa=R,pa=this.kc;if(0!==(this.counter&1)){var ha=this.Ta;var ca=this.H;var ia=this.h;var na=this.R}else ha=this.va,ca=this.j,ia=this.R,na=this.h;0>S&&(S=0);aa>R&&(aa=R);C.fill(0);O.fill(0);U.fill(0);X.fill(0);R=S<<4;var ja=R+16;for(d=S;d<aa;d+=1){var W=
0;var ma=ca[d];var ea=b[d];var Z=a[d];for(f=0;f<P;f+=1){if(g=ma[f]|ea[f])for(e=15;0<=e;--e){if(0!==(g&1<<e)){var Y=H=K=M=0;var oa=32768;for(S=R;S<ja;S+=1){var Q=ha[S];var F=ia[S];var z=0===S?c:ia[S-1];var J=S===this.height-1?c:ia[S+1];var N=na[S];var I=W<<4;var x=0===I?0:F[I-1];var E=F[I];var la=Q[W];for(L=32768;0<L;){var ba=z[I];var ta=x;x=E;E=F[I+1];var ua=J[I];var ka=x;ba=1<<ba|1<<E|1<<ta|1<<ua;ta=!0;if(0!==(ba&64)){ta=!1;if(7===x||8===x||13<=x)ka=0;else switch(x){case 1:ka=2;break;case 3:case 5:ka=
4;break;case 9:ka=10;break;case 11:ka=12;break;default:ta=!0}!ta&&0!==(x&1)&&la&L&&(Q[W]&=~L,this.ga+=1,--this.A)}if(ta)if(0!==(la&L)){if(0===(x&1))switch(x){case 4:ka=3;break;case 6:Q[W]&=~L;--this.na;--this.A;break;case 8:ka=7;break;default:ka=1,ta=ba&44739072,0===(ba&170)&&1===pa[ta&65535]+pa[ta>>16]?(ka=0,65535<ta&&(ta>>=16,ka+=16),255<ta&&(ta>>=8,ka+=8),15<ta&&(ta>>=4,ka+=4),3<ta&&(ta>>=2,ka+=2),ka+=ta>>1):(ta=ba&44736512,0!==(ba&8)&&0===(ba&2722)&&1===pa[ta&65535]+pa[ta>>16]?(ka=0,65535<ta&&
(ta>>=16,ka+=16),255<ta&&(ta>>=8,ka+=8),15<ta&&(ta>>=4,ka+=4),3<ta&&(ta>>=2,ka+=2),ka+=ta>>1):(ta=ba&2560,0!==(ba&128)&&0===(ba&44736554)&&1===pa[ta&65535]+pa[ta>>16]?(ka=0,65535<ta&&(ta>>=16,ka+=16),255<ta&&(ta>>=8,ka+=8),15<ta&&(ta>>=4,ka+=4),3<ta&&(ta>>=2,ka+=2),ka+=ta>>1):(ta=ba&44736640)&&0===(ba&2602)&&(ka=13)))}}else if(0!==(x&1))ka=11>=x?5===x?4:x+1:0;else if(14===x)ka=0;else if(14<x)switch(x){case 16:0!==(ba&44755626)&&(ka=14);break;case 18:0!==(ba&4194304)&&(ka=22);break;case 20:0!==(ba&
262144)&&(ka=18);break;case 22:0!==(ba&1048576)&&(ka=20);break;case 24:0!==(ba&45017770)&&(ka=18)}N[I]=ka;0<ka&&(M|=L,H|=oa,ka&1&&(K|=L,Y|=oa));L>>=1;I+=1}oa>>=1}C[W]|=M;U[d]|=H;O[W]|=K;X[d]|=Y}W+=1}else W+=16;ea[f]=g|0;Z[f]=Z[f]|g|0}R+=16;ja+=16}for(f=0;f<l;f+=1)C[f]&&(f<n&&(n=f),f>q&&(q=f)),O[f]&&(f<t&&(t=f),f>v&&(v=f));for(d=0;d<U.length;d+=1)U[d]&&(d<r&&(r=d),d>p&&(p=d)),X[d]&&(d<w&&(w=d),d>A&&(A=d));n=(n<<4)+this.Xb(C[n]);q=(q<<4)+this.$b(C[q]);r=(r<<4)+this.Xb(U[r]);p=(p<<4)+this.$b(U[p]);0>
p&&(p=m-1);r>=m&&(r=0);n>=k&&(n=0);0>q&&(q=k-1);p>m-1&&(p=m-1);0>r&&(r=0);0>n&&(n=0);q>k-1&&(q=k-1);u.M=p;u.J=r;u.I=n;u.L=q;t=(t<<4)+this.Xb(O[t]);v=(v<<4)+this.$b(O[v]);w=(w<<4)+this.Xb(X[w]);A=(A<<4)+this.$b(X[A]);0>A&&(A=m-1);w>=m&&(w=0);t>=k&&(t=0);0>v&&(v=k-1);A>m-1&&(A=m-1);0>w&&(w=0);0>t&&(t=0);v>k-1&&(v=k-1);B.M=A;B.J=w;B.I=t;B.L=v};qa.prototype.xo=function(){var a=this.m,b=this.wa,c=this.ha,d,f,e,g,k=this.width,l=k>>4,m=this.height,n=k,q=-1,p=-1,r=m,u=this.B,t=k,v=-1,A=-1,w=m,B=this.Ve,C=
this.U,O=this.cf,M,K,L,U=this.X,X=this.uf,H;var R=this.K;var P=this.F>>4;var S=0;var aa=R;if(0!==(this.counter&1)){var pa=this.Ta;var ha=this.H;var ca=this.h;var ia=this.R}else pa=this.va,ha=this.j,ca=this.R,ia=this.h;0>S&&(S=0);aa>R&&(aa=R);C.fill(0);O.fill(0);U.fill(0);X.fill(0);R=S<<4;var na=R+16;for(d=S;d<aa;d+=1){var ja=0;var W=ha[d];var ma=b[d];var ea=a[d];for(f=0;f<P;f+=1){if(g=W[f]|ma[f])for(e=15;0<=e;--e){if(0!==(g&1<<e)){var Z=H=K=M=0;var Y=32768;for(S=R;S<na;S+=1){var oa=pa[S];var Q=ca[S];
var F=0===S?c:ca[S-1];var z=S===this.height-1?c:ca[S+1];var J=ia[S];var N=ja<<4;if(0===N)var I=0;else{var x=Q[N-1];I=1<<F[N-1]|1<<x|1<<z[N-1]}var E=Q[N];var la=1<<E|1<<z[N]|1<<F[N];var ba=oa[ja];for(L=32768;0<L;){N+=1;x=E;E=Q[N];var ta=I;I=la;la=1<<E|1<<z[N]|1<<F[N];var ua=x;ta=ta|I|la;var ka=!0;if(0!==(ta&64)){ka=!1;if(7===x||8===x||13<=x)ua=0;else switch(x){case 1:ua=2;break;case 3:case 5:ua=4;break;case 9:ua=10;break;case 11:ua=12;break;default:ka=!0}!ka&&0!==(x&1)&&ba&L&&(oa[ja]&=~L,this.ga+=
1,--this.A)}if(ka)if(0!==(ba&L)){if(0===(x&1))switch(x){case 4:ua=3;break;case 6:oa[ja]&=~L;--this.na;--this.A;break;case 8:ua=7;break;default:ua=1,x=ta&44739072,0===(ta&170)&&x&&0===(x&x-1)?ua=31-Math.clz32(x):(x=ta&44736512,0!==(ta&8)&&0===(ta&2722)&&x&&0===(x&x-1)?ua=31-Math.clz32(x):(x=ta&2560,0!==(ta&128)&&0===(ta&44736554)&&x&&0===(x&x-1)?ua=31-Math.clz32(x):(x=ta&44736640)&&0===(ta&2602)&&(ua=13)))}}else if(0!==(x&1))ua=11>=x?5===x?4:x+1:0;else if(14<=x)switch(x){case 14:ua=0;break;case 16:0!==
(ta&44755626)&&(ua=14);break;case 18:0!==(ta&4194304)&&(ua=22);break;case 20:0!==(ta&262144)&&(ua=18);break;case 22:0!==(ta&1048576)&&(ua=20);break;case 24:0!==(ta&45017770)&&(ua=18)}J[N-1]=ua;0<ua&&(M|=L,H|=Y,ua&1&&(K|=L,Z|=Y));L>>=1}Y>>=1}C[ja]|=M;U[d]|=H;O[ja]|=K;X[d]|=Z}ja+=1}else ja+=16;ma[f]=g|0;ea[f]=ea[f]|g|0}R+=16;na+=16}for(f=0;f<l;f+=1)C[f]&&(f<n&&(n=f),f>q&&(q=f)),O[f]&&(f<t&&(t=f),f>v&&(v=f));for(d=0;d<U.length;d+=1)U[d]&&(d<r&&(r=d),d>p&&(p=d)),X[d]&&(d<w&&(w=d),d>A&&(A=d));n=(n<<4)+
this.Xb(C[n]);q=(q<<4)+this.$b(C[q]);r=(r<<4)+this.Xb(U[r]);p=(p<<4)+this.$b(U[p]);0>p&&(p=m-1);r>=m&&(r=0);n>=k&&(n=0);0>q&&(q=k-1);p>m-1&&(p=m-1);0>r&&(r=0);0>n&&(n=0);q>k-1&&(q=k-1);u.M=p;u.J=r;u.I=n;u.L=q;t=(t<<4)+this.Xb(O[t]);v=(v<<4)+this.$b(O[v]);w=(w<<4)+this.Xb(X[w]);A=(A<<4)+this.$b(X[A]);0>A&&(A=m-1);w>=m&&(w=0);t>=k&&(t=0);0>v&&(v=k-1);A>m-1&&(A=m-1);0>w&&(w=0);0>t&&(t=0);v>k-1&&(v=k-1);B.M=A;B.J=w;B.I=t;B.L=v};qa.prototype.ns=function(){var a=this.h,b=this.m,c=this.wa,d,f,e,g,k,l=0,
m=0,n=0,q=this.width,p=q>>4,r=this.height,u=q,t=-1,v=-1,A=r,w=this.B,B=this.U,C,O,M=this.X;var K=this.K;var L=this.F>>4;var U=0;var X=K,H=this.i+this.u-1,R=this.u,P=0<this.u?1:0;if(0!==(this.counter&1)){var S=this.Ta;var aa=this.H}else S=this.va,aa=this.j;0>U&&(U=0);X>K&&(X=K);B.fill(0);M.fill(0);K=U<<4;var pa=K+16;for(f=U;f<X;f+=1){var ha=0;var ca=aa[f];var ia=c[f];var na=b[f];for(e=0;e<L;e+=1){var ja=ca[e]|ia[e];var W=0;if(ja)for(g=15;0<=g;--g){if(0!==(ja&1<<g)){var ma=C=0;var ea=32768;var Z=0;
for(U=K;U<pa;U+=1){var Y=S[U];var oa=a[U];var Q=ha<<4;var F=Y[ha];for(k=O=32768;0<k;){var z=d=oa[Q];(d<=R||d===H)&&0!==(F&k)?d=H:(F&=~k,d>P&&--d);oa[Q]=d;d>P&&(Z=1,d>R&&(C|=O,ma|=ea),d===H&&(l+=1,z!==H&&(m+=1)));z===H&&d!==H&&(n+=1);O>>=1;Q+=1;k>>=1;z=d=oa[Q];(d<=R||d===H)&&0!==(F&k)?d=H:(F&=~k,d>P&&--d);oa[Q]=d;d>P&&(Z=1,d>R&&(C|=O,ma|=ea),d===H&&(l+=1,z!==H&&(m+=1)));z===H&&d!==H&&(n+=1);O>>=1;Q+=1;k>>=1;z=d=oa[Q];(d<=R||d===H)&&0!==(F&k)?d=H:(F&=~k,d>P&&--d);oa[Q]=d;d>P&&(Z=1,d>R&&(C|=O,ma|=ea),
d===H&&(l+=1,z!==H&&(m+=1)));z===H&&d!==H&&(n+=1);O>>=1;Q+=1;k>>=1;z=d=oa[Q];(d<=R||d===H)&&0!==(F&k)?d=H:(F&=~k,d>P&&--d);oa[Q]=d;d>P&&(Z=1,d>R&&(C|=O,ma|=ea),d===H&&(l+=1,z!==H&&(m+=1)));z===H&&d!==H&&(n+=1);O>>=1;Q+=1;k>>=1}Y[ha]=F;ea>>=1}B[ha]|=C;M[f]|=ma;Z&&(W|=1<<g)}ha+=1}else ha+=16;ia[e]=W;na[e]|=W}K+=16;pa+=16}for(e=0;e<p;e+=1)B[e]&&(e<u&&(u=e),e>t&&(t=e));for(f=0;f<M.length;f+=1)M[f]&&(f<A&&(A=f),f>v&&(v=f));u=(u<<4)+this.Xb(B[u]);t=(t<<4)+this.$b(B[t]);A=(A<<4)+this.Xb(M[A]);v=(v<<4)+this.$b(M[v]);
0>v&&(v=r-1);A>=r&&(A=0);u>=q&&(u=0);0>t&&(t=q-1);v>r-1&&(v=r-1);0>A&&(A=0);0>u&&(u=0);t>q-1&&(t=q-1);w.M=v;w.J=A;w.I=u;w.L=t;this.A=l;this.na=m;this.ga=n};qa.prototype.cg=function(){var a=performance.now(),b=this.Wa;if(!(this.la||this.s||this.D||this.v||this.G||-1!==this.i)){b!==y.gf||this.pa[this.qb].H(this.P,this.view)||(b=y.Hf);switch(b){case y.gf:V.S&&V.Zs&&this.view.i?0!==(this.counter&1)?xa.aB(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.K|0,this.F|0,this.Ta.o.byteOffset|
0,this.H.o.byteOffset|0,this.h[0].length|0):xa.aB(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.K|0,this.F|0,this.va.o.byteOffset|0,this.j.o.byteOffset|0,this.h[0].length|0):this.hm();break;case y.hf:this.gm();break;case y.Uf:V.S&&V.Zs&&this.view.i?0!==(this.counter&1)?xa.bB(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.K|0,this.F|0,this.Ta.o.byteOffset|0,this.H.o.byteOffset|0,this.h[0].length|0):xa.bB(this.h.o.byteOffset|0,this.m.o.byteOffset|
0,this.wa.o.byteOffset|0,16,2,this.K|0,this.F|0,this.va.o.byteOffset|0,this.j.o.byteOffset|0,this.h[0].length|0):this.ek();break;case y.Hf:V.S&&V.Zs&&this.view.i?0!==(this.counter&1)?xa.$A(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.K|0,this.F|0,this.Ta.o.byteOffset|0,this.H.o.byteOffset|0,this.h[0].length|0):xa.$A(this.h.o.byteOffset|0,this.m.o.byteOffset|0,this.wa.o.byteOffset|0,16,2,this.K|0,this.F|0,this.va.o.byteOffset|0,this.j.o.byteOffset|0,this.h[0].length|
0):this.fm()}a=performance.now()-a;V.Db&&this.view.C.h("convertToPens",a,V.S&&V.Zs&&this.view.i);this.ud&&this.ak()}this.ud&&this.Ea&&1===this.ba.m&&this.ak()};qa.prototype.bk=function(){var a,b,c=this.Ae,d=this.m,f,e,g,k=0,l,m=this.K,n=this.F>>4;var q=16;for(f=0;f<m;f+=1){var p=0;var r=d[f];for(e=0;e<n;e+=1)if(l=r[e])for(g=15;0<=g;--g){if(0!==(l&1<<g))if(-1===this.i)for(a=k;a<q;){var u=c[a];var t=p<<3;u[t]&=16448;t+=1;u[t]&=16448;t+=1;u[t]&=16448;t+=1;u[t]&=16448;t+=1;u[t]&=16448;t+=1;u[t]&=16448;
t+=1;u[t]&=16448;t+=1;u[t]&=16448;a+=1}else for(a=k;a<q;){u=c[a];t=p<<3;for(b=0;8>b;b+=1){var v=u[t];var A=0;(v&255)>this.u&&(A=v&255);v>>8>this.u&&(A|=v&65280);u[t]=A;t+=1}a+=1}p+=1}else p+=16;k+=16;q+=16}};qa.prototype.Jn=function(){var a=this.$,b=this.Z,c=this.B;var d=performance.now();this.ia?V.S&&V.lt&&this.view.i?xa.mJ(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|
0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.W.m.byteOffset|0,this.eb?this.W.ba.byteOffset|0:0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,this.eb?1:0,this.Nh.byteOffset|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0):this.Ln():this.Ed?V.S&&V.lt&&this.view.i?xa.oJ(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|
0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.W.m.byteOffset|0,this.eb?this.W.ba.byteOffset|0:0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,this.eb?1:0,this.Nh.byteOffset|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0):this.Pn():V.S&&V.lt&&this.view.i?xa.nJ(this.h.o.byteOffset|
0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.W.m.byteOffset|0,this.eb?this.W.ba.byteOffset|0:0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,this.eb?1:0,this.Nh.byteOffset|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|
0,this.da.byteOffset|0):this.Nn();V.S&&V.Cp&&this.view.i&&(this.A=this.da[0],this.na=this.da[1],this.ga=this.da[2],this.B.I=this.da[3],this.B.J=this.da[4],this.B.L=this.da[5],this.B.M=this.da[6]);d=performance.now()-d;V.Db&&this.view.C.h("nextInvestigator",d,V.S&&V.lt&&this.view.i);if(-1!==this.O){d=Math.round((this.width-a)/2);var f=Math.round((this.height-b)/2);a=d+a-1;b=f+b-1;c.I<d&&(c.I=d);c.L>a&&(c.L=a);c.J<f&&(c.J=f);c.M>b&&(c.M=b)}};qa.prototype.ro=function(){var a=this.$,b=this.Z,c=this.B;
var d=performance.now();this.ia?V.S&&V.Cp&&this.view.i?xa.tJ(this.va.o.byteOffset|0,this.Ta.o.byteOffset|0,this.va[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.wa.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.U.byteOffset|0,this.cf.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.uf.byteOffset|0,this.X.length|0,this.width|0,this.height|0,2,16,this.F|0,this.ha.byteOffset|0,this.counter|0,this.A|0,this.na|
0,this.ga|0,this.da.byteOffset|0):this.to():this.Ed?V.S&&V.Cp&&this.view.i?xa.vJ(this.va.o.byteOffset|0,this.Ta.o.byteOffset|0,this.va[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.wa.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.U.byteOffset|0,this.cf.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.uf.byteOffset|0,this.X.length|0,this.width|0,this.height|0,2,16,this.F|0,this.ha.byteOffset|0,this.counter|
0,this.A|0,this.na|0,this.ga|0,this.da.byteOffset|0):this.zo():V.S&&V.Cp&&this.view.i?xa.uJ(this.va.o.byteOffset|0,this.Ta.o.byteOffset|0,this.va[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.wa.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.U.byteOffset|0,this.cf.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.uf.byteOffset|0,this.X.length|0,this.width|0,this.height|0,2,16,this.F|0,this.ha.byteOffset|
0,this.counter|0,this.A|0,this.na|0,this.ga|0,this.da.byteOffset|0):this.xo();V.S&&V.Cp&&this.view.i&&(this.A=this.da[0],this.na=this.da[1],this.ga=this.da[2],this.B.I=this.da[3],this.B.J=this.da[4],this.B.L=this.da[5],this.B.M=this.da[6],this.Ve.I=this.da[7],this.Ve.J=this.da[8],this.Ve.L=this.da[9],this.Ve.M=this.da[10]);d=performance.now()-d;V.Db&&this.view.C.h("nextSuper",d,V.S&&V.Cp&&this.view.i);if(-1!==this.O){d=Math.round((this.width-a)/2);var f=Math.round((this.height-b)/2);a=d+a-1;b=f+b-
1;c.I<d&&(c.I=d);c.L>a&&(c.L=a);c.J<f&&(c.J=f);c.M>b&&(c.M=b)}};qa.prototype.Zn=function(){var a=performance.now();switch(this.rd){case Ha.Hj:if(V.S&&V.sk&&this.view.i)if(null!==this.ua&&this.Gb&&-1===this.nb)switch(this.cd){case 1:xa.NC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.ua.byteOffset|
0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);break;case 2:xa.OC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.ua.byteOffset|
0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);break;case 3:xa.PC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.ua.byteOffset|
0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);break;case 4:xa.QC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.ua.byteOffset|
0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);break;case 5:xa.RC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.ua.byteOffset|
0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);break;default:xa.UC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.jd.byteOffset|
0,this.jd.length|0,this.Ab.byteOffset|0,this.Ic|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0)}else xa.UC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|
0,this.X.length|0,this.jd.byteOffset|0,this.jd.length|0,this.Ab.byteOffset|0,this.Ic|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);else if(null!==this.ua&&this.Gb&&-1===this.nb)switch(this.cd){case 1:this.zk();break;case 2:this.Ak();break;case 3:this.Bk();break;case 4:this.Ck();break;case 5:this.Dk();break;default:this.rj()}else this.eo();break;
case Ha.kh:if(V.S&&V.sk&&this.view.i)if(null!==this.ua&&this.Gb&&-1===this.nb)switch(this.cd){case 1:xa.KC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|
0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);break;case 2:xa.LC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|
0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);break;case 3:xa.MC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|
0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);break;default:xa.TC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.jd.byteOffset|0,this.jd.length|0,this.Ab.byteOffset|0,this.Ic|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|
0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0)}else xa.TC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.jd.byteOffset|0,this.jd.length|0,this.Ab.byteOffset|0,this.Ic|0,this.width|0,this.height|0,16,this.K|0,this.F|
0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);else if(null!==this.ua&&this.Gb&&-1===this.nb)switch(this.cd){case 1:this.Zl();break;case 2:this.$l();break;case 3:this.yk();break;default:this.Fk()}else this.Fk();break;case Ha.jh:if(V.S&&V.sk&&this.view.i)if(null!==this.ua&&this.Gb&&-1===this.nb)switch(this.cd){case 1:xa.pJ(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|
0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);break;case 2:xa.qJ(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|
0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);break;case 3:xa.rJ(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|
0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);break;default:xa.SC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|
0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.jd.byteOffset|0,this.jd.length|0,this.Ab.byteOffset|0,this.Ic|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0)}else xa.SC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,
this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.jd.byteOffset|0,this.jd.length|0,this.Ab.byteOffset|0,this.Ic|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);else if(null!==
this.ua&&this.Gb&&-1===this.nb)switch(this.cd){case 1:this.Vn();break;case 2:this.Xn();break;case 3:this.hn();break;default:this.Ek()}else this.Ek();break;case Ha.nk:this.bo()}V.S&&V.sk&&this.view.i&&(this.A=this.da[0],this.na=this.da[1],this.ga=this.da[2],this.B.I=this.da[3],this.B.J=this.da[4],this.B.L=this.da[5],this.B.M=this.da[6]);a=performance.now()-a;V.Db&&this.view.C.h("nextRuleTable",a,V.S&&V.sk&&this.view.i)};qa.prototype.bo=function(){var a=this.Xd;var b=a[0],c=a[1],d=a[2],f=this.Ab,e=
this.Ic,g,k,l,m,n,q=this.ta,p,r=this.U,u,t=this.X,v,A,w=0,B=0,C=0,O=this.width,M=this.B,K=this.height,L=this.K,U=this.F>>4,X=this.ca;if(0!==(this.counter&1)){var H=this.R;var R=this.Pa;var P=this.h;var S=this.H;var aa=this.j}else H=this.h,R=this.Xa,P=this.R,S=this.j,aa=this.H;r.fill(0);t.fill(0);var pa=0;var ha=pa+16;aa.o.fill(0);for(m=0;m<S.length;m+=1){var ca=0;var ia=ca+16;var na=S[m];var ja=aa[m];var W=q[m];var ma=0<m?aa[m-1]:X;var ea=m<L-1?aa[m+1]:X;for(n=0;n<U;n+=1){var Z=na[n];var Y=0;if(Z){var oa=
ja[n];var Q=ma[n];var F=ea[n];for(l=15;0<=l;--l){if(0!==(Z&1<<l)){var z=v=u=p=0;var J=pa;for(A=32768;J<ha;){a=H[J];var N=P[J];var I=32768;var x=ca;var E=0===x?0:a[x-1];for(k=a[x];x<ia-1;){var la=E;E=k;k=a[x+1];var ba=b[E];var ta=c[la];var ua=d[k];var ka=E;for(g=0;g<e;g+=1)if(la=ba[g]&ta[g]&ua[g]){ba=0;for(ua=1;!(la&ua);)ba+=1,ua<<=1;ka=f[(g<<5)+ba];break}N[x]=ka;0<ka?(w+=1,0===E&&(B+=1),v|=A,u|=I):0<E&&(C+=1);p|=E;I>>=1;x+=1}la=E;E=k;k=x===O-1?0:a[x+1];ba=b[E];ta=c[la];ua=d[k];ka=E;for(g=0;g<e;g+=
1)if(la=ba[g]&ta[g]&ua[g]){ba=0;for(ua=1;!(la&ua);)ba+=1,ua<<=1;ka=f[(g<<5)+ba];break}N[x]=ka;0<ka?(w+=1,0===E&&(B+=1),v|=A,u|=I):0<E&&(C+=1);p|=E;J+=1;A>>=1}r[ca>>4]|=u;u?(oa|=1<<l,v&1&&(z|=y.Na,u&32768&&(z|=y.Sa),u&1&&(z|=y.Ma)),v&32768&&(z|=y.Oa,u&32768&&(z|=y.Qa),u&1&&(z|=y.Ra)),u&32768&&(z|=y.Ka),u&1&&(z|=y.Ha),z&&(0!==(z&y.Ka)&&(15>l?oa|=1<<l+1:0<n&&0<ca&&(ja[n-1]|=1)),0!==(z&y.Ha)&&(0<l?oa|=1<<l-1:n<U-1&&ca<O-1&&(ja[n+1]|=32768)),0!==(z&y.Oa)&&(Q|=1<<l),0!==(z&y.Na)&&(F|=1<<l),0!==(z&y.Qa)&&
(15>l?Q|=1<<l+1:0<n&&0<ca&&(ma[n-1]|=1)),0!==(z&y.Ra)&&(0<l?Q|=1<<l-1:n<U-1&&ca<O-1&&(ma[n+1]|=32768)),0!==(z&y.Sa)&&(15>l?F|=1<<l+1:0<n&&0<ca&&(ea[n-1]|=1)),0!==(z&y.Ma)&&(0<l?F|=1<<l-1:n<U-1&&ca<O-1&&(ea[n+1]|=32768)))):p&&(Y|=1<<l);t[m]|=v}ca+=16;ia+=16}ja[n]|=oa;0<m&&(ma[n]|=Q);m<L-1&&(ea[n]|=F)}else ca+=256,ia+=256;W[n]=Y}pa+=16;ha+=16}this.hc(r,t,O,K,M);X.fill(0);this.fc(R);for(J=0;J<this.m.o.length;J+=1)this.m.o[J]=this.m.o[J]|S.o[J]|aa.o[J];this.A=w;this.na=B;this.ga=C};qa.prototype.eo=function(){var a=
this.Xd;var b=a[0],c=a[1],d=a[2],f=a[3],e=a[4],g=this.Ab,k=this.Ic,l,m,n,q,p=this.ta,r,u=this.U,t,v=this.X,A,w,B=0,C=0,O=0,M=this.width,K=this.B,L=this.height,U=this.K,X=this.F>>4,H=this.ca;if(0!==(this.counter&1)){var R=this.R;var P=this.Pa;var S=this.h;var aa=this.H;var pa=this.j}else R=this.h,P=this.Xa,S=this.R,aa=this.j,pa=this.H;u.fill(0);v.fill(0);var ha=0;var ca=ha+16;pa.o.fill(0);for(n=0;n<aa.length;n+=1){var ia=0;var na=ia+16;var ja=aa[n];var W=pa[n];var ma=p[n];var ea=0<n?pa[n-1]:H;var Z=
n<U-1?pa[n+1]:H;for(q=0;q<X;q+=1){var Y=ja[q];var oa=0;if(Y){var Q=W[q];var F=ea[q];var z=Z[q];for(m=15;0<=m;--m){if(0!==(Y&1<<m)){var J=A=t=r=0;var N=ha;for(w=32768;N<ca;){a=0===N?this.ha:R[N-1];var I=R[N];var x=N===this.height-1?this.ha:R[N+1];var E=S[N];var la=32768;var ba=ia;var ta=0===ba?0:I[ba-1];for(l=I[ba];ba<na-1;){var ua=ta;ta=l;var ka=a[ba];l=I[ba+1];var wa=x[ba];var Ba=b[ta];ka=c[ka];var Ia=d[l];var Ea=f[wa];var Oa=e[ua];var Pa=ta;for(wa=0;wa<k;wa+=1)if(ua=Ba[wa]&ka[wa])if(ua&=Ia[wa]&
Ea[wa]&Oa[wa]){Ba=0;for(ka=1;!(ua&ka);)Ba+=1,ka<<=1;Pa=g[(wa<<5)+Ba];break}E[ba]=Pa;0<Pa?(B+=1,0===ta&&(C+=1),A|=w,t|=la):0<ta&&(O+=1);r|=ta;la>>=1;ba+=1}ua=ta;ta=l;ka=a[ba];l=ba===M-1?0:I[ba+1];wa=x[ba];Ba=b[ta];ka=c[ka];Ia=d[l];Ea=f[wa];Oa=e[ua];Pa=ta;for(wa=0;wa<k;wa+=1)if(ua=Ba[wa]&ka[wa])if(ua&=Ia[wa]&Ea[wa]&Oa[wa]){Ba=0;for(ka=1;!(ua&ka);)Ba+=1,ka<<=1;Pa=g[(wa<<5)+Ba];break}E[ba]=Pa;0<Pa?(B+=1,0===ta&&(C+=1),A|=w,t|=la):0<ta&&(O+=1);r|=ta;N+=1;w>>=1}u[ia>>4]|=t;t?(Q|=1<<m,A&1&&(J|=y.Na,t&32768&&
(J|=y.Sa),t&1&&(J|=y.Ma)),A&32768&&(J|=y.Oa,t&32768&&(J|=y.Qa),t&1&&(J|=y.Ra)),t&32768&&(J|=y.Ka),t&1&&(J|=y.Ha),J&&(0!==(J&y.Ka)&&(15>m?Q|=1<<m+1:0<q&&0<ia&&(W[q-1]|=1)),0!==(J&y.Ha)&&(0<m?Q|=1<<m-1:q<X-1&&ia<M-1&&(W[q+1]|=32768)),0!==(J&y.Oa)&&(F|=1<<m),0!==(J&y.Na)&&(z|=1<<m),0!==(J&y.Qa)&&(15>m?F|=1<<m+1:0<q&&0<ia&&(ea[q-1]|=1)),0!==(J&y.Ra)&&(0<m?F|=1<<m-1:q<X-1&&ia<M-1&&(ea[q+1]|=32768)),0!==(J&y.Sa)&&(15>m?z|=1<<m+1:0<q&&0<ia&&(Z[q-1]|=1)),0!==(J&y.Ma)&&(0<m?z|=1<<m-1:q<X-1&&ia<M-1&&(Z[q+1]|=
32768)))):r&&(oa|=1<<m);v[n]|=A}ia+=16;na+=16}W[q]|=Q;0<n&&(ea[q]|=F);n<U-1&&(Z[q]|=z)}else ia+=256,na+=256;ma[q]=oa}ha+=16;ca+=16}this.hc(u,v,M,L,K);H.fill(0);this.fc(P);for(N=0;N<this.m.o.length;N+=1)this.m.o[N]=this.m.o[N]|aa.o[N]|pa.o[N];this.A=B;this.na=C;this.ga=O};qa.prototype.Fk=function(){var a=this.Xd;var b=a[0],c=a[1],d=a[2],f=a[3],e=a[4],g=a[5],k=a[6],l=a[7],m=a[8],n=this.Ab,q=this.Ic,p,r,u,t,v,A,w=this.ta,B,C=this.U,O,M=this.X,K,L,U=0,X=0,H=0,R=this.width,P=this.B,S=this.height,aa=this.K,
pa=this.F>>4,ha=this.ca;if(0!==(this.counter&1)){var ca=this.R;var ia=this.Pa;var na=this.h;var ja=this.H;var W=this.j}else ca=this.h,ia=this.Xa,na=this.R,ja=this.j,W=this.H;C.fill(0);M.fill(0);var ma=0;var ea=ma+16;W.o.fill(0);for(v=0;v<ja.length;v+=1){var Z=0;var Y=Z+16;var oa=ja[v];var Q=W[v];var F=w[v];var z=0<v?W[v-1]:ha;var J=v<aa-1?W[v+1]:ha;for(A=0;A<pa;A+=1){var N=oa[A];var I=0;if(N){var x=Q[A];var E=z[A];var la=J[A];for(t=15;0<=t;--t){if(0!==(N&1<<t)){var ba=K=O=B=0;var ta=ma;for(L=32768;ta<
ea;){a=0===ta?this.ha:ca[ta-1];var ua=ca[ta];var ka=ta===this.height-1?this.ha:ca[ta+1];var wa=na[ta];var Ba=32768;var Ia=Z;if(0===Ia)var Ea=u=p=0;else p=a[Ia-1],u=ka[Ia-1],Ea=ua[Ia-1];var Oa=a[Ia];var Pa=ka[Ia];for(r=ua[Ia];Ia<Y-1;){var ya=p;p=Oa;Oa=a[Ia+1];var Ka=Ea;Ea=r;r=ua[Ia+1];var cb=u;u=Pa;Pa=ka[Ia+1];var db=Ea;var Fa=b[Ea];var Wa=c[p];var sa=d[Oa];var va=f[r];var Ca=e[Pa];var La=g[u];cb=k[cb];var Ra=l[Ka];var lb=m[ya];for(Ka=0;Ka<q;Ka+=1)if(ya=Fa[Ka]&Wa[Ka])if(ya&=sa[Ka]&va[Ka])if(ya&=Ca[Ka]&
La[Ka])if(ya&=cb[Ka]&Ra[Ka]&lb[Ka]){Wa=0;for(sa=1;!(ya&sa);)Wa+=1,sa<<=1;db=n[(Ka<<5)+Wa];break}wa[Ia]=db;0<db?(U+=1,0===Ea&&(X+=1),K|=L,O|=Ba):0<Ea&&(H+=1);B|=Ea;Ba>>=1;Ia+=1}ya=p;p=Oa;Ka=Ea;Ea=r;cb=u;u=Pa;Ia===R-1?Pa=r=Oa=0:(Oa=a[Ia+1],r=ua[Ia+1],Pa=ka[Ia+1]);Fa=b[Ea];Wa=c[p];sa=d[Oa];va=f[r];Ca=e[Pa];La=g[u];cb=k[cb];Ra=l[Ka];lb=m[ya];db=Ea;for(Ka=0;Ka<q;Ka+=1)if(ya=Fa[Ka]&Wa[Ka])if(ya&=sa[Ka]&va[Ka])if(ya&=Ca[Ka]&La[Ka])if(ya&=cb[Ka]&Ra[Ka]&lb[Ka]){Wa=0;for(sa=1;!(ya&sa);)Wa+=1,sa<<=1;db=n[(Ka<<
5)+Wa];break}wa[Ia]=db;0<db?(U+=1,0===Ea&&(X+=1),K|=L,O|=Ba):0<Ea&&(H+=1);B|=Ea;ta+=1;L>>=1}C[Z>>4]|=O;O?(x|=1<<t,K&1&&(ba|=y.Na,O&32768&&(ba|=y.Sa),O&1&&(ba|=y.Ma)),K&32768&&(ba|=y.Oa,O&32768&&(ba|=y.Qa),O&1&&(ba|=y.Ra)),O&32768&&(ba|=y.Ka),O&1&&(ba|=y.Ha),ba&&(0!==(ba&y.Ka)&&(15>t?x|=1<<t+1:0<A&&0<Z&&(Q[A-1]|=1)),0!==(ba&y.Ha)&&(0<t?x|=1<<t-1:A<pa-1&&Z<R-1&&(Q[A+1]|=32768)),0!==(ba&y.Oa)&&(E|=1<<t),0!==(ba&y.Na)&&(la|=1<<t),0!==(ba&y.Qa)&&(15>t?E|=1<<t+1:0<A&&0<Z&&(z[A-1]|=1)),0!==(ba&y.Ra)&&(0<
t?E|=1<<t-1:A<pa-1&&Z<R-1&&(z[A+1]|=32768)),0!==(ba&y.Sa)&&(15>t?la|=1<<t+1:0<A&&0<Z&&(J[A-1]|=1)),0!==(ba&y.Ma)&&(0<t?la|=1<<t-1:A<pa-1&&Z<R-1&&(J[A+1]|=32768)))):B&&(I|=1<<t);M[v]|=K}Z+=16;Y+=16}Q[A]|=x;0<v&&(z[A]|=E);v<aa-1&&(J[A]|=la)}else Z+=256,Y+=256;F[A]=I}ma+=16;ea+=16}this.hc(C,M,R,S,P);ha.fill(0);this.fc(ia);for(ta=0;ta<this.m.o.length;ta+=1)this.m.o[ta]=this.m.o[ta]|ja.o[ta]|W.o[ta];this.A=U;this.na=X;this.ga=H};qa.prototype.Ek=function(){var a=this.Xd;var b=a[0],c=a[1],d=a[2],f=a[3],
e=a[4],g=a[5],k=a[6],l=this.Ab,m=this.Ic,n,q,p,r,u,t=this.ta,v,A=this.U,w,B=this.X,C,O,M=0,K=0,L=0,U=this.width,X=this.B,H=this.height,R=this.K,P=this.F>>4,S=this.ca;if(0!==(this.counter&1)){var aa=this.R;var pa=this.Pa;var ha=this.h;var ca=this.H;var ia=this.j}else aa=this.h,pa=this.Xa,ha=this.R,ca=this.j,ia=this.H;A.fill(0);B.fill(0);var na=0;var ja=na+16;ia.o.fill(0);for(r=0;r<ca.length;r+=1){var W=0;var ma=W+16;var ea=ca[r];var Z=ia[r];var Y=t[r];var oa=0<r?ia[r-1]:S;var Q=r<R-1?ia[r+1]:S;for(u=
0;u<P;u+=1){var F=ea[u];var z=0;if(F){var J=Z[u];var N=oa[u];var I=Q[u];for(p=15;0<=p;--p){if(0!==(F&1<<p)){var x=C=w=v=0;var E=na;for(O=32768;E<ja;){a=0===E?this.ha:aa[E-1];var la=aa[E];var ba=E===this.height-1?this.ha:aa[E+1];var ta=ha[E];var ua=32768;var ka=W;if(0===ka)var wa=n=0;else n=a[ka-1],wa=la[ka-1];var Ba=ba[ka];for(q=la[ka];ka<ma-1;){var Ia=n;n=a[ka];var Ea=wa;wa=q;q=la[ka+1];var Oa=Ba;Ba=ba[ka+1];var Pa=b[wa];var ya=c[n];var Ka=d[q];var cb=f[Ba];Oa=e[Oa];var db=g[Ea];var Fa=k[Ia];var Wa=
wa;for(Ea=0;Ea<m;Ea+=1)if(Ia=Pa[Ea]&ya[Ea])if(Ia&=Ka[Ea]&cb[Ea])if(Ia&=Oa[Ea]&db[Ea]&Fa[Ea]){ya=0;for(Ka=1;!(Ia&Ka);)ya+=1,Ka<<=1;Wa=l[(Ea<<5)+ya];break}ta[ka]=Wa;0<Wa?(M+=1,0===wa&&(K+=1),C|=O,w|=ua):0<wa&&(L+=1);v|=wa;ua>>=1;ka+=1}Ia=n;n=a[ka];Ea=wa;wa=q;Oa=Ba;ka===U-1?Ba=q=0:(q=la[ka+1],Ba=ba[ka+1]);Pa=b[wa];ya=c[n];Ka=d[q];cb=f[Ba];Oa=e[Oa];db=g[Ea];Fa=k[Ia];Wa=wa;for(Ea=0;Ea<m;Ea+=1)if(Ia=Pa[Ea]&ya[Ea])if(Ia&=Ka[Ea]&cb[Ea])if(Ia&=Oa[Ea]&db[Ea]&Fa[Ea]){ya=0;for(Ka=1;!(Ia&Ka);)ya+=1,Ka<<=1;Wa=
l[(Ea<<5)+ya];break}ta[ka]=Wa;0<Wa?(M+=1,0===wa&&(K+=1),C|=O,w|=ua):0<wa&&(L+=1);v|=wa;E+=1;O>>=1}A[W>>4]|=w;w?(J|=1<<p,C&1&&(x|=y.Na,w&32768&&(x|=y.Sa),w&1&&(x|=y.Ma)),C&32768&&(x|=y.Oa,w&32768&&(x|=y.Qa),w&1&&(x|=y.Ra)),w&32768&&(x|=y.Ka),w&1&&(x|=y.Ha),x&&(0!==(x&y.Ka)&&(15>p?J|=1<<p+1:0<u&&0<W&&(Z[u-1]|=1)),0!==(x&y.Ha)&&(0<p?J|=1<<p-1:u<P-1&&W<U-1&&(Z[u+1]|=32768)),0!==(x&y.Oa)&&(N|=1<<p),0!==(x&y.Na)&&(I|=1<<p),0!==(x&y.Qa)&&(15>p?N|=1<<p+1:0<u&&0<W&&(oa[u-1]|=1)),0!==(x&y.Ra)&&(0<p?N|=1<<p-
1:u<P-1&&W<U-1&&(oa[u+1]|=32768)),0!==(x&y.Sa)&&(15>p?I|=1<<p+1:0<u&&0<W&&(Q[u-1]|=1)),0!==(x&y.Ma)&&(0<p?I|=1<<p-1:u<P-1&&W<U-1&&(Q[u+1]|=32768)))):v&&(z|=1<<p);B[r]|=C}W+=16;ma+=16}Z[u]|=J;0<r&&(oa[u]|=N);r<R-1&&(Q[u]|=I)}else W+=256,ma+=256;Y[u]=z}na+=16;ja+=16}this.hc(A,B,U,H,X);S.fill(0);this.fc(pa);for(E=0;E<this.m.o.length;E+=1)this.m.o[E]=this.m.o[E]|ca.o[E]|ia.o[E];this.A=M;this.na=K;this.ga=L};qa.prototype.mo=function(){var a=performance.now();if(4===this.Yd)if(V.S&&V.sk&&this.view.i)if(null!==
this.ua&&this.Gb&&-1===this.nb)switch(this.cd){case 1:xa.NC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|
0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);break;case 2:xa.OC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|
0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);break;case 3:xa.PC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|
0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);break;case 4:xa.QC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|
0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);break;case 5:xa.RC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|
0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);break;default:xa.WC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.qd.byteOffset|0,this.sd.byteOffset|0,this.le|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|
0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0)}else xa.WC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.qd.byteOffset|0,this.sd.byteOffset|0,this.le|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|
0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);else if(null!==this.ua&&this.Gb&&-1===this.nb)switch(this.cd){case 1:this.zk();break;case 2:this.Ak();break;case 3:this.Bk();break;case 4:this.Ck();break;case 5:this.Dk();break;default:this.rj()}else this.rj();else if(V.S&&V.sk&&this.view.i)if(null!==this.ua&&this.Gb&&-1===this.nb)switch(this.cd){case 1:xa.KC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|
0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);break;case 2:xa.LC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|
0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);break;case 3:xa.MC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|
0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.ua.byteOffset|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);break;default:xa.VC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|
0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.qd.byteOffset|0,this.sd.byteOffset|0,this.le|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0)}else null!==this.ge&&this.Gb?xa.sJ(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|0,this.j.o.byteOffset|
0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.qd.byteOffset|0,this.sd.byteOffset|0,this.ge.byteOffset|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0):xa.VC(this.h.o.byteOffset|0,this.R.o.byteOffset|0,this.h[0].length|
0,this.j.o.byteOffset|0,this.H.o.byteOffset|0,this.m.o.byteOffset|0,this.j[0].length|0,this.j.o.length|0,this.ta.o.byteOffset|0,this.U.byteOffset|0,this.U.length|0,this.X.byteOffset|0,this.X.length|0,this.qd.byteOffset|0,this.sd.byteOffset|0,this.le|0,this.width|0,this.height|0,16,this.K|0,this.F|0,this.ca.byteOffset|0,this.ca.length|0,this.ha.byteOffset|0,this.counter|0,y.Ra|0,y.Oa|0,y.Ma|0,y.Na|0,y.Qa|0,y.Sa|0,y.Ka|0,y.Ha|0,this.da.byteOffset|0);else if(null!==this.ua&&this.Gb&&-1===this.nb)switch(this.cd){case 1:this.Zl();
break;case 2:this.$l();break;case 3:this.yk();break;default:this.Gk()}else null!==this.ge&&this.Gb?this.oo():this.Gk();V.S&&V.sk&&this.view.i&&(this.A=this.da[0],this.na=this.da[1],this.ga=this.da[2],this.B.I=this.da[3],this.B.J=this.da[4],this.B.L=this.da[5],this.B.M=this.da[6]);a=performance.now()-a;V.Db&&this.view.C.h("nextRuleTree",a,V.S&&V.sk&&this.view.i)};qa.prototype.rj=function(){var a=this.qd,b=this.sd,c=this.le,d,f,e,g=this.ta,k,l=this.U,m,n=this.X,q,p,r=0,u=0,t=0,v=this.width,A=this.B,
w=this.height,B=this.K,C=this.F>>4,O=this.ca;if(0!==(this.counter&1)){var M=this.R;var K=this.Pa;var L=this.Xa;var U=this.H;var X=this.j}else M=this.h,K=this.Xa,L=this.Pa,U=this.j,X=this.H;l.fill(0);n.fill(0);var H=0;var R=H+16;X.o.fill(0);for(f=0;f<U.length;f+=1){var P=0;var S=U[f];var aa=X[f];var pa=g[f];var ha=0<f?X[f-1]:O;var ca=f<B-1?X[f+1]:O;for(e=0;e<C;e+=1){var ia=S[e];var na=0;if(ia){var ja=aa[e];var W=ha[e];var ma=ca[e];for(d=15;0<=d;--d){if(0!==(ia&1<<d)){var ea=q=m=k=0;var Z=H;for(p=32768;Z<
R;){var Y=0===Z?this.ha:M[Z-1];var oa=M[Z];var Q=Z===this.height-1?this.ha:M[Z+1];var F=L[Z];var z=32768;var J=0;var N=P;var I=0===N?0:oa[N-1];var x=oa[N];var E=I;I=x;var la=Y[N];x=oa[N+1];var ba=Q[N];var ta=la=b[a[a[a[a[c+la]+E]+x]+ba]+I];0<la?(r+=1,0===I&&(u+=1),J|=z):0<I&&(t+=1);k|=I;z>>=1;N+=1;E=I;I=x;la=Y[N];x=oa[N+1];ba=Q[N];la=b[a[a[a[a[c+la]+E]+x]+ba]+I];ta|=la<<8;0<la?(r+=1,0===I&&(u+=1),J|=z):0<I&&(t+=1);k|=I;z>>=1;N+=1;E=I;I=x;la=Y[N];x=oa[N+1];ba=Q[N];la=b[a[a[a[a[c+la]+E]+x]+ba]+I];ta|=
la<<16;0<la?(r+=1,0===I&&(u+=1),J|=z):0<I&&(t+=1);k|=I;z>>=1;N+=1;E=I;I=x;la=Y[N];x=oa[N+1];ba=Q[N];la=b[a[a[a[a[c+la]+E]+x]+ba]+I];ta|=la<<24;F[N>>2]=ta;0<la?(r+=1,0===I&&(u+=1),J|=z):0<I&&(t+=1);k|=I;z>>=1;N+=1;E=I;I=x;la=Y[N];x=oa[N+1];ba=Q[N];ta=la=b[a[a[a[a[c+la]+E]+x]+ba]+I];0<la?(r+=1,0===I&&(u+=1),J|=z):0<I&&(t+=1);k|=I;z>>=1;N+=1;E=I;I=x;la=Y[N];x=oa[N+1];ba=Q[N];la=b[a[a[a[a[c+la]+E]+x]+ba]+I];ta|=la<<8;0<la?(r+=1,0===I&&(u+=1),J|=z):0<I&&(t+=1);k|=I;z>>=1;N+=1;E=I;I=x;la=Y[N];x=oa[N+1];
ba=Q[N];la=b[a[a[a[a[c+la]+E]+x]+ba]+I];ta|=la<<16;0<la?(r+=1,0===I&&(u+=1),J|=z):0<I&&(t+=1);k|=I;z>>=1;N+=1;E=I;I=x;la=Y[N];x=oa[N+1];ba=Q[N];la=b[a[a[a[a[c+la]+E]+x]+ba]+I];ta|=la<<24;F[N>>2]=ta;0<la?(r+=1,0===I&&(u+=1),J|=z):0<I&&(t+=1);k|=I;z>>=1;N+=1;E=I;I=x;la=Y[N];x=oa[N+1];ba=Q[N];ta=la=b[a[a[a[a[c+la]+E]+x]+ba]+I];0<la?(r+=1,0===I&&(u+=1),J|=z):0<I&&(t+=1);k|=I;z>>=1;N+=1;E=I;I=x;la=Y[N];x=oa[N+1];ba=Q[N];la=b[a[a[a[a[c+la]+E]+x]+ba]+I];ta|=la<<8;0<la?(r+=1,0===I&&(u+=1),J|=z):0<I&&(t+=
1);k|=I;z>>=1;N+=1;E=I;I=x;la=Y[N];x=oa[N+1];ba=Q[N];la=b[a[a[a[a[c+la]+E]+x]+ba]+I];ta|=la<<16;0<la?(r+=1,0===I&&(u+=1),J|=z):0<I&&(t+=1);k|=I;z>>=1;N+=1;E=I;I=x;la=Y[N];x=oa[N+1];ba=Q[N];la=b[a[a[a[a[c+la]+E]+x]+ba]+I];ta|=la<<24;F[N>>2]=ta;0<la?(r+=1,0===I&&(u+=1),J|=z):0<I&&(t+=1);k|=I;z>>=1;N+=1;E=I;I=x;la=Y[N];x=oa[N+1];ba=Q[N];ta=la=b[a[a[a[a[c+la]+E]+x]+ba]+I];0<la?(r+=1,0===I&&(u+=1),J|=z):0<I&&(t+=1);k|=I;z>>=1;N+=1;E=I;I=x;la=Y[N];x=oa[N+1];ba=Q[N];la=b[a[a[a[a[c+la]+E]+x]+ba]+I];ta|=la<<
8;0<la?(r+=1,0===I&&(u+=1),J|=z):0<I&&(t+=1);k|=I;z>>=1;N+=1;E=I;I=x;la=Y[N];x=oa[N+1];ba=Q[N];la=b[a[a[a[a[c+la]+E]+x]+ba]+I];ta|=la<<16;0<la?(r+=1,0===I&&(u+=1),J|=z):0<I&&(t+=1);k|=I;z>>=1;N+=1;E=I;I=x;la=Y[N];x=N===v-1?0:oa[N+1];ba=Q[N];la=b[a[a[a[a[c+la]+E]+x]+ba]+I];ta|=la<<24;F[N>>2]=ta;0<la?(r+=1,0===I&&(u+=1),J|=z):0<I&&(t+=1);k|=I;J&&(m|=J,q|=p);Z+=1;p>>=1}l[P>>4]|=m;m?(ja|=1<<d,q&1&&(ea|=y.Na,m&32768&&(ea|=y.Sa),m&1&&(ea|=y.Ma)),q&32768&&(ea|=y.Oa,m&32768&&(ea|=y.Qa),m&1&&(ea|=y.Ra)),m&
32768&&(ea|=y.Ka),m&1&&(ea|=y.Ha),ea&&(0!==(ea&y.Ka)&&(15>d?ja|=1<<d+1:0<e&&0<P&&(aa[e-1]|=1)),0!==(ea&y.Ha)&&(0<d?ja|=1<<d-1:e<C-1&&P<v-1&&(aa[e+1]|=32768)),0!==(ea&y.Oa)&&(W|=1<<d),0!==(ea&y.Na)&&(ma|=1<<d),0!==(ea&y.Qa)&&(15>d?W|=1<<d+1:0<e&&0<P&&(ha[e-1]|=1)),0!==(ea&y.Ra)&&(0<d?W|=1<<d-1:e<C-1&&P<v-1&&(ha[e+1]|=32768)),0!==(ea&y.Sa)&&(15>d?ma|=1<<d+1:0<e&&0<P&&(ca[e-1]|=1)),0!==(ea&y.Ma)&&(0<d?ma|=1<<d-1:e<C-1&&P<v-1&&(ca[e+1]|=32768)))):k&&(na|=1<<d);n[f]|=q}P+=16}aa[e]|=ja;0<f&&(ha[e]|=W);
f<B-1&&(ca[e]|=ma)}else P+=256;pa[e]=na}H+=16;R+=16}this.hc(l,n,v,w,A);O.fill(0);this.fc(K);for(Z=0;Z<this.m.o.length;Z+=1)this.m.o[Z]=this.m.o[Z]|U.o[Z]|X.o[Z];this.A=r;this.na=u;this.ga=t};qa.prototype.bq=function(){var a="MAP",b=this.Xd,c=this.Ab,d=this.Ic,f,e=0;switch(this.rd){case Ha.kh:var g=b[0];var k=b[1];var l=b[2];var m=b[3];var n=b[4];var q=b[5];var p=b[6];var r=b[7];b=b[8];for(f=0;512>f;f+=1){var u=(f&256)>>8;var t=(f&128)>>7;var v=(f&64)>>6;var A=(f&32)>>5;var w=(f&16)>>4;var B=(f&8)>>
3;var C=(f&4)>>2;var O=(f&2)>>1;var M=f&1;var K=w;w=g[w];t=k[t];v=l[v];B=m[B];M=n[M];O=q[O];C=p[C];var L=r[A];var U=b[u];for(A=0;A<d;A+=1)if(u=w[A]&t[A])if(u&=v[A]&B[A])if(u&=M[A]&O[A])if(u&=C[A]&L[A]&U[A]){K=0;for(w=1;!(u&w);)K+=1,w<<=1;K=c[(A<<5)+K];break}e=e<<1|K&1;5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0)}a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e<<6-f%6];break;case Ha.Hj:g=b[0];k=b[1];l=b[2];m=b[3];n=b[4];for(f=0;32>f;f+=
1){t=(f&16)>>4;A=(f&8)>>3;w=(f&4)>>2;B=(f&2)>>1;O=f&1;K=w;w=g[w];t=k[t];B=l[B];O=m[O];L=n[A];for(A=0;A<d;A+=1)if(u=w[A]&t[A])if(u&=B[A]&O[A]&L[A]){K=0;for(w=1;!(u&w);)K+=1,w<<=1;K=c[(A<<5)+K];break}e=e<<1|K&1;5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0)}a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e<<6-f%6];break;case Ha.jh:g=b[0];k=b[1];l=b[2];m=b[3];n=b[4];q=b[5];p=b[6];for(f=0;128>f;f+=1){O=(f&64)>>6;M=(f&32)>>5;A=(f&16)>>4;w=
(f&8)>>3;B=(f&4)>>2;u=(f&2)>>1;t=f&1;K=w;w=g[w];t=k[t];B=l[B];M=m[M];O=n[O];L=q[A];U=p[u];for(A=0;A<d;A+=1)if(u=w[A]&t[A])if(u&=B[A]&M[A])if(u&=O[A]&L[A]&U[A]){K=0;for(w=1;!(u&w);)K+=1,w<<=1;K=c[(A<<5)+K];break}e=e<<1|K&1;5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0)}a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e<<6-f%6]}return a};qa.prototype.cq=function(){var a="MAP",b=this.qd,c=this.sd,d=this.le,f,e=0;if(8===this.Yd)for(f=0;512>
f;f+=1){var g=(f&256)>>8;var k=(f&128)>>7;var l=(f&64)>>6;var m=(f&32)>>5;var n=(f&16)>>4;var q=(f&8)>>3;var p=(f&4)>>2;var r=(f&2)>>1;var u=f&1;k=c[b[b[b[b[b[b[b[b[d+g]+l]+p]+u]+k]+m]+q]+r]+n];e=e<<1|k&1;5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0)}else for(f=0;32>f;f+=1)k=(f&16)>>4,m=(f&8)>>3,n=(f&4)>>2,q=(f&2)>>1,r=f&1,k=c[b[b[b[b[d+k]+m]+q]+r]+n],e=e<<1|k&1,5===f%6&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e],e=0);return a+=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e<<6-f%6]};qa.prototype.aq=function(){return null===this.Ab?this.cq():this.bq()};qa.prototype.oo=function(){var a=this.qd,b=this.sd,c=this.ge,d,f,e,g,k,l=this.ta,m,n=this.U,q,p=this.X,r,u,t=0,v=0,A=0,w=this.width,B=this.B,C=this.height,O=this.K,M=this.F>>4,K=this.ca;if(0!==(this.counter&1)){var L=this.R;var U=this.Pa;var X=this.h;var H=this.H;var R=this.j}else L=this.h,U=this.Xa,X=this.R,H=this.j,R=this.H;n.fill(0);p.fill(0);var P=
0;var S=P+16;R.o.fill(0);for(g=0;g<H.length;g+=1){var aa=0;var pa=H[g];var ha=R[g];var ca=l[g];var ia=0<g?R[g-1]:K;var na=g<O-1?R[g+1]:K;for(k=0;k<M;k+=1){var ja=pa[k];var W=0;if(ja){var ma=ha[k];var ea=ia[k];var Z=na[k];for(e=15;0<=e;--e){if(0!==(ja&1<<e)){var Y=r=q=m=0;var oa=P;for(u=32768;oa<S;){var Q=0===oa?this.ha:L[oa-1];var F=L[oa];var z=oa===this.height-1?this.ha:L[oa+1];var J=X[oa];var N=32768;var I=0;var x=aa;if(0===x)var E=f=d=0;else d=Q[x-1],f=z[x-1],E=F[x-1];var la=Q[x];var ba=z[x];var ta=
F[x];var ua=d;d=la;la=Q[x+1];var ka=E;E=ta;ta=F[x+1];var wa=f;f=ba;ba=z[x+1];ka=ka|d<<4|ba<<8|wa<<12|la<<16|ua<<20;ka=b[a[a[c[ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=ka|d<<4|ba<<8|wa<<12|la<<16|ua<<20;ka=b[a[a[c[ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=ka|d<<4|ba<<8|wa<<12|la<<16|ua<<20;ka=b[a[a[c[ka]+
ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=ka|d<<4|ba<<8|wa<<12|la<<16|ua<<20;ka=b[a[a[c[ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=ka|d<<4|ba<<8|wa<<12|la<<16|ua<<20;ka=b[a[a[c[ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;
f=ba;ba=z[x+1];ka=ka|d<<4|ba<<8|wa<<12|la<<16|ua<<20;ka=b[a[a[c[ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=ka|d<<4|ba<<8|wa<<12|la<<16|ua<<20;ka=b[a[a[c[ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=ka|d<<4|ba<<8|wa<<12|la<<16|ua<<20;ka=b[a[a[c[ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&
(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=ka|d<<4|ba<<8|wa<<12|la<<16|ua<<20;ka=b[a[a[c[ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=ka|d<<4|ba<<8|wa<<12|la<<16|ua<<20;ka=b[a[a[c[ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=ka|d<<4|ba<<8|wa<<12|la<<16|ua<<20;
ka=b[a[a[c[ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=ka|d<<4|ba<<8|wa<<12|la<<16|ua<<20;ka=b[a[a[c[ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=ka|d<<4|ba<<8|wa<<12|la<<16|ua<<20;ka=b[a[a[c[ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;
ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=ka|d<<4|ba<<8|wa<<12|la<<16|ua<<20;ka=b[a[a[c[ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=ka|d<<4|ba<<8|wa<<12|la<<16|ua<<20;ka=b[a[a[c[ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;ka=E;E=ta;wa=f;f=ba;x===w-1?ba=ta=la=0:(la=Q[x+1],ta=F[x+1],ba=z[x+1]);ka=ka|d<<4|ba<<8|wa<<12|la<<16|ua<<20;ka=b[a[a[c[ka]+ta]+f]+E];J[x]=ka;
0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;I&&(q|=I,r|=u);oa+=1;u>>=1}n[aa>>4]|=q;q?(ma|=1<<e,r&1&&(Y|=y.Na,q&32768&&(Y|=y.Sa),q&1&&(Y|=y.Ma)),r&32768&&(Y|=y.Oa,q&32768&&(Y|=y.Qa),q&1&&(Y|=y.Ra)),q&32768&&(Y|=y.Ka),q&1&&(Y|=y.Ha),Y&&(0!==(Y&y.Ka)&&(15>e?ma|=1<<e+1:0<k&&0<aa&&(ha[k-1]|=1)),0!==(Y&y.Ha)&&(0<e?ma|=1<<e-1:k<M-1&&aa<w-1&&(ha[k+1]|=32768)),0!==(Y&y.Oa)&&(ea|=1<<e),0!==(Y&y.Na)&&(Z|=1<<e),0!==(Y&y.Qa)&&(15>e?ea|=1<<e+1:0<k&&0<aa&&(ia[k-1]|=1)),0!==(Y&y.Ra)&&(0<e?ea|=1<<e-1:k<M-1&&aa<
w-1&&(ia[k+1]|=32768)),0!==(Y&y.Sa)&&(15>e?Z|=1<<e+1:0<k&&0<aa&&(na[k-1]|=1)),0!==(Y&y.Ma)&&(0<e?Z|=1<<e-1:k<M-1&&aa<w-1&&(na[k+1]|=32768)))):m&&(W|=1<<e);p[g]|=r}aa+=16}ha[k]|=ma;0<g&&(ia[k]|=ea);g<O-1&&(na[k]|=Z)}else aa+=256;ca[k]=W}P+=16;S+=16}this.hc(n,p,w,C,B);K.fill(0);this.fc(U);for(oa=0;oa<this.m.o.length;oa+=1)this.m.o[oa]=this.m.o[oa]|H.o[oa]|R.o[oa];this.A=t;this.na=v;this.ga=A};qa.prototype.Gk=function(){var a=this.qd,b=this.sd,c=this.le,d,f,e,g,k,l=this.ta,m,n=this.U,q,p=this.X,r,u,
t=0,v=0,A=0,w=this.width,B=this.B,C=this.height,O=this.K,M=this.F>>4,K=this.ca;if(0!==(this.counter&1)){var L=this.R;var U=this.Pa;var X=this.h;var H=this.H;var R=this.j}else L=this.h,U=this.Xa,X=this.R,H=this.j,R=this.H;n.fill(0);p.fill(0);var P=0;var S=P+16;R.o.fill(0);for(g=0;g<H.length;g+=1){var aa=0;var pa=H[g];var ha=R[g];var ca=l[g];var ia=0<g?R[g-1]:K;var na=g<O-1?R[g+1]:K;for(k=0;k<M;k+=1){var ja=pa[k];var W=0;if(ja){var ma=ha[k];var ea=ia[k];var Z=na[k];for(e=15;0<=e;--e){if(0!==(ja&1<<
e)){var Y=r=q=m=0;var oa=P;for(u=32768;oa<S;){var Q=0===oa?this.ha:L[oa-1];var F=L[oa];var z=oa===this.height-1?this.ha:L[oa+1];var J=X[oa];var N=32768;var I=0;var x=aa;if(0===x)var E=f=d=0;else d=Q[x-1],f=z[x-1],E=F[x-1];var la=Q[x];var ba=z[x];var ta=F[x];var ua=d;d=la;la=Q[x+1];var ka=E;E=ta;ta=F[x+1];var wa=f;f=ba;ba=z[x+1];ka=b[a[a[a[a[a[a[a[a[c+ua]+la]+wa]+ba]+d]+ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;
ba=z[x+1];ka=b[a[a[a[a[a[a[a[a[c+ua]+la]+wa]+ba]+d]+ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=b[a[a[a[a[a[a[a[a[c+ua]+la]+wa]+ba]+d]+ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=b[a[a[a[a[a[a[a[a[c+ua]+la]+wa]+ba]+d]+ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=
d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=b[a[a[a[a[a[a[a[a[c+ua]+la]+wa]+ba]+d]+ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=b[a[a[a[a[a[a[a[a[c+ua]+la]+wa]+ba]+d]+ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=b[a[a[a[a[a[a[a[a[c+ua]+la]+wa]+ba]+d]+ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===
E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=b[a[a[a[a[a[a[a[a[c+ua]+la]+wa]+ba]+d]+ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=b[a[a[a[a[a[a[a[a[c+ua]+la]+wa]+ba]+d]+ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=b[a[a[a[a[a[a[a[a[c+ua]+la]+
wa]+ba]+d]+ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=b[a[a[a[a[a[a[a[a[c+ua]+la]+wa]+ba]+d]+ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=b[a[a[a[a[a[a[a[a[c+ua]+la]+wa]+ba]+d]+ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=
f;f=ba;ba=z[x+1];ka=b[a[a[a[a[a[a[a[a[c+ua]+la]+wa]+ba]+d]+ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=b[a[a[a[a[a[a[a[a[c+ua]+la]+wa]+ba]+d]+ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;x+=1;ua=d;d=la;la=Q[x+1];ka=E;E=ta;ta=F[x+1];wa=f;f=ba;ba=z[x+1];ka=b[a[a[a[a[a[a[a[a[c+ua]+la]+wa]+ba]+d]+ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;N>>=1;
x+=1;ua=d;d=la;ka=E;E=ta;wa=f;f=ba;x===w-1?ba=ta=la=0:(la=Q[x+1],ta=F[x+1],ba=z[x+1]);ka=b[a[a[a[a[a[a[a[a[c+ua]+la]+wa]+ba]+d]+ka]+ta]+f]+E];J[x]=ka;0<ka?(t+=1,0===E&&(v+=1),I|=N):0<E&&(A+=1);m|=E;I&&(q|=I,r|=u);oa+=1;u>>=1}n[aa>>4]|=q;q?(ma|=1<<e,r&1&&(Y|=y.Na,q&32768&&(Y|=y.Sa),q&1&&(Y|=y.Ma)),r&32768&&(Y|=y.Oa,q&32768&&(Y|=y.Qa),q&1&&(Y|=y.Ra)),q&32768&&(Y|=y.Ka),q&1&&(Y|=y.Ha),Y&&(0!==(Y&y.Ka)&&(15>e?ma|=1<<e+1:0<k&&0<aa&&(ha[k-1]|=1)),0!==(Y&y.Ha)&&(0<e?ma|=1<<e-1:k<M-1&&aa<w-1&&(ha[k+1]|=32768)),
0!==(Y&y.Oa)&&(ea|=1<<e),0!==(Y&y.Na)&&(Z|=1<<e),0!==(Y&y.Qa)&&(15>e?ea|=1<<e+1:0<k&&0<aa&&(ia[k-1]|=1)),0!==(Y&y.Ra)&&(0<e?ea|=1<<e-1:k<M-1&&aa<w-1&&(ia[k+1]|=32768)),0!==(Y&y.Sa)&&(15>e?Z|=1<<e+1:0<k&&0<aa&&(na[k-1]|=1)),0!==(Y&y.Ma)&&(0<e?Z|=1<<e-1:k<M-1&&aa<w-1&&(na[k+1]|=32768)))):m&&(W|=1<<e);p[g]|=r}aa+=16}ha[k]|=ma;0<g&&(ia[k]|=ea);g<O-1&&(na[k]|=Z)}else aa+=256;ca[k]=W}P+=16;S+=16}this.hc(n,p,w,C,B);K.fill(0);this.fc(U);for(oa=0;oa<this.m.o.length;oa+=1)this.m.o[oa]=this.m.o[oa]|H.o[oa]|
R.o[oa];this.A=t;this.na=v;this.ga=A};qa.prototype.Vn=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.U,k,l=this.X,m,n,q=0,p=0,r=0,u=this.width,t=this.B,v=this.height,A=this.K,w=this.F>>4,B=this.ca;if(0!==(this.counter&1)){var C=this.R;var O=this.Pa;var M=this.Xa;var K=this.H;var L=this.j}else C=this.h,O=this.Xa,M=this.Pa,K=this.j,L=this.H;g.fill(0);l.fill(0);var U=0;var X=U+16;L.o.fill(0);for(c=0;c<K.length;c+=1){var H=0;var R=K[c];var P=L[c];var S=f[c];var aa=0<c?L[c-1]:B;var pa=c<A-1?L[c+1]:
B;for(d=0;d<w;d+=1){var ha=R[d];var ca=0;if(ha){var ia=P[d];var na=aa[d];var ja=pa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var W=m=k=e=0;var ma=U;for(n=32768;ma<X;){var ea=0===ma?this.ha:C[ma-1];var Z=C[ma];var Y=ma===this.height-1?this.ha:C[ma+1];var oa=M[ma];var Q=32768;var F=H;var z=Z[F+1];var J=Y[F+1];var N=ea[F];var I=Z[F];var x=Y[F];var E=0===F?I|x<<1|z<<2|N<<4|J<<5:ea[F-1]<<6|Z[F-1]<<3|I|x<<1|z<<2|N<<4|J<<5;var la=a[E];0<la?(q+=1,0===(E&1)&&(p+=1),m|=n,k|=Q):0!==(E&1)&&(r+=1);e|=I;Q>>=1;F+=
1;E=N;N=ea[F];var ba=I;I=z;z=Z[F+1];x=J;J=Y[F+1];E=I|x<<1|z<<2|ba<<3|N<<4|J<<5|E<<6;x=a[E];la|=x<<8;0<x?(q+=1,0===(E&1)&&(p+=1),m|=n,k|=Q):0!==(E&1)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;N=ea[F];ba=I;I=z;z=Z[F+1];x=J;J=Y[F+1];E=I|x<<1|z<<2|ba<<3|N<<4|J<<5|E<<6;x=a[E];la|=x<<16;0<x?(q+=1,0===(E&1)&&(p+=1),m|=n,k|=Q):0!==(E&1)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;N=ea[F];ba=I;I=z;z=Z[F+1];x=J;J=Y[F+1];E=I|x<<1|z<<2|ba<<3|N<<4|J<<5|E<<6;x=a[E];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(E&1)&&(p+=1),m|=n,k|=Q):0!==(E&1)&&(r+=
1);e|=I;Q>>=1;F+=1;E=N;N=ea[F];ba=I;I=z;z=Z[F+1];x=J;J=Y[F+1];E=I|x<<1|z<<2|ba<<3|N<<4|J<<5|E<<6;la=a[E];0<la?(q+=1,0===(E&1)&&(p+=1),m|=n,k|=Q):0!==(E&1)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;N=ea[F];ba=I;I=z;z=Z[F+1];x=J;J=Y[F+1];E=I|x<<1|z<<2|ba<<3|N<<4|J<<5|E<<6;x=a[E];la|=x<<8;0<x?(q+=1,0===(E&1)&&(p+=1),m|=n,k|=Q):0!==(E&1)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;N=ea[F];ba=I;I=z;z=Z[F+1];x=J;J=Y[F+1];E=I|x<<1|z<<2|ba<<3|N<<4|J<<5|E<<6;x=a[E];la|=x<<16;0<x?(q+=1,0===(E&1)&&(p+=1),m|=n,k|=Q):0!==(E&1)&&(r+=1);e|=
I;Q>>=1;F+=1;E=N;N=ea[F];ba=I;I=z;z=Z[F+1];x=J;J=Y[F+1];E=I|x<<1|z<<2|ba<<3|N<<4|J<<5|E<<6;x=a[E];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(E&1)&&(p+=1),m|=n,k|=Q):0!==(E&1)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;N=ea[F];ba=I;I=z;z=Z[F+1];x=J;J=Y[F+1];E=I|x<<1|z<<2|ba<<3|N<<4|J<<5|E<<6;la=a[E];0<la?(q+=1,0===(E&1)&&(p+=1),m|=n,k|=Q):0!==(E&1)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;N=ea[F];ba=I;I=z;z=Z[F+1];x=J;J=Y[F+1];E=I|x<<1|z<<2|ba<<3|N<<4|J<<5|E<<6;x=a[E];la|=x<<8;0<x?(q+=1,0===(E&1)&&(p+=1),m|=n,k|=Q):0!==(E&1)&&(r+=
1);e|=I;Q>>=1;F+=1;E=N;N=ea[F];ba=I;I=z;z=Z[F+1];x=J;J=Y[F+1];E=I|x<<1|z<<2|ba<<3|N<<4|J<<5|E<<6;x=a[E];la|=x<<16;0<x?(q+=1,0===(E&1)&&(p+=1),m|=n,k|=Q):0!==(E&1)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;N=ea[F];ba=I;I=z;z=Z[F+1];x=J;J=Y[F+1];E=I|x<<1|z<<2|ba<<3|N<<4|J<<5|E<<6;x=a[E];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(E&1)&&(p+=1),m|=n,k|=Q):0!==(E&1)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;N=ea[F];ba=I;I=z;z=Z[F+1];x=J;J=Y[F+1];E=I|x<<1|z<<2|ba<<3|N<<4|J<<5|E<<6;la=a[E];0<la?(q+=1,0===(E&1)&&(p+=1),m|=n,k|=Q):0!==(E&1)&&
(r+=1);e|=I;Q>>=1;F+=1;E=N;N=ea[F];ba=I;I=z;z=Z[F+1];x=J;J=Y[F+1];E=I|x<<1|z<<2|ba<<3|N<<4|J<<5|E<<6;x=a[E];la|=x<<8;0<x?(q+=1,0===(E&1)&&(p+=1),m|=n,k|=Q):0!==(E&1)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;N=ea[F];ba=I;I=z;z=Z[F+1];x=J;J=Y[F+1];E=I|x<<1|z<<2|ba<<3|N<<4|J<<5|E<<6;x=a[E];la|=x<<16;0<x?(q+=1,0===(E&1)&&(p+=1),m|=n,k|=Q):0!==(E&1)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;N=ea[F];ba=I;I=z;x=J;F===u-1?J=z=0:(z=Z[F+1],J=Y[F+1]);E=I|x<<1|z<<2|ba<<3|N<<4|J<<5|E<<6;x=a[E];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(E&1)&&
(p+=1),m|=n,k|=Q):0!==(E&1)&&(r+=1);e|=I;ma+=1;n>>=1}g[H>>4]|=k;k?(ia|=1<<b,m&1&&(W|=y.Na,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ma)),m&32768&&(W|=y.Oa,k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ka),k&1&&(W|=y.Ha),W&&(0!==(W&y.Ka)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(P[d-1]|=1)),0!==(W&y.Ha)&&(0<b?ia|=1<<b-1:d<w-1&&H<u-1&&(P[d+1]|=32768)),0!==(W&y.Oa)&&(na|=1<<b),0!==(W&y.Na)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?na|=1<<b+1:0<d&&0<H&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&H<u-1&&(aa[d+1]|=32768)),0!==
(W&y.Sa)&&(15>b?ja|=1<<b+1:0<d&&0<H&&(pa[d-1]|=1)),0!==(W&y.Ma)&&(0<b?ja|=1<<b-1:d<w-1&&H<u-1&&(pa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=m}H+=16}P[d]|=ia;0<c&&(aa[d]|=na);c<A-1&&(pa[d]|=ja)}else H+=256;S[d]=ca}U+=16;X+=16}this.hc(g,l,u,v,t);B.fill(0);this.fc(O);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=this.m.o[ma]|K.o[ma]|L.o[ma];this.A=q;this.na=p;this.ga=r};qa.prototype.Xn=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.U,k,l=this.X,m,n,q=0,p=0,r=0,u=this.width,t=this.B,v=this.height,A=this.K,
w=this.F>>4,B=this.ca;if(0!==(this.counter&1)){var C=this.R;var O=this.Pa;var M=this.Xa;var K=this.H;var L=this.j}else C=this.h,O=this.Xa,M=this.Pa,K=this.j,L=this.H;g.fill(0);l.fill(0);var U=0;var X=U+16;L.o.fill(0);for(c=0;c<K.length;c+=1){var H=0;var R=K[c];var P=L[c];var S=f[c];var aa=0<c?L[c-1]:B;var pa=c<A-1?L[c+1]:B;for(d=0;d<w;d+=1){var ha=R[d];var ca=0;if(ha){var ia=P[d];var na=aa[d];var ja=pa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var W=m=k=e=0;var ma=U;for(n=32768;ma<X;){var ea=0===ma?
this.ha:C[ma-1];var Z=C[ma];var Y=ma===this.height-1?this.ha:C[ma+1];var oa=M[ma];var Q=32768;var F=H;var z=Z[F+1];var J=Y[F+1];var N=ea[F];var I=Z[F];var x=Y[F];var E=0===F?I|x<<2|z<<4|N<<8|J<<10:ea[F-1]<<12|Z[F-1]<<6|I|x<<2|z<<4|N<<8|J<<10;var la=a[E];0<la?(q+=1,0===(E&3)&&(p+=1),m|=n,k|=Q):0!==(E&3)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;N=ea[F];var ba=I;I=z;z=Z[F+1];x=J;J=Y[F+1];E=I|x<<2|z<<4|ba<<6|N<<8|J<<10|E<<12;x=a[E];la|=x<<8;0<x?(q+=1,0===(E&3)&&(p+=1),m|=n,k|=Q):0!==(E&3)&&(r+=1);e|=I;Q>>=1;F+=1;
E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<2|z<<4|ba<<6|N<<8|J<<10|E<<12;x=a[E];la|=x<<16;0<x?(q+=1,0===(E&3)&&(p+=1),m|=n,k|=Q):0!==(E&3)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<2|z<<4|ba<<6|N<<8|J<<10|E<<12;x=a[E];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(E&3)&&(p+=1),m|=n,k|=Q):0!==(E&3)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<2|z<<4|ba<<6|N<<8|J<<10|E<<12;la=a[E];0<la?(q+=1,0===(E&3)&&(p+=1),m|=n,k|=Q):0!==(E&3)&&(r+=1);e|=
I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<2|z<<4|ba<<6|N<<8|J<<10|E<<12;x=a[E];la|=x<<8;0<x?(q+=1,0===(E&3)&&(p+=1),m|=n,k|=Q):0!==(E&3)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<2|z<<4|ba<<6|N<<8|J<<10|E<<12;x=a[E];la|=x<<16;0<x?(q+=1,0===(E&3)&&(p+=1),m|=n,k|=Q):0!==(E&3)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<2|z<<4|ba<<6|N<<8|J<<10|E<<12;x=a[E];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(E&3)&&(p+=1),m|=n,k|=Q):0!==
(E&3)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<2|z<<4|ba<<6|N<<8|J<<10|E<<12;la=a[E];0<la?(q+=1,0===(E&3)&&(p+=1),m|=n,k|=Q):0!==(E&3)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<2|z<<4|ba<<6|N<<8|J<<10|E<<12;x=a[E];la|=x<<8;0<x?(q+=1,0===(E&3)&&(p+=1),m|=n,k|=Q):0!==(E&3)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<2|z<<4|ba<<6|N<<8|J<<10|E<<12;x=a[E];la|=x<<16;0<x?(q+=1,0===(E&3)&&(p+=1),m|=n,k|=Q):0!==
(E&3)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<2|z<<4|ba<<6|N<<8|J<<10|E<<12;x=a[E];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(E&3)&&(p+=1),m|=n,k|=Q):0!==(E&3)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<2|z<<4|ba<<6|N<<8|J<<10|E<<12;la=a[E];0<la?(q+=1,0===(E&3)&&(p+=1),m|=n,k|=Q):0!==(E&3)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<2|z<<4|ba<<6|N<<8|J<<10|E<<12;x=a[E];la|=x<<8;0<x?(q+=1,0===(E&3)&&(p+=1),m|=
n,k|=Q):0!==(E&3)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<2|z<<4|ba<<6|N<<8|J<<10|E<<12;x=a[E];la|=x<<16;0<x?(q+=1,0===(E&3)&&(p+=1),m|=n,k|=Q):0!==(E&3)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;N=ea[F];ba=I;I=z;x=J;F===u-1?J=z=0:(z=Z[F+1],J=Y[F+1]);E=I|x<<2|z<<4|ba<<6|N<<8|J<<10|E<<12;x=a[E];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(E&3)&&(p+=1),m|=n,k|=Q):0!==(E&3)&&(r+=1);e|=I;ma+=1;n>>=1}g[H>>4]|=k;k?(ia|=1<<b,m&1&&(W|=y.Na,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ma)),m&32768&&(W|=y.Oa,
k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ka),k&1&&(W|=y.Ha),W&&(0!==(W&y.Ka)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(P[d-1]|=1)),0!==(W&y.Ha)&&(0<b?ia|=1<<b-1:d<w-1&&H<u-1&&(P[d+1]|=32768)),0!==(W&y.Oa)&&(na|=1<<b),0!==(W&y.Na)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?na|=1<<b+1:0<d&&0<H&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&H<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&(15>b?ja|=1<<b+1:0<d&&0<H&&(pa[d-1]|=1)),0!==(W&y.Ma)&&(0<b?ja|=1<<b-1:d<w-1&&H<u-1&&(pa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=m}H+=16}P[d]|=
ia;0<c&&(aa[d]|=na);c<A-1&&(pa[d]|=ja)}else H+=256;S[d]=ca}U+=16;X+=16}this.hc(g,l,u,v,t);B.fill(0);this.fc(O);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=this.m.o[ma]|K.o[ma]|L.o[ma];this.A=q;this.na=p;this.ga=r};qa.prototype.hn=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.U,k,l=this.X,m,n,q=0,p=0,r=0,u=this.width,t=this.B,v=this.height,A=this.K,w=this.F>>4,B=this.ca;if(0!==(this.counter&1)){var C=this.R;var O=this.Pa;var M=this.Xa;var K=this.H;var L=this.j}else C=this.h,O=this.Xa,M=this.Pa,
K=this.j,L=this.H;g.fill(0);l.fill(0);var U=0;var X=U+16;L.o.fill(0);for(c=0;c<K.length;c+=1){var H=0;var R=K[c];var P=L[c];var S=f[c];var aa=0<c?L[c-1]:B;var pa=c<A-1?L[c+1]:B;for(d=0;d<w;d+=1){var ha=R[d];var ca=0;if(ha){var ia=P[d];var na=aa[d];var ja=pa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var W=m=k=e=0;var ma=U;for(n=32768;ma<X;){var ea=0===ma?this.ha:C[ma-1];var Z=C[ma];var Y=ma===this.height-1?this.ha:C[ma+1];var oa=M[ma];var Q=32768;var F=H;var z=Z[F+1];var J=Y[F+1];var N=ea[F];var I=Z[F];
var x=Y[F];var E=0===F?I|x<<3|z<<6|N<<12|J<<15:ea[F-1]<<18|Z[F-1]<<9|I|x<<3|z<<6|N<<12|J<<15;var la=a[E];0<la?(q+=1,0===(E&7)&&(p+=1),m|=n,k|=Q):0!==(E&7)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;N=ea[F];var ba=I;I=z;z=Z[F+1];x=J;J=Y[F+1];E=I|x<<3|z<<6|ba<<9|N<<12|J<<15|E<<18;x=a[E];la|=x<<8;0<x?(q+=1,0===(E&7)&&(p+=1),m|=n,k|=Q):0!==(E&7)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<3|z<<6|ba<<9|N<<12|J<<15|E<<18;x=a[E];la|=x<<16;0<x?(q+=1,0===(E&7)&&(p+=1),m|=n,k|=Q):0!==(E&7)&&
(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<3|z<<6|ba<<9|N<<12|J<<15|E<<18;x=a[E];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(E&7)&&(p+=1),m|=n,k|=Q):0!==(E&7)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<3|z<<6|ba<<9|N<<12|J<<15|E<<18;la=a[E];0<la?(q+=1,0===(E&7)&&(p+=1),m|=n,k|=Q):0!==(E&7)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<3|z<<6|ba<<9|N<<12|J<<15|E<<18;x=a[E];la|=x<<8;0<x?(q+=1,0===(E&7)&&(p+=1),m|=n,k|=
Q):0!==(E&7)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<3|z<<6|ba<<9|N<<12|J<<15|E<<18;x=a[E];la|=x<<16;0<x?(q+=1,0===(E&7)&&(p+=1),m|=n,k|=Q):0!==(E&7)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<3|z<<6|ba<<9|N<<12|J<<15|E<<18;x=a[E];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(E&7)&&(p+=1),m|=n,k|=Q):0!==(E&7)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<3|z<<6|ba<<9|N<<12|J<<15|E<<18;la=a[E];0<la?(q+=1,0===(E&7)&&
(p+=1),m|=n,k|=Q):0!==(E&7)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<3|z<<6|ba<<9|N<<12|J<<15|E<<18;x=a[E];la|=x<<8;0<x?(q+=1,0===(E&7)&&(p+=1),m|=n,k|=Q):0!==(E&7)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<3|z<<6|ba<<9|N<<12|J<<15|E<<18;x=a[E];la|=x<<16;0<x?(q+=1,0===(E&7)&&(p+=1),m|=n,k|=Q):0!==(E&7)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<3|z<<6|ba<<9|N<<12|J<<15|E<<18;x=a[E];la|=x<<24;oa[F>>2]=la;
0<x?(q+=1,0===(E&7)&&(p+=1),m|=n,k|=Q):0!==(E&7)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<3|z<<6|ba<<9|N<<12|J<<15|E<<18;la=a[E];0<la?(q+=1,0===(E&7)&&(p+=1),m|=n,k|=Q):0!==(E&7)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<3|z<<6|ba<<9|N<<12|J<<15|E<<18;x=a[E];la|=x<<8;0<x?(q+=1,0===(E&7)&&(p+=1),m|=n,k|=Q):0!==(E&7)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;ba=I;I=z;x=J;N=ea[F];z=Z[F+1];J=Y[F+1];E=I|x<<3|z<<6|ba<<9|N<<12|J<<15|E<<18;x=a[E];la|=x<<
16;0<x?(q+=1,0===(E&7)&&(p+=1),m|=n,k|=Q):0!==(E&7)&&(r+=1);e|=I;Q>>=1;F+=1;E=N;N=ea[F];ba=I;I=z;x=J;F===u-1?J=z=0:(z=Z[F+1],J=Y[F+1]);E=I|x<<3|z<<6|ba<<9|N<<12|J<<15|E<<18;x=a[E];la|=x<<24;oa[F>>2]=la;0<x?(q+=1,0===(E&7)&&(p+=1),m|=n,k|=Q):0!==(E&7)&&(r+=1);e|=I;ma+=1;n>>=1}g[H>>4]|=k;k?(ia|=1<<b,m&1&&(W|=y.Na,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ma)),m&32768&&(W|=y.Oa,k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ka),k&1&&(W|=y.Ha),W&&(0!==(W&y.Ka)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(P[d-1]|=1)),0!==(W&y.Ha)&&
(0<b?ia|=1<<b-1:d<w-1&&H<u-1&&(P[d+1]|=32768)),0!==(W&y.Oa)&&(na|=1<<b),0!==(W&y.Na)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?na|=1<<b+1:0<d&&0<H&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&H<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&(15>b?ja|=1<<b+1:0<d&&0<H&&(pa[d-1]|=1)),0!==(W&y.Ma)&&(0<b?ja|=1<<b-1:d<w-1&&H<u-1&&(pa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=m}H+=16}P[d]|=ia;0<c&&(aa[d]|=na);c<A-1&&(pa[d]|=ja)}else H+=256;S[d]=ca}U+=16;X+=16}this.hc(g,l,u,v,t);B.fill(0);this.fc(O);for(ma=0;ma<this.m.o.length;ma+=
1)this.m.o[ma]=this.m.o[ma]|K.o[ma]|L.o[ma];this.A=q;this.na=p;this.ga=r};qa.prototype.Zl=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.U,k,l=this.X,m,n,q=0,p=0,r=0,u=this.width,t=this.B,v=this.height,A=this.K,w=this.F>>4,B=this.ca;if(0!==(this.counter&1)){var C=this.R;var O=this.Pa;var M=this.Xa;var K=this.H;var L=this.j}else C=this.h,O=this.Xa,M=this.Pa,K=this.j,L=this.H;g.fill(0);l.fill(0);var U=0;var X=U+16;L.o.fill(0);for(c=0;c<K.length;c+=1){var H=0;var R=K[c];var P=L[c];var S=f[c];var aa=
0<c?L[c-1]:B;var pa=c<A-1?L[c+1]:B;for(d=0;d<w;d+=1){var ha=R[d];var ca=0;if(ha){var ia=P[d];var na=aa[d];var ja=pa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var W=m=k=e=0;var ma=U;for(n=32768;ma<X;){var ea=0===ma?this.ha:C[ma-1];var Z=C[ma];var Y=ma===this.height-1?this.ha:C[ma+1];var oa=M[ma];var Q=32768;var F=H;var z=ea[F+1];var J=Z[F+1];var N=Y[F+1];var I=ea[F];var x=Z[F];var E=Y[F];E=0===F?I<<3|x<<4|E<<5|z<<6|J<<7|N<<8:ea[F-1]|Z[F-1]<<1|Y[F-1]<<2|I<<3|x<<4|E<<5|z<<6|J<<7|N<<8;I=a[E];0<I?(q+=1,
0===(E&16)&&(p+=1),m|=n,k|=Q):0!==(E&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>3|z<<6|J<<7|N<<8;z=a[E];I|=z<<8;0<z?(q+=1,0===(E&16)&&(p+=1),m|=n,k|=Q):0!==(E&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>3|z<<6|J<<7|N<<8;z=a[E];I|=z<<16;0<z?(q+=1,0===(E&16)&&(p+=1),m|=n,k|=Q):0!==(E&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>3|z<<6|J<<7|N<<8;z=a[E];I|=z<<24;oa[F>>2]=I;0<z?(q+=1,0===(E&16)&&(p+=1),m|=n,k|=Q):0!==(E&16)&&(r+=1);e|=x;Q>>=
1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>3|z<<6|J<<7|N<<8;I=a[E];0<I?(q+=1,0===(E&16)&&(p+=1),m|=n,k|=Q):0!==(E&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>3|z<<6|J<<7|N<<8;z=a[E];I|=z<<8;0<z?(q+=1,0===(E&16)&&(p+=1),m|=n,k|=Q):0!==(E&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>3|z<<6|J<<7|N<<8;z=a[E];I|=z<<16;0<z?(q+=1,0===(E&16)&&(p+=1),m|=n,k|=Q):0!==(E&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>3|z<<6|J<<7|N<<8;z=a[E];I|=z<<24;
oa[F>>2]=I;0<z?(q+=1,0===(E&16)&&(p+=1),m|=n,k|=Q):0!==(E&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>3|z<<6|J<<7|N<<8;I=a[E];0<I?(q+=1,0===(E&16)&&(p+=1),m|=n,k|=Q):0!==(E&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>3|z<<6|J<<7|N<<8;z=a[E];I|=z<<8;0<z?(q+=1,0===(E&16)&&(p+=1),m|=n,k|=Q):0!==(E&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>3|z<<6|J<<7|N<<8;z=a[E];I|=z<<16;0<z?(q+=1,0===(E&16)&&(p+=1),m|=n,k|=Q):0!==(E&16)&&(r+=1);e|=x;Q>>=
1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>3|z<<6|J<<7|N<<8;z=a[E];I|=z<<24;oa[F>>2]=I;0<z?(q+=1,0===(E&16)&&(p+=1),m|=n,k|=Q):0!==(E&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>3|z<<6|J<<7|N<<8;I=a[E];0<I?(q+=1,0===(E&16)&&(p+=1),m|=n,k|=Q):0!==(E&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>3|z<<6|J<<7|N<<8;z=a[E];I|=z<<8;0<z?(q+=1,0===(E&16)&&(p+=1),m|=n,k|=Q):0!==(E&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>3|z<<6|J<<7|N<<8;z=a[E];
I|=z<<16;0<z?(q+=1,0===(E&16)&&(p+=1),m|=n,k|=Q):0!==(E&16)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;F===u-1?N=J=z=0:(z=ea[F+1],J=Z[F+1],N=Y[F+1]);E=E>>3|z<<6|J<<7|N<<8;z=a[E];I|=z<<24;oa[F>>2]=I;0<z?(q+=1,0===(E&16)&&(p+=1),m|=n,k|=Q):0!==(E&16)&&(r+=1);e|=x;ma+=1;n>>=1}g[H>>4]|=k;k?(ia|=1<<b,m&1&&(W|=y.Na,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ma)),m&32768&&(W|=y.Oa,k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ka),k&1&&(W|=y.Ha),W&&(0!==(W&y.Ka)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(P[d-1]|=1)),0!==(W&y.Ha)&&(0<b?ia|=1<<
b-1:d<w-1&&H<u-1&&(P[d+1]|=32768)),0!==(W&y.Oa)&&(na|=1<<b),0!==(W&y.Na)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?na|=1<<b+1:0<d&&0<H&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&H<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&(15>b?ja|=1<<b+1:0<d&&0<H&&(pa[d-1]|=1)),0!==(W&y.Ma)&&(0<b?ja|=1<<b-1:d<w-1&&H<u-1&&(pa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=m}H+=16}P[d]|=ia;0<c&&(aa[d]|=na);c<A-1&&(pa[d]|=ja)}else H+=256;S[d]=ca}U+=16;X+=16}this.hc(g,l,u,v,t);B.fill(0);this.fc(O);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=
this.m.o[ma]|K.o[ma]|L.o[ma];this.A=q;this.na=p;this.ga=r};qa.prototype.$l=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.U,k,l=this.X,m,n,q=0,p=0,r=0,u=this.width,t=this.B,v=this.height,A=this.K,w=this.F>>4,B=this.ca;if(0!==(this.counter&1)){var C=this.R;var O=this.Pa;var M=this.Xa;var K=this.H;var L=this.j}else C=this.h,O=this.Xa,M=this.Pa,K=this.j,L=this.H;g.fill(0);l.fill(0);var U=0;var X=U+16;L.o.fill(0);for(c=0;c<K.length;c+=1){var H=0;var R=K[c];var P=L[c];var S=f[c];var aa=0<c?L[c-1]:B;
var pa=c<A-1?L[c+1]:B;for(d=0;d<w;d+=1){var ha=R[d];var ca=0;if(ha){var ia=P[d];var na=aa[d];var ja=pa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var W=m=k=e=0;var ma=U;for(n=32768;ma<X;){var ea=0===ma?this.ha:C[ma-1];var Z=C[ma];var Y=ma===this.height-1?this.ha:C[ma+1];var oa=M[ma];var Q=32768;var F=H;var z=ea[F+1];var J=Z[F+1];var N=Y[F+1];var I=ea[F];var x=Z[F];var E=Y[F];E=0===F?I<<6|x<<8|E<<10|z<<12|J<<14|N<<16:ea[F-1]|Z[F-1]<<2|Y[F-1]<<4|I<<6|x<<8|E<<10|z<<12|J<<14|N<<16;I=a[E];0<I?(q+=1,0===(E&
768)&&(p+=1),m|=n,k|=Q):0!==(E&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>6|z<<12|J<<14|N<<16;z=a[E];I|=z<<8;0<z?(q+=1,0===(E&768)&&(p+=1),m|=n,k|=Q):0!==(E&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>6|z<<12|J<<14|N<<16;z=a[E];I|=z<<16;0<z?(q+=1,0===(E&768)&&(p+=1),m|=n,k|=Q):0!==(E&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>6|z<<12|J<<14|N<<16;z=a[E];I|=z<<24;oa[F>>2]=I;0<z?(q+=1,0===(E&768)&&(p+=1),m|=n,k|=Q):0!==(E&768)&&(r+=
1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>6|z<<12|J<<14|N<<16;I=a[E];0<I?(q+=1,0===(E&768)&&(p+=1),m|=n,k|=Q):0!==(E&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>6|z<<12|J<<14|N<<16;z=a[E];I|=z<<8;0<z?(q+=1,0===(E&768)&&(p+=1),m|=n,k|=Q):0!==(E&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>6|z<<12|J<<14|N<<16;z=a[E];I|=z<<16;0<z?(q+=1,0===(E&768)&&(p+=1),m|=n,k|=Q):0!==(E&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>6|z<<
12|J<<14|N<<16;z=a[E];I|=z<<24;oa[F>>2]=I;0<z?(q+=1,0===(E&768)&&(p+=1),m|=n,k|=Q):0!==(E&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>6|z<<12|J<<14|N<<16;I=a[E];0<I?(q+=1,0===(E&768)&&(p+=1),m|=n,k|=Q):0!==(E&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>6|z<<12|J<<14|N<<16;z=a[E];I|=z<<8;0<z?(q+=1,0===(E&768)&&(p+=1),m|=n,k|=Q):0!==(E&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>6|z<<12|J<<14|N<<16;z=a[E];I|=z<<16;0<z?(q+=1,0===(E&768)&&
(p+=1),m|=n,k|=Q):0!==(E&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>6|z<<12|J<<14|N<<16;z=a[E];I|=z<<24;oa[F>>2]=I;0<z?(q+=1,0===(E&768)&&(p+=1),m|=n,k|=Q):0!==(E&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>6|z<<12|J<<14|N<<16;I=a[E];0<I?(q+=1,0===(E&768)&&(p+=1),m|=n,k|=Q):0!==(E&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>6|z<<12|J<<14|N<<16;z=a[E];I|=z<<8;0<z?(q+=1,0===(E&768)&&(p+=1),m|=n,k|=Q):0!==(E&768)&&(r+=1);e|=x;Q>>=1;F+=
1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>6|z<<12|J<<14|N<<16;z=a[E];I|=z<<16;0<z?(q+=1,0===(E&768)&&(p+=1),m|=n,k|=Q):0!==(E&768)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;F===u-1?N=J=z=0:(z=ea[F+1],J=Z[F+1],N=Y[F+1]);E=E>>6|z<<12|J<<14|N<<16;z=a[E];I|=z<<24;oa[F>>2]=I;0<z?(q+=1,0===(E&768)&&(p+=1),m|=n,k|=Q):0!==(E&768)&&(r+=1);e|=x;ma+=1;n>>=1}g[H>>4]|=k;k?(ia|=1<<b,m&1&&(W|=y.Na,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ma)),m&32768&&(W|=y.Oa,k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ka),k&1&&(W|=y.Ha),W&&(0!==(W&
y.Ka)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(P[d-1]|=1)),0!==(W&y.Ha)&&(0<b?ia|=1<<b-1:d<w-1&&H<u-1&&(P[d+1]|=32768)),0!==(W&y.Oa)&&(na|=1<<b),0!==(W&y.Na)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?na|=1<<b+1:0<d&&0<H&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&H<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&(15>b?ja|=1<<b+1:0<d&&0<H&&(pa[d-1]|=1)),0!==(W&y.Ma)&&(0<b?ja|=1<<b-1:d<w-1&&H<u-1&&(pa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=m}H+=16}P[d]|=ia;0<c&&(aa[d]|=na);c<A-1&&(pa[d]|=ja)}else H+=256;S[d]=ca}U+=16;X+=16}this.hc(g,
l,u,v,t);B.fill(0);this.fc(O);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=this.m.o[ma]|K.o[ma]|L.o[ma];this.A=q;this.na=p;this.ga=r};qa.prototype.yk=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.U,k,l=this.X,m,n,q=0,p=0,r=0,u=this.width,t=this.B,v=this.height,A=this.K,w=this.F>>4,B=this.ca;if(0!==(this.counter&1)){var C=this.R;var O=this.Pa;var M=this.Xa;var K=this.H;var L=this.j}else C=this.h,O=this.Xa,M=this.Pa,K=this.j,L=this.H;g.fill(0);l.fill(0);var U=0;var X=U+16;L.o.fill(0);for(c=0;c<
K.length;c+=1){var H=0;var R=K[c];var P=L[c];var S=f[c];var aa=0<c?L[c-1]:B;var pa=c<A-1?L[c+1]:B;for(d=0;d<w;d+=1){var ha=R[d];var ca=0;if(ha){var ia=P[d];var na=aa[d];var ja=pa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var W=m=k=e=0;var ma=U;for(n=32768;ma<X;){var ea=0===ma?this.ha:C[ma-1];var Z=C[ma];var Y=ma===this.height-1?this.ha:C[ma+1];var oa=M[ma];var Q=32768;var F=H;var z=ea[F+1];var J=Z[F+1];var N=Y[F+1];var I=ea[F];var x=Z[F];var E=Y[F];E=0===F?I<<9|x<<12|E<<15|z<<18|J<<21|N<<24:ea[F-1]|
Z[F-1]<<3|Y[F-1]<<6|I<<9|x<<12|E<<15|z<<18|J<<21|N<<24;I=a[E];0<I?(q+=1,0===(E&45056)&&(p+=1),m|=n,k|=Q):0!==(E&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>9|z<<18|J<<21|N<<24;z=a[E];I|=z<<8;0<z?(q+=1,0===(E&45056)&&(p+=1),m|=n,k|=Q):0!==(E&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>9|z<<18|J<<21|N<<24;z=a[E];I|=z<<16;0<z?(q+=1,0===(E&45056)&&(p+=1),m|=n,k|=Q):0!==(E&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>9|z<<18|J<<21|
N<<24;z=a[E];I|=z<<24;oa[F>>2]=I;0<z?(q+=1,0===(E&45056)&&(p+=1),m|=n,k|=Q):0!==(E&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>9|z<<18|J<<21|N<<24;I=a[E];0<I?(q+=1,0===(E&45056)&&(p+=1),m|=n,k|=Q):0!==(E&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>9|z<<18|J<<21|N<<24;z=a[E];I|=z<<8;0<z?(q+=1,0===(E&45056)&&(p+=1),m|=n,k|=Q):0!==(E&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>9|z<<18|J<<21|N<<24;z=a[E];I|=z<<16;0<z?(q+=1,0===(E&
45056)&&(p+=1),m|=n,k|=Q):0!==(E&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>9|z<<18|J<<21|N<<24;z=a[E];I|=z<<24;oa[F>>2]=I;0<z?(q+=1,0===(E&45056)&&(p+=1),m|=n,k|=Q):0!==(E&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>9|z<<18|J<<21|N<<24;I=a[E];0<I?(q+=1,0===(E&45056)&&(p+=1),m|=n,k|=Q):0!==(E&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>9|z<<18|J<<21|N<<24;z=a[E];I|=z<<8;0<z?(q+=1,0===(E&45056)&&(p+=1),m|=n,k|=Q):0!==(E&45056)&&
(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>9|z<<18|J<<21|N<<24;z=a[E];I|=z<<16;0<z?(q+=1,0===(E&45056)&&(p+=1),m|=n,k|=Q):0!==(E&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>9|z<<18|J<<21|N<<24;z=a[E];I|=z<<24;oa[F>>2]=I;0<z?(q+=1,0===(E&45056)&&(p+=1),m|=n,k|=Q):0!==(E&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>9|z<<18|J<<21|N<<24;I=a[E];0<I?(q+=1,0===(E&45056)&&(p+=1),m|=n,k|=Q):0!==(E&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];
J=Z[F+1];N=Y[F+1];E=E>>9|z<<18|J<<21|N<<24;z=a[E];I|=z<<8;0<z?(q+=1,0===(E&45056)&&(p+=1),m|=n,k|=Q):0!==(E&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;z=ea[F+1];J=Z[F+1];N=Y[F+1];E=E>>9|z<<18|J<<21|N<<24;z=a[E];I|=z<<16;0<z?(q+=1,0===(E&45056)&&(p+=1),m|=n,k|=Q):0!==(E&45056)&&(r+=1);e|=x;Q>>=1;F+=1;x=J;F===u-1?N=J=z=0:(z=ea[F+1],J=Z[F+1],N=Y[F+1]);E=E>>9|z<<18|J<<21|N<<24;z=a[E];I|=z<<24;oa[F>>2]=I;0<z?(q+=1,0===(E&45056)&&(p+=1),m|=n,k|=Q):0!==(E&45056)&&(r+=1);e|=x;ma+=1;n>>=1}g[H>>4]|=k;k?(ia|=1<<b,m&
1&&(W|=y.Na,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ma)),m&32768&&(W|=y.Oa,k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ka),k&1&&(W|=y.Ha),W&&(0!==(W&y.Ka)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(P[d-1]|=1)),0!==(W&y.Ha)&&(0<b?ia|=1<<b-1:d<w-1&&H<u-1&&(P[d+1]|=32768)),0!==(W&y.Oa)&&(na|=1<<b),0!==(W&y.Na)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?na|=1<<b+1:0<d&&0<H&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&H<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&(15>b?ja|=1<<b+1:0<d&&0<H&&(pa[d-1]|=1)),0!==(W&y.Ma)&&(0<b?ja|=1<<
b-1:d<w-1&&H<u-1&&(pa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=m}H+=16}P[d]|=ia;0<c&&(aa[d]|=na);c<A-1&&(pa[d]|=ja)}else H+=256;S[d]=ca}U+=16;X+=16}this.hc(g,l,u,v,t);B.fill(0);this.fc(O);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=this.m.o[ma]|K.o[ma]|L.o[ma];this.A=q;this.na=p;this.ga=r};qa.prototype.zk=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.U,k,l=this.X,m,n,q=0,p=0,r=0,u=this.width,t=this.B,v=this.height,A=this.K,w=this.F>>4,B=this.ca;if(0!==(this.counter&1)){var C=this.R;var O=this.Pa;
var M=this.Xa;var K=this.H;var L=this.j}else C=this.h,O=this.Xa,M=this.Pa,K=this.j,L=this.H;g.fill(0);l.fill(0);var U=0;var X=U+16;L.o.fill(0);for(c=0;c<K.length;c+=1){var H=0;var R=K[c];var P=L[c];var S=f[c];var aa=0<c?L[c-1]:B;var pa=c<A-1?L[c+1]:B;for(d=0;d<w;d+=1){var ha=R[d];var ca=0;if(ha){var ia=P[d];var na=aa[d];var ja=pa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var W=m=k=e=0;var ma=U;for(n=32768;ma<X;){var ea=0===ma?this.ha:C[ma-1];var Z=C[ma];var Y=ma===this.height-1?this.ha:C[ma+1];var oa=
M[ma];var Q=32768;var F=H;var z=ea[F];var J=Z[F+1];var N=Y[F];var I=Z[F];var x=0===F?I<<3|J<<2|z<<1|N:Z[F-1]<<4|I<<3|J<<2|z<<1|N;var E=a[x];0<E?(q+=1,0===(x&8)&&(p+=1),m|=n,k|=Q):0!==(x&8)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<1&24|J<<2|z<<1|N;z=a[x];E|=z<<8;0<z?(q+=1,0===(x&8)&&(p+=1),m|=n,k|=Q):0!==(x&8)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<1&24|J<<2|z<<1|N;z=a[x];E|=z<<16;0<z?(q+=1,0===(x&8)&&(p+=1),m|=n,k|=Q):0!==(x&8)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];
J=Z[F+1];N=Y[F];x=x<<1&24|J<<2|z<<1|N;z=a[x];E|=z<<24;oa[F>>2]=E;0<z?(q+=1,0===(x&8)&&(p+=1),m|=n,k|=Q):0!==(x&8)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<1&24|J<<2|z<<1|N;E=a[x];0<E?(q+=1,0===(x&8)&&(p+=1),m|=n,k|=Q):0!==(x&8)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<1&24|J<<2|z<<1|N;z=a[x];E|=z<<8;0<z?(q+=1,0===(x&8)&&(p+=1),m|=n,k|=Q):0!==(x&8)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<1&24|J<<2|z<<1|N;z=a[x];E|=z<<16;0<z?(q+=1,0===(x&8)&&(p+=1),m|=
n,k|=Q):0!==(x&8)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<1&24|J<<2|z<<1|N;z=a[x];E|=z<<24;oa[F>>2]=E;0<z?(q+=1,0===(x&8)&&(p+=1),m|=n,k|=Q):0!==(x&8)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<1&24|J<<2|z<<1|N;E=a[x];0<E?(q+=1,0===(x&8)&&(p+=1),m|=n,k|=Q):0!==(x&8)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<1&24|J<<2|z<<1|N;z=a[x];E|=z<<8;0<z?(q+=1,0===(x&8)&&(p+=1),m|=n,k|=Q):0!==(x&8)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<1&24|J<<
2|z<<1|N;z=a[x];E|=z<<16;0<z?(q+=1,0===(x&8)&&(p+=1),m|=n,k|=Q):0!==(x&8)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<1&24|J<<2|z<<1|N;z=a[x];E|=z<<24;oa[F>>2]=E;0<z?(q+=1,0===(x&8)&&(p+=1),m|=n,k|=Q):0!==(x&8)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<1&24|J<<2|z<<1|N;E=a[x];0<E?(q+=1,0===(x&8)&&(p+=1),m|=n,k|=Q):0!==(x&8)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<1&24|J<<2|z<<1|N;z=a[x];E|=z<<8;0<z?(q+=1,0===(x&8)&&(p+=1),m|=n,k|=Q):0!==(x&8)&&(r+=1);e|=
I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<1&24|J<<2|z<<1|N;z=a[x];E|=z<<16;0<z?(q+=1,0===(x&8)&&(p+=1),m|=n,k|=Q):0!==(x&8)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=F===u-1?0:Z[F+1];N=Y[F];x=x<<1&24|J<<2|z<<1|N;z=a[x];E|=z<<24;oa[F>>2]=E;0<z?(q+=1,0===(x&8)&&(p+=1),m|=n,k|=Q):0!==(x&8)&&(r+=1);e|=I;ma+=1;n>>=1}g[H>>4]|=k;k?(ia|=1<<b,m&1&&(W|=y.Na,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ma)),m&32768&&(W|=y.Oa,k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ka),k&1&&(W|=y.Ha),W&&(0!==(W&y.Ka)&&(15>b?ia|=1<<
b+1:0<d&&0<H&&(P[d-1]|=1)),0!==(W&y.Ha)&&(0<b?ia|=1<<b-1:d<w-1&&H<u-1&&(P[d+1]|=32768)),0!==(W&y.Oa)&&(na|=1<<b),0!==(W&y.Na)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?na|=1<<b+1:0<d&&0<H&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&H<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&(15>b?ja|=1<<b+1:0<d&&0<H&&(pa[d-1]|=1)),0!==(W&y.Ma)&&(0<b?ja|=1<<b-1:d<w-1&&H<u-1&&(pa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=m}H+=16}P[d]|=ia;0<c&&(aa[d]|=na);c<A-1&&(pa[d]|=ja)}else H+=256;S[d]=ca}U+=16;X+=16}this.hc(g,l,u,v,t);B.fill(0);
this.fc(O);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=this.m.o[ma]|K.o[ma]|L.o[ma];this.A=q;this.na=p;this.ga=r};qa.prototype.Ak=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.U,k,l=this.X,m,n,q=0,p=0,r=0,u=this.width,t=this.B,v=this.height,A=this.K,w=this.F>>4,B=this.ca;if(0!==(this.counter&1)){var C=this.R;var O=this.Pa;var M=this.Xa;var K=this.H;var L=this.j}else C=this.h,O=this.Xa,M=this.Pa,K=this.j,L=this.H;g.fill(0);l.fill(0);var U=0;var X=U+16;L.o.fill(0);for(c=0;c<K.length;c+=1){var H=
0;var R=K[c];var P=L[c];var S=f[c];var aa=0<c?L[c-1]:B;var pa=c<A-1?L[c+1]:B;for(d=0;d<w;d+=1){var ha=R[d];var ca=0;if(ha){var ia=P[d];var na=aa[d];var ja=pa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var W=m=k=e=0;var ma=U;for(n=32768;ma<X;){var ea=0===ma?this.ha:C[ma-1];var Z=C[ma];var Y=ma===this.height-1?this.ha:C[ma+1];var oa=M[ma];var Q=32768;var F=H;var z=ea[F];var J=Z[F+1];var N=Y[F];var I=Z[F];var x=0===F?I<<6|J<<4|z<<2|N:Z[F-1]<<8|I<<6|J<<4|z<<2|N;var E=a[x];0<E?(q+=1,0===(x&192)&&(p+=1),m|=
n,k|=Q):0!==(x&192)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<2&960|J<<4|z<<2|N;z=a[x];E|=z<<8;0<z?(q+=1,0===(x&192)&&(p+=1),m|=n,k|=Q):0!==(x&192)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<2&960|J<<4|z<<2|N;z=a[x];E|=z<<16;0<z?(q+=1,0===(x&192)&&(p+=1),m|=n,k|=Q):0!==(x&192)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<2&960|J<<4|z<<2|N;z=a[x];E|=z<<24;oa[F>>2]=E;0<z?(q+=1,0===(x&192)&&(p+=1),m|=n,k|=Q):0!==(x&192)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+
1];N=Y[F];x=x<<2&960|J<<4|z<<2|N;E=a[x];0<E?(q+=1,0===(x&192)&&(p+=1),m|=n,k|=Q):0!==(x&192)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<2&960|J<<4|z<<2|N;z=a[x];E|=z<<8;0<z?(q+=1,0===(x&192)&&(p+=1),m|=n,k|=Q):0!==(x&192)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<2&960|J<<4|z<<2|N;z=a[x];E|=z<<16;0<z?(q+=1,0===(x&192)&&(p+=1),m|=n,k|=Q):0!==(x&192)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<2&960|J<<4|z<<2|N;z=a[x];E|=z<<24;oa[F>>2]=E;0<z?(q+=1,0===(x&192)&&
(p+=1),m|=n,k|=Q):0!==(x&192)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<2&960|J<<4|z<<2|N;E=a[x];0<E?(q+=1,0===(x&192)&&(p+=1),m|=n,k|=Q):0!==(x&192)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<2&960|J<<4|z<<2|N;z=a[x];E|=z<<8;0<z?(q+=1,0===(x&192)&&(p+=1),m|=n,k|=Q):0!==(x&192)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<2&960|J<<4|z<<2|N;z=a[x];E|=z<<16;0<z?(q+=1,0===(x&192)&&(p+=1),m|=n,k|=Q):0!==(x&192)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];
x=x<<2&960|J<<4|z<<2|N;z=a[x];E|=z<<24;oa[F>>2]=E;0<z?(q+=1,0===(x&192)&&(p+=1),m|=n,k|=Q):0!==(x&192)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<2&960|J<<4|z<<2|N;E=a[x];0<E?(q+=1,0===(x&192)&&(p+=1),m|=n,k|=Q):0!==(x&192)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<2&960|J<<4|z<<2|N;z=a[x];E|=z<<8;0<z?(q+=1,0===(x&192)&&(p+=1),m|=n,k|=Q):0!==(x&192)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<2&960|J<<4|z<<2|N;z=a[x];E|=z<<16;0<z?(q+=1,0===(x&192)&&(p+=1),
m|=n,k|=Q):0!==(x&192)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=F===u-1?0:Z[F+1];N=Y[F];x=x<<2&960|J<<4|z<<2|N;z=a[x];E|=z<<24;oa[F>>2]=E;0<z?(q+=1,0===(x&192)&&(p+=1),m|=n,k|=Q):0!==(x&192)&&(r+=1);e|=I;ma+=1;n>>=1}g[H>>4]|=k;k?(ia|=1<<b,m&1&&(W|=y.Na,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ma)),m&32768&&(W|=y.Oa,k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ka),k&1&&(W|=y.Ha),W&&(0!==(W&y.Ka)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(P[d-1]|=1)),0!==(W&y.Ha)&&(0<b?ia|=1<<b-1:d<w-1&&H<u-1&&(P[d+1]|=32768)),0!==(W&y.Oa)&&
(na|=1<<b),0!==(W&y.Na)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?na|=1<<b+1:0<d&&0<H&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&H<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&(15>b?ja|=1<<b+1:0<d&&0<H&&(pa[d-1]|=1)),0!==(W&y.Ma)&&(0<b?ja|=1<<b-1:d<w-1&&H<u-1&&(pa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=m}H+=16}P[d]|=ia;0<c&&(aa[d]|=na);c<A-1&&(pa[d]|=ja)}else H+=256;S[d]=ca}U+=16;X+=16}this.hc(g,l,u,v,t);B.fill(0);this.fc(O);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=this.m.o[ma]|K.o[ma]|L.o[ma];this.A=q;
this.na=p;this.ga=r};qa.prototype.Bk=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.U,k,l=this.X,m,n,q=0,p=0,r=0,u=this.width,t=this.B,v=this.height,A=this.K,w=this.F>>4,B=this.ca;if(0!==(this.counter&1)){var C=this.R;var O=this.Pa;var M=this.Xa;var K=this.H;var L=this.j}else C=this.h,O=this.Xa,M=this.Pa,K=this.j,L=this.H;g.fill(0);l.fill(0);var U=0;var X=U+16;L.o.fill(0);for(c=0;c<K.length;c+=1){var H=0;var R=K[c];var P=L[c];var S=f[c];var aa=0<c?L[c-1]:B;var pa=c<A-1?L[c+1]:B;for(d=0;d<w;d+=
1){var ha=R[d];var ca=0;if(ha){var ia=P[d];var na=aa[d];var ja=pa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var W=m=k=e=0;var ma=U;for(n=32768;ma<X;){var ea=0===ma?this.ha:C[ma-1];var Z=C[ma];var Y=ma===this.height-1?this.ha:C[ma+1];var oa=M[ma];var Q=32768;var F=H;var z=ea[F];var J=Z[F+1];var N=Y[F];var I=Z[F];var x=0===F?I<<9|J<<6|z<<3|N:Z[F-1]<<12|I<<9|J<<6|z<<3|N;var E=a[x];0<E?(q+=1,0===(x&3584)&&(p+=1),m|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<3&32256|J<<
6|z<<3|N;z=a[x];E|=z<<8;0<z?(q+=1,0===(x&3584)&&(p+=1),m|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<3&32256|J<<6|z<<3|N;z=a[x];E|=z<<16;0<z?(q+=1,0===(x&3584)&&(p+=1),m|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<3&32256|J<<6|z<<3|N;z=a[x];E|=z<<24;oa[F>>2]=E;0<z?(q+=1,0===(x&3584)&&(p+=1),m|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<3&32256|J<<6|z<<3|N;E=a[x];0<E?(q+=1,0===(x&3584)&&(p+=1),
m|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<3&32256|J<<6|z<<3|N;z=a[x];E|=z<<8;0<z?(q+=1,0===(x&3584)&&(p+=1),m|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<3&32256|J<<6|z<<3|N;z=a[x];E|=z<<16;0<z?(q+=1,0===(x&3584)&&(p+=1),m|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<3&32256|J<<6|z<<3|N;z=a[x];E|=z<<24;oa[F>>2]=E;0<z?(q+=1,0===(x&3584)&&(p+=1),m|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=I;Q>>=1;F+=1;
I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<3&32256|J<<6|z<<3|N;E=a[x];0<E?(q+=1,0===(x&3584)&&(p+=1),m|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<3&32256|J<<6|z<<3|N;z=a[x];E|=z<<8;0<z?(q+=1,0===(x&3584)&&(p+=1),m|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<3&32256|J<<6|z<<3|N;z=a[x];E|=z<<16;0<z?(q+=1,0===(x&3584)&&(p+=1),m|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<3&32256|J<<6|z<<3|N;z=a[x];E|=z<<24;
oa[F>>2]=E;0<z?(q+=1,0===(x&3584)&&(p+=1),m|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<3&32256|J<<6|z<<3|N;E=a[x];0<E?(q+=1,0===(x&3584)&&(p+=1),m|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<3&32256|J<<6|z<<3|N;z=a[x];E|=z<<8;0<z?(q+=1,0===(x&3584)&&(p+=1),m|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<3&32256|J<<6|z<<3|N;z=a[x];E|=z<<16;0<z?(q+=1,0===(x&3584)&&(p+=1),m|=n,k|=Q):0!==(x&3584)&&
(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=F===u-1?0:Z[F+1];N=Y[F];x=x<<3&32256|J<<6|z<<3|N;z=a[x];E|=z<<24;oa[F>>2]=E;0<z?(q+=1,0===(x&3584)&&(p+=1),m|=n,k|=Q):0!==(x&3584)&&(r+=1);e|=I;ma+=1;n>>=1}g[H>>4]|=k;k?(ia|=1<<b,m&1&&(W|=y.Na,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ma)),m&32768&&(W|=y.Oa,k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ka),k&1&&(W|=y.Ha),W&&(0!==(W&y.Ka)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(P[d-1]|=1)),0!==(W&y.Ha)&&(0<b?ia|=1<<b-1:d<w-1&&H<u-1&&(P[d+1]|=32768)),0!==(W&y.Oa)&&(na|=1<<b),0!==(W&
y.Na)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?na|=1<<b+1:0<d&&0<H&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&H<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&(15>b?ja|=1<<b+1:0<d&&0<H&&(pa[d-1]|=1)),0!==(W&y.Ma)&&(0<b?ja|=1<<b-1:d<w-1&&H<u-1&&(pa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=m}H+=16}P[d]|=ia;0<c&&(aa[d]|=na);c<A-1&&(pa[d]|=ja)}else H+=256;S[d]=ca}U+=16;X+=16}this.hc(g,l,u,v,t);B.fill(0);this.fc(O);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=this.m.o[ma]|K.o[ma]|L.o[ma];this.A=q;this.na=p;this.ga=
r};qa.prototype.Ck=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.U,k,l=this.X,m,n,q=0,p=0,r=0,u=this.width,t=this.B,v=this.height,A=this.K,w=this.F>>4,B=this.ca;if(0!==(this.counter&1)){var C=this.R;var O=this.Pa;var M=this.Xa;var K=this.H;var L=this.j}else C=this.h,O=this.Xa,M=this.Pa,K=this.j,L=this.H;g.fill(0);l.fill(0);var U=0;var X=U+16;L.o.fill(0);for(c=0;c<K.length;c+=1){var H=0;var R=K[c];var P=L[c];var S=f[c];var aa=0<c?L[c-1]:B;var pa=c<A-1?L[c+1]:B;for(d=0;d<w;d+=1){var ha=R[d];var ca=
0;if(ha){var ia=P[d];var na=aa[d];var ja=pa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var W=m=k=e=0;var ma=U;for(n=32768;ma<X;){var ea=0===ma?this.ha:C[ma-1];var Z=C[ma];var Y=ma===this.height-1?this.ha:C[ma+1];var oa=M[ma];var Q=32768;var F=H;var z=ea[F];var J=Z[F+1];var N=Y[F];var I=Z[F];var x=0===F?I<<12|J<<8|z<<4|N:Z[F-1]<<16|I<<12|J<<8|z<<4|N;var E=a[x];0<E?(q+=1,0===(x&61440)&&(p+=1),m|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<4&1044480|J<<8|z<<4|N;z=a[x];
E|=z<<8;0<z?(q+=1,0===(x&61440)&&(p+=1),m|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<4&1044480|J<<8|z<<4|N;z=a[x];E|=z<<16;0<z?(q+=1,0===(x&61440)&&(p+=1),m|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<4&1044480|J<<8|z<<4|N;z=a[x];E|=z<<24;oa[F>>2]=E;0<z?(q+=1,0===(x&61440)&&(p+=1),m|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<4&1044480|J<<8|z<<4|N;E=a[x];0<E?(q+=1,0===(x&61440)&&(p+=1),m|=
n,k|=Q):0!==(x&61440)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<4&1044480|J<<8|z<<4|N;z=a[x];E|=z<<8;0<z?(q+=1,0===(x&61440)&&(p+=1),m|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<4&1044480|J<<8|z<<4|N;z=a[x];E|=z<<16;0<z?(q+=1,0===(x&61440)&&(p+=1),m|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<4&1044480|J<<8|z<<4|N;z=a[x];E|=z<<24;oa[F>>2]=E;0<z?(q+=1,0===(x&61440)&&(p+=1),m|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=I;
Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<4&1044480|J<<8|z<<4|N;E=a[x];0<E?(q+=1,0===(x&61440)&&(p+=1),m|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<4&1044480|J<<8|z<<4|N;z=a[x];E|=z<<8;0<z?(q+=1,0===(x&61440)&&(p+=1),m|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<4&1044480|J<<8|z<<4|N;z=a[x];E|=z<<16;0<z?(q+=1,0===(x&61440)&&(p+=1),m|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<4&1044480|J<<
8|z<<4|N;z=a[x];E|=z<<24;oa[F>>2]=E;0<z?(q+=1,0===(x&61440)&&(p+=1),m|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<4&1044480|J<<8|z<<4|N;E=a[x];0<E?(q+=1,0===(x&61440)&&(p+=1),m|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<4&1044480|J<<8|z<<4|N;z=a[x];E|=z<<8;0<z?(q+=1,0===(x&61440)&&(p+=1),m|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<4&1044480|J<<8|z<<4|N;z=a[x];E|=z<<16;0<z?(q+=1,0===(x&61440)&&
(p+=1),m|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=F===u-1?0:Z[F+1];N=Y[F];x=x<<4&1044480|J<<8|z<<4|N;z=a[x];E|=z<<24;oa[F>>2]=E;0<z?(q+=1,0===(x&61440)&&(p+=1),m|=n,k|=Q):0!==(x&61440)&&(r+=1);e|=I;ma+=1;n>>=1}g[H>>4]|=k;k?(ia|=1<<b,m&1&&(W|=y.Na,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ma)),m&32768&&(W|=y.Oa,k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ka),k&1&&(W|=y.Ha),W&&(0!==(W&y.Ka)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(P[d-1]|=1)),0!==(W&y.Ha)&&(0<b?ia|=1<<b-1:d<w-1&&H<u-1&&(P[d+1]|=32768)),
0!==(W&y.Oa)&&(na|=1<<b),0!==(W&y.Na)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?na|=1<<b+1:0<d&&0<H&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&H<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&(15>b?ja|=1<<b+1:0<d&&0<H&&(pa[d-1]|=1)),0!==(W&y.Ma)&&(0<b?ja|=1<<b-1:d<w-1&&H<u-1&&(pa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=m}H+=16}P[d]|=ia;0<c&&(aa[d]|=na);c<A-1&&(pa[d]|=ja)}else H+=256;S[d]=ca}U+=16;X+=16}this.hc(g,l,u,v,t);B.fill(0);this.fc(O);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=this.m.o[ma]|K.o[ma]|L.o[ma];
this.A=q;this.na=p;this.ga=r};qa.prototype.Dk=function(){var a=this.ua,b,c,d,f=this.ta,e,g=this.U,k,l=this.X,m,n,q=0,p=0,r=0,u=this.width,t=this.B,v=this.height,A=this.K,w=this.F>>4,B=this.ca;if(0!==(this.counter&1)){var C=this.R;var O=this.Pa;var M=this.Xa;var K=this.H;var L=this.j}else C=this.h,O=this.Xa,M=this.Pa,K=this.j,L=this.H;g.fill(0);l.fill(0);var U=0;var X=U+16;L.o.fill(0);for(c=0;c<K.length;c+=1){var H=0;var R=K[c];var P=L[c];var S=f[c];var aa=0<c?L[c-1]:B;var pa=c<A-1?L[c+1]:B;for(d=
0;d<w;d+=1){var ha=R[d];var ca=0;if(ha){var ia=P[d];var na=aa[d];var ja=pa[d];for(b=15;0<=b;--b){if(0!==(ha&1<<b)){var W=m=k=e=0;var ma=U;for(n=32768;ma<X;){var ea=0===ma?this.ha:C[ma-1];var Z=C[ma];var Y=ma===this.height-1?this.ha:C[ma+1];var oa=M[ma];var Q=32768;var F=H;var z=ea[F];var J=Z[F+1];var N=Y[F];var I=Z[F];var x=0===F?I<<15|J<<10|z<<5|N:Z[F-1]<<20|I<<15|J<<10|z<<5|N;var E=a[x];0<E?(q+=1,0===(x&1015808)&&(p+=1),m|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];
x=x<<5&33521664|J<<10|z<<5|N;z=a[x];E|=z<<8;0<z?(q+=1,0===(x&1015808)&&(p+=1),m|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<5&33521664|J<<10|z<<5|N;z=a[x];E|=z<<16;0<z?(q+=1,0===(x&1015808)&&(p+=1),m|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<5&33521664|J<<10|z<<5|N;z=a[x];E|=z<<24;oa[F>>2]=E;0<z?(q+=1,0===(x&1015808)&&(p+=1),m|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<5&33521664|J<<
10|z<<5|N;E=a[x];0<E?(q+=1,0===(x&1015808)&&(p+=1),m|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<5&33521664|J<<10|z<<5|N;z=a[x];E|=z<<8;0<z?(q+=1,0===(x&1015808)&&(p+=1),m|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<5&33521664|J<<10|z<<5|N;z=a[x];E|=z<<16;0<z?(q+=1,0===(x&1015808)&&(p+=1),m|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<5&33521664|J<<10|z<<5|N;z=a[x];E|=z<<24;oa[F>>2]=E;
0<z?(q+=1,0===(x&1015808)&&(p+=1),m|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<5&33521664|J<<10|z<<5|N;E=a[x];0<E?(q+=1,0===(x&1015808)&&(p+=1),m|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<5&33521664|J<<10|z<<5|N;z=a[x];E|=z<<8;0<z?(q+=1,0===(x&1015808)&&(p+=1),m|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<5&33521664|J<<10|z<<5|N;z=a[x];E|=z<<16;0<z?(q+=1,0===(x&1015808)&&(p+=1),m|=
n,k|=Q):0!==(x&1015808)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<5&33521664|J<<10|z<<5|N;z=a[x];E|=z<<24;oa[F>>2]=E;0<z?(q+=1,0===(x&1015808)&&(p+=1),m|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<5&33521664|J<<10|z<<5|N;E=a[x];0<E?(q+=1,0===(x&1015808)&&(p+=1),m|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<5&33521664|J<<10|z<<5|N;z=a[x];E|=z<<8;0<z?(q+=1,0===(x&1015808)&&(p+=1),m|=n,k|=Q):0!==(x&1015808)&&(r+=
1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=Z[F+1];N=Y[F];x=x<<5&33521664|J<<10|z<<5|N;z=a[x];E|=z<<16;0<z?(q+=1,0===(x&1015808)&&(p+=1),m|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=I;Q>>=1;F+=1;I=J;z=ea[F];J=F===u-1?0:Z[F+1];N=Y[F];x=x<<5&33521664|J<<10|z<<5|N;z=a[x];E|=z<<24;oa[F>>2]=E;0<z?(q+=1,0===(x&1015808)&&(p+=1),m|=n,k|=Q):0!==(x&1015808)&&(r+=1);e|=I;ma+=1;n>>=1}g[H>>4]|=k;k?(ia|=1<<b,m&1&&(W|=y.Na,k&32768&&(W|=y.Sa),k&1&&(W|=y.Ma)),m&32768&&(W|=y.Oa,k&32768&&(W|=y.Qa),k&1&&(W|=y.Ra)),k&32768&&(W|=y.Ka),
k&1&&(W|=y.Ha),W&&(0!==(W&y.Ka)&&(15>b?ia|=1<<b+1:0<d&&0<H&&(P[d-1]|=1)),0!==(W&y.Ha)&&(0<b?ia|=1<<b-1:d<w-1&&H<u-1&&(P[d+1]|=32768)),0!==(W&y.Oa)&&(na|=1<<b),0!==(W&y.Na)&&(ja|=1<<b),0!==(W&y.Qa)&&(15>b?na|=1<<b+1:0<d&&0<H&&(aa[d-1]|=1)),0!==(W&y.Ra)&&(0<b?na|=1<<b-1:d<w-1&&H<u-1&&(aa[d+1]|=32768)),0!==(W&y.Sa)&&(15>b?ja|=1<<b+1:0<d&&0<H&&(pa[d-1]|=1)),0!==(W&y.Ma)&&(0<b?ja|=1<<b-1:d<w-1&&H<u-1&&(pa[d+1]|=32768)))):e&&(ca|=1<<b);l[c]|=m}H+=16}P[d]|=ia;0<c&&(aa[d]|=na);c<A-1&&(pa[d]|=ja)}else H+=
256;S[d]=ca}U+=16;X+=16}this.hc(g,l,u,v,t);B.fill(0);this.fc(O);for(ma=0;ma<this.m.o.length;ma+=1)this.m.o[ma]=this.m.o[ma]|K.o[ma]|L.o[ma];this.A=q;this.na=p;this.ga=r};qa.prototype.Tn=function(){var a=this.Ie,b=this.B,c=this.hb,d=c.I;var f=c.J;var e=c.L,g=c.M,k=0,l=0,m=0,n=this.width,q=this.height,p=0,r=0,u=this.width,t=this.height,v=0,A=0,w=this.m,B,C=this.kc,O=this.u,M=0<this.u?1:0;var K=this.$;var L=this.Z;var U=Math.round((this.width-K)/2);var X=Math.round((this.height-L)/2);K=U+K-1;L=X+L-1;
-1!==this.O&&(0===this.$&&(U=0,K=this.width-1),0===this.Z&&(X=0,L=this.height-1),d=U+1,f=X+1,e=K-1,g=L-1);this.Zb&&(this.yb=!this.yb,this.Zb=!1);0!==(this.counter&1)?(U=this.R,X=this.h,this.yb&&(a=this.eb?this.Je:this.Cb)):(U=this.h,X=this.R,this.eb&&(a=this.Jf),this.yb&&(a=this.Cb));2>f&&(f=2);g>this.height-3&&(g=this.height-3);1>d&&(d=1);e>this.width-3&&(e=this.width-3);for(--f;f<=g+1;f+=1){K=U[f-1];var H=U[f];var R=U[f+1];var P=w[f>>4];var S=X[f];var aa=B=!1;var pa=H[d-2];for(L=d-1;L<=e+1;L+=1){var ha=
R[L];var ca=H[L+1];var ia=K[L];0<O&&(ha=ha<=O?0:ha-O,ca=ca<=O?0:ca-O,ia=ia<=O?0:ia-O,pa=pa<=O?0:pa-O);pa=pa|ha<<4|ca<<8|ia<<12;ha=a[pa];pa=H[L];0<ha?(k+=C[ha],S[L]=ha+O,B=!0,P[L>>8]=65535,L<n&&(n=L),L>p&&(p=L)):(ha=pa,ha>O?ha=O:ha>M&&--ha,S[L]=ha,0<ha&&(B=!0,L<n&&(n=L),L>p&&(p=L)),ha=0);pa>O?(pa-=O,l+=C[ha&~pa],m+=C[pa&~ha],pa+=O):l+=C[ha];0<ha&&(L<u&&(u=L),L>v&&(v=L),aa=!0)}B&&(f<q&&(q=f),f>r&&(r=f));aa&&(f<t&&(t=f),f>A&&(A=f))}this.A=k;this.na=l;this.ga=m;c.I=n;c.J=q;c.L=p;c.M=r;b.I=u;b.J=t;b.L=
v;b.M=A};qa.prototype.hm=function(){var a=this.Ae,b=this.m,c=this.wa,d=this.ck,f,e,g;var k=this.K;var l=this.F>>4;var m=0;var n=k;if(0!==(this.counter&1)){var q=this.Ta;var p=this.H}else q=this.va,p=this.j;0>m&&(m=0);n>k&&(n=k);k=m<<4;var r=k+16;for(f=m;f<n;f+=1){var u=0;var t=p[f];var v=c[f];var A=b[f];for(e=0;e<l;e+=1){var w=t[e]|v[e];var B=0;if(w)for(g=15;0<=g;--g){if(0!==(w&1<<g)){var C=0;for(m=k;m<r;){var O=q[m];var M=a[m];var K=u<<3;O=O[u];var L=d[M[K]|(O&49152)<<1];C|=L;M[K]=L;K+=1;L=d[M[K]|
(O&12288)<<3];C|=L;M[K]=L;K+=1;L=d[M[K]|(O&3072)<<5];C|=L;M[K]=L;K+=1;L=d[M[K]|(O&768)<<7];C|=L;M[K]=L;K+=1;L=d[M[K]|(O&192)<<9];C|=L;M[K]=L;K+=1;L=d[M[K]|(O&48)<<11];C|=L;M[K]=L;K+=1;L=d[M[K]|(O&12)<<13];C|=L;M[K]=L;K+=1;L=d[M[K]|(O&3)<<15];C|=L;M[K]=L;m+=1}0!==(C&65278)&&(B|=1<<g)}u+=1}else u+=16;v[e]=B;A[e]|=B}k+=16;r+=16}};qa.prototype.fm=function(){var a=this.bf,b=this.Ae,c=this.m,d=this.wa,f,e,g;var k=this.K;var l=this.F>>4;var m=0;var n=k;if(0!==(this.counter&1)){var q=this.Ta;var p=this.H}else q=
this.va,p=this.j;0>m&&(m=0);n>k&&(n=k);k=m<<4;var r=k+16;for(f=m;f<n;f+=1){var u=0;var t=p[f];var v=d[f];var A=c[f];for(e=0;e<l;e+=1){var w=t[e]|v[e];var B=0;if(w)for(g=15;0<=g;--g){if(0!==(w&1<<g)){var C=0;for(m=k;m<r;){var O=q[m];var M=b[m];var K=u<<3;if(O=O[u]){var L=a[O>>14&3];C|=L;M[K]=L;K+=1;L=a[O>>12&3];C|=L;M[K]=L;K+=1;L=a[O>>10&3];C|=L;M[K]=L;K+=1;L=a[O>>8&3];C|=L;M[K]=L;K+=1;L=a[O>>6&3];C|=L;M[K]=L;K+=1;L=a[O>>4&3];C|=L;M[K]=L;K+=1;L=a[O>>2&3];C|=L;M[K]=L;K+=1;L=a[O&3];C|=L;M[K]=L}else M[K]=
0,M[K+1]=0,M[K+2]=0,M[K+3]=0,M[K+4]=0,M[K+5]=0,M[K+6]=0,M[K+7]=0;m+=1}0!==C&&(B|=1<<g)}u+=1}else u+=16;v[e]=B;A[e]|=B}k+=16;r+=16}};qa.prototype.ek=function(){var a,b,c=this.h,d=this.m,f=this.wa,e=this.Hd,g,k,l,m=y.xa,n=this.F>>4,q=this.K;if(0!==(this.counter&1)){var p=this.Ta;var r=this.H}else p=this.va,r=this.j;var u=0;var t=u+16;for(g=0;g<q;g+=1){var v=0;var A=r[g];var w=f[g];var B=d[g];for(k=0;k<n;k+=1){var C=A[k]|w[k];var O=0;if(C)for(l=15;0<=l;--l){if(0!==(C&1<<l)){var M=0;for(a=u;a<t;){var K=
p[a];var L=0===a?e:p[a-1];var U=a>=this.height-1?e:p[a+1];var X=c[a];var H=v<<4;if(b=K[v]){var R=L[v];var P=U[v];var S=15;if(0!==(b&1<<S)){var aa=5*(b&1<<S-1?1:0)+5*(K[v-1]&1)+(R&1<<S-1?1:0)+5*(R&1<<S?1:0)+(L[v-1]&1)+(P&1<<S-1?1:0)+5*(P&1<<S?1:0)+(U[v-1]&1);aa=m+aa;M|=aa}else aa=0;X[H]=aa;H+=1;for(S=14;1<=S;--S)0!==(b&1<<S)?(aa=5*(b&1<<S-1?1:0)+5*(b&1<<S+1?1:0)+(R&1<<S-1?1:0)+5*(R&1<<S?1:0)+(R&1<<S+1?1:0)+(P&1<<S-1?1:0)+5*(P&1<<S?1:0)+(P&1<<S+1?1:0),aa=m+aa,M|=aa):aa=0,X[H]=aa,H+=1;0!==(b&1<<S)?(aa=
5*(K[v+1]>>15)+5*(b&1<<S+1?1:0)+(L[v+1]>>15)+5*(R&1<<S?1:0)+(R&1<<S+1?1:0)+(U[v+1]>>15)+5*(P&1<<S?1:0)+(P&1<<S+1?1:0),aa=m+aa,M|=aa):aa=0;X[H]=aa}else for(S=0;4>S;S+=1)X[H]=0,X[H+1]=0,X[H+2]=0,X[H+3]=0,H+=4;a+=1}M&&(O|=1<<l)}v+=1}else v+=16;w[k]=O;B[k]|=O}u+=16;t+=16}};qa.prototype.gm=function(){var a=this.Ae,b=this.m,c=this.wa,d=this.bf,f,e,g;var k=this.K;var l=this.F>>4;var m=0;var n=k;if(0!==(this.counter&1)){var q=this.Ta;var p=this.H}else q=this.va,p=this.j;0>m&&(m=0);n>k&&(n=k);k=m<<4;var r=
k+16;for(f=m;f<n;f+=1){var u=0;var t=p[f];var v=c[f];var A=b[f];for(e=0;e<l;e+=1){var w=t[e]|v[e];var B=0;if(w)for(g=15;0<=g;--g){if(0!==(w&1<<g)){var C=0;for(m=k;m<r;){var O=q[m];var M=a[m];var K=u<<3;if(O=O[u]){var L=d[(O&49152)>>7|m+K+K&127];C|=L;M[K]=L;K+=1;L=d[(O&12288)>>5|m+K+K&127];C|=L;M[K]=L;K+=1;L=d[(O&3072)>>3|m+K+K&127];C|=L;M[K]=L;K+=1;L=d[(O&768)>>1|m+K+K&127];C|=L;M[K]=L;K+=1;L=d[(O&192)<<1|m+K+K&127];C|=L;M[K]=L;K+=1;L=d[(O&48)<<3|m+K+K&127];C|=L;M[K]=L;K+=1;L=d[(O&12)<<5|m+K+K&127];
C|=L;M[K]=L;K+=1;L=d[(O&3)<<7|m+K+K&127];C|=L;M[K]=L}else M[K]=0,M[K+1]=0,M[K+2]=0,M[K+3]=0,M[K+4]=0,M[K+5]=0,M[K+6]=0,M[K+7]=0;m+=1}if(1<(C&255)||1<C>>8)B|=1<<g}u+=1}else u+=16;v[e]=B;A[e]|=B}k+=16;r+=16}};qa.prototype.jl=function(a,b,c,d,f,e,g,k,l,m){var n=this.Bb;d=d*a+n.M;c=c*a+n.L;b=b*a+n.J;f=f*a+n.I;n=c-f+1;a=d-b+1;this.ia&&(n=c-b/2-(f-d/2)+1);0===n&&(n=1);0===a&&(a=1);e/=n;g/=a;m=Math.round(2E4*(e>g?g:e)/m)/2E4;m<k?m=k:m>l&&(m=l);return m};qa.prototype.Dn=function(a){var b=a;1>a&&(b=1/a);var c=
Math.round(b);(c<b?c/b:b/c)>=G.vI&&(a=1>a?1/c:c);return a};qa.prototype.Xj=function(a,b,c,d,f,e,g,k,l,m,n,q,p){var r=this.B,u=this.Bb,t=this.hb,v=this.h,A=this.Ua,w=0,B=0,C=0;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(v=this.R);var O=2>=this.i&&!this.D?y.xa:this.u+1;n?r=t:this.Ea&&(r=this.ya);if(a===G.yq){t=b.I;var M=b.L;var K=b.M;b=b.J}else t=r.I,M=r.L,K=r.M,b=r.J,this.P&&!q&&(u.I<t&&(t=u.I),u.L>M&&(M=u.L),u.M>K&&(K=u.M),u.J<b&&(b=u.J)),-1!==this.O&&(w=this.$+2,B=this.Z+2,2<w?(t=this.width/
2-w/2+(w&1)/2,M=this.width/2+w/2):w=M-t+1,2<B?(b=this.height/2-B/2+(B&1)/2,K=this.height/2+B/2):B=K-b+1);m?(w=k,B=l,t=this.width/2-w/2,M=this.width/2+w/2,K=this.height/2+B/2,b=this.height/2-B/2):-1===this.O&&(w=M-t+1,B=K-b+1);if(this.ia){if(a===G.yq)t-=K/2,M-=b/2;else{w=2*(this.width+this.height);k=-w;b|=0;K|=0;t|=0;M|=0;-1!==this.O&&this.Af(v,this.nc);n&&(O=1);if(this.P)for(q=b;q<=K;q+=1)for(n=v[q],l=A[q],m=t;m<=M;m+=1){if(u=n[m],u>=O||0<l[m])C+=1,u=m-q/2,u<w&&(w=u),u>k&&(k=u)}else for(q=b;q<=K;q+=
1)for(n=v[q],m=t;m<=M;m+=1)u=n[m],u>=O&&(C+=1,u=m-q/2,u<w&&(w=u),u>k&&(k=u));0===C?(t-=b/2,M=t+1):(t=w,M=k,t>M&&(v=t,t=M,M=v))}w=M-t+1}0===w&&(w=1);0===B&&(B=1);c/=w;d/=B;this.aa&&(d/=G.rk);this.ia&&(d/=G.jk);g=Math.round(2E4*(c>d?d:c)/g)/2E4;g/=this.cb;g<f?g=f:g>e&&(g=e);f=b-this.Aa+B/2;e=t-this.Ja+w/2;p||(g=this.Dn(g));a===G.$u&&(g=this.zoom);this.ja&&-1!==this.O&&(--e,--f);return[g,e,f]};qa.prototype.Li=function(a,b,c,d){var f=this.Rc,e=this.displayWidth,g=this.displayHeight;if(a>b){var k=b;b=
a;a=k}0>a?a=0:a>=e&&(a=e-1);0>b?b=0:b>=e&&(b=e-1);0<=c&&c<g&&f.fill(d,c*e+a,c*e+b+1)};qa.prototype.Oi=function(a,b,c,d){var f=this.Rc,e=this.displayWidth,g=this.displayHeight;if(b>c){var k=c;c=b;b=k}0>b?b=0:b>=g&&(b=g-1);0>c?c=0:c>=g&&(c=g-1);b=b*e+a;c=c*e+a;g=c-15*e;if(0<=a&&a<e){for(;b<=g;)f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e,f[b]=d,b+=e;for(;b<=c;)f[b]=
d,b+=e}};qa.prototype.no=function(a,b,c,d,f){var e=Math.abs(c-a),g=Math.abs(d-b),k=a<c?1:-1,l=b<d?1:-1,m=e-g,n=this.displayWidth,q=this.displayHeight,p=this.Rc;if(!(0>a&&0>c||a>=n&&c>=n||0>b&&0>d||b>=q&&d>=q))if(0<=a&&a<n&&0<=b&&b<q&&0<=c&&c<n&&0<=d&&d<q)for(p[b*n+a]=f;a!==c||b!==d;){var r=m+m;r>-g&&(m-=g,a+=k);r<e&&(m+=e,b+=l);p[b*n+a]=f}else for(0<=a&&a<n&&0<=b&&b<q&&(p[b*n+a]=f);a!==c||b!==d;)r=m+m,r>-g&&(m-=g,a+=k),r<e&&(m+=e,b+=l),0<=a&&a<n&&0<=b&&b<q&&(p[b*n+a]=f)};qa.prototype.Bh=function(a,
b,c,d,f){var e=this.displayWidth/2,g=this.displayHeight/2;if(0!==this.Da){a-=e;b-=g;var k=Math.sqrt(a*a+b*b);var l=180/Math.PI*Math.atan2(b,a);l+=this.Da;a=Math.round(k*Math.cos(Math.PI/180*l)+e);b=Math.round(k*Math.sin(Math.PI/180*l)+g);c-=e;d-=g;k=Math.sqrt(c*c+d*d);l=180/Math.PI*Math.atan2(d,c);l+=this.Da;c=Math.round(k*Math.cos(Math.PI/180*l)+e);d=Math.round(k*Math.sin(Math.PI/180*l)+g)}a===c?this.Oi(a,b,d,f):b===d?this.Li(a,c,b,f):this.no(a,b,c,d,f)};qa.prototype.Fo=function(a,b,c,d,f){var e=
a.fc,g=a.ec,k=0,l=0,m,n=this.oa;var q=this.zoom;var p=this.zc(this.zoom);var r=a.K-a.ca;var u=a.H-a.fa;var t=a.H-this.ka,v=a.K-this.ma-(this.ia?this.ka/2:0),A=0!==this.angle?1:0,w=[0,0];switch(d){case G.gD:b-=e>>1;break;case G.hD:b-=e-1;break;case G.lD:c-=g>>1;break;case G.fD:b-=e>>1;c-=g>>1;break;case G.eD:b-=e-1;c-=g>>1;break;case G.kD:c-=g-1;break;case G.iD:b-=e>>1;c-=g-1;break;case G.jD:b-=e-1,c-=g-1}d=c;var B=c+g;a.na&&(r+=2*a.zc,u+=2*a.bd);var C=q*(d-u+t-this.Aa+a.H)+a.displayHeight/2;d=p*(d-
u+t-this.Aa+a.H)+a.displayHeight/2;C=q*(b-r+v-this.Ja+a.K)+a.displayWidth/2+(this.ia?(a.displayHeight/2-C)/2:0);var O=q*(B-u+t-this.Aa+a.H)+a.displayHeight/2;B=p*(B-u+t-this.Aa+a.H)+a.displayHeight/2;O=q*(b+e-r+v-this.Ja+a.K)+a.displayWidth/2+(this.ia?(a.displayHeight/2-O)/2:0);n.fillStyle=f;n.globalAlpha=.5;if(this.ia)if(!this.Fa&&4<=this.zoom)a.na&&(r-=2*a.zc,u-=2*a.bd),this.il(b,c,b+e-1,c+g-1,r,u);else{n.beginPath();for(m=0;m<g;m+=1)n.moveTo(C,d),n.lineTo(C+e*q+1,d),n.lineTo(C+e*q+1,d+p+1),n.lineTo(C,
d+p+1),C-=q/2,d+=p;n.fill()}else!this.Fa&&this.aa&&4<=this.zoom?(a.na&&(r-=2*a.zc,u-=2*a.bd),this.ol(b,c,b+e-1,c+g-1,r,u)):(0!==this.angle?(n.beginPath(),this.Ne(C,d,w),n.moveTo(w[0],w[1]),this.Ne(O+A,d,w),n.lineTo(w[0],w[1]),this.Ne(O+A,B+A,w),n.lineTo(w[0],w[1]),this.Ne(C,B+A,w),n.lineTo(w[0],w[1])):(n.beginPath(),n.moveTo(this.Jc(C),this.Jc(d)),n.lineTo(this.Jc(O),this.Jc(d)),n.lineTo(this.Jc(O),this.Jc(B)),n.lineTo(this.Jc(C),this.Jc(B))),n.fill());if(1<=this.zoom){if(0<this.Da){f=Math.cos(this.Da/
180*Math.PI)*this.ea;var M=Math.sin(this.Da/180*Math.PI)*this.ea;A=Math.cos((this.Da+90)/180*Math.PI)*this.ea;var K=Math.sin((this.Da+90)/180*Math.PI)*this.ea}else f=q,A=M=0,K=p;C=q*(c+l-u+t-this.Aa+a.H)+a.displayHeight/2;d=p*(c+l-u+t-this.Aa+a.H)+a.displayHeight/2;C=q*(b+k-r+v-this.Ja+a.K)+a.displayWidth/2+(this.ia?(a.displayHeight/2-C)/2:0);0!==this.Da&&(this.Ne(C,d,w),C=w[0],d=w[1]);O=C;B=d;n.fillStyle=this.Lj;if(this.ia&&!this.Fa&&4<=this.zoom)this.Do(b,c,b+e-1,c+g-1,r,u,a.ea);else if(!this.Fa&&
this.aa&&4<=this.zoom)this.Ro(b,c,b+e-1,c+g-1,r,u,a.ea);else{n.beginPath();for(l=m=0;l<g;l+=1){C=O;for(k=0;k<e;k+=1)b=a.ea[m],m+=1,b&&(b=C+f,c=d+M,q=b+A,p=c+K,r=q-f,u=p-M,0>C&&0>b&&0>q&&0>r||C>=a.displayWidth&&b>=a.displayWidth&&q>=a.displayWidth&&r>=a.displayWidth||0>d&&0>c&&0>p&&0>u||d>=a.displayHeight&&c>=a.displayHeight&&p>=a.displayHeight&&u>=a.displayHeight||(n.moveTo(C,d),n.lineTo(b,c),n.lineTo(q,p),n.lineTo(r,u))),C+=f,d+=M;O+=A;d=B+=K;this.ia&&(O-=f/2)}n.fill()}}};qa.prototype.Ne=function(a,
b,c){var d=this.displayWidth/2,f=this.displayHeight/2;if(0!==this.Da){a-=d;b-=f;var e=Math.sqrt(a*a+b*b);b=180/Math.PI*Math.atan2(b,a);b+=this.Da;a=Math.round(e*Math.cos(Math.PI/180*b)+d);b=Math.round(e*Math.sin(Math.PI/180*b)+f)}c[0]=a;c[1]=b};qa.prototype.Mo=function(a){var b=a.yc+.5|0,c=a.K-a.ca,d=a.H-a.fa;(a.R||a.nc)&&this.lo(a,a.ga,this.Jj);if(a.qa){var f=a.C.U;var e=a.C.X;-1!==f&&(a.dk(f,e),this.Fo(a,a.Hc-c,a.Ic-d,b,this.tj))}};qa.prototype.Jc=function(a){var b=a,c=a|0;a!==c&&(b=c+1);return b};
qa.prototype.lo=function(a,b,c){var d=this.oa,f=this.zoom,e=this.zc(this.zoom),g=b.I,k=b.J,l=b.L;b=b.M;var m=a.H-a.fa,n=a.K-a.ca,q=a.H-this.ka,p=a.K-this.ma-(this.ia?this.ka/2:0),r=[0,0],u=0!==this.angle?1:0,t=a.ga;if(g>l){var v=g;g=l;l=v}k>b&&(v=k,k=b,b=v);v=l-g+1;var A=b-k+1;a.na&&-1!==a.g.O&&(n+=Math.floor(a.Z/2),m+=Math.floor(a.X/2));var w=f*(k-m+q-this.Aa+a.H)+a.displayHeight/2;k=e*(k-m+q-this.Aa+a.H)+a.displayHeight/2;g=f*(g-n+p-this.Ja+a.K)+a.displayWidth/2+(this.ia?(a.displayHeight/2-w)/2:
0);w=f*(b+1-m+q-this.Aa+a.H)+a.displayHeight/2;b=e*(b+1-m+q-this.Aa+a.H)+a.displayHeight/2;l=f*(l+1-n+p-this.Ja+a.K)+a.displayWidth/2+(this.ia?(a.displayHeight/2-w)/2:0);d.fillStyle=c;d.globalAlpha=.5;if(this.ia)if(!this.Fa&&4<=this.zoom)a.na&&(n+=2*a.zc,m+=2*a.bd),this.il(t.I,t.J,t.L,t.M,n,m);else{d.beginPath();v*=f;for(a=0;a<A;a+=1)d.moveTo(g,k),d.lineTo(g+v+1,k),d.lineTo(g+v+1,k+e+1),d.lineTo(g,k+e+1),g-=f/2,k+=e;d.fill()}else this.aa&&!this.Fa&&4<=this.zoom?(a.na&&(n+=2*a.zc,m+=2*a.bd),this.ol(t.I,
t.J,t.L,t.M,n,m)):(0!==this.angle?(d.beginPath(),this.Ne(g,k,r),d.moveTo(r[0],r[1]),this.Ne(l+u,k,r),d.lineTo(r[0],r[1]),this.Ne(l+u,b+u,r),d.lineTo(r[0],r[1]),this.Ne(g,b+u,r),d.lineTo(r[0],r[1])):(d.beginPath(),d.moveTo(this.Jc(g),this.Jc(k)),d.lineTo(this.Jc(l),this.Jc(k)),d.lineTo(this.Jc(l),this.Jc(b)),d.lineTo(this.Jc(g),this.Jc(b))),d.fill());d.globalAlpha=1};qa.prototype.Pi=function(a){return this.jc?"rgb("+(a&255)+","+(a>>8&255)+","+(a>>16&255)+")":"rgb("+(a>>24)+","+(a>>16&255)+","+(a>>
8&255)+")"};qa.prototype.Bo=function(){var a,b=this.displayWidth,c=this.displayHeight,d=this.md,f=this.xd,e=this.ea,g=this.zc(this.ea),k=d,l,m=0<this.lb&&this.Ec,n=this.counter&1,q=Math.abs(b-c),p=((this.height/2-(this.ka+this.Aa))*g+c/2)%g,r=((this.width/2-(this.ma+this.Ja))*e+b/2)%e,u=this.view.v/2|0,t=this.view.A/2|0;if(this.Za)var v=m?2:1;else v=1,m=!1,k=d=this.$a[0];var A=d;for(this.ja&&2===this.lb&&this.Gd||(n=0);v;){var w=-(b/2/e)-(this.width/2-this.ma-this.Ja)|0;w+=u-2;var B=-e*q;var C=b+
e+e*q;var O=p-g*q;var M=c+g*q;var K=-b/1.5;var L=b+b/1.5;var U=-c/1.5;for(l=c+c/1.5;B<=C;B+=e)if(m&&(k=0===(w+n)%this.lb?f:d),w+=1,k===A)if(this.ia){var X=-(c/2/g)-(this.height/2-this.ka-this.Aa)|0;for(a=O;a<M;a+=g)(X&1)===(q&1)?this.Bh(Math.round(B+r),Math.round(a),Math.round(B+r),Math.round(a+g-1),k):this.Bh(Math.round(B+r+e/2),Math.round(a),Math.round(B+r+e/2),Math.round(a+g-1),k),X+=1}else this.Bh(Math.round(B+r),U,Math.round(B+r),l-1,k);w=-(c/2/g)-(this.height/2-this.ka-this.Aa)|0;w+=t-2;for(a=
O;a<M;a+=g)m&&(k=0===(w+n)%this.lb?f:d),w+=1,k===A&&this.Bh(K,Math.round(a),L-1,Math.round(a),k);--v;A=f}};qa.prototype.ze=function(){return 4<=this.ea};qa.prototype.co=function(a,b,c){var d=this.$,f=this.Z,e=this.ja?-1:0,g=Math.round((this.width-d)/2-1)+e,k=g+d+1,l=Math.round((this.height-f)/2-1)+e;e=l+f+1;l&=~c;e&=~c;g&=~c;k&=~c;if(0===d){d=a[e];for(c=0;c<this.width;c+=1)0===d[c]&&(d[c]=b);d=a[l];for(c=0;c<this.width;c+=1)0===d[c]&&(d[c]=b)}else if(0===f)for(c=0;c<this.height;c+=1)l=a[c],0===l[g]&&
(l[g]=b),0===l[k]&&(l[k]=b);else{d=a[e];for(c=g;c<=k;c+=1)0===d[c]&&(d[c]=b);d=a[l];for(c=g;c<=k;c+=1)0===d[c]&&(d[c]=b);for(c=l+1;c<=e-1;c+=1)l=a[c],0===l[g]&&(l[g]=b),0===l[k]&&(l[k]=b)}};qa.prototype.Af=function(a,b){var c=this.$,d=this.Z,f=this.ja?-1:0,e=Math.round((this.width-c)/2-1)+f,g=e+c+1,k=Math.round((this.height-d)/2-1)+f;f=k+d+1;var l=a[k],m=a[f];if(0===c)l.fill(b,0,this.width),m.fill(b,0,this.width);else if(0===d)for(c=0;c<this.height;c+=1)a[c][e]=b,a[c][g]=b,this.aa&&(0<e&&(a[c][e-
1]=b),g<this.width-1&&(a[c][g+1]=b));else for(l.fill(b,e,g+1),m.fill(b,e,g+1),this.aa&&0<e&&(l[e-1]=b,m[e-1]=b),c=k+1;c<=f-1;c+=1)a[c][e]=b,a[c][g]=b,this.aa&&(0<e&&(a[c][e-1]=b),g<this.width-1&&(a[c][g+1]=b))};qa.prototype.Dh=function(a,b){a=2<this.i?this.v||this.G||this.D?1:0===this.u?this.i/this.za*b|0:b<a/2?this.u/this.za*b*2|0:this.u+this.i/this.za*b|0:this.Wa===y.hf||this.D?1:(this.Re+1)/this.za*b|0;1>a&&(a=1);return a};qa.prototype.pl=function(a){var b=0;.0625>a?b=31:.125>a?b=15:.25>a?b=7:
.5>a?b=3:1>a&&(b=1);return b};qa.prototype.Fj=function(a,b){var c=this.$a[0],d=this.Rc,f=this.h,e=this.Ae,g=this.Xa;this.Fg=!0;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(f=this.R,e=this.Kf,g=this.Pa);this.ce&&(this.Di(),c=this.$a[0],--this.ce,this.ce||(this.me.set(this.Fd),this.vd.set(this.ld),this.Pe.set(this.ie),this.Xf.set(this.xf),this.Ce.set(this.de),this.sg.set(this.Nf)));this.ea=this.zoom*this.cb;this.ea<G.Fb?this.ea=G.Fb:this.ea>G.Qb&&(this.ea=G.Qb);this.Kb=this.ma+this.Ja;this.Lb=
this.ka+this.Aa;this.Ca=this.pc/2+1;var k=this.ea;this.Da=this.ia||this.aa||this.view.xd?0:this.angle;-1!==this.O&&1<=this.ea&&this.Af(f,this.nc);4<=k&&(!this.Fa&&this.ia||!this.Fa&&this.aa)?(d.fill(c),this.kb(1)):(1>k&&(-1!==this.O&&this.Af(f,0),this.Hi(e,g,this.ea),-1!==this.O&&this.co(this.Ba,this.nc,this.pl(this.ea))),.0625>k?this.Nc?this.kg(this.Hb,this.Ba,31,a,b):this.mg(this.Ba,this.Ba,31,a,b):.125>k?this.Nc?this.kg(this.Hb,this.Ba,15,a,b):this.mg(this.Ba,this.Ba,15,a,b):.25>k?this.Nc?this.kg(this.Hb,
this.Ba,7,a,b):this.mg(this.Ba,this.Ba,7,a,b):.5>k?this.Nc?this.kg(this.Hb,this.Ba,3,a,b):this.mg(this.Ba,this.Ba,3,a,b):1>k?this.Nc?this.kg(this.Hb,this.Ba,1,a,b):this.mg(this.Ba,this.Ba,1,a,b):this.Nc?this.kg(this.Ua,f,0,a,b):this.mg(f,f,0,a,b))};qa.prototype.wd=function(a){a&&(this.ze()&&this.jb&&!this.Za||this.Gg());(this.Za||this.jb)&&this.ze()&&this.Bo();a&&this.ze()&&this.jb&&!this.Za&&this.Gg()};qa.prototype.qf=function(a,b,c,d){var f=this.pl(a);if(-1!==this.O&&b){d=this.h;b=this.Ae;var e=
this.Xa;(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(d=this.R,b=this.Kf,e=this.Pa);this.Af(d,0);0!==f&&(this.qj=!0,this.Hi(b,e,a),d=this.Ba);f=c}f!==c&&(d=this.h,b=this.Ae,e=this.Xa,(this.s||this.D||this.v||this.G)&&0!==(this.counter&1)&&(d=this.R,b=this.Kf,e=this.Pa),0!==f&&(this.Hi(b,e,a),d=this.Ba));return[f,d]};qa.prototype.Up=function(a,b,c,d){var f=this.displayWidth>>3,e=this.$a,g=this.Rc,k=0,l=0;var m=this.width;var n=this.height;var q=1,p=1,r=0,u=this.fa,t=this.Ia&~c,v=this.Ga&
~c,A=~c,w=~c,B=this.td,C,O=a,M=this.ea,K=!0;1<this.Ca&&(q=this.za);a=Math.sin(this.Da/180*Math.PI)/this.ea;var L=Math.cos(this.Da/180*Math.PI)/this.ea;var U=-(this.displayWidth/2*-a+this.displayHeight/2*L)+this.Lb;var X=-(this.displayWidth/2*L+this.displayHeight/2*a)+this.Kb;1<this.za&&1<this.Ca&&(r=.4/(this.za-1),p=.6);this.kb(p);for(C=this.$a[0];m<u;)k+=m>>1,m<<=1;for(;n<u;)l+=n>>1,n<<=1;var H=0;var R=U;for(m=0;m<this.displayHeight;m+=1){var P=X;for(n=0;n<f;n+=1){if(0<=P&&(P&A)===(P&t)&&0<R&&(R&
w)===(R&v)){var S=O[R&v][P&t]|0;g[H]=e[S]}else g[H]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?C:B;H+=1;P+=L;R-=a;0<=P&&(P&A)===(P&t)&&0<R&&(R&w)===(R&v)?(S=O[R&v][P&t]|0,g[H]=e[S]):g[H]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?C:B;H+=1;P+=L;R-=a;0<=P&&(P&A)===(P&t)&&0<R&&(R&w)===(R&v)?(S=O[R&v][P&t]|0,g[H]=e[S]):g[H]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?C:B;H+=1;P+=L;R-=a;0<=P&&(P&A)===(P&t)&&0<R&&(R&w)===(R&v)?(S=O[R&v][P&t]|0,g[H]=e[S]):g[H]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?C:B;H+=1;P+=L;R-=a;0<=P&&(P&A)===(P&t)&&0<R&&(R&w)===(R&v)?
(S=O[R&v][P&t]|0,g[H]=e[S]):g[H]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?C:B;H+=1;P+=L;R-=a;0<=P&&(P&A)===(P&t)&&0<R&&(R&w)===(R&v)?(S=O[R&v][P&t]|0,g[H]=e[S]):g[H]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?C:B;H+=1;P+=L;R-=a;0<=P&&(P&A)===(P&t)&&0<R&&(R&w)===(R&v)?(S=O[R&v][P&t]|0,g[H]=e[S]):g[H]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?C:B;H+=1;P+=L;R-=a;0<=P&&(P&A)===(P&t)&&0<R&&(R&w)===(R&v)?(S=O[R&v][P&t]|0,g[H]=e[S]):g[H]=0<=P+k&&P+k<u&&0<=R+l&&R+l<u?C:B;H+=1;P+=L;R-=a}X+=a;R=U+=L}this.wd(d);O=b;for(b=1;b<q;b+=1)for(d=this.Dh(q,
b),p+=r,this.kb(p),a/=this.Ca,L/=this.Ca,M*=this.Ca,t=this.qf(M,K,c,O),c=t[0],O=t[1],K=!1,t=this.Ia&~c,v=this.Ga&~c,A=~c,w=~c,U=-(this.displayWidth/2*-a+this.displayHeight/2*L)+this.Lb,X=-(this.displayWidth/2*L+this.displayHeight/2*a)+this.Kb,H=0,R=U,m=0;m<this.displayHeight;m+=1){P=X;for(n=0;n<f;n+=1)0<=P&&(P&A)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=O[R&v][P&t]|0,S>=d&&(g[H]=e[S])),H+=1,P+=L,R-=a,0<=P&&(P&A)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=O[R&v][P&t]|0,S>=d&&(g[H]=e[S])),H+=1,P+=L,R-=a,0<=P&&(P&A)===
(P&t)&&0<R&&(R&w)===(R&v)&&(S=O[R&v][P&t]|0,S>=d&&(g[H]=e[S])),H+=1,P+=L,R-=a,0<=P&&(P&A)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=O[R&v][P&t]|0,S>=d&&(g[H]=e[S])),H+=1,P+=L,R-=a,0<=P&&(P&A)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=O[R&v][P&t]|0,S>=d&&(g[H]=e[S])),H+=1,P+=L,R-=a,0<=P&&(P&A)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=O[R&v][P&t]|0,S>=d&&(g[H]=e[S])),H+=1,P+=L,R-=a,0<=P&&(P&A)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=O[R&v][P&t]|0,S>=d&&(g[H]=e[S])),H+=1,P+=L,R-=a,0<=P&&(P&A)===(P&t)&&0<R&&(R&w)===(R&v)&&(S=O[R&v][P&t]|
0,S>=d&&(g[H]=e[S])),H+=1,P+=L,R-=a;X+=a;R=U+=L}};qa.prototype.Vp=function(a,b,c,d){var f=this.displayWidth>>3,e=this.$a,g=this.Rc,k=0,l=0;var m=this.width;var n=this.height;var q=1,p=1,r=0,u=this.fa,t=this.Ia&~c,v=this.Ga&~c,A=~c,w=~c,B=this.td,C,O=a,M=this.ea,K=!0;1<this.Ca&&(q=this.za);a=1/this.ea;this.aa&&(a/=G.rk);this.ia&&(a/=G.jk);var L=1/this.ea;var U=-(this.displayHeight/2*a)+this.Lb;var X=-(this.displayWidth/2*L)+this.Kb;1<this.za&&1<this.Ca&&(r=.4/(this.za-1),p=.6);this.kb(p);for(C=this.$a[0];m<
u;)k+=m>>1,m<<=1;for(;n<u;)l+=n>>1,n<<=1;var H=0;var R=U;for(m=0;m<this.displayHeight;m+=1){if(0<=R&&(R&w)===(R&v)){var P=O[R&v];var S=X;this.ia&&(S+=.5*(R|0));for(n=0;n<f;n+=1){if(0<=S&&(S&A)===(S&t)){var aa=P[S&t]|0;g[H]=e[aa]}else g[H]=0<=S+k&&S+k<u?C:B;H+=1;S+=L;0<=S&&(S&A)===(S&t)?(aa=P[S&t]|0,g[H]=e[aa]):g[H]=0<=S+k&&S+k<u?C:B;H+=1;S+=L;0<=S&&(S&A)===(S&t)?(aa=P[S&t]|0,g[H]=e[aa]):g[H]=0<=S+k&&S+k<u?C:B;H+=1;S+=L;0<=S&&(S&A)===(S&t)?(aa=P[S&t]|0,g[H]=e[aa]):g[H]=0<=S+k&&S+k<u?C:B;H+=1;S+=L;
0<=S&&(S&A)===(S&t)?(aa=P[S&t]|0,g[H]=e[aa]):g[H]=0<=S+k&&S+k<u?C:B;H+=1;S+=L;0<=S&&(S&A)===(S&t)?(aa=P[S&t]|0,g[H]=e[aa]):g[H]=0<=S+k&&S+k<u?C:B;H+=1;S+=L;0<=S&&(S&A)===(S&t)?(aa=P[S&t]|0,g[H]=e[aa]):g[H]=0<=S+k&&S+k<u?C:B;H+=1;S+=L;0<=S&&(S&A)===(S&t)?(aa=P[S&t]|0,g[H]=e[aa]):g[H]=0<=S+k&&S+k<u?C:B;H+=1;S+=L}}else if(0<=R+l&&R+l<u)for(S=X,this.ia&&(S+=.5*(R|0)),n=0;n<this.displayWidth;n+=1)g[H]=0<=S+k&&S+k<u?C:B,H+=1,S+=L;else g.fill(B,H,H+this.displayWidth+1),H+=this.displayWidth;R=U+=a}this.wd(d);
O=b;for(b=1;b<q;b+=1)for(d=this.Dh(q,b),p+=r,this.kb(p),a/=this.Ca,L/=this.Ca,M*=this.Ca,t=this.qf(M,K,c,O),c=t[0],O=t[1],K=!1,t=this.Ia&~c,v=this.Ga&~c,A=~c,w=~c,U=-(this.displayHeight/2*a)+this.Lb,X=-(this.displayWidth/2*L)+this.Kb,H=0,R=U,m=0;m<this.displayHeight;m+=1){if(0<=R&&(R&w)===(R&v))for(P=O[R&v],S=X,this.ia&&(S+=.5*(R|0)),n=0;n<f;n+=1)0<=S&&(S&A)===(S&t)&&(aa=P[S&t]|0,aa>=d&&(g[H]=e[aa])),H+=1,S+=L,0<=S&&(S&A)===(S&t)&&(aa=O[R&v][S&t]|0,aa>=d&&(g[H]=e[aa])),H+=1,S+=L,0<=S&&(S&A)===(S&
t)&&(aa=O[R&v][S&t]|0,aa>=d&&(g[H]=e[aa])),H+=1,S+=L,0<=S&&(S&A)===(S&t)&&(aa=O[R&v][S&t]|0,aa>=d&&(g[H]=e[aa])),H+=1,S+=L,0<=S&&(S&A)===(S&t)&&(aa=O[R&v][S&t]|0,aa>=d&&(g[H]=e[aa])),H+=1,S+=L,0<=S&&(S&A)===(S&t)&&(aa=O[R&v][S&t]|0,aa>=d&&(g[H]=e[aa])),H+=1,S+=L,0<=S&&(S&A)===(S&t)&&(aa=O[R&v][S&t]|0,aa>=d&&(g[H]=e[aa])),H+=1,S+=L,0<=S&&(S&A)===(S&t)&&(aa=O[R&v][S&t]|0,aa>=d&&(g[H]=e[aa])),H+=1,S+=L;else H+=f<<3;R=U+=a}};qa.prototype.Wp=function(a,b,c,d){var f=this.displayWidth>>3,e=this.$a,g=this.Rc,
k,l,m=1,n=1,q=0,p=this.Ia&~c,r=this.Ga&~c,u=a,t=this.ea,v=!0;1<this.Ca&&(m=this.za);a=Math.sin(this.Da/180*Math.PI)/this.ea;var A=Math.cos(this.Da/180*Math.PI)/this.ea;var w=-(this.displayWidth/2*-a+this.displayHeight/2*A)+this.Lb;var B=-(this.displayWidth/2*A+this.displayHeight/2*a)+this.Kb;1<this.za&&1<this.Ca&&(q=.4/(this.za-1),n=.6);this.kb(n);var C=0;var O=w;for(k=0;k<this.displayHeight;k+=1){var M=B;for(l=0;l<f;l+=1){var K=u[O&r][M&p]|0;g[C]=e[K];C+=1;M+=A;O-=a;K=u[O&r][M&p]|0;g[C]=e[K];C+=
1;M+=A;O-=a;K=u[O&r][M&p]|0;g[C]=e[K];C+=1;M+=A;O-=a;K=u[O&r][M&p]|0;g[C]=e[K];C+=1;M+=A;O-=a;K=u[O&r][M&p]|0;g[C]=e[K];C+=1;M+=A;O-=a;K=u[O&r][M&p]|0;g[C]=e[K];C+=1;M+=A;O-=a;K=u[O&r][M&p]|0;g[C]=e[K];C+=1;M+=A;O-=a;K=u[O&r][M&p]|0;g[C]=e[K];C+=1;M+=A;O-=a}B+=a;O=w+=A}this.wd(d);u=b;for(b=1;b<m;b+=1)for(d=this.Dh(m,b),n+=q,this.kb(n),a/=this.Ca,A/=this.Ca,t*=this.Ca,p=this.qf(t,v,c,u),c=p[0],u=p[1],v=!1,p=this.Ia&~c,r=this.Ga&~c,w=-(this.displayWidth/2*-a+this.displayHeight/2*A)+this.Lb,B=-(this.displayWidth/
2*A+this.displayHeight/2*a)+this.Kb,C=0,O=w,k=0;k<this.displayHeight;k+=1){M=B;for(l=0;l<f;l+=1)K=u[O&r][M&p]|0,K>=d&&(g[C]=e[K]),C+=1,M+=A,O-=a,K=u[O&r][M&p]|0,K>=d&&(g[C]=e[K]),C+=1,M+=A,O-=a,K=u[O&r][M&p]|0,K>=d&&(g[C]=e[K]),C+=1,M+=A,O-=a,K=u[O&r][M&p]|0,K>=d&&(g[C]=e[K]),C+=1,M+=A,O-=a,K=u[O&r][M&p]|0,K>=d&&(g[C]=e[K]),C+=1,M+=A,O-=a,K=u[O&r][M&p]|0,K>=d&&(g[C]=e[K]),C+=1,M+=A,O-=a,K=u[O&r][M&p]|0,K>=d&&(g[C]=e[K]),C+=1,M+=A,O-=a,K=u[O&r][M&p]|0,K>=d&&(g[C]=e[K]),C+=1,M+=A,O-=a;B+=a;O=w+=A}};
qa.prototype.Xp=function(a,b,c,d){var f=this.displayWidth>>3,e=this.$a,g=this.Rc,k,l=1,m=1,n=0,q=this.Ia&~c,p=this.Ga&~c,r=a,u=this.ea,t=!0;1<this.Ca&&(l=this.za);a=1/this.ea;this.aa&&(a/=G.rk);this.ia&&(a/=G.jk);var v=1/this.ea;var A=-(this.displayHeight/2*a)+this.Lb;var w=-(this.displayWidth/2*v)+this.Kb;1<this.za&&1<this.Ca&&(n=.4/(this.za-1),m=.6);this.kb(m);var B=0;var C=A;for(k=0;k<this.displayHeight;k+=1){var O=r[C&p];var M=w;this.ia&&(M+=.5*(C|0));for(C=0;C<f;C+=1){var K=O[M&q];g[B]=e[K];
B+=1;M+=v;K=O[M&q];g[B]=e[K];B+=1;M+=v;K=O[M&q];g[B]=e[K];B+=1;M+=v;K=O[M&q];g[B]=e[K];B+=1;M+=v;K=O[M&q];g[B]=e[K];B+=1;M+=v;K=O[M&q];g[B]=e[K];B+=1;M+=v;K=O[M&q];g[B]=e[K];B+=1;M+=v;K=O[M&q];g[B]=e[K];B+=1;M+=v}C=A+=a}this.wd(d);r=b;for(b=1;b<l;b+=1)for(d=this.Dh(l,b),m+=n,this.kb(m),a/=this.Ca,v/=this.Ca,u*=this.Ca,q=this.qf(u,t,c,r),c=q[0],r=q[1],t=!1,q=this.Ia&~c,p=this.Ga&~c,A=-(this.displayHeight/2*a)+this.Lb,w=-(this.displayWidth/2*v)+this.Kb,B=0,C=A,k=0;k<this.displayHeight;k+=1){O=r[C&p];
M=w;this.ia&&(M+=.5*(C|0));for(C=0;C<f;C+=1)K=O[M&q]|0,K>=d&&(g[B]=e[K]),B+=1,M+=v,K=O[M&q]|0,K>=d&&(g[B]=e[K]),B+=1,M+=v,K=O[M&q]|0,K>=d&&(g[B]=e[K]),B+=1,M+=v,K=O[M&q]|0,K>=d&&(g[B]=e[K]),B+=1,M+=v,K=O[M&q]|0,K>=d&&(g[B]=e[K]),B+=1,M+=v,K=O[M&q]|0,K>=d&&(g[B]=e[K]),B+=1,M+=v,K=O[M&q]|0,K>=d&&(g[B]=e[K]),B+=1,M+=v,K=O[M&q]|0,K>=d&&(g[B]=e[K]),B+=1,M+=v;C=A+=a}};qa.prototype.mg=function(a,b,c,d,f){var e=Math.sin(this.Da/180*Math.PI)/this.ea,g=Math.cos(this.Da/180*Math.PI)/this.ea,k=this.Eh(),l=this.displayWidth,
m=this.displayHeight,n=-(this.displayWidth/2*-e+this.displayHeight/2*g/k)+this.Lb,q=-(this.displayWidth/2*g+this.displayHeight/2*e)+this.Kb,p=n+l*-e,r=q+l*g;k=n+m*g/k;m=q+m*e;e=k+l*-e;g=m+l*g;l=k;var u=m,t=performance.now();g<u&&(u=g);q<u&&(u=q);r<u&&(u=r);g>m&&(m=g);q>m&&(m=q);r>m&&(m=r);e>l&&(l=e);n>l&&(l=n);p>l&&(l=p);e<k&&(k=e);n<k&&(k=n);p<k&&(k=p);this.ia&&(u+=k/2,m+=l/2);0>(u|0)||(m|0)>=this.width||0>(k|0)||(l|0)>=this.height?0===this.Da?8<=this.ea&&this.ee&&this.view.xd?this.Ok(a,u,k,m,l,
d,f):this.bd&&!this.ia&&1<=this.ea&&1===this.za&&0===this.xb?(this.kb(1),this.Qk(a,u,k,m,l,d,f)):(1<this.za&&1<this.Ca||this.ia||!(V.S&&V.Wl&&this.view.i)?this.Vp(a,b,c,d):(this.kb(1),xa.cK(a.o.byteOffset|0,c|0,this.$a.byteOffset|0,this.Rc.byteOffset|0,this.displayWidth|0,this.displayHeight|0,this.Kb,this.Lb,this.Ia|0,this.Ga|0,a[0].length|0,this.ea,this.aa?G.rk:this.ia?G.jk:1,this.fa|0,this.width|0,this.height|0,this.td|0,this.eh.byteOffset|0,this.Gi.byteOffset|0),this.wd(d)),t=performance.now()-
t,V.Db&&this.view.C.h("renderGridClip",t,V.S&&V.Wl&&this.view.i&&!this.ia)):this.Up(a,b,c,d):0===this.Da?8<=this.ea&&this.ee&&this.view.xd?this.Ok(a,u,k,m,l,d,f):this.bd&&!this.ia&&1<=this.ea&&1===this.za&&0===this.xb?(this.kb(1),this.Qk(a,u,k,m,l,d,f)):(1<this.za&&1<this.Ca||this.ia||!(V.S&&V.Wl&&this.view.i)?this.Xp(a,b,c,d):(this.kb(1),xa.dK(a.o.byteOffset|0,c|0,this.$a.byteOffset|0,this.Rc.byteOffset|0,this.displayWidth|0,this.displayHeight|0,this.Kb,this.Lb,this.Ia|0,this.Ga|0,a[0].length|0,
this.ea,this.aa?G.rk:this.ia?G.jk:1,this.eh.byteOffset|0),this.wd(d)),t=performance.now()-t,V.Db&&this.view.C.h("renderGridNoClip",t,V.S&&V.Wl&&this.view.i&&!this.ia)):this.Wp(a,b,c,d)};qa.prototype.Ok=function(a,b,c,d,f,e,g){var k=this.bc,l=this.vf,m=this.qh,n=new Uint32Array(m.data.buffer),q=this.oa,p=null,r=d-b,u=f-c,t=this.zc(this.ea),v=0>b?-(b-Math.ceil(b))*this.ea:-(b-Math.floor(b))*this.ea,A=0>c?-(c-Math.ceil(c))*t:-(c-Math.floor(c))*t,w=this.ea,B,C=this.fa,O=this.width-1,M=this.height-1,K=
this.td;d=this.width;f=this.height;for(var L=0,U=0,X=(this.Za||this.jb)&&this.ze(),H=[],R=[],P=0<this.lb&&this.Ec,S=this.lb,aa=this.md,pa=this.xd,ha,ca,ia,na=this.$a[this.u],ja=k.width,W,ma;d<C;)L+=d>>1,d<<=1;for(;f<C;)U+=f>>1,f<<=1;c|=0;b|=0;r=(r|0)+2;u=(u|0)+2;d=b+r;f=c+u;this.s?(this.kb(1),this.gl(null)):-1!==this.O&&this.kb(1);if(16>w){var ea=this.zf;var Z=this.xh;ha=7}else 32>w?(ea=this.yf,Z=this.Bg,ha=15):(ea=this.be,Z=this.wh,ha=31);Z=new Uint32Array(Z.data.buffer);ca=ha+1;var Y=ea.height/
ea.width;var oa=0;for(ea=c;ea<f;ea+=1){(ea&M)===ea&&(p=a[ea]);var Q=oa*w|0;H[H.length]=Q;var F=0;for(Q=b;Q<d;Q+=1){var z=F*w|0;ea===c&&(R[R.length]=z);z=oa*ca*ja+F*ca;if(0>Q+L||Q+L>=C||0>ea+U||ea+U>=C)for(ia=0;ia<ca;ia+=1){for(B=0;B<ca;B+=4)n[z]=K,z+=1,n[z]=K,z+=1,n[z]=K,z+=1,n[z]=K,z+=1;z+=ja-ca}else if((Q&O)===Q&&(ea&M)===ea)if(B=p[Q],-1!==this.O&&B===this.nc)for(ma=this.$a[this.nc],ia=0;ia<ca;ia+=1){for(B=0;B<ca;B+=4)n[z]=ma,z+=1,n[z]=ma,z+=1,n[z]=ma,z+=1,n[z]=ma,z+=1;z+=ja-ca}else if(this.s)if(B<=
this.u)for(ma=this.$a[B],ia=0;ia<ca;ia+=1){for(B=0;B<ca;B+=4)n[z]=ma,z+=1,n[z]=ma,z+=1,n[z]=ma,z+=1,n[z]=ma,z+=1;z+=ja-ca}else{B-=this.u;W=(B-1)*ha*ha;for(ia=0;ia<ha;ia+=1){for(B=0;B<ha-3;B+=4)n[z]=Z[W],z+=1,W+=1,n[z]=Z[W],z+=1,W+=1,n[z]=Z[W],z+=1,W+=1,n[z]=Z[W],z+=1,W+=1;n[z]=Z[W];z+=1;W+=1;n[z]=Z[W];z+=1;W+=1;n[z]=Z[W];z+=1;W+=1;n[z]=na;z+=ja-ha}for(B=0;B<ca;B+=4)n[z]=na,z+=1,n[z]=na,z+=1,n[z]=na,z+=1,n[z]=na,z+=1}else if(0===B||B>Y)for(ma=this.$a[B],ia=0;ia<ca;ia+=1){for(B=0;B<ca;B+=4)n[z]=ma,
z+=1,n[z]=ma,z+=1,n[z]=ma,z+=1,n[z]=ma,z+=1;z+=ja-ca}else{B-=this.u;ma=this.$a[0];W=(B-1)*ha*ha;for(ia=0;ia<ha;ia+=1){for(B=0;B<ha-3;B+=4)n[z]=Z[W],z+=1,W+=1,n[z]=Z[W],z+=1,W+=1,n[z]=Z[W],z+=1,W+=1,n[z]=Z[W],z+=1,W+=1;n[z]=Z[W];z+=1;W+=1;n[z]=Z[W];z+=1;W+=1;n[z]=Z[W];z+=1;W+=1;n[z]=ma;z+=ja-ha}for(B=0;B<ca;B+=4)n[z]=ma,z+=1,n[z]=ma,z+=1,n[z]=ma,z+=1,n[z]=ma,z+=1}else for(ma=this.$a[0],ia=0;ia<ca;ia+=1){for(B=0;B<ca;B+=4)n[z]=ma,z+=1,n[z]=ma,z+=1,n[z]=ma,z+=1,n[z]=ma,z+=1;z+=ja-ca}F+=1}oa+=1}l.putImageData(m,
0,0);l.imageSmoothingEnabled=!0;l.imageSmoothingQuality="high";q.drawImage(k,0,0,r*ca,u*ca,v,A,r*this.ea,u*t);l.imageSmoothingEnabled=!1;if(X){this.jb&&!this.Za?(q.strokeStyle=this.Pi(this.$a[0]),P=!1):q.strokeStyle=this.Pi(aa);q.lineWidth=1;q.beginPath();for(ea=0;ea<H.length;ea+=1)oa=(H[ea]+A|0)+.5,q.moveTo(0,oa),q.lineTo(this.displayWidth,oa);for(Q=0;Q<R.length;Q+=1)F=(R[Q]+v|0)+.5,q.moveTo(F,0),q.lineTo(F,this.displayHeight);q.stroke();if(P){ia=-(this.displayHeight/2/this.zc(this.ea))-(this.height/
2-this.ka-this.Aa)|0;ia+=(this.view.A/2|0)-7;B=-(this.displayWidth/2/this.ea)-(this.width/2-this.ma-this.Ja)|0;B+=(this.view.v/2|0)-7;q.strokeStyle=this.Pi(pa);q.beginPath();for(ea=0;ea<H.length;ea+=1)0===ia%S&&(oa=(H[ea]+A|0)+.5,q.moveTo(0,oa),q.lineTo(this.displayWidth,oa)),ia+=1;for(Q=0;Q<R.length;Q+=1)0===B%S&&(F=(R[Q]+v|0)+.5,q.moveTo(F,0),q.lineTo(F,this.displayHeight)),B+=1;q.stroke()}}e||g?(this.Tc=this.oa.getImageData(0,0,this.oa.canvas.width,this.oa.canvas.height),this.Rc=new Uint32Array(this.Tc.data.buffer),
e&&this.Gg()):this.Fg=!1};qa.prototype.Qk=function(a,b,c,d,f,e,g){var k=this.$a,l=this.di,m=this.$g,n=this.ah,q=(this.ea|0)<<1,p=this.Vd.width,r=p*q,u=null,t=d-b,v=f-c,A=this.zc(this.ea),w=0>b?-(b-Math.ceil(b))*this.ea:-(b-Math.floor(b))*this.ea,B=0>c?-(c-Math.ceil(c))*A:-(c-Math.floor(c))*A,C,O=0,M,K=this.fa,L=this.width-1,U=this.height-1,X=this.md,H=this.xd,R=this.$a[0],P=this.td,S=0<this.lb&&this.Ec&&!this.jb,aa=0,pa=0;var ha=this.counter&1;var ca=q>>1;f=this.width;d=this.height;var ia=0,na=0,
ja=(this.Za||this.jb)&&this.ze(),W=[],ma=[];this.jb&&!this.Za&&this.ze()&&(X=R,S=!1);for(;f<K;)ia+=f>>1,f<<=1;for(;d<K;)na+=d>>1,d<<=1;c|=0;b|=0;t=(t|0)+2;v=(v|0)+2;d=b+t;f=c+v;switch(ca){case 1:var ea=r;var Z=t<<1;for(ha=c;ha<f;ha+=1){(ha&U)===ha&&(u=a[ha]);var Y=O;for(C=b;C<d;C+=1){var oa=0>C+ia||C+ia>=K||0>ha+na||ha+na>=K?P:(C&L)!==C||(ha&U)!==ha?R:k[u[C]];l[O]=oa;l[O+1]=oa;O+=2}O=Y+p;l.copyWithin(O,Y,Y+Z);O=ea;ea+=r}break;case 2:ea=r;Z=t<<2;for(ha=c;ha<f;ha+=1){(ha&U)===ha&&(u=a[ha]);Y=O;for(C=
b;C<d;C+=1)oa=0>C+ia||C+ia>=K||0>ha+na||ha+na>=K?P:(C&L)!==C||(ha&U)!==ha?R:k[u[C]],l[O]=oa,l[O+1]=oa,l[O+2]=oa,l[O+3]=oa,O+=4;O=Y+p;l.copyWithin(O,Y,Y+Z);O+=p;Y+=p;l.copyWithin(O,Y,Y+Z);O+=p;Y+=p;l.copyWithin(O,Y,Y+Z);O=ea;ea+=r}break;default:for(ea=r,Z=t*q,S&&(this.ja&&2===this.lb&&this.Gd||(ha=0),pa=-(this.displayWidth/2/this.ea)-(this.width/2-this.ma-this.Ja)+this.view.v/2+.05|0,pa+=ha,aa=-(this.displayHeight/2/this.ea)-(this.height/2-this.ka-this.Aa)+this.view.A/2+.05|0,aa+=ha),ha=c;ha<f;ha+=
1){(ha&U)===ha&&(u=a[ha]);Y=O;var Q=pa;for(C=b;C<d;C+=1){oa=0>C+ia||C+ia>=K||0>ha+na||ha+na>=K?P:(C&L)!==C||(ha&U)!==ha?R:k[u[C]];for(M=0;M<ca;M+=1)l[O]=oa,l[O+1]=oa,O+=2;ja&&ha===c&&(W[W.length]=S&&0===Q%this.lb?H:X);Q+=1}O=Y+p;for(C=1;C<q;C+=1)l.copyWithin(O,Y,Y+Z),Y+=p,O+=p;ja&&(ma[ma.length]=S&&0===aa%this.lb?H:X);O=ea;ea+=r;aa+=1}}m.putImageData(n,0,0,0,0,t*q,v*q);this.oa.imageSmoothingEnabled=!0;this.oa.drawImage(this.Vd,0,0,t*q,v*q,w,B,t*this.ea,v*A);this.oa.imageSmoothingEnabled=!1;if(e||
g||ja){this.Tc=this.oa.getImageData(0,0,this.oa.canvas.width,this.oa.canvas.height);this.Rc=new Uint32Array(this.Tc.data.buffer);if(ja){O=0;a=((this.width/2-(this.ma+this.Ja))*this.ea+this.displayWidth/2)%this.ea;C=-this.ea+a;for(ea=b;ea<=d;ea+=1)this.Oi(C|0,0,this.displayHeight-1,W[O]),C+=this.ea,O+=1;O=0;b=((this.height/2-(this.ka+this.Aa))*this.ea+this.displayHeight/2)%this.ea;ha=-this.ea+b;for(ea=c;ea<=f;ea+=1)this.Li(0,this.displayWidth-1,ha|0,ma[O]),ha+=this.ea,O+=1}e&&this.Gg()}else this.Fg=
!1};qa.prototype.Mk=function(a,b,c,d,f,e,g,k){var l=this.$a,m=this.di,n=this.$g,q=this.ah,p=(this.ea|0)<<1,r=this.Vd.width,u=r*p,t=null,v=null,A=f-c,w=e-d,B=this.zc(this.ea),C=-(c-Math.floor(c))*this.ea,O=-(d-Math.floor(d))*B,M,K=0,L=this.fa,U=this.width-1,X=this.height-1,H=this.md,R=this.xd,P=this.$a[0],S=this.td,aa=0<this.lb&&this.Ec&&!this.jb,pa=0,ha=0;var ca=this.counter&1;var ia=p>>1;e=this.width;f=this.height;var na=0,ja=0,W=G.pb[3]+128,ma=G.pb[4]+128,ea=G.pb[5]+128,Z=G.pb[6]+128,Y=this.xa,
oa=(this.Za||this.jb)&&this.ze(),Q=[],F=[];this.jb&&!this.Za&&this.ze()&&(H=P,aa=!1);for(;e<L;)na+=e>>1,e<<=1;for(;f<L;)ja+=f>>1,f<<=1;d|=0;c|=0;A=(A|0)+2;w=(w|0)+2;f=c+A;e=d+w;switch(ia){case 1:var z=u;var J=A<<1;for(ca=d;ca<e;ca+=1){(ca&X)===ca&&(t=b[ca],v=a[ca]);var N=K;for(M=c;M<f;M+=1){if(0>M+na||M+na>=L||0>ca+ja||ca+ja>=L)var I=S;else if((M&U)!==M||(ca&X)!==ca)I=P;else{I=t[M];var x=v[M];x===ma||x===Z?(I>=Y&&(x=W),I=l[x]):x===W||x===ea?(I<Y&&(x=ma),I=l[x]):I=l[I]}m[K]=I;m[K+1]=I;K+=2}K=N+r;m.copyWithin(K,
N,N+J);K=z;z+=u}break;case 2:z=u;J=A<<2;for(ca=d;ca<e;ca+=1){(ca&X)===ca&&(t=b[ca],v=a[ca]);N=K;for(M=c;M<f;M+=1)0>M+na||M+na>=L||0>ca+ja||ca+ja>=L?I=S:(M&U)!==M||(ca&X)!==ca?I=P:(I=t[M],x=v[M],x===ma||x===Z?(I>=Y&&(x=W),I=l[x]):x===W||x===ea?(I<Y&&(x=ma),I=l[x]):I=l[I]),m[K]=I,m[K+1]=I,m[K+2]=I,m[K+3]=I,K+=4;K=N+r;m.copyWithin(K,N,N+J);K+=r;N+=r;m.copyWithin(K,N,N+J);K+=r;N+=r;m.copyWithin(K,N,N+J);K=z;z+=u}break;default:for(z=u,J=A*p,aa&&(this.ja&&2===this.lb&&this.Gd||(ca=0),ha=-(this.displayWidth/
2/this.ea)-(this.width/2-this.ma-this.Ja)+this.view.v/2+.05|0,ha+=ca,pa=-(this.displayHeight/2/this.ea)-(this.height/2-this.ka-this.Aa)+this.view.A/2+.05|0,pa+=ca),ca=d;ca<e;ca+=1){(ca&X)===ca&&(t=b[ca],v=a[ca]);N=K;var E=ha;for(M=c;M<f;M+=1){0>M+na||M+na>=L||0>ca+ja||ca+ja>=L?I=S:(M&U)!==M||(ca&X)!==ca?I=P:(I=t[M],x=v[M],x===ma||x===Z?(I>=Y&&(x=W),I=l[x]):x===W||x===ea?(I<Y&&(x=ma),I=l[x]):I=l[I]);for(x=0;x<ia;x+=1)m[K]=I,m[K+1]=I,K+=2;oa&&ca===d&&(Q[Q.length]=aa&&0===E%this.lb?R:H);E+=1}K=N+r;for(M=
1;M<p;M+=1)m.copyWithin(K,N,N+J),N+=r,K+=r;oa&&(F[F.length]=aa&&0===pa%this.lb?R:H);K=z;z+=u;pa+=1}}n.putImageData(q,0,0,0,0,A*p,w*p);this.oa.imageSmoothingEnabled=!0;this.oa.drawImage(this.Vd,0,0,A*p,w*p,C,O,A*this.ea,w*B);this.oa.imageSmoothingEnabled=!1;if(g||k||oa){this.Tc=this.oa.getImageData(0,0,this.oa.canvas.width,this.oa.canvas.height);this.Rc=new Uint32Array(this.Tc.data.buffer);if(oa){K=0;a=((this.width/2-(this.ma+this.Ja))*this.ea+this.displayWidth/2)%this.ea;M=-this.ea+a;for(z=c;z<=f;z+=
1)this.Oi(M|0,0,this.displayHeight-1,Q[K]),M+=this.ea,K+=1;K=0;c=((this.height/2-(this.ka+this.Aa))*this.ea+this.displayHeight/2)%this.ea;ca=-this.ea+c;for(z=d;z<=e;z+=1)this.Li(0,this.displayWidth-1,ca|0,F[K]),ca+=this.ea,K+=1}g&&this.Gg()}else this.Fg=!1};qa.prototype.Pp=function(a,b,c,d){var f=this.displayWidth>>3,e=this.$a,g=this.Rc,k=0,l=0;var m=this.width;var n=this.height;var q=G.pb[3]+128,p=G.pb[4]+128,r=G.pb[5]+128,u=G.pb[6]+128,t=1,v=1,A=0,w=this.fa,B=this.xa,C=this.Ia&~c,O=this.Ga&~c,M=
~c,K=~c,L=this.td,U,X=b,H=this.ea,R=!0;1<this.Ca&&(t=this.za);var P=Math.sin(this.Da/180*Math.PI)/this.ea;var S=Math.cos(this.Da/180*Math.PI)/this.ea;var aa=-(this.displayWidth/2*-P+this.displayHeight/2*S)+this.Lb;var pa=-(this.displayWidth/2*S+this.displayHeight/2*P)+this.Kb;1<this.za&&1<this.Ca&&(A=.4/(this.za-1),v=.6);this.kb(v);for(U=this.$a[0];m<w;)k+=m>>1,m<<=1;for(;n<w;)l+=n>>1,n<<=1;var ha=0;var ca=aa;for(m=0;m<this.displayHeight;m+=1){var ia=pa;for(n=0;n<f;n+=1){if(0<=ia&&(ia&M)===(ia&C)&&
0<=ca&&(ca&K)===(ca&O)){var na=X[ca&O][ia&C];var ja=a[ca&O][ia&C];ja===p||ja===u?(na>=B&&(ja=q),na=e[ja]|0):ja===q||ja===r?(na<B&&(ja=p),na=e[ja]|0):na=e[na]|0;g[ha]=na}else g[ha]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?U:L;ha+=1;ia+=S;ca-=P;0<=ia&&(ia&M)===(ia&C)&&0<=ca&&(ca&K)===(ca&O)?(na=X[ca&O][ia&C],ja=a[ca&O][ia&C],ja===p||ja===u?(na>=B&&(ja=q),na=e[ja]|0):ja===q||ja===r?(na<B&&(ja=p),na=e[ja]|0):na=e[na]|0,g[ha]=na):g[ha]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?U:L;ha+=1;ia+=S;ca-=P;0<=ia&&(ia&M)===(ia&
C)&&0<=ca&&(ca&K)===(ca&O)?(na=X[ca&O][ia&C],ja=a[ca&O][ia&C],ja===p||ja===u?(na>=B&&(ja=q),na=e[ja]|0):ja===q||ja===r?(na<B&&(ja=p),na=e[ja]|0):na=e[na]|0,g[ha]=na):g[ha]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?U:L;ha+=1;ia+=S;ca-=P;0<=ia&&(ia&M)===(ia&C)&&0<=ca&&(ca&K)===(ca&O)?(na=X[ca&O][ia&C],ja=a[ca&O][ia&C],ja===p||ja===u?(na>=B&&(ja=q),na=e[ja]|0):ja===q||ja===r?(na<B&&(ja=p),na=e[ja]|0):na=e[na]|0,g[ha]=na):g[ha]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?U:L;ha+=1;ia+=S;ca-=P;0<=ia&&(ia&M)===(ia&C)&&0<=
ca&&(ca&K)===(ca&O)?(na=X[ca&O][ia&C],ja=a[ca&O][ia&C],ja===p||ja===u?(na>=B&&(ja=q),na=e[ja]|0):ja===q||ja===r?(na<B&&(ja=p),na=e[ja]|0):na=e[na]|0,g[ha]=na):g[ha]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?U:L;ha+=1;ia+=S;ca-=P;0<=ia&&(ia&M)===(ia&C)&&0<=ca&&(ca&K)===(ca&O)?(na=X[ca&O][ia&C],ja=a[ca&O][ia&C],ja===p||ja===u?(na>=B&&(ja=q),na=e[ja]|0):ja===q||ja===r?(na<B&&(ja=p),na=e[ja]|0):na=e[na]|0,g[ha]=na):g[ha]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?U:L;ha+=1;ia+=S;ca-=P;0<=ia&&(ia&M)===(ia&C)&&0<=ca&&(ca&
K)===(ca&O)?(na=X[ca&O][ia&C],ja=a[ca&O][ia&C],ja===p||ja===u?(na>=B&&(ja=q),na=e[ja]|0):ja===q||ja===r?(na<B&&(ja=p),na=e[ja]|0):na=e[na]|0,g[ha]=na):g[ha]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?U:L;ha+=1;ia+=S;ca-=P;0<=ia&&(ia&M)===(ia&C)&&0<=ca&&(ca&K)===(ca&O)?(na=X[ca&O][ia&C],ja=a[ca&O][ia&C],ja===p||ja===u?(na>=B&&(ja=q),na=e[ja]|0):ja===q||ja===r?(na<B&&(ja=p),na=e[ja]|0):na=e[na]|0,g[ha]=na):g[ha]=0<=ia+k&&ia+k<w&&0<=ca+l&&ca+l<w?U:L;ha+=1;ia+=S;ca-=P}pa+=P;ca=aa+=S}this.wd(d);X=b;for(a=1;a<t;a+=
1)for(b=2<this.i?0===this.u?this.i/this.za*a|0:a<t/2?this.u/this.za*a*2|0:this.u+this.i/this.za*a|0:this.Wa===y.hf?1:(this.Re+1)/this.za*a|0,v+=A,this.kb(v),P/=this.Ca,S/=this.Ca,H*=this.Ca,aa=this.qf(H,R,c,X),c=aa[0],X=aa[1],R=!1,C=this.Ia&~c,O=this.Ga&~c,M=~c,K=~c,aa=-(this.displayWidth/2*-P+this.displayHeight/2*S)+this.Lb,pa=-(this.displayWidth/2*S+this.displayHeight/2*P)+this.Kb,ha=0,ca=aa,m=0;m<this.displayHeight;m+=1){ia=pa;for(n=0;n<f;n+=1)0<=ia&&(ia&M)===(ia&C)&&0<=ca&&(ca&K)===(ca&O)&&(na=
X[ca&O][ia&C]|0,na>=b&&(g[ha]=e[na])),ha+=1,ia+=S,ca-=P,0<=ia&&(ia&M)===(ia&C)&&0<=ca&&(ca&K)===(ca&O)&&(na=X[ca&O][ia&C]|0,na>=b&&(g[ha]=e[na])),ha+=1,ia+=S,ca-=P,0<=ia&&(ia&M)===(ia&C)&&0<=ca&&(ca&K)===(ca&O)&&(na=X[ca&O][ia&C]|0,na>=b&&(g[ha]=e[na])),ha+=1,ia+=S,ca-=P,0<=ia&&(ia&M)===(ia&C)&&0<=ca&&(ca&K)===(ca&O)&&(na=X[ca&O][ia&C]|0,na>=b&&(g[ha]=e[na])),ha+=1,ia+=S,ca-=P,0<=ia&&(ia&M)===(ia&C)&&0<=ca&&(ca&K)===(ca&O)&&(na=X[ca&O][ia&C]|0,na>=b&&(g[ha]=e[na])),ha+=1,ia+=S,ca-=P,0<=ia&&(ia&M)===
(ia&C)&&0<=ca&&(ca&K)===(ca&O)&&(na=X[ca&O][ia&C]|0,na>=b&&(g[ha]=e[na])),ha+=1,ia+=S,ca-=P,0<=ia&&(ia&M)===(ia&C)&&0<=ca&&(ca&K)===(ca&O)&&(na=X[ca&O][ia&C]|0,na>=b&&(g[ha]=e[na])),ha+=1,ia+=S,ca-=P,0<=ia&&(ia&M)===(ia&C)&&0<=ca&&(ca&K)===(ca&O)&&(na=X[ca&O][ia&C]|0,na>=b&&(g[ha]=e[na])),ha+=1,ia+=S,ca-=P;pa+=P;ca=aa+=S}};qa.prototype.Rp=function(a,b,c,d){var f=this.displayWidth>>3,e=this.$a,g=this.Rc,k,l,m=G.pb[3]+128,n=G.pb[4]+128,q=G.pb[5]+128,p=G.pb[6]+128,r=1,u=1,t=0,v=this.xa,A=this.Ia&~c,
w=this.Ga&~c,B=b,C=this.ea,O=!0;1<this.Ca&&(r=this.za);var M=Math.sin(this.Da/180*Math.PI)/this.ea;var K=Math.cos(this.Da/180*Math.PI)/this.ea;var L=-(this.displayWidth/2*-M+this.displayHeight/2*K)+this.Lb;var U=-(this.displayWidth/2*K+this.displayHeight/2*M)+this.Kb;1<this.za&&1<this.Ca&&(t=.4/(this.za-1),u=.6);this.kb(u);var X=0;var H=L;for(k=0;k<this.displayHeight;k+=1){var R=U;for(l=0;l<f;l+=1){var P=B[H&w][R&A];var S=a[H&w][R&A];S===n||S===p?(P>=v&&(S=m),P=e[S]|0):S===m||S===q?(P<v&&(S=n),P=
e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=K;H-=M;P=B[H&w][R&A];S=a[H&w][R&A];S===n||S===p?(P>=v&&(S=m),P=e[S]|0):S===m||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=K;H-=M;P=B[H&w][R&A];S=a[H&w][R&A];S===n||S===p?(P>=v&&(S=m),P=e[S]|0):S===m||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=K;H-=M;P=B[H&w][R&A];S=a[H&w][R&A];S===n||S===p?(P>=v&&(S=m),P=e[S]|0):S===m||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=K;H-=M;P=B[H&w][R&A];S=a[H&w][R&A];S===n||S===p?(P>=v&&(S=m),P=e[S]|0):S===m||S===
q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=K;H-=M;P=B[H&w][R&A];S=a[H&w][R&A];S===n||S===p?(P>=v&&(S=m),P=e[S]|0):S===m||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=K;H-=M;P=B[H&w][R&A];S=a[H&w][R&A];S===n||S===p?(P>=v&&(S=m),P=e[S]|0):S===m||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=K;H-=M;P=B[H&w][R&A];S=a[H&w][R&A];S===n||S===p?(P>=v&&(S=m),P=e[S]|0):S===m||S===q?(P<v&&(S=n),P=e[S]|0):P=e[P]|0;g[X]=P;X+=1;R+=K;H-=M}U+=M;H=L+=K}this.wd(d);B=b;for(a=1;a<r;a+=1)for(b=2<this.i?
0===this.u?this.i/this.za*a|0:a<r/2?this.u/this.za*a*2|0:this.u+this.i/this.za*a|0:this.Wa===y.hf?1:(this.Re+1)/this.za*a|0,u+=t,this.kb(u),M/=this.Ca,K/=this.Ca,C*=this.Ca,k=this.qf(C,O,c,B),c=k[0],B=k[1],O=!1,A=this.Ia&~c,w=this.Ga&~c,L=-(this.displayWidth/2*-M+this.displayHeight/2*K)+this.Lb,U=-(this.displayWidth/2*K+this.displayHeight/2*M)+this.Kb,X=0,H=L,k=0;k<this.displayHeight;k+=1){R=U;for(l=0;l<f;l+=1)P=B[H&w][R&A]|0,P>=b&&(g[X]=e[P]),X+=1,R+=K,H-=M,P=B[H&w][R&A]|0,P>=b&&(g[X]=e[P]),X+=1,
R+=K,H-=M,P=B[H&w][R&A]|0,P>=b&&(g[X]=e[P]),X+=1,R+=K,H-=M,P=B[H&w][R&A]|0,P>=b&&(g[X]=e[P]),X+=1,R+=K,H-=M,P=B[H&w][R&A]|0,P>=b&&(g[X]=e[P]),X+=1,R+=K,H-=M,P=B[H&w][R&A]|0,P>=b&&(g[X]=e[P]),X+=1,R+=K,H-=M,P=B[H&w][R&A]|0,P>=b&&(g[X]=e[P]),X+=1,R+=K,H-=M,P=B[H&w][R&A]|0,P>=b&&(g[X]=e[P]),X+=1,R+=K,H-=M;U+=M;H=L+=K}};qa.prototype.Sp=function(a,b,c,d){var f=this.displayWidth>>3,e=this.$a,g=this.Rc,k,l=G.pb[3]+128,m=G.pb[4]+128,n=G.pb[5]+128,q=G.pb[6]+128,p=1,r=1,u=0,t=this.xa,v=this.Ia&~c,A=this.Ga&
~c,w=b,B=this.ea,C=!0;1<this.Ca&&(p=this.za);var O=1/this.ea;this.aa&&(O/=G.rk);this.ia&&(O/=G.jk);var M=1/this.ea;var K=-(this.displayHeight/2*O)+this.Lb;var L=-(this.displayWidth/2*M)+this.Kb;1<this.za&&1<this.Ca&&(u=.4/(this.za-1),r=.6);this.kb(r);var U=0;var X=K;for(k=0;k<this.displayHeight;k+=1){var H=w[X&A];var R=a[X&A];var P=L;this.ia&&(P+=.5*(X|0));for(X=0;X<f;X+=1){var S=H[P&v];var aa=R[P&v];aa===m||aa===q?(S>=t&&(aa=l),S=e[aa]|0):aa===l||aa===n?(S<t&&(aa=m),S=e[aa]|0):S=e[S]|0;g[U]=S;U+=
1;P+=M;S=H[P&v];aa=R[P&v];aa===m||aa===q?(S>=t&&(aa=l),S=e[aa]|0):aa===l||aa===n?(S<t&&(aa=m),S=e[aa]|0):S=e[S]|0;g[U]=S;U+=1;P+=M;S=H[P&v];aa=R[P&v];aa===m||aa===q?(S>=t&&(aa=l),S=e[aa]|0):aa===l||aa===n?(S<t&&(aa=m),S=e[aa]|0):S=e[S]|0;g[U]=S;U+=1;P+=M;S=H[P&v];aa=R[P&v];aa===m||aa===q?(S>=t&&(aa=l),S=e[aa]|0):aa===l||aa===n?(S<t&&(aa=m),S=e[aa]|0):S=e[S]|0;g[U]=S;U+=1;P+=M;S=H[P&v];aa=R[P&v];aa===m||aa===q?(S>=t&&(aa=l),S=e[aa]|0):aa===l||aa===n?(S<t&&(aa=m),S=e[aa]|0):S=e[S]|0;g[U]=S;U+=1;P+=
M;S=H[P&v];aa=R[P&v];aa===m||aa===q?(S>=t&&(aa=l),S=e[aa]|0):aa===l||aa===n?(S<t&&(aa=m),S=e[aa]|0):S=e[S]|0;g[U]=S;U+=1;P+=M;S=H[P&v];aa=R[P&v];aa===m||aa===q?(S>=t&&(aa=l),S=e[aa]|0):aa===l||aa===n?(S<t&&(aa=m),S=e[aa]|0):S=e[S]|0;g[U]=S;U+=1;P+=M;S=H[P&v];aa=R[P&v];aa===m||aa===q?(S>=t&&(aa=l),S=e[aa]|0):aa===l||aa===n?(S<t&&(aa=m),S=e[aa]|0):S=e[S]|0;g[U]=S;U+=1;P+=M}X=K+=O}this.wd(d);w=b;for(a=1;a<p;a+=1)for(b=2<this.i?0===this.u?this.i/this.za*a|0:a<p/2?this.u/this.za*a*2|0:this.u+this.i/this.za*
a|0:this.Wa===y.hf?1:(this.Re+1)/this.za*a|0,r+=u,this.kb(r),O/=this.Ca,M/=this.Ca,B*=this.Ca,k=this.qf(B,C,c,w),c=k[0],w=k[1],C=!1,v=this.Ia&~c,A=this.Ga&~c,K=-(this.displayHeight/2*O)+this.Lb,L=-(this.displayWidth/2*M)+this.Kb,U=0,X=K,k=0;k<this.displayHeight;k+=1){H=w[X&A];P=L;this.ia&&(P+=.5*(X|0));for(X=0;X<f;X+=1)S=H[P&v]|0,S>=b&&(g[U]=e[S]),U+=1,P+=M,S=H[P&v]|0,S>=b&&(g[U]=e[S]),U+=1,P+=M,S=H[P&v]|0,S>=b&&(g[U]=e[S]),U+=1,P+=M,S=H[P&v]|0,S>=b&&(g[U]=e[S]),U+=1,P+=M,S=H[P&v]|0,S>=b&&(g[U]=e[S]),
U+=1,P+=M,S=H[P&v]|0,S>=b&&(g[U]=e[S]),U+=1,P+=M,S=H[P&v]|0,S>=b&&(g[U]=e[S]),U+=1,P+=M,S=H[P&v]|0,S>=b&&(g[U]=e[S]),U+=1,P+=M;X=K+=O}};qa.prototype.Qp=function(a,b,c,d){var f=this.displayWidth>>3,e=this.$a,g=this.Rc,k=0,l=0;var m=this.width;var n=this.height;var q=G.pb[3]+128,p=G.pb[4]+128,r=G.pb[5]+128,u=G.pb[6]+128,t=1,v=1,A=0,w=this.fa,B=this.td,C,O=this.xa,M=this.Ia&~c,K=this.Ga&~c,L=~c,U=~c,X=b,H=this.ea,R=!0;1<this.Ca&&(t=this.za);var P=1/this.ea;this.aa&&(P/=G.rk);this.ia&&(P/=G.jk);var S=
1/this.ea;var aa=-(this.displayHeight/2*P)+this.Lb;var pa=-(this.displayWidth/2*S)+this.Kb;1<this.za&&1<this.Ca&&(A=.4/(this.za-1),v=.6);this.kb(v);for(C=this.$a[0];m<w;)k+=m>>1,m<<=1;for(;n<w;)l+=n>>1,n<<=1;var ha=0;var ca=aa;for(m=0;m<this.displayHeight;m+=1){if(0<=ca&&(ca&U)===(ca&K)){var ia=X[ca&K];var na=a[ca&K];n=pa;this.ia&&(n+=.5*(ca|0));for(ca=0;ca<f;ca+=1){if(0<=n&&(n&L)===(n&M)){var ja=ia[n&M];var W=na[n&M];W===p||W===u?(ja>=O&&(W=q),ja=e[W]|0):W===q||W===r?(ja<O&&(W=p),ja=e[W]|0):ja=e[ja]|
0}else ja=0<=n+k&&n+k<w?C:B;g[ha]=ja;ha+=1;n+=S;0<=n&&(n&L)===(n&M)?(ja=ia[n&M],W=na[n&M],W===p||W===u?(ja>=O&&(W=q),ja=e[W]|0):W===q||W===r?(ja<O&&(W=p),ja=e[W]|0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?C:B;g[ha]=ja;ha+=1;n+=S;0<=n&&(n&L)===(n&M)?(ja=ia[n&M],W=na[n&M],W===p||W===u?(ja>=O&&(W=q),ja=e[W]|0):W===q||W===r?(ja<O&&(W=p),ja=e[W]|0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?C:B;g[ha]=ja;ha+=1;n+=S;0<=n&&(n&L)===(n&M)?(ja=ia[n&M],W=na[n&M],W===p||W===u?(ja>=O&&(W=q),ja=e[W]|0):W===q||W===r?(ja<O&&(W=p),ja=e[W]|
0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?C:B;g[ha]=ja;ha+=1;n+=S;0<=n&&(n&L)===(n&M)?(ja=ia[n&M],W=na[n&M],W===p||W===u?(ja>=O&&(W=q),ja=e[W]|0):W===q||W===r?(ja<O&&(W=p),ja=e[W]|0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?C:B;g[ha]=ja;ha+=1;n+=S;0<=n&&(n&L)===(n&M)?(ja=ia[n&M],W=na[n&M],W===p||W===u?(ja>=O&&(W=q),ja=e[W]|0):W===q||W===r?(ja<O&&(W=p),ja=e[W]|0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?C:B;g[ha]=ja;ha+=1;n+=S;0<=n&&(n&L)===(n&M)?(ja=ia[n&M],W=na[n&M],W===p||W===u?(ja>=O&&(W=q),ja=e[W]|0):W===q||W===r?(ja<O&&(W=p),
ja=e[W]|0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?C:B;g[ha]=ja;ha+=1;n+=S;0<=n&&(n&L)===(n&M)?(ja=ia[n&M],W=na[n&M],W===p||W===u?(ja>=O&&(W=q),ja=e[W]|0):W===q||W===r?(ja<O&&(W=p),ja=e[W]|0):ja=e[ja]|0):ja=0<=n+k&&n+k<w?C:B;g[ha]=ja;ha+=1;n+=S}}else if(0<=ca+l&&ca+l<w)for(n=pa,this.ia&&(n+=.5*(ca|0)),ca=0;ca<this.displayWidth;ca+=1)g[ha]=0<=n+k&&n+k<w?C:B,ha+=1,n+=S;else g.fill(B,ha,ha+this.displayWidth+1),ha+=this.displayWidth;ca=aa+=P}this.wd(d);X=b;for(a=1;a<t;a+=1)for(b=2<this.i?0===this.u?this.i/this.za*
a|0:a<t/2?this.u/this.za*a*2|0:this.u+this.i/this.za*a|0:this.Wa===y.hf?1:(this.Re+1)/this.za*a|0,v+=A,this.kb(v),P/=this.Ca,S/=this.Ca,H*=this.Ca,aa=this.qf(H,R,c,X),c=aa[0],X=aa[1],R=!1,M=this.Ia&~c,K=this.Ga&~c,L=~c,U=~c,aa=-(this.displayHeight/2*P)+this.Lb,pa=-(this.displayWidth/2*S)+this.Kb,ha=0,ca=aa,m=0;m<this.displayHeight;m+=1){if(0<=ca&&(ca&U)===(ca&K))for(ia=X[ca&K],n=pa,this.ia&&(n+=.5*(ca|0)),ca=0;ca<f;ca+=1)0<=n&&(n&L)===(n&M)&&(ja=ia[n&M]|0,ja>=b&&(g[ha]=e[ja])),ha+=1,n+=S,0<=n&&(n&
L)===(n&M)&&(ja=ia[n&M]|0,ja>=b&&(g[ha]=e[ja])),ha+=1,n+=S,0<=n&&(n&L)===(n&M)&&(ja=ia[n&M]|0,ja>=b&&(g[ha]=e[ja])),ha+=1,n+=S,0<=n&&(n&L)===(n&M)&&(ja=ia[n&M]|0,ja>=b&&(g[ha]=e[ja])),ha+=1,n+=S,0<=n&&(n&L)===(n&M)&&(ja=ia[n&M]|0,ja>=b&&(g[ha]=e[ja])),ha+=1,n+=S,0<=n&&(n&L)===(n&M)&&(ja=ia[n&M]|0,ja>=b&&(g[ha]=e[ja])),ha+=1,n+=S,0<=n&&(n&L)===(n&M)&&(ja=ia[n&M]|0,ja>=b&&(g[ha]=e[ja])),ha+=1,n+=S,0<=n&&(n&L)===(n&M)&&(ja=ia[n&M]|0,ja>=b&&(g[ha]=e[ja])),ha+=1,n+=S;else ha+=f<<3;ca=aa+=P}};qa.prototype.kg=
function(a,b,c,d,f){var e=Math.sin(this.Da/180*Math.PI)/this.ea,g=Math.cos(this.Da/180*Math.PI)/this.ea,k=this.displayWidth,l=this.displayHeight,m=-(this.displayWidth/2*-e+this.displayHeight/2*g)+this.Lb,n=-(this.displayWidth/2*g+this.displayHeight/2*e)+this.Kb,q=m+k*-e,p=n+k*g,r=m+l*g;l=n+l*e;e=r+k*-e;g=l+k*g;k=r;var u=l,t=performance.now();g<u&&(u=g);n<u&&(u=n);p<u&&(u=n);g>l&&(l=g);n>l&&(l=n);p>l&&(l=p);e>k&&(k=e);m>k&&(k=m);q>k&&(k=q);e<r&&(r=e);m<r&&(r=m);q<r&&(r=q);0>(u|0)||(l|0)>=this.width||
0>(r|0)||(k|0)>=this.height?0===this.Da?this.bd&&1<=this.ea&&1===this.za&&0===this.xb?(this.kb(1),this.Mk(a,b,u,r,l,k,d,f)):(1<this.za&&1<this.Ca||this.ia||this.aa||!(V.S&&V.Wl&&this.view.i)?this.Qp(a,b,c,d):(this.kb(1),xa.jK(b.o.byteOffset|0,a[0].length|0,a.o.byteOffset|0,c|0,this.$a.byteOffset|0,this.Rc.byteOffset|0,this.displayWidth|0,this.displayHeight|0,this.Kb,this.Lb,this.Ia|0,this.Ga|0,this.ea,G.pb[3]+128|0,G.pb[4]+128|0,G.pb[5]+128|0,G.pb[6]+128|0,y.xa|0,this.fa|0,this.width|0,this.height|
0,this.td|0,this.eh.byteOffset|0,this.Gi.byteOffset|0),this.wd(d)),t=performance.now()-t,V.Db&&this.view.C.h("renderGridClip",t,V.S&&V.Wl&&this.view.i)):this.Pp(a,b,c,d):0===this.Da?this.bd&&1<=this.ea&&1===this.za&&0===this.xb?(this.kb(1),this.Mk(a,b,u,r,l,k,d,f)):(1<this.za&&1<this.Ca||this.ia||this.aa||!(V.S&&V.Wl&&this.view.i)?this.Sp(a,b,c,d):(this.kb(1),xa.kK(b.o.byteOffset|0,a[0].length|0,a.o.byteOffset|0,c|0,this.$a.byteOffset|0,this.Rc.byteOffset|0,this.displayWidth|0,this.displayHeight|
0,this.Kb,this.Lb,this.Ia|0,this.Ga|0,this.ea,G.pb[3]+128|0,G.pb[4]+128|0,G.pb[5]+128|0,G.pb[6]+128|0,y.xa|0,this.eh.byteOffset|0),this.wd(d)),t=performance.now()-t,V.Db&&this.view.C.h("renderGridNoClip",t,V.S&&V.Wl&&this.view.i)):this.Rp(a,b,c,d)};qa.prototype.Fn=function(a,b){a.set(b)};qa.prototype.Ki=function(a){var b;if(this.Fg){if(!this.Tc.data.buffer){var c=this.Tc.data;var d=this.jo;var f=d.length;for(b=0;b<f;)c[b]=d[b],b+=1,c[b]=d[b],b+=1,c[b]=d[b],b+=1,c[b]=d[b],b+=1}if(0!==this.xb&&a){var e;
a=this.oa.canvas.width;b=this.oa.canvas.height;f=this.Rc;c=this.Sg;d=a>>1;var g=b>>1;var k=this.xb-1;var l=this.td,m=(2*k+2)/b;null===this.Sg&&(c=this.Sg=this.T.h(ra.mc,a*b,"Life.tiltBuffer",!1));var n=-k;for(k=0;k<b;k+=1){var q=k-g;var p=0>=n?b:q/n+g|0;q=k*a;if(0>p||p>=b)for(e=0;e<a;e+=1)c[q+e]=l;else{var r=p*a;p=-d/n+d;e=d/n+d;var u=(e-p)/a;for(e=0;e<a;e+=1){var t=p|0;c[q+e]=0>t||t>=a?l:f[r+t];p+=u}}n+=m}this.Fn(f,c)}this.oa.putImageData(this.Tc,0,0)}};qa.prototype.bm=function(a){this.Rc.fill(a)};
Ua.prototype.aa=function(a,b){return 0>a||a>=this.s.length||0>b||b>=this.s.length||a>b?"":this.source.substring(this.s[a],this.s[b]+this.B[b])};Ua.prototype.P=function(){0<this.current&&--this.current};Ua.prototype.u=function(){for(;this.current<this.s.length&&10!==this.source.charCodeAt(this.s[this.current]);)this.current+=1;this.current<this.s.length&&(this.current+=1)};Ua.prototype.G=function(){for(;this.current<this.s.length&&10===this.source.charCodeAt(this.s[this.current]);)this.current+=1};
Ua.prototype.ba=function(){var a=!1;this.current<this.s.length&&10!==this.source.charCodeAt(this.s[this.current])&&(a=!0);return a};Ua.prototype.D=function(){var a=!1;this.current<this.s.length&&10===this.source.charCodeAt(this.s[this.current])&&(a=!0);return a};Ua.prototype.j=function(){var a="";this.current<this.s.length&&(a=this.source.substring(this.s[this.current],this.s[this.current]+this.B[this.current]),this.current+=1);return a};Ua.prototype.$=function(){var a="";if(this.current<this.s.length){a=
this.source.indexOf("\n",this.s[this.current]);if(-1===a)a=this.source.substring(this.s[this.current]);else{var b=this.source.indexOf("\r",this.s[this.current]);-1!==b&&b<a&&(a=b);a=this.source.substring(this.s[this.current],a)}this.u()}return a};Ua.prototype.X=function(){var a;for(a=this.j();"\n"===a;)a=this.j();return a};Ua.prototype.m=function(){var a="";this.current<this.s.length&&(a=this.source.substring(this.s[this.current],this.s[this.current]+this.B[this.current]));return a};Ua.prototype.R=
function(a){return this.U(a,-1,!1)};Ua.prototype.A=function(a,b){return this.U(a,b,!0)};Ua.prototype.U=function(a,b,c){var d=-1,f=this.current;for(-1!==b&&0<=b&&b<this.s.length&&(f=b);f<this.s.length&&-1===d;){if(a.length===this.B[f]){var e=0;for(b=!0;b&&e<a.length;)a[e]!==this.source[this.s[f]+e]?b=!1:e+=1}else b=!1;b&&(c&&0!==f&&10!==this.source.charCodeAt(this.s[f-1])&&(b=!1),b&&(d=f));f+=1}-1!==d&&(this.current=f);return d};Ua.prototype.v=function(a){return!isNaN(parseFloat(a))&&isFinite(Number(a))};
Ua.prototype.O=function(a){var b=!1,c=a.indexOf("/");-1!==c&&(b=a.substring(0,c),a=a.substring(c+1),b=this.v(b)&&this.v(a));return b};Ua.prototype.H=function(a){var b=0;if(this.O(a)){var c=a.indexOf("/");var d=a.substring(0,c);a=a.substring(c+1);0!==Number(a)&&(b=Number(d)/Number(a))}else this.v(a)&&(b=parseFloat(a));return b};Ua.prototype.h=function(){var a=0;this.current<this.s.length&&(0!==this.F[this.current]?(a=this.F[this.current]>>1,this.current+=1):(a=this.j(),a=this.H(a)));return a};Ua.prototype.i=
function(){var a=!1;this.current<this.s.length&&(this.F[this.current]?a=!0:(a=this.source.substring(this.s[this.current],this.s[this.current]+this.B[this.current]),a=this.O(a)?!0:this.v(a)));return a};Ua.prototype.K=function(){var a=!1,b=this.current+1;b<this.s.length&&(this.F[b]?a=!0:(a=this.source.substring(this.s[b],this.s[b]+this.B[b]),a=this.O(a)?!0:this.v(a)));return a};Ua.prototype.Z=function(){this.current=this.s.length};var Xa={ax:0,play:1,stop:2,Uq:12,sD:0,rD:200};jb.prototype.set=function(a){this.Ao=
a.Ao;this.gh=a.gh;this.j=a.j;this.h=a.h;this.i=a.i;this.uc=a.uc;this.Ub=a.Ub;this.x=a.x;this.y=a.y;this.nh=a.nh;this.oh=a.oh;this.ph=a.ph;this.Te=a.Te;this.angle=a.angle;this.xb=a.xb;this.zoom=a.zoom;this.za=a.za;this.depth=a.depth;this.vc=a.vc;this.Tf=a.Tf;this.Pc=a.Pc;this.step=a.step;this.Fc=a.Fc;this.Bd=a.Bd;this.xe=a.xe;this.Rl=a.Rl;this.grid=a.grid};jb.prototype.s=function(){var a="";switch(this.h){case Xa.play:a=D.Zo;break;case Xa.stop:a=D.$o}return a};jb.prototype.EK=function(a){this.gh?(this.h!==
Xa.ax&&(a[a.length]=[D.Zo,"overwrites "+this.s()]),this.h=Xa.play):a[a.length]=[D.Zo,"only valid at POI"]};jb.prototype.GK=function(a){this.gh?(this.h!==Xa.ax&&(a[a.length]=[D.$o,"overwrites "+this.s()]),this.h=Xa.stop):a[a.length]=[D.$o,"only valid at POI"]};jb.prototype.FK=function(a){this.gh?(this.j&&(a[a.length]=[D.Vq,"already defined"]),this.j=!0):a[a.length]=[D.Vq,"only valid at POI"]};jb.prototype.HK=function(a,b){this.gh?(this.i!==Xa.Uq&&(b[b.length]=[D.Wq+" "+a,"overwrites "+this.i]),this.i=
a):b[b.length]=[D.Wq,"only valid at POI"]};jb.prototype.u=function(a,b,c){var d=a.Bd,f=b.Bd,e=a.angle,g=b.angle,k=1,l=1;c>f&&(c=f);f-d===G.JK&&(d=f);f!==d&&(k=Math.round((c-d)/(f-d)*1E6)/1E6,l=this.W.X(k));d=b.nh||b.Te?k:l;f=b.oh||b.Te?k:l;var m=b.ph||b.Te?k:l;this.x=a.x+d*(b.x-a.x);this.y=a.y+f*(b.y-a.y);this.zoom=a.zoom*Math.pow(b.zoom/a.zoom,m);180<g-e?e+=360:-180>g-e&&(g+=360);this.angle=(e+l*(g-e))%360;this.xb=a.xb+l*(b.xb-a.xb);this.za=a.za+k*(b.za-a.za)|0;this.depth=a.depth+k*(b.depth-a.depth);
this.vc=b.vc;this.Tf=b.Tf;this.Pc=b.Pc;this.step=b.step;this.Fc=a.Fc+k*(b.Fc-a.Fc)|0;this.Bd=c;this.xe=b.xe;this.Te=b.Te;this.Ao=b.Ao};Ga.prototype.pa=function(a,b,c,d,f,e,g,k,l,m,n,q,p,r,u,t,v,A){return new Lb(a,b,c,d,f,e,g,k,l,m,n,q,p,r,u,t,v,A)};Ga.prototype.la=function(){this.u=[]};Ga.prototype.da=function(a){this.u[this.u.length]=a};Ga.prototype.na=function(a,b,c,d,f,e,g,k,l,m,n,q,p,r,u,t,v,A,w,B,C){return new Mb(a,b,c,d,f,e,g,k,l,m,n,q,p,r,u,t,v,A,w,B,C)};Ga.prototype.ja=function(){this.s=[]};
Ga.prototype.ca=function(a){this.s[this.s.length]=a};Ga.prototype.oa=function(a,b,c,d,f,e,g,k,l,m,n,q,p,r,u,t,v,A,w,B){return new Nb(a,b,c,d,f,e,g,k,l,m,n,q,p,r,u,t,v,A,w,B)};Ga.prototype.ka=function(){this.m=[]};Ga.prototype.R=function(a){a.A=a.message.indexOf("#P");a.H=a.message.indexOf("#G");a.u=a.message.indexOf("#H");a.i=a.message.indexOf("#I");a.h=a.message.indexOf("#J");a.s=a.message.indexOf("#F");a.j=a.message.indexOf("#E");this.m[this.m.length]=a};Ga.prototype.B=function(){return this.m.length+
this.s.length+this.u.length};Ga.prototype.ha=function(){this.ka();this.ja();this.la()};Ga.prototype.Ta=function(a){var b="",c="";0<=a&&a<this.u.length&&(a=this.u[a],a.D&&(c="*"),b=a.u?"FILL\t":"LINE\t",b+="X1"+c+" "+a.coords[0]+"\tY1"+c+" "+a.coords[1]);return b};Ga.prototype.Ua=function(a){var b="",c="";0<=a&&a<this.u.length&&(b=this.u[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.v&&(c="*"),b="Z "+a.toFixed(1)+"\tA"+c+" "+b.angle.toFixed(1));return b};Ga.prototype.Va=function(a){var b="";0<=a&&a<this.u.length&&
(a=this.u[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.h&&(b+="\tT1 "+a.h+"\tT2 "+a.m,0<a.i&&(b+="\tFade "+a.i)));return b};Ga.prototype.Wa=function(a){var b="";0<=a&&a<this.u.length&&(b=this.u[a].s);return b};Ga.prototype.ea=function(a){var b="",c="";0<=a&&a<this.s.length&&(a=this.s[a],a.B&&(c="*"),b="X1"+c+" "+a.D+"\tY1"+c+" "+a.G,b+="\tX2"+c+" "+a.F+"\tY2"+c+" "+a.H);return b};Ga.prototype.fa=function(a){var b="",c="";0<=a&&a<this.s.length&&(b=this.s[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.s&&(c="*"),b="Z "+
a.toFixed(1)+"\tA"+c+" "+b.angle.toFixed(1));return b};Ga.prototype.ga=function(a){var b="";0<=a&&a<this.s.length&&(a=this.s[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.h&&(b+="\tT1 "+a.h+"\tT2 "+a.m,0<a.i&&(b+="\tFade "+a.i)));return b};Ga.prototype.ur=function(a){var b="";0<=a&&a<this.s.length&&(b=this.s[a].u);return b};Ga.prototype.ya=function(a){var b="",c="",d="";if(0<=a&&a<this.m.length){var f=this.m[a];a=f.zoom;0<=a&&1>a&&(a=-1/a);f.R&&(c="*");f.K&&(d="*");b="X"+c+" "+f.x+"\tY"+c+" "+f.y;b+="\tZ "+
a.toFixed(1)+"\tA"+d+" "+f.angle.toFixed(1)}return b};Ga.prototype.Aa=function(a){var b="";0<=a&&a<this.m.length&&(a=this.m[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.m&&(b+="\tT1 "+a.m+"\tT2 "+a.G,0<a.v&&(b+="\tFade "+a.v)));return b};Ga.prototype.Ba=function(a){var b="";0<=a&&a<this.m.length&&(a=this.m[a],b="Size "+a.size+'\t"'+a.message+'"');return b};Ga.prototype.Ca=function(a){var b="";0<=a&&a<this.m.length&&(b=this.m[a].B);return b};Ga.prototype.eb=function(){this.m.sort(function(a,b){return a.zoom-
b.zoom})};Ga.prototype.cb=function(){this.s.sort(function(a,b){return a.zoom-b.zoom})};Ga.prototype.fb=function(){this.u.sort(function(a,b){return a.zoom-b.zoom})};Ga.prototype.$a=function(){this.eb();this.cb();this.fb()};Ga.prototype.Z=function(a,b){var c,d=a.g,f=d.oa,e=d.width/2-d.ma-d.Ja,g=d.height/2-d.ka-d.Aa,k=d.zoom*d.cb,l=d.zc(d.zoom),m=d.displayWidth/2,n=d.displayHeight/2,q=a.g.counter,p=d.ia?-(d.height>>2):0,r=0,u=d.xb,t=u-1,v=1,A=0,w=0,B=0,C=0,O=a.la/a.ic;d.ia&&(e+=g/2);b&&(f.strokeStyle=
G.NG);for(c=0;c<this.s.length;c+=1){var M=this.s[c];var K=M.D;var L=M.G;var U=M.F;var X=M.H;-1!==a.g.O&&(K+=a.v>>1,L+=a.A>>1,U+=a.v>>1,X+=a.A>>1);if(!b||M.O){var H=!0;-1!==M.h&&(q<M.h||q>M.m)&&(H=!1);if(H){var R=M.size*k/M.zoom;b&&(r=1,24<=R&&(r=2,48<=R&&(r=3)));if(k>=M.Fb&&k<=M.Qb){var P=Math.log(k/M.Fb)/Math.log(M.Qb/M.Fb);P=.25>=P?4*P:.75<=P?4*(1-P):1;var S=1;-1!==M.h&&0<M.i&&(q-M.h<M.i?S=(q-M.h+1)/M.i:M.m-q<M.i&&(S=(M.m-q+1)/M.i));H=!0;var aa=1;if(-1!==M.j){var pa=a.mq(K,L);pa>M.j?H=!1:0<M.j&&
.75<pa/M.j&&(aa=4*(1-pa/M.j))}H&&(f.globalAlpha=P*M.alpha*S*aa,P=L+g-(a.A>>1)+.5,S=K+e+p-(a.v>>1)+.5,M.B||(S+=d.Ja,P+=d.Aa),-1!==M.h?(S+=M.v*(O-M.h),P+=M.A*(O-M.h)):(S+=M.v*O,P+=M.A*O),0!==d.Da&&(aa=Math.sqrt(S*S+P*P),P=180/Math.PI*Math.atan2(P,S),P+=d.Da,S=aa*Math.cos(Math.PI/180*P),P=aa*Math.sin(Math.PI/180*P)),d.ia&&(S-=P/2),P=P*l+n,S=S*k+m,K=(U-K)*k,L=(X-L)*l,d.ia&&(K-=L/2),X=0===M.K?0:Math.sqrt(K*K+L*L)*M.K,0!==u&&(v=-t+(2*t+2)/d.displayHeight*(d.displayHeight-P),P=(P-n)/v+n,S=(S-m)/v+m),0<=
v&&(f.save(),f.translate(S,P),f.scale(1/v,1/v),P=M.angle,M.s||(P+=d.Da),f.rotate(P/180*Math.PI),f.lineWidth=R,b||(f.strokeStyle=M.u),f.lineCap="round",f.lineJoin="round",0<X&&(M=Math.atan2(L,K),A=Math.cos(.85*Math.PI+M),w=Math.sin(.85*Math.PI+M),B=Math.cos(.85*-Math.PI+M),C=Math.sin(.85*-Math.PI+M)),0<r&&f.translate(r,r),f.beginPath(),f.moveTo(0,0),f.lineTo(K,L),0<X&&(f.moveTo(K,L),f.lineTo(K+X*A,L+X*w),f.moveTo(K,L),f.lineTo(K+X*B,L+X*C)),f.stroke(),f.restore()))}}}}f.globalAlpha=1};Ga.prototype.sa=
function(a){this.Z(a,!0);this.Z(a,!1)};Ga.prototype.$=function(a,b){var c,d=a.g,f=d.oa,e=d.width/2-d.ma-d.Ja,g=d.height/2-d.ka-d.Aa,k=d.zoom*d.cb,l=d.zc(d.zoom),m=d.displayWidth/2,n=d.displayHeight/2,q=a.g.counter,p=d.ia?-(d.height>>2):0,r=d.xb,u=r-1,t=1,v=0,A=0,w=0,B=a.la/a.ic;b&&(f.strokeStyle=G.uD,f.fillStyle=G.uD);d.ia&&(e+=g/2);-1!==a.g.O&&(A=a.v>>1,w=a.A>>1);for(c=0;c<this.u.length;c+=1){var C=this.u[c];var O=C.coords;var M=O.length;if(!b||C.F){var K=!0;-1!==C.h&&(q<C.h||q>C.m)&&(K=!1);if(K){var L=
C.size*k/C.zoom;b&&(v=1,24<=L&&(v=2,48<=L&&(v=3)));if(k>=C.Fb&&k<=C.Qb){var U=Math.log(k/C.Fb)/Math.log(C.Qb/C.Fb);U=.25>=U?4*U:.75<=U?4*(1-U):1;var X=1;-1!==C.h&&0<C.i&&(q-C.h<C.i?X=(q-C.h+1)/C.i:C.m-q<C.i&&(X=(C.m-q+1)/C.i));K=!0;var H=1;if(-1!==C.j){var R=a.mq(C.coords[0]+A,C.coords[1]+w);R>C.j?K=!1:0<C.j&&.75<R/C.j&&(H=4*(1-R/C.j))}if(K&&(f.globalAlpha=U*C.alpha*X*H,U=0,H=O[U]+A+e+p-(a.v>>1)+.5,X=O[U+1]+w+g-(a.A>>1)+.5,U+=2,C.D||(H+=d.Ja,X+=d.Aa),-1!==C.h?(H+=C.A*(B-C.h),X+=C.B*(B-C.h)):(H+=C.A*
B,X+=C.B*B),0!==d.Da&&(K=Math.sqrt(H*H+X*X),X=180/Math.PI*Math.atan2(X,H),X+=d.Da,H=K*Math.cos(Math.PI/180*X),X=K*Math.sin(Math.PI/180*X)),d.ia&&(H-=X/2),X=X*l+n,R=H*k+m,0!==r&&(t=-u+(2*u+2)/d.displayHeight*(d.displayHeight-X),X=(X-n)/t+n,R=(R-m)/t+m),0<=t)){H=(O[U]-O[0])*k/t;K=(O[U+1]-O[1])*l/t;d.ia&&(H-=K/2);U+=2;f.save();f.translate(R,X);f.scale(1/t,1/t);X=C.angle;C.v||(X+=d.Da);f.rotate(X/180*Math.PI);f.lineWidth=L;b||(C.u?f.fillStyle=C.s:f.strokeStyle=C.s);f.lineCap="round";f.lineJoin="round";
0<v&&f.translate(v,v);f.beginPath();f.moveTo(0,0);for(f.lineTo(H,K);U<M;)H=(O[U]-O[0])*k/t,K=(O[U+1]-O[1])*l/t,d.ia&&(H-=K/2),U+=2,f.lineTo(H,K);C.u?f.fill():f.stroke();f.restore()}}}}}f.globalAlpha=1};Ga.prototype.ua=function(a){this.$(a,!0);this.$(a,!1)};Ga.prototype.ta=function(a){var b,c=a.g,d=c.oa,f=c.width/2-c.ma-c.Ja,e=c.height/2-c.ka-c.Aa,g=c.zoom*c.cb,k=c.zc(c.zoom),l=c.displayWidth/2,m=c.displayHeight/2,n=G.KI,q="px "+G.II,p=a.g.counter,r=c.xb,u=r-1,t=1,v=c.ia?-(c.height>>2):0,A=a.la/a.ic;
c.ia&&(f+=e/2);for(b=0;b<this.m.length;b+=1){var w=this.m[b];var B=w.x;var C=w.y;var O=w.U;-1!==a.g.O&&(B+=a.v>>1,C+=a.A>>1);var M=!0;-1!==w.m&&(p<w.m||p>w.G)&&(M=!1);if(M){var K=w.X?w.size:w.size*g/w.zoom;var L=1;24<=K&&(L=2,48<=K&&(L=3));if(g>=w.Fb&&g<=w.Qb){var U=Math.log(g/w.Fb)/Math.log(w.Qb/w.Fb);d.font=K+q;U=.25>=U?4*U:.75<=U?4*(1-U):1;var X=1;-1!==w.m&&0<w.v&&(p-w.m<w.v?X=(p-w.m+1)/w.v:w.G-p<w.v&&(X=(w.G-p+1)/w.v));M=!0;var H=1;if(-1!==w.D){var R=a.mq(B,C);R>w.D?M=!1:0<w.D&&.75<R/w.D&&(H=
4*(1-R/w.D))}if(M&&(d.globalAlpha=U*w.alpha*X*H,X=B+f+v-(a.v>>1)+.5,U=C+e-(a.A>>1)+.5,w.R||(X+=c.Ja,U+=c.Aa),-1!==w.m?(X+=w.O*(A-w.m),U+=w.P*(A-w.m)):(X+=w.O*A,U+=w.P*A),0!==c.Da&&(C=Math.sqrt(X*X+U*U),U=180/Math.PI*Math.atan2(U,X),U+=c.Da,X=C*Math.cos(Math.PI/180*U),U=C*Math.sin(Math.PI/180*U)),c.ia&&(X-=U/2),B=w.message,-1!==w.H&&(B=B.substring(0,w.H)+a.g.counter+B.substring(w.H+2),-1!==w.A&&(w.A=B.indexOf("#P")),-1!==w.u&&(w.u=B.indexOf("#H")),-1!==w.i&&(w.i=B.indexOf("#I")),-1!==w.h&&(w.h=B.indexOf("#J")),
-1!==w.s&&(w.s=B.indexOf("#F")),-1!==w.j&&(w.j=B.indexOf("#E"))),-1!==w.A&&(B=B.substring(0,w.A)+a.g.A+B.substring(w.A+2),-1!==w.u&&(w.u=B.indexOf("#H")),-1!==w.i&&(w.i=B.indexOf("#I")),-1!==w.h&&(w.h=B.indexOf("#J")),-1!==w.s&&(w.s=B.indexOf("#F")),-1!==w.j&&(w.j=B.indexOf("#E"))),-1!==w.u&&(B=a.g.ja||a.g.s?B.substring(0,w.u)+a.g.ac+B.substring(w.u+2):B.substring(0,w.u)+a.g.counter+B.substring(w.u+2),-1!==w.i&&(w.i=B.indexOf("#I")),-1!==w.h&&(w.h=B.indexOf("#J")),-1!==w.s&&(w.s=B.indexOf("#F")),
-1!==w.j&&(w.j=B.indexOf("#E"))),-1!==w.s&&(B=B.substring(0,w.s)+a.g.na+B.substring(w.s+2),-1!==w.i&&(w.i=B.indexOf("#I")),-1!==w.h&&(w.h=B.indexOf("#J")),-1!==w.j&&(w.j=B.indexOf("#E"))),-1!==w.j&&(B=B.substring(0,w.j)+a.g.ga+B.substring(w.j+2),-1!==w.i&&(w.i=B.indexOf("#I")),-1!==w.h&&(w.h=B.indexOf("#J"))),-1!==w.i&&(B=B.substring(0,w.i)+(a.g.counter+a.Ja)+B.substring(w.i+2),-1!==w.h&&(w.h=B.indexOf("#J"))),-1!==w.h&&(B=a.g.ja||a.g.s?B.substring(0,w.h)+(a.g.ac+a.Ja)+B.substring(w.h+2):B.substring(0,
w.h)+(a.g.counter+a.Ja)+B.substring(w.h+2)),C=B.indexOf("\\n"),U=U*k+m,X=X*g+l,0!==r&&(t=-u+(2*u+2)/c.displayHeight*(c.displayHeight-U),U=(U-m)/t+m,X=(X-l)/t+l),0<=t)){d.save();d.translate(X,U);d.scale(1/t,1/t);U=w.angle;w.K||(U+=c.Da);d.rotate(U/180*Math.PI);U=0;if(O===G.Mv){for(;-1!==C;)M=B.substring(0,C),B=B.substring(C+2),X=d.measureText(M).width>>1,w.F&&(d.fillStyle=n,d.fillText(M,-X+L,U+L)),d.fillStyle=w.B,d.fillText(M,-X,U),U+=K,C=B.indexOf("\\n");X=d.measureText(B).width>>1;w.F&&(d.fillStyle=
n,d.fillText(B,-X+L,U+L));d.fillStyle=w.B;d.fillText(B,-X,U)}else{for(H=0;-1!==C;)M=B.substring(0,C),B=B.substring(C+2),X=d.measureText(M).width>>1,X>H&&(H=X),C=B.indexOf("\\n");X=d.measureText(B).width>>1;X>H&&(H=X);B=w.message;for(C=B.indexOf("\\n");-1!==C;)M=B.substring(0,C),B=B.substring(C+2),O===G.Nv&&(X=d.measureText(M).width),w.F&&(d.fillStyle=n,O===G.Jq?d.fillText(M,-H+L,U+L):d.fillText(M,H-X+L,U+L)),d.fillStyle=w.B,O===G.Jq?d.fillText(M,-H,U):d.fillText(M,H-X,U),U+=K,C=B.indexOf("\\n");O===
G.Nv&&(X=d.measureText(B).width);w.F&&(d.fillStyle=n,O===G.Jq?d.fillText(B,-H+L,U+L):d.fillText(B,H-X+L,U+L));d.fillStyle=w.B;O===G.Jq?d.fillText(B,-H,U):d.fillText(B,H-X,U)}d.restore()}}}}d.globalAlpha=1};Ga.prototype.ra=function(a){this.ua(a);this.sa(a);this.ta(a)};Ga.prototype.hb=function(a){var b;for(b=this.h.length-1;0<=b;--b){var c=this.h[b];c.Bd>a&&c.m&&(this.v=b,c.m=!1)}};Ga.prototype.Za=function(){var a;for(a=0;a<this.h.length;a+=1)this.h[a].m=!1;this.v=0;this.P=!1};Ga.prototype.D=function(){return new jb(this)};
Ga.prototype.X=function(a){return-2*Math.pow(a,3)+3*Math.pow(a,2)+0*a};Ga.prototype.reset=function(){this.h=[];this.i=[];this.K=!1;this.v=0};Ga.prototype.Da=function(){return this.h[this.h.length-1]};Ga.prototype.va=function(a){var b=this.aa(a),c=this.h[b];a>c.Fc?a=c.Bd+1E3*(a-c.Fc)/(c.Pc*c.step):0<b?(b=this.h[b-1],a=b.Bd+1E3*(a-b.Fc)/(c.Pc*c.step)):a=1E3*a/(c.Pc*c.step);return a};Ga.prototype.qa=function(a,b,c,d,f,e,g,k,l,m,n,q,p){var r=this.ba;r.x=a;r.y=b;r.zoom=c;r.angle=d;r.xb=f;r.Pc=m;r.step=
n;r.za=e;r.depth=g;r.vc=k;r.Tf=l;r.Fc=q;this.K&&(p=this.G.Bd);r.Bd=p-1E3;this.O(null,p,q,!0);this.G.set(this.current);this.G.Te=!1;this.G.Bd=p;this.K=!0;return r.Bd};Ga.prototype.F=function(){return this.h[0]};Ga.prototype.add=function(a,b){if(a.gh)this.i[this.i.length]=a;else{this.h[this.h.length]=a;if(a.If||a.rf||a.se||a.fh||a.mh||a.Te)this.H=!0;if(a.Ef||a.Fe)a.Ef&&!a.Fe&&(a.step=G.ih),a.Fe&&(a.Pc=b.ic)}};Ga.prototype.U=function(a){var b=!1;this.v>=this.h.length-1&&a>=this.h[this.v].Bd&&(b=!0);
return b};Ga.prototype.A=function(a){return a===(a|0)?String(a|0):String(a.toFixed(1))};Ga.prototype.Ga=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.If&&(b+=" X "+-a.x),a.rf&&(b+=" Y "+-a.y),a.se&&(b+=" ZOOM "+this.A(a.zoom)),a.fh&&(b+=" ANGLE "+a.angle),a.mh&&0!==a.xb&&(b+=" TILT "+a.xb));return b.substring(1)};Ga.prototype.Ia=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.ni&&(b+=" LOOP "+(-1===a.Ub?"OFF":a.Ub)),a.ui&&(b+=" STOP "+(-1===a.uc?"OFF":a.uc)),a.Ef&&(b+=" GPS "+
a.Pc),a.Fe&&(b+=" STEP "+a.step));return b.substring(1)};Ga.prototype.Fa=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.j&&(b+=" POIRESET"),a.h===Xa.play?b+=" POIPLAY":a.h===Xa.stop&&(b+=" POISTOP"),a.i!==Xa.Uq&&(b+=" POITRANS "+a.i));return b.substring(1)};Ga.prototype.Pa=function(a){var b="";0<=a&&a<this.i.length&&(a=this.i[a],a.ye&&(b+=" THEME "+a.vc),a.Kh&&(b+=" DEPTH "+this.A(a.depth)),a.Xh&&(b+=" LAYERS "+a.za));return b.substring(1)};Ga.prototype.La=function(a){var b="";0<=a&&a<
this.i.length&&(a=this.i[a],a.er&&(b+=" POIT "+a.Fc));return b.substring(1)};Ga.prototype.Ja=function(a,b){var c="";0<=a&&a<this.i.length&&(a=this.i[a],""!==a.xe&&(c+=" "+b+a.xe+b));return c.substring(1)};Ga.prototype.jb=function(a,b){var c="";if(0<=a&&a<this.h.length){var d=this.h[a];0<a?(a=this.h[a-1],c=d.Fc===a.Fc?"P "+this.A((d.Bd-a.Bd|0)/1E3):"T "+d.Fc,d.Te?c+=" F":(d.x!==a.x&&(c+=" X "+-d.x),d.y!==a.y&&(c+=" Y "+-d.y),d.zoom!==a.zoom&&(c+=" Z "+this.A(d.zoom))),d.angle!==a.angle&&(c+=" A "+
d.angle),d.za!==a.za&&(c+=" L "+d.za),d.depth!==a.depth&&(c+=" D "+this.A(d.depth)),d.vc!==a.vc&&(c+=" C "+d.vc),d.Tf!==a.Tf&&(c+=" R "+d.Tf),d.Pc!==a.Pc&&(c+=" G "+d.Pc),d.step!==a.step&&(c+=" S "+d.step),""!==d.xe&&(c+=" "+b+d.xe+b)):c="T "+d.Fc+" X "+-d.x+" Y "+-d.y+" Z "+this.A(d.zoom)+" A "+d.angle+" L "+d.za+" D "+this.A(d.depth)+" C "+d.vc+" R "+d.Tf+" G "+d.Pc+" S "+d.step}return c};Ga.prototype.O=function(a,b,c,d){var f=this.h.length,e=!1,g=this.v,k=g,l=!1;if(this.K)this.current.u(this.ba,
this.G,b),b>=this.G.Bd&&(this.K=!1);else{for(;g<f&&!e;){var m=this.h[g];m.Bd>=b||!m.m?e=!0:g+=1}e?(this.h[g].m=!0,0<g?(this.h[g].Te&&(this.h[g].x=this.current.x,this.h[g].y=this.current.y,this.h[g].zoom=this.current.zoom),d&&this.current.u(this.h[g-1],this.h[g],b)):(g=0,this.current.set(this.h[g]))):(g=f-1,this.current.set(this.h[g]),c>=this.current.Fc&&this.P&&(l=!0),this.P=!0);this.v=g}this.v!==k&&this.current.Ao&&a&&a.C.Wb();return l};Ga.prototype.aa=function(a){for(var b=0,c=!1,d=this.h,f=this.h.length;b<
f&&!c;)d[b].Fc>=a?c=!0:b+=1;c||(b=f-1);return b};Ga.prototype.wa=function(a){var b=0;this.v=this.aa(a);if(0<this.v){var c=this.h[this.v];var d=this.h[this.v-1];b=c.Bd-d.Bd;c=c.Fc-d.Fc;b=b*(a-d.Fc)/c+d.Bd}return b};Ga.prototype.j=function(a,b,c,d){if(0===this.h.length)c[c.length]=[a+" "+D.xc,"no initial waypoint defined"];else switch(a){case D.pf:b.If&&(c[c.length]=[a+" "+D.xc,d?"already defined":"overwrites "+-b.x]);b.x=this.h[0].x;b.If=!0;break;case D.sf:b.rf&&(c[c.length]=[a+" "+D.xc,d?"already defined":
"overwrites "+-b.y]);b.y=this.h[0].y;b.rf=!0;break;case D.te:b.se&&(c[c.length]=[a+" "+D.xc,d?"already defined":"overwrites "+this.A(1>b.zoom?-(1/b.zoom):b.zoom)]);b.zoom=this.h[0].zoom;b.se=!0;break;case D.kl:b.fh&&(c[c.length]=[a+" "+D.xc,d?"already defined":"overwrites "+b.angle]);b.angle=this.h[0].angle;b.fh=!0;break;case D.Tl:b.mh&&(c[c.length]=[a+" "+D.xc,d?"already defined":"overwrites "+b.xb]);b.xb=this.h[0].xb;b.mh=!0;break;case D.qm:b.Kh&&(c[c.length]=[a+" "+D.xc,d?"already defined":"overwrites "+
this.A(b.depth)]);b.depth=this.h[0].depth;b.Kh=!0;break;case D.Dm:b.Xh&&(c[c.length]=[a+" "+D.xc,d?"already defined":"overwrites "+b.za]);b.za=this.h[0].za;b.Xh=!0;break;case D.pk:b.ye&&(c[c.length]=[a+" "+D.xc,d?"already defined":"overwrites "+b.vc]);b.vc=this.h[0].vc;b.ye=!0;break;case D.Tm:b.Es&&(c[c.length]=[a+" "+D.xc,d?"already defined":"overwrites "+b.Tf]);b.Tf=this.h[0].Tf;b.Es=!0;break;case D.wm:b.Ef&&(c[c.length]=[a+" "+D.xc,d?"already defined":"overwrites "+b.Pc]);b.Pc=this.h[0].Pc;b.Ef=
!0;break;case D.Vm:b.Fe&&(c[c.length]=[a+" "+D.xc,d?"already defined":"overwrites "+b.step]);b.step=this.h[0].step;b.Fe=!0;break;case D.vi:b.ui&&(c[c.length]=[a+" "+D.xc,d?"already defined":"overwrites "+(-1===b.uc?"OFF":b.uc)]);b.uc=this.h[0].uc;b.ui=!0;break;case D.oi:b.ni&&(c[c.length]=[a+" "+D.xc,d?"already defined":"overwrites "+(-1===b.Ub?"OFF":b.Ub)]);b.Ub=this.h[0].Ub;b.ni=!0;break;default:c[c.length]=[a+" "+D.xc,"illegal command before "+D.xc]}};Ga.prototype.ma=function(a,b){this.j(D.pf,
a,b,!1);this.j(D.sf,a,b,!1);this.j(D.te,a,b,!1);this.j(D.kl,a,b,!1);this.j(D.Tl,a,b,!1);this.j(D.Dm,a,b,!1);this.j(D.qm,a,b,!1);this.j(D.pk,a,b,!1);this.j(D.wm,a,b,!1);this.j(D.Vm,a,b,!1);this.j(D.oi,a,b,!1);this.j(D.vi,a,b,!1)};Ga.prototype.Xa=function(a,b){var c,d=this.h,f=this.h.length;for(c=1;c<f;c+=1){var e=d[c-1];var g=d[c];g.If||(g.x=e.x);g.rf||(g.y=e.y);g.tk||(g.nh=e.nh);g.uk||(g.oh=e.oh);g.vk||(g.ph=e.ph);g.fh||(g.angle=e.angle);g.mh||(g.xb=e.xb);g.se||(g.zoom=e.zoom);g.Xh||(g.za=e.za);g.Kh||
(g.depth=e.depth);g.ye||(g.vc=e.vc);g.Ef||(g.Pc=e.Pc);g.Fe||(g.step=e.step);if(g.Ef||g.Fe)g.Ef&&!g.Fe&&(g.step=G.ih),g.Fe&&(g.Pc=b.ic);g.er?g.Fc<=e.Fc&&(a[a.length]=[D.dr+" "+g.Fc,"target generation must be later than previous ("+e.Fc+")"]):g.Fc=e.Fc;g.Bd=g.SD?1E3*g.Bd+e.Bd:e.Bd+1E3*(g.Fc-e.Fc)/(g.Pc*g.step);g.Ls||(g.Rl=e.Rl);g.vl||(g.grid=e.grid);g.Is||(g.kp=e.kp)}};bb.prototype.R=function(a,b){for(var c=null,d=0;null===c&&d<a.length;)a[d].identifier===b?c=a[d]:d+=1;return c};bb.prototype.reset=
function(){this.i=!1;this.j=-1};bb.prototype.D=function(a,b){var c=b.changedTouches;this.v=!0;switch(b.type){case "touchstart":-1===a.j&&(c=c[0],a.j=c.identifier,a.H(a,c.pageX,c.pageY));break;case "touchend":c=a.R(c,a.j);null!==c&&(a.O(a,c.pageX,c.pageY),a.j=-1);break;case "touchmove":c=a.R(c,a.j),null!==c&&a.K(a,c.pageX,c.pageY)}b.stopPropagation&&b.stopPropagation();b.cancelable&&b.preventDefault()};bb.prototype.u=function(a){var b=this.view;b.displayWidth=b.Ze;b.displayHeight=b.Ye;b.tK();b.tq.style.transform=
"scale("+b.Gc+","+b.Gc+")";b.tq.style.transformOrigin="top left";b.tm&&(this.C.we(!0),b.resize());a.U(a.left+a.G,a.top);a.G=0};bb.prototype.aa=function(a,b){this.U(this.left+a,this.top+b)};bb.prototype.U=function(a,b){var c=window.innerWidth-this.h.clientWidth*this.s,d=window.innerHeight-this.h.clientHeight*this.s;c-=(window.innerWidth-document.body.clientWidth)*this.s;a>c&&(a=c);b>d&&(b=d);0>a&&(a=0);0>b&&(b=0);this.h.style.left=a+"px";this.h.style.top=b+"px";this.h.style.position="fixed";this.left=
a;this.top=b};bb.prototype.H=function(a,b,c){a.P(a,b,c);a.i=!0;a.C.aa=!0};bb.prototype.O=function(a,b,c){a.P(a,b,c);a.i=!1;a.C.aa=!1};bb.prototype.K=function(a,b,c){a.i&&a.aa(b-a.A,c-a.B);a.A=b;a.B=c};bb.prototype.X=function(a,b){if(!a.v){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.H(a,c,d)}b.stopPropagation&&b.stopPropagation();b.preventDefault()};
bb.prototype.$=function(a,b){if(!a.v&&a.m&&a.i){if(b.pageX||b.pageY){var c=b.pageX;var d=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.O(a,c,d)}b.stopPropagation&&b.stopPropagation();b.preventDefault()};bb.prototype.Z=function(a,b){if(!a.v&&a.m&&a.i){if(b.pageX||b.pageY){var c=b.pageX;b=b.pageY}else c=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,b=b.clientY+document.body.scrollTop+
document.documentElement.scrollTop;a.K(a,c,b)}};bb.prototype.P=function(a,b,c){a.A=b|0;a.B=c|0};rb.prototype.De=function(a){var b,c,d=this.key;for(b=0;256>b;b+=1)d[b]=b;for(b=c=0;256>b;b+=1){c=c+d[b]+a.charCodeAt(b%a.length)&255;var f=d[b];d[b]=d[c];d[c]=f}this.i=this.h=0};rb.prototype.random=function(){var a,b=0,c=1,d=this.key,f=this.h,e=this.i;for(a=0;8>a;a+=1){f=f+1&255;e=e+d[f]&255;var g=d[f];d[f]=d[e];d[e]=g;b+=d[d[f]+d[e]&255]*c;c*=256}this.h=f;this.i=e;return b/1.8446744073709552E19};wb.prototype.De=
function(a,b,c){var d,f=this.ps,e=a*a+b*b;this.x=this.T.h(ra.Dd,f,"Stars.x",!1);this.y=this.T.h(ra.Dd,f,"Stars.y",!1);this.z=this.T.h(ra.Dd,f,"Stars.z",!1);for(d=0;d<f;d+=1){var g=d/f*(d/f)*(d/f)*(d/f)*c+1;do{var k=3*(this.i.random()*a-a/2);var l=3*(this.i.random()*b-b/2)}while(k*k+l*l>e);this.x[d]=k;this.y[d]=l;this.z[d]=g}this.sin=this.T.h(ra.Dd,2880,"Stars.sin",!1);this.cos=this.T.h(ra.Dd,2880,"Stars.cos",!1);for(d=0;2880>d;)this.sin[d]=Math.sin(d/8*this.j),this.cos[d]=Math.cos(d/8*this.j),d+=
1};wb.prototype.s=function(a,b,c,d,f,e,g,k){var l=f>>1,m=e>>1,n=f-1,q=e-1;this.m||(this.De(8192,8192,1024),this.m=!0);if(Qa.jc){var p=k>>16&255;var r=k>>8&255;var u=k&255}else u=k>>24&255,r=k>>16&255,p=k>>8&255;var t=this.h.h-u;var v=this.h.j-r;var A=this.h.i-p;for(e=0;e<this.ps;e+=1){var w=this.x[e]+a;var B=this.y[e]+b;if(0!==d){var C=Math.sqrt(w*w+B*B);B=Math.atan2(B,w)*this.u;B+=d;0>B?B+=360:360<=B&&(B-=360);B*=8;B|=0;w=C*this.cos[B];B=C*this.sin[B]}C=this.z[e]/c*2;w=l+w/C|0;B=m+B/C|0;if(0<w&&
w<n&&0<B&&B<q){w+=B*f;C=1536/C|0;255<C&&(C=255);C/=255;if(g[w]===k){B=u+t*C;var O=r+v*C;var M=p+A*C;B=Qa.jc?-16777216|M<<16|O<<8|B:B<<24|O<<16|M<<8|255;g[w]=B}C/=2;B=u+t*C;O=r+v*C;M=p+A*C;B=Qa.jc?-16777216|M<<16|O<<8|B:B<<24|O<<16|M<<8|255;--w;g[w]===k&&(g[w]=B);w+=2;g[w]===k&&(g[w]=B);--w;w-=f;g[w]===k&&(g[w]=B);w+=f+f;g[w]===k&&(g[w]=B)}}};var vb={Jz:"",At:0,Am:function(a){switch(a){case D.Tm:case D.qq:case D.cp:case D.Rq:case D.Hm:case D.$n:case D.Yu:case D.Tx:case D.vv:case D.$w:case D.Ay:case D.Ry:case D.Wu:case D.mv:case D.Hy:case D.Jy:case D.Zu:case D.Iy:case D.Zw:case D.hh:case D.ji:case D.iz:case D.nv:case D.Js:case D.qz:case D.tu:case D.fi:case D.xy:case D.wy:case D.ty:case D.vy:case D.qy:case D.py:case D.sy:case D.uy:case D.xs:case D.ws:case D.zs:case D.Su:case D.us:case D.vp:case D.Yx:case D.vs:case D.Wx:case D.$x:case D.ay:case D.Xx:case D.gy:case D.by:case D.ey:case D.Zx:case D.oq:case D.iu:case D.lu:case D.mu:case D.ju:case D.pu:case D.nu:case D.ou:case D.ku:case D.Kq:case D.Kv:case D.Pv:case D.Qv:case D.Lv:case D.Tv:case D.Rv:case D.Sv:case D.Jv:case D.Ov:case D.Ww:case D.Yw:case D.Xw:case D.qv:case D.kr:case D.lv:case D.Vq:case D.$o:case D.Zo:case D.ts:case D.Wq:case D.Vx:case D.xc:case D.lg:case D.Vb:case D.Ny:case D.Zm:case D.jr:case D.Or:case D.os:case D.gv:case D.hv:case D.br:case D.ar:case D.Yr:case D.vr:case D.sv:case D.vo:case D.nq:case D.dr:case D.Vm:case D.Rx:case D.Fq:case D.Eq:case D.ny:case D.Qy:case D.tb:case D.Bu:case D.pf:case D.sf:case D.tt:case D.ut:case D.te:case D.du:case D.oi:case D.mr:case D.Tl:case D.Vw:case D.Uw:case D.Xy:case D.Uy:case D.Ty:case D.Vy:case D.Wy:case D.xr:case D.wr:case D.Ms:case D.Nl:case D.Sm:case D.kl:case D.pk:case D.wm:case D.vi:case D.Dm:case D.qm:case D.Dp:case D.uo:case D.Yq:case D.Xq:case D.Dv:case D.LB:case D.ep:case D.Rm:case D.Dj:case D.wq:case D.Tq:case D.jx:case D.Gx:case D.Px:case D.tx:case D.lx:case D.Kx:case D.nx:case D.Nx:case D.Lx:case D.Fx:case D.yx:case D.Jx:case D.Cx:case D.px:case D.Ax:case D.sx:case D.wx:case D.Ex:case D.ux:case D.Qx:case D.mD:a=
!0;break;default:a=!1}return a},Ou:function(a){var b=[],c=1,d=!0,f=0;if(7===a.length&&"#"===a.charAt(0)){for(a=a.toLowerCase();d&&6>=c;){var e=a.charAt(c);"0"<=e&&"9">=e?(f=16*f+(e.charCodeAt(0)-48),c+=1):"a"<=e&&"f">=e?(f=16*f+(e.charCodeAt(0)-97+10),c+=1):d=!1}d&&(b=[f>>16,f>>8&255,f&255])}return b},Il:function(a,b,c,d,f){var e=a.m();""===e||this.Am(e)?b[b.length]=[c,d+" missing"]:(b[b.length]=[c+" "+e,d+" must be "+f],a.j())},rc:function(a,b,c,d,f){var e=!0,g=0,k=0,l=0,m=b.j();if(b.i()){g=b.h()|
0;if(0>g||255<g)c[c.length]=[f+" "+m+" "+g,"RED out of range"];if(b.i()){k=b.h();if(0>k||255<k)c[c.length]=[f+" "+m+" "+g+" "+k,"GREEN out of range"];b.i()?(l=b.h(),0>l||255<l?c[c.length]=[f+" "+m+" "+g+" "+k+" "+l,"BLUE out of range"]:e=!1):this.Il(b,c,f+" "+m+" "+g+" "+k,"BLUE","numeric")}else this.Il(b,c,f+" "+m+" "+g,"GREEN","numeric")}else{var n=b.m();var q=this.Ou(n);3===q.length?(b.j(),g=q[0],k=q[1],l=q[2],e=!1):(q=hb.Cf[n.toLowerCase()],void 0!==q?(b.j(),g=q[1],k=q[2],l=q[3],e=!1):""===n||
this.Am(n)?c[c.length]=[f+" "+m,"name missing"]:(c[c.length]="#"===n.charAt(0)?[f+" "+m+" "+n,"bad hex definition"]:[f+" "+m+" "+n,"name not known"],b.j()))}if(!e)switch(-1!==a.wc[d]&&d!==G.Ku&&d!==G.Fu&&d!==G.Lu&&(c[c.length]=[f+" "+m+" "+g+" "+k+" "+l,"overwrites "+(a.wc[d]>>16)+" "+(a.wc[d]>>8&255)+" "+(a.wc[d]&255)]),a.wc[d]=g<<16|k<<8|l,d){case G.Cr:a.no=a.wc[d];break;case G.Ju:a.qo=a.wc[d];break;case G.xB:a.Wd.h.h=g;a.Wd.h.j=k;a.Wd.h.i=l;break;case G.wB:a.wf=a.wc[d];break;case G.yB:a.Xc=[g,
k,l];break;case G.mB:a.Wc=[g,k,l];a.li="rgb("+g+","+k+","+l+")";break;case G.sB:a.Ke=[g,k,l];a.mi="rgb("+g+","+k+","+l+")";break;case G.Ku:a.Up="rgb("+g+","+k+","+l+")";break;case G.Fu:a.Sp="rgb("+g+","+k+","+l+")";break;case G.Lu:a.Vp="rgb("+g+","+k+","+l+")";break;case G.iB:a.Hd=[g,k,l];a.g.td=a.g.jc?-16777216|l<<16|k<<8|g:g<<24|k<<16|l<<8|255;a.g.wg="rgb("+g+","+k+","+l+")";break;case G.jB:a.Mf=[g,k,l];a.g.We=a.g.jc?-16777216|l<<16|k<<8|g:g<<24|k<<16|l<<8|255;break;case G.uB:a.Xf=[g,k,l];a.g.Jj=
"rgb("+g+","+k+","+l+")";break;case G.vB:a.Yf=[g,k,l];a.g.Lj="rgb("+g+","+k+","+l+")";break;case G.tB:a.Nf=[g,k,l];a.g.tj="rgb("+g+","+k+","+l+")";break;case G.pB:a.g.Md=[g,k,l];break;case G.oB:a.g.Ld=[g,k,l];break;case G.nB:a.g.Kd=[g,k,l];break;case G.qB:a.g.Nd=[g,k,l];break;case G.rB:a.g.Od=[g,k,l];break;case G.Fr:case G.Dr:case G.Gr:case G.Ir:case G.Hr:case G.Er:break;default:a.ya=!0}},zI:function(a,b){a=a.replace(/"/g,"");return 0<=b.sq(a)||b.$B(a)||b.eC(a)||b.SB(a)},FL:function(a){var b=a&255,
c=a>>8&255;a>>=16;var d=255-b,f=255-c,e=255-a;64>Math.abs(b-d)&&(d=d+64&255);64>Math.abs(c-f)&&(f=f+64&255);64>Math.abs(a-e)&&(e=e+64&255);return e<<16|f<<8|d},IK:function(a,b){var c=a.g.pa[a.g.Tb],d=a.wc;-1===b&&(b=2>=a.g.i?a.g.P?10:a.g.ja?17:1:a.g.s?18:11);c.set(a.g.pa[b]);a.Je&&(c.B=a.g.lb);!a.aa||a.g.D||a.g.v||a.g.G||a.g.la||(0<a.aa.length&&-1!==a.aa[0]&&(d[G.hk]=a.aa[0],a.aa[0]=-1),1<a.aa.length&&-1!==a.aa[1]&&!a.g.s&&(d[G.ho]=a.aa[1],a.aa[1]=-1),2<a.aa.length&&-1!==a.aa[2]&&!a.g.s&&a.g.P&&(d[G.io]=
a.aa[2],a.aa[2]=-1));b=d[G.hk];-1!==b&&(a.g.v||a.g.G?(a.aa||(a.aa=a.g.T.h(ra.Ad,256,"View.customColours",!1),a.aa.fill(-1)),-1===a.aa[0]&&(a.aa[0]=b)):(c.v.h=b>>16,c.v.j=b>>8&255,c.v.i=b&255));b=d[G.ho];-1!==b&&(c.i.h.h=b>>16,c.i.h.j=b>>8&255,c.i.h.i=b&255);b=d[G.hB];-1!==b&&(c.i.i.h=b>>16,c.i.i.j=b>>8&255,c.i.i.i=b&255);b=d[G.io];-1!==b&&(c.h.i.h=b>>16,c.h.i.j=b>>8&255,c.h.i.i=b&255);b=d[G.Iu];-1!==b&&(c.h.h.h=b>>16,c.h.h.j=b>>8&255,c.h.h.i=b&255);b=d[G.hk];-1!==b&&(c.F.h=b>>16,c.F.j=b>>8&255,c.F.i=
b&255);b=d[G.ho];-1!==b&&(c.A.h=b>>16,c.A.j=b>>8&255,c.A.i=b&255);b=d[G.io];-1!==b&&(c.j.i.h=b>>16,c.j.i.j=b>>8&255,c.j.i.i=b&255);b=d[G.Iu];-1!==b&&(c.j.h.h=b>>16,c.j.h.j=b>>8&255,c.j.h.i=b&255);b=d[G.kB];-1===b?c.G=!0:(c.G=!1,c.m.i.h=b>>16,c.m.i.j=b>>8&255,c.m.i.i=b&255);b=d[G.lB];-1!==b&&(c.m.h.h=b>>16,c.m.h.j=b>>8&255,c.m.h.i=b&255);c.O(d[G.Cr],d[G.Ju]);if(a.g.s)for(d=1;16>d;d+=1)a.aa&&a.aa.length>d&&(b=a.aa[d],-1!==b&&(c.D[d-1].h=b>>16,c.D[d-1].j=b>>8&255,c.D[d-1].i=b&255,a.aa[d]=-1))},Fs:function(a,
b){var c=a;a.length>b&&(c=a.substring(0,b-1)+"...");return c},iE:function(a,b,c,d){var f=a.indexOf("\\n");-1!==f&&(c?b[b.length]=[D.vp+" "+D.Pd+this.Fs(a,23)+D.Pd,"only one line allowed"]:(f=a.substring(f+2).indexOf("\\n"),-1===f||d||(b[b.length]=[D.Pd+this.Fs(a,23),"only two lines allowed"])))},oy:function(a,b,c,d){var f=D.pk+" ",e="overwrites ";f=c>=a.g.Tb?f+D.sp:f+a.g.pa[c].name;e=d>=a.g.Tb?e+D.sp:e+a.g.pa[d].name;b[b.length]=[f,e]},jg:function(a,b,c,d,f){b[b.length]=[c,d];f&&a.j();a.i()?(a.h(),
a.i()&&(a.h(),a.i()&&a.h())):(b=a.m(),3===this.Ou(b).length?a.j():void 0!==hb.Cf[b.toLowerCase()]&&a.j())},ko:function(a,b,c,d,f,e,g){var k=0,l=0,m=0;if(b.i())if(k=b.h()|0,0>k||255<k)c[c.length]=[f+" "+g+" "+k,"RED out of range"],e=!0;else if(b.i())if(l=b.h()|0,0>l||255<l)c[c.length]=[f+" "+g+" "+k+" "+l,"GREEN out of range"],e=!0;else if(b.i()){if(m=b.h()|0,0>m||255<m)c[c.length]=[f+" "+g+" "+k+" "+l+" "+m,"BLUE out of range"],e=!0}else this.Il(b,c,f+" "+g+" "+k+" "+l,"BLUE","numeric"),e=!0;else this.Il(b,
c,f+" "+g+" "+k,"GREEN","numeric"),e=!0;else{var n=b.m();var q=this.Ou(n);3===q.length?(b.j(),k=q[0],l=q[1],m=q[2]):(q=hb.Cf[n.toLowerCase()],void 0!==q?(b.j(),k=q[1],l=q[2],m=q[3]):(e=!0,""===n||this.Am(n)?c[c.length]=[f+" "+g,"name missing"]:(c[c.length]="#"===n.charAt(0)?[f+" "+g+" "+n,"bad hex definition"]:[f+" "+g+" "+n,"name not known"],b.j())))}e||(-1!==a.aa[d]&&(c[c.length]=[f+" "+g+" "+k+" "+l+" "+m,"overwrites "+(a.aa[d]>>16)+" "+(a.aa[d]>>8&255)+" "+(a.aa[d]&255)]),a.aa[d]=k<<16|l<<8|m)},
Kj:function(a,b){var c=D.Sd+String(b);a=a.C.fc(b);-1!==a&&(c=a.toFixed(1));return c},Wm:function(a,b){var c="",d=b.indexOf(D.Sd);if(-1===d)c=b;else{for(;-1!==d;)if(c+=b.substring(0,d),d+1<b.length){var f=b[d+1];b=b.substring(d+2);switch(f){case "B":c+=G.Xs;break;case "N":c+=a.cf;break;case "R":c+=a.$;break;case "A":c=""===a.$a?c+a.$:c+a.$a;break;case "O":c+=a.vg;break;case "S":c+=a.Lj;break;case "T":c+=G.po;break;case "D":c+=a.pq();break;case "0":c+=this.Kj(a,0);break;case "1":c+=this.Kj(a,1);break;
case "2":c+=this.Kj(a,2);break;case "3":c+=this.Kj(a,3);break;case "4":c+=this.Kj(a,4);break;case "5":c+=this.Kj(a,5);break;case "6":c+=this.Kj(a,6);break;case "7":c+=this.Kj(a,7);break;case "8":c+=this.Kj(a,8);break;case "9":c+=this.Kj(a,9);break;case D.Sd:c+=D.Sd;break;default:c+=D.Sd+f}d=b.indexOf(D.Sd)}else b=b.substring(d+1),d=-1;c+=b}return c},ai:function(a,b,c,d){d[d.length]=a?b===D.hh?[b+" "+c,"already defined"]:[b+" "+c,"overwrites "+D.hh]:b===D.hh?[b+" "+c,"overwrites "+D.ji]:[b+" "+c,"already defined"]},
ke:function(a,b){return a===(a|0)?String(a):a.toFixed(b)},eL:function(a){var b=a.charAt(0);a=a.substring(1);var c=!1;if("B"===b||"S"===b){this.Jz=b;b=0;for(c=!0;c&&b<a.length;)"0"<=a[b]&&"9">=a[b]?b+=1:c=!1;c&&(this.At=Number(a))}return c},CK:function(a,b){if("B"===this.Jz){var c=a.cd.length;a.cd[c]=this.At;a.cd[c+1]=b}else c=a.Td.length,a.Td[c]=this.At,a.Td[c+1]=b},KJ:function(a,b,c){var d=new Ua(b,!1),f=!1,e,g=!1,k="",l=0,m;b=a.Yb;var n=0,q=!1,p=a.s.D(),r,u=!1,t=!1,v=!0,A=1,w=G.MA,B=-1,C=-1,O=0,
M=0,K=!1,L=-1,U=-1E3,X=-1E3,H=0,R=0,P=!0,S=1,aa=G.MA,pa=G.MG,ha=-1,ca=-1,ia=0,na=0,ja=!1,W=-1,ma=0,ea=0,Z=-1E3,Y=-1E3,oa=null,Q=!0,F=1,z=G.JI,J=!1,N=-1,I=-1,x=0,E=0,la=!1,ba=-1,ta=0,ua=0,ka=-1E3,wa=-1E3,Ba=G.Mv,Ia=!1,Ea=-1,Oa=-1,Pa=-1,ya=0,Ka=!1,cb=new ib("decode",a.W),db=[],Fa={x:!1,y:!1,zoom:!1,angle:!1,xb:!1,za:!1,depth:!1,vc:!1,Pc:!1,step:!1,loop:!1,stop:!1,width:!1,height:!1,iy:!1,hy:!1};a.s.H=!1;a.Oh=0;a.Dz=0;a.Je=!1;a.ya=!1;a.wc.fill(-1);a.aa=null;if(-1!==d.R(D.Nl)){a.aa=a.g.T.h(ra.Ad,256,
"View.customColours",!1);a.aa.fill(-1);for(e=d.j();""!==e;){var Wa="numeric";if(g)e[e.length-1]===D.Pd?(k=k+" "+e.substring(0,e.length-1),g=!1,this.iE(k,b,f,Ia),f?(""!==a.yd&&(b[b.length]=[D.vp+" "+D.Pd+this.Fs(k,20)+D.Pd,"overwrites "+D.Pd+a.yd+D.Pd]),a.yd=k,f=!1):Ia?(oa.message=this.Wm(a,k),Ia=!1,a.s.R(oa)):(p.xe=this.Wm(a,k),p.Ns=!0)):k=k+" "+e;else if(e[0]===D.Pd)k=e.substring(1),g=!0,e[e.length-1]===D.Pd&&(g=!1,k=k.substring(0,k.length-1),this.iE(k,b,f,Ia),f?(""!==a.yd&&(b[b.length]=[D.vp+" "+
D.Pd+this.Fs(k,20)+D.Pd,"overwrites "+D.Pd+a.yd+D.Pd]),a.yd=k,f=!1):Ia?(oa.message=this.Wm(a,k),Ia=!1,a.s.R(oa)):(p.xe=this.Wm(a,k),p.Ns=!0));else{var sa=m=!1;a.Oh+=1;switch(e){case D.vp:f=!0;var va=d.m();va[0]!==D.Pd&&(b[b.length]=[e,"argument must be a quoted string"],f=!1);sa=!0;break;case D.$x:d.i()&&(m=!0,l=d.h(),l>=G.js&&l<=G.$r&&(w=l,sa=!0));break;case D.by:d.i()?(m=!0,l=d.h(),l>=G.Dg&&l<=G.Ag&&(ya=l,m=!1,d.i()&&(m=!0,l=d.h(),l>=G.Dg&&l<=G.Ag&&(H=ya,R=l,sa=!0)))):(va=d.m(),va===D.je&&(d.j(),
R=H=0,sa=!0));break;case D.ey:d.i()?(m=!0,l=d.h(),0<=l&&l<=a.g.fa/2&&(L=l,sa=!0)):(va=d.m(),va===D.Vb&&(d.j(),L=-1,sa=!0));break;case D.Xx:d.i()&&(m=!0,l=d.h(),0<=l&&360>l&&(M=l,K=!1,va=d.m(),va===D.je&&(d.j(),K=!0),sa=!0));break;case D.ay:if(d.i()){if(m=!0,l=d.h()|0,0<=l)if(ya=l,d.i())if(l=d.h()|0,l>=ya){var Ca=l;d.i()?(l=d.h()|0,0<=l&&l<=Ca-ya>>1?(B=ya,C=Ca,O=l,sa=!0):(sa=!0,b[b.length]=[e+" "+ya+" "+Ca+" "+l,"third argument must from 0 to "+(Ca-ya>>1)])):m=!1}else sa=!0,b[b.length]=[e+" "+ya+" "+
l,"second argument must be >= first"];else m=!1}else va=d.m(),va===D.lg?(d.j(),C=B=-1,O=0,sa=!0):m=!1;break;case D.Wx:d.i()&&(m=!0,l=d.h(),0<=l&&1>=l&&(A=l,sa=!0));break;case D.Yx:case D.vs:var La=[];sa=!0;for(r=-1E3;sa&&d.i();)ya=d.h(),d.i()?(Ca=d.h(),ya>=-a.g.fa&&ya<2*a.g.fa&&Ca>=-a.g.fa&&Ca<2*a.g.fa?(La[La.length]=ya,La[La.length]=Ca):(b[b.length]=[e+" "+ya+" "+Ca,"coordinate out of range"],r=0,sa=!1)):ya>=G.Fb&&ya<=G.Qb?r=ya:ya>=G.Oq&&ya<=G.Mq?r=-(1/ya):(b[b.length]=[e+" "+ya,"zoom out of range"],
r=0,sa=!1);sa&&4>La.length&&(b[b.length]=[e,"requires at least 2 coordinate pairs"],sa=!1);sa&&-1E3===r&&(sa=!1);sa&&(va=d.m(),Ca=!1,va===D.je&&(d.j(),Ca=!0),va=a.s.pa(La,e===D.vs,r,U,X,a.Vp,A,w,B,C,O,M,K,Ca,L,H,R,v),a.s.da(va));break;case D.Zx:va=d.m();va===D.Vb?(d.j(),v=!1):v=!0;sa=!0;break;case D.lu:d.i()&&(m=!0,l=d.h(),l>=G.js&&l<=G.$r&&(ya=l,m=!1,d.i()&&(m=!0,l=d.h(),0<=l&&1>=l&&(pa=l,aa=ya,sa=!0))));break;case D.nu:d.i()?(m=!0,l=d.h(),l>=G.Dg&&l<=G.Ag&&(ya=l,m=!1,d.i()&&(m=!0,l=d.h(),l>=G.Dg&&
l<=G.Ag&&(ma=ya,ea=l,sa=!0)))):(va=d.m(),va===D.je&&(d.j(),ea=ma=0,sa=!0));break;case D.ou:d.i()?(m=!0,l=d.h(),0<=l&&l<=a.g.fa/2&&(W=l,sa=!0)):(va=d.m(),va===D.Vb&&(d.j(),W=-1,sa=!0));break;case D.ju:d.i()&&(m=!0,l=d.h(),0<=l&&360>l&&(na=l,ja=!1,va=d.m(),va===D.je&&(d.j(),ja=!0),sa=!0));break;case D.mu:d.i()?(m=!0,l=d.h()|0,0<=l&&(ya=l,d.i()?(l=d.h()|0,l>=ya?(Ca=l,d.i()?(l=d.h()|0,0<=l&&l<=Ca-ya>>1?(ha=ya,ca=Ca,ia=l,sa=!0):(sa=!0,b[b.length]=[e+" "+ya+" "+Ca+" "+l,"third argument must from 0 to "+
(Ca-ya>>1)])):m=!1):(sa=!0,b[b.length]=[e+" "+ya+" "+l,"second argument must be >= first"])):m=!1)):(va=d.m(),va===D.lg?(d.j(),ca=ha=-1,ia=0,sa=!0):m=!1);break;case D.iu:d.i()&&(m=!0,l=d.h(),0<=l&&1>=l&&(S=l,sa=!0));break;case D.ku:va=d.m();va===D.Vb?(d.j(),P=!1):P=!0;sa=!0;break;case D.oq:if(d.i()&&(m=!0,l=d.h(),l>=-a.g.fa&&l<2*a.g.fa&&(m=!1,ya=l,d.i()&&(m=!0,l=d.h(),l>=-a.g.fa&&l<2*a.g.fa&&(m=!1,Ca=l,d.i()&&(m=!0,l=d.h(),l>=-a.g.fa&&l<2*a.g.fa)))))){m=!1;var Ra=l;if(d.i()&&(m=!0,l=d.h(),l>=-a.g.fa&&
l<2*a.g.fa)){m=!1;var lb=l;d.i()&&(m=!0,l=d.h(),r=-1E3,l>=G.Fb&&l<=G.Qb?r=l:l>=G.Oq&&l<=G.Mq&&(r=-(1/l)),-1E3!==r&&(va=d.m(),sa=!1,va===D.je&&(d.j(),sa=!0),sa=a.s.na(ya,Ca,Ra,lb,r,Z,Y,a.Sp,S,aa,pa,ha,ca,ia,na,ja,sa,W,ma,ea,P),a.s.ca(sa),sa=!0))}}break;case D.Pv:d.i()&&(m=!0,l=d.h(),l>=G.yC&&l<=G.tC&&(z=l,sa=!0,va=d.m(),va===D.je?(d.j(),J=!0):J=!1));break;case D.Rv:d.i()?(m=!0,l=d.h(),l>=G.Dg&&l<=G.Ag&&(ya=l,m=!1,d.i()&&(m=!0,l=d.h(),l>=G.Dg&&l<=G.Ag&&(ta=ya,ua=l,sa=!0)))):(va=d.m(),va===D.je&&(d.j(),
ua=ta=0,sa=!0));break;case D.Sv:d.i()?(m=!0,l=d.h(),0<=l&&l<=a.g.fa/2&&(ba=l,sa=!0)):(va=d.m(),va===D.Vb&&(d.j(),ba=-1,sa=!0));break;case D.Lv:d.i()&&(m=!0,l=d.h(),0<=l&&360>l&&(E=l,la=!1,va=d.m(),va===D.je&&(d.j(),la=!0),sa=!0));break;case D.Jv:va=d.j();sa=!0;switch(va){case D.Gv:Ba=G.Mv;break;case D.Hv:Ba=G.Jq;break;case D.Iv:Ba=G.Nv;break;default:""!==va?b[b.length]=[e+" "+va,"argument must be "+D.Hv+", "+D.Gv+" or "+D.Iv]:sa=!1}break;case D.Qv:d.i()?(m=!0,l=d.h()|0,0<=l&&(ya=l,d.i()?(l=d.h()|
0,l>=ya?(Ca=l,d.i()?(l=d.h()|0,0<=l&&l<=Ca-ya>>1?(N=ya,I=Ca,x=l,sa=!0):(sa=!0,b[b.length]=[e+" "+ya+" "+Ca+" "+l,"third argument must from 0 to "+(Ca-ya>>1)])):m=!1):(sa=!0,b[b.length]=[e+" "+ya+" "+l,"second argument must be >= first"])):m=!1)):(va=d.m(),va===D.lg?(d.j(),I=N=-1,x=0,sa=!0):m=!1);break;case D.Kv:d.i()&&(m=!0,l=d.h(),0<=l&&1>=l&&(F=l,sa=!0));break;case D.gy:d.i()?(m=!0,l=d.h(),ya=-1E3,l>=G.Lo&&l<=G.Io?ya=l:l>=G.Ko&&l<=G.Ho&&(ya=-(1/l)),-1E3!==ya&&d.i()&&(m=!0,l=d.h(),Ca=-1E3,l>=G.Lo&&
l<=G.Io?Ca=l:l>=G.Ko&&l<=G.Ho&&(Ca=-(1/l)),-1E3!==Ca&&Ca<ya&&(Ca=-1E3),-1E3!==Ca&&(U=ya,X=Ca,sa=!0))):(va=d.m(),va===D.Vb&&(d.j(),X=U=-1E3,sa=!0));break;case D.pu:d.i()?(m=!0,l=d.h(),ya=-1E3,l>=G.Lo&&l<=G.Io?ya=l:l>=G.Ko&&l<=G.Ho&&(ya=-(1/l)),-1E3!==ya&&d.i()&&(m=!0,l=d.h(),Ca=-1E3,l>=G.Lo&&l<=G.Io?Ca=l:l>=G.Ko&&l<=G.Ho&&(Ca=-(1/l)),-1E3!==Ca&&Ca<ya&&(Ca=-1E3),-1E3!==Ca&&(Z=ya,Y=Ca,sa=!0))):(va=d.m(),va===D.Vb&&(d.j(),Y=Z=-1E3,sa=!0));break;case D.Tv:d.i()?(m=!0,l=d.h(),ya=-1E3,l>=G.Lo&&l<=G.Io?ya=
l:l>=G.Ko&&l<=G.Ho&&(ya=-(1/l)),-1E3!==ya&&d.i()&&(m=!0,l=d.h(),Ca=-1E3,l>=G.Lo&&l<=G.Io?Ca=l:l>=G.Ko&&l<=G.Ho&&(Ca=-(1/l)),-1E3!==Ca&&Ca<ya&&(Ca=-1E3),-1E3!==Ca&&(ka=ya,wa=Ca,sa=!0))):(va=d.m(),va===D.Vb&&(d.j(),wa=ka=-1E3,sa=!0));break;case D.Ov:va=d.m();va===D.Vb?(d.j(),Q=!1):Q=!0;sa=!0;break;case D.Kq:d.i()&&(m=!0,l=d.h(),l>=-a.g.fa&&l<2*a.g.fa&&(m=!1,ya=l,d.i()&&(m=!0,l=d.h(),l>=-a.g.fa&&l<2*a.g.fa&&(m=!1,Ca=l,d.i()&&(m=!0,l=d.h(),r=-1E3,l>=G.Fb&&l<=G.Qb?r=l:l>=G.Oq&&l<=G.Mq&&(r=-(1/l)),-1E3!==
r&&(m=!1,va=d.m(),La=!1,va===D.je&&(d.j(),La=!0,va=d.m()),va[0]===D.Pd?(oa=a.s.oa(ya,Ca,r,ka,wa,a.Up,F,z,J,N,I,x,E,la,La,ba,ta,ua,Q,Ba),sa=Ia=!0):Wa="a string"))))));break;case D.ny:sa=a.g.bd=!0;break;case D.Dv:sa=a.g.ud=!0;break;case D.LB:a.g.og()&&(a.g.Gb=!0);sa=!0;break;case D.ep:sa=!1;va=d.j();if(""!==va){for(a.Oj=[];d.i();)l=d.h(),a.Oj[a.Oj.length]=l;a.gF(b,va,a.Oj);a.Oj=[];sa=!0}break;case D.Rm:sa=!1;va=d.j();if(""!==va&&(La=d.m(),""!==La)){d.j();if(La===D.fi)Ca=ya=-1,d.i()&&(ya=d.h()),d.i()&&
(Ca=d.h()),ya<G.Pq||Ca<G.ew||ya>G.es||Ca>G.ds?(b[b.length]=[D.Dj+" "+D.fi,"invalid random box size"],ya=-1):La+=ya+","+Ca;else for(Ra=d.m();""!==Ra&&!this.Am(Ra)&&!d.i()&&-1!==a.W.ya(cb,Ra,db);)d.j(),La+=Ra,Ra=d.m();if(-1!==ya){Ca=ya=0;d.i()&&(m=!0,ya=d.h());d.i()&&(m=!0,Ca=d.h());r=-1;Ra=d.m();if(""!==Ra){switch(Ra){case D.dz:r=G.lr;break;case D.az:r=G.Os;break;case D.bz:r=G.Ps;break;case D.cz:r=G.Qs;break;case D.gz:r=G.Ts;break;case D.hz:r=G.Us;break;case D.fz:r=G.Ss;break;case D.ez:r=G.Rs}-1!==
r&&d.j()}-1===r&&(r=G.lr);a.cF(b,va,La,ya,Ca,r);sa=!0}}break;case D.Dj:La=d.m();if(""!==La){d.j();ya=-99999;if(La===D.fi)Ca=ya=-1,d.i()&&(ya=d.h()),d.i()&&(Ca=d.h()),ya<G.Pq||Ca<G.Pq||ya>G.es||Ca>G.ds?(b[b.length]=[D.Dj+" "+D.fi,"invalid random box size"],ya=-1):La+=ya+","+Ca;else for(Ra=d.m();""!==Ra&&!this.Am(Ra)&&!d.i()&&-1!==a.W.ya(cb,Ra,db);)d.j(),La+=Ra,Ra=d.m();if(-1!==ya){Ca=ya=0;d.i()&&(m=!0,ya=d.h());d.i()&&(m=!0,Ca=d.h());r=-1;Ra=d.m();if(""!==Ra){switch(Ra){case D.dz:r=G.lr;break;case D.az:r=
G.Os;break;case D.bz:r=G.Ps;break;case D.cz:r=G.Qs;break;case D.gz:r=G.Ts;break;case D.hz:r=G.Us;break;case D.fz:r=G.Ss;break;case D.ez:r=G.Rs}-1!==r&&d.j()}-1===r&&(r=G.lr);if(a.Nz(a.af,a.bl,a.Aj,a.ee,a.Za,a.Bt,a.Ct,La,ya,Ca,r)){if(va=d.m(),va===D.Qx||va===D.mD)if(d.j(),sa=0,d.i()&&d.K())for(Ra=d.h(),lb=d.h();0===sa;)va===D.Qx?ya+=Ra:Ca+=Ra,a.af+=lb,a.Nz(a.af,-1,[],0,a.Za,0,0,La,ya,Ca,r),d.i()&&d.K()?(Ra=d.h(),lb=d.h()):sa=1;else b[b.length]=[D.Dj+" "+va,"missing number pair"]}else b[b.length]=[D.Dj+
" "+La,"invalid name or rle"];sa=!0}}break;case D.jx:d.i()&&(m=!0,l=d.h(),-4096<=l&&4096>=l&&(a.Bt=l,m=!1,d.i()&&(m=!0,l=d.h(),-4096<=l&&4096>=l&&(a.Ct=l,sa=!0))));break;case D.Tq:if(d.i()){if(m=!0,l=d.h(),0<=l){a.af=l;a.ee=0;a.bl=-1;a.Aj=[];for(sa=!0;sa;)d.i()?(l=d.h(),a.Aj[a.Aj.length]=l):(va=d.m(),a.kF(va,a.Aj)?d.j():sa=!1);sa=!0}}else va=d.m(),va===D.wq&&(d.j(),d.i()&&(m=!0,l=d.h(),1<=l&&(a.ee=l,a.af=0,a.bl=-1,d.i()?(l=d.h(),0<=l&&(a.af=l,d.i()?(l=d.h(),l>=a.af+a.ee&&(a.bl=l,sa=!0)):sa=!0)):sa=
!0)));break;case D.TD:sa=p.Ao=!0;break;case D.Tx:sa=a.xo=!0;break;case D.Gx:sa=!0;m=!1;Wa="paste mode";va=d.m();switch(va){case D.Px:a.Za=G.Ox;break;case D.tx:a.Za=G.qs;break;case D.lx:a.Za=G.kx;break;case D.Kx:a.Za=G.Hx;break;case D.nx:a.Za=G.mx;break;case D.Nx:a.Za=G.Mx;break;case D.Lx:a.Za=G.rs;break;case D.Fx:a.Za=G.Vo;break;case D.yx:a.Za=G.xx;break;case D.Jx:a.Za=G.Ix;break;case D.Cx:a.Za=G.Bx;break;case D.px:a.Za=G.ox;break;case D.Ax:a.Za=G.zx;break;case D.sx:a.Za=G.qx;break;case D.wx:a.Za=
G.vx;break;case D.Ex:a.Za=G.Dx;break;case D.ux:a.Za=G.Sq;break;default:if(4===va.length){for(r=l=0;4>r&&sa;){l<<=1;switch(va.substring(r,r+1)){case "1":l|=1;break;case "0":break;default:sa=!1}r+=1}sa&&(a.Za=l)}else d.i()?(m=!0,l=d.h()|0,0<=l&&15>=l?a.Za=l:sa=!1):sa=!1}sa&&!m&&d.j();break;case D.qv:sa=a.nd=!0;break;case D.Xw:a.Qd=!1;sa=!0;break;case D.Ww:sa=a.Ab=!0;break;case D.Yw:a.Yc=!1;sa=!0;break;case D.Yr:d.i()&&(m=!0,l=d.h()|0,l>=G.xC&&l<=G.aw&&(a.g.fa=1<<l,sa=!0));break;case D.br:va=d.m();va===
D.Vb?(d.j(),p.Rl=!1):p.Rl=!0;sa=p.Ls=!0;break;case D.ar:va=d.m();va===D.Vb?(d.j(),p.kp=!1):p.kp=!0;sa=p.Is=!0;break;case D.vr:va=d.m();va===D.Vb?(d.j(),p.Te=!1):p.Te=!0;sa=!0;break;case D.vo:d.i()&&(m=!0,l=d.h()|0,0<=l&&l<=a.rj&&(0!==l||!a.g.P)&&(a.ua=l,sa=!0));break;case D.nq:d.i()&&(m=!0,l=d.h()|0,0<=l&&l<=a.rj&&(a.He=l,sa=!0));break;case D.sv:va=d.m();va===D.Vb?(d.j(),a.rd=!1):a.rd=!0;sa=!0;break;case D.Fq:va=d.m();va===D.Vb?(d.j(),p.grid=!1):p.grid=!0;sa=p.vl=!0;break;case D.Eq:d.i()&&(m=!0,l=
d.h()|0,l>=G.VI&&l<=G.RI&&(a.g.lb=l,sa=a.Je=!0));break;case D.tb:case D.Bu:sa=e;if(d.i())sa=d.h()|0,l=-1===a.g.i?2:a.g.i,a.g.P&&(l=7),0>sa||sa>=l?this.jg(d,b,e+" "+sa,"STATE out of range",!1):(this.ko(a,d,b,sa,e,!1,sa),a.ya=!0);else switch(va=d.m(),va){case D.ex:a.g.P?this.rc(a,d,b,G.hk,sa):(this.jg(d,b,e+" "+D.ex,"not valid for this rule",!0),a.ya=!1);break;case D.ix:a.g.P?this.rc(a,d,b,G.ho,sa):(this.jg(d,b,e+" "+D.ix,"not valid for this rule",!0),a.ya=!1);break;case D.rv:a.g.P?this.rc(a,d,b,G.io,
sa):(this.jg(d,b,e+" "+D.rv,"not valid for this rule",!0),a.ya=!1);break;case D.Yv:va=d.j();a.g.P?this.ko(a,d,b,G.nC,e,!1,va):(this.jg(d,b,e+" "+D.Yv,"not valid for this rule",!1),a.ya=!1);break;case D.$v:va=d.j();a.g.P?this.ko(a,d,b,G.pC,e,!1,va):(this.jg(d,b,e+" "+D.$v,"not valid for this rule",!1),a.ya=!1);break;case D.Zv:va=d.j();a.g.P?this.ko(a,d,b,G.oC,e,!1,va):(this.jg(d,b,e+" "+D.Zv,"not valid for this rule",!1),a.ya=!1);break;case D.Cv:va=d.j();a.g.P?this.ko(a,d,b,G.gC,e,!1,va):(this.jg(d,
b,e+" "+D.Cv,"not valid for this rule",!1),a.ya=!1);break;case D.rp:this.rc(a,d,b,G.hk,sa);break;case D.qp:a.g.s||a.g.v||a.g.G||a.g.D||a.g.la?(this.jg(d,b,e+" "+D.qp,"not valid for this rule",!0),a.ya=!1):this.rc(a,d,b,G.ho,sa);break;case D.fr:2<a.g.i||a.g.la?(this.jg(d,b,e+" "+D.fr,"not valid for this rule",!0),a.ya=!1):this.rc(a,d,b,G.hB,sa);break;case D.up:a.g.D||a.g.v||a.g.G||a.g.la?(this.jg(d,b,e+" "+D.up,"not valid for this rule",!0),a.ya=!1):this.rc(a,d,b,G.io,sa);break;case D.tp:a.g.D||a.g.v||
a.g.G||a.g.la?(this.jg(d,b,e+" "+D.tp,"not valid for this rule",!0),a.ya=!1):this.rc(a,d,b,G.Iu,sa);break;case D.hr:2>=a.g.i||a.g.s||a.g.D||a.g.ja||a.g.v||a.g.G||a.g.P||a.g.la?(this.jg(d,b,e+" "+D.hr,"not valid for this rule",!0),a.ya=!1):this.rc(a,d,b,G.kB,sa);break;case D.gr:2>=a.g.i||a.g.s||a.g.D||a.g.ja||a.g.v||a.g.G||a.g.P||a.g.la?(this.jg(d,b,e+" "+D.gr,"not valid for this rule",!0),a.ya=!1):this.rc(a,d,b,G.lB,sa);break;case D.Fq:this.rc(a,d,b,G.Cr,sa);break;case D.Eq:this.rc(a,d,b,G.Ju,sa);
break;case D.br:this.rc(a,d,b,G.xB,sa);break;case D.ar:this.rc(a,d,b,G.wB,sa);break;case D.Ry:this.rc(a,d,b,G.yB,sa);break;case D.Wu:this.rc(a,d,b,G.mB,sa);break;case D.mv:this.rc(a,d,b,G.sB,sa);break;case D.Kq:this.rc(a,d,b,G.Ku,sa);break;case D.oq:this.rc(a,d,b,G.Fu,sa);break;case D.vD:this.rc(a,d,b,G.Lu,sa);break;case D.SA:this.rc(a,d,b,G.iB,sa);break;case D.uu:-1===a.g.O?this.jg(d,b,e+" "+D.uu,"Bounded Grid not specified",!0):this.rc(a,d,b,G.jB,sa);a.ya=!1;break;case D.ID:this.rc(a,d,b,G.uB,sa);
break;case D.Dj:this.rc(a,d,b,G.tB,sa);break;case D.JD:this.rc(a,d,b,G.vB,sa);break;case D.VB:this.rc(a,d,b,G.pB,sa);break;case D.UB:this.rc(a,d,b,G.oB,sa);break;case D.TB:this.rc(a,d,b,G.nB,sa);break;case D.WB:this.rc(a,d,b,G.qB,sa);break;case D.XB:this.rc(a,d,b,G.rB,sa);break;case D.cE:this.rc(a,d,b,G.Fr,sa);break;case D.aE:this.rc(a,d,b,G.Dr,sa);break;case D.dE:this.rc(a,d,b,G.Gr,sa);break;case D.fE:this.rc(a,d,b,G.Ir,sa);break;case D.eE:this.rc(a,d,b,G.Hr,sa);break;case D.bE:this.rc(a,d,b,G.Er,
sa);break;case D.XD:this.rc(a,d,b,G.Nu,sa);break;case D.VD:this.rc(a,d,b,G.Mu,sa);break;case D.XA:this.rc(a,d,b,G.Hu,sa);break;case D.WA:this.rc(a,d,b,G.Gu,sa);break;default:if('"'===va.charAt(0)&&'"'!==va.charAt(va.length-1)){va=d.j();do La=d.j(),va+=" "+La;while(""!==La&&'"'!==La.charAt(La.length-1))}else va=d.j();"dead"!==va||a.g.la||a.g.D?(sa=-1,a.g.la||(sa=a.LA(va)),0<=sa&&(this.ko(a,d,b,sa,e,!1,va),a.ya=!0),0>sa&&(this.zI(va,a)?b[b.length]=[e+" "+va,"not valid for this rule"]:(b[b.length]=[e+
" "+va,"illegal element"],d.j()),d.i()&&(d.h(),d.i()&&(d.h(),d.i()&&d.h())))):(d.P(),this.rc(a,d,b,G.io,sa))}sa=!0;break;case D.Sm:-1===d.R(D.Nl)&&d.Z();sa=!0;--a.Oh;break;case D.mr:sa=a.U=!0;break;case D.Zw:sa=a.Bz=!0;break;case D.Ay:sa=a.Xn=!0;break;case D.$w:a.Jf=!1;sa=!0;break;case D.Yu:sa=a.Do=!0;break;case D.vv:sa=a.Iq=!0;break;case D.Vw:a.Pa=!0;sa=a.xn=!0;break;case D.Uw:sa=a.Vg=!0;break;case D.Qy:Fa.x=!0;Fa.y=!0;Fa.zoom=!0;Fa.angle=!0;Fa.xb=!0;Fa.za=!0;Fa.depth=!0;Fa.vc=!0;Fa.Pc=!0;Fa.step=
!0;Fa.loop=!0;Fa.stop=!0;Fa.width=!0;Fa.height=!0;Fa.iy=!0;sa=Fa.hy=!0;break;case D.Vb:b[b.length]=[D.Vb,"must follow LOOP or STOP"];sa=!0;break;case D.lg:va=d.m();va===D.xc?(d.j(),p.gh?(a.s.ma(p,b),a.dL()):b[b.length]=[D.lg+" "+D.xc,"only valid at a POI"]):b[b.length]=[D.lg,"must be followed by INITIAL"];sa=!0;break;case D.xc:b[b.length]=[D.xc,"must follow POI, ALL or a POI setting"];sa=!0;break;case D.Ms:d.i()?(m=!0,l=d.h()|0,0<=l&&l<=G.bw&&(a.Wa=l,a.ei=l,sa=!0)):(va=d.m(),"b"===va.charAt(va.length-
1).toLowerCase()&&(va=va.substring(0,va.length-1),l=Number(va),va=d.j(),m=!0,0<=l&&l<=G.bw&&(a.Wa=l,a.ei=l,a.yf=performance.now(),a.on=va,sa=!0)));break;case D.wr:sa=a.Ie=!0;break;case D.xr:va=d.m();va===D.Vb?(d.j(),a.eb=!1):a.ob&&(a.eb=!0);sa=!0;break;case D.ts:d.i()&&(m=!0,l=d.h()|0,0<=l&&(p.gh?(p.Fc=l,p.er=!0):b[b.length]=[D.ts+" "+l,"only valid at a POI"],sa=!0));break;case D.Zo:p.EK(b);sa=!0;break;case D.$o:p.GK(b);sa=!0;break;case D.Vq:p.FK(b);sa=!0;break;case D.Wq:d.i()&&(m=!0,l=d.h(),l>=Xa.sD&&
l<=Xa.rD&&(p.HK(l,b),sa=!0));break;case D.Vx:sa=q=!0;break;case D.lv:sa=a.Xo=!0;break;case D.Ny:va=d.m();va===D.Vb?(d.j(),a.vd=!1):a.vd=!0;sa=!0;break;case D.kr:d.i()&&(m=!0,l=d.h(),l>=G.Dg&&l<=G.Ag&&(r=l,m=!1,e+=" "+l,d.i()&&(m=!0,l=d.h(),l>=G.Dg&&l<=G.Ag&&(Ca=l,sa=!0,a.sb&&(b[b.length]=[D.kr+" "+r+" "+Ca,"overwrites "+Oa+" "+Pa]),Oa=r,Pa=Ca,a.sb=!0))));break;case D.jr:d.i()&&(m=!0,l=d.h()|0,0<l&&(va=l,m=!1,e+=" "+l,d.i()&&(m=!0,l=d.h(),l>=G.Dg&&l<=G.Ag&&(r=l,m=!1,e+=" "+l,d.i()&&(m=!0,l=d.h(),l>=
G.Dg&&l<=G.Ag&&(Ca=l,sa=!0,a.zi&&(b[b.length]=[D.jr+" "+va+" "+r+" "+Ca,"overwrites "+Ea+" "+Oa+" "+Pa]),Ea=va,Oa=r,Pa=Ca,a.zi=!0,a.sb=!0))))));break;case D.Zm:d.i()&&(m=!0,l=d.h(),l>=G.Dg&&l<=G.Ag&&(Ca=l,m=!1,e+=" "+l,d.i()&&(m=!0,l=d.h(),l>=G.Dg&&l<=G.Ag&&(r=l,m=!1,e+=" "+l,d.i()&&(m=!0,l=d.h(),l>=G.Dg&&l<=G.Ag&&(La=l,m=!1,e+=" "+l,d.i()&&(m=!0,l=d.h(),l>=G.Dg&&l<=G.Ag&&(va=l,sa=!0,La>Ca?b[b.length]=[D.Zm+" W "+this.ke(La,2)+" E "+this.ke(Ca,2),"W is greater than E"]:va>r?b[b.length]=[D.Zm+" N "+
this.ke(va,2)+" S "+this.ke(r,2),"N is greater than S"]:(a.wi&&(b[b.length]=[D.Zm+" "+this.ke(Ca,2)+" "+this.ke(r,2)+" "+this.ke(La,2)+" "+this.ke(va,2),"overwrites "+this.ke(a.Pg,2)+" "+this.ke(a.Rg,2)+" "+this.ke(a.yi,2)+" "+this.ke(a.xi,2)]),a.wi=!0,a.sb=!0,a.xi=va,a.Pg=Ca,a.Rg=r,a.yi=La)))))))));break;case D.vi:r=p;!p.gh&&0<a.s.h.length&&(p=a.s.F());d.i()?(m=!0,l=d.h()|0,0<l&&(!p.ui||a.fg||Fa.stop||(b[b.length]=-1===p.uc?[D.vi+" "+l,"overwrites "+D.Vb]:[D.vi+" "+l,"overwrites "+p.uc]),p.uc=l,
p.ui=!0,a.fg=!1,Fa.stop=!1,sa=!0)):(va=d.m(),va===D.Vb?(d.j(),!p.ui||a.fg||Fa.stop||(b[b.length]=-1!==p.uc||a.fg?[D.vi+" "+D.Vb,"overwrites "+p.uc]:[D.vi+" "+D.Vb,"overwrites "+D.Vb]),p.uc=-1,p.ui=!0,a.fg=!1,Fa.stop=!1,sa=!0):va===D.xc&&(d.j(),a.s.j(D.vi,p,b,a.fg),sa=a.fg=!0));p=r;break;case D.oi:r=p;!p.gh&&0<a.s.h.length&&(p=a.s.F());d.i()?(m=!0,l=d.h()|0,0<l&&(!p.ni||a.qh||Fa.loop||(b[b.length]=-1===p.Ub?[D.oi+" "+l,"overwrites "+D.Vb]:[D.oi+" "+l,"overwrites "+p.Ub]),p.Ub=l,p.ni=!0,a.qh=!1,Fa.loop=
!1,sa=!0)):(va=d.m(),va===D.Vb?(d.j(),!p.ni||a.qh||Fa.loop||(b[b.length]=-1===p.Ub?[D.oi+" "+D.Vb,"overwrites "+D.Vb]:[D.oi+" "+D.Vb,"overwrites "+p.Ub]),p.Ub=-1,p.ni=!0,a.qh=!1,Fa.loop=!1,sa=!0):va===D.xc&&(d.j(),a.s.j(D.oi,p,b,a.qh),sa=a.qh=!0));p=r;break;case D.Tl:d.i()?(m=!0,l=d.h(),l>=G.Qq&&l<=G.cw&&(!p.mh||a.Dk||Fa.xb||(b[b.length]=[D.Tl+" "+l,"overwrites "+p.xb]),p.xb=l,p.mh=!0,a.Dk=!1,Fa.xb=!1,sa=!0)):(va=d.m(),va===D.xc&&(d.j(),a.s.j(D.Tl,p,b,a.Dk),sa=a.Dk=!0));break;case D.kl:d.i()?(m=!0,
l=d.h()|0,0<=l&&359>=l&&(!p.fh||a.$l||Fa.angle||(b[b.length]=[D.kl+" "+l,"overwrites "+p.angle]),p.angle=l,p.fh=!0,a.$l=!1,Fa.angle=!1,sa=!0)):(va=d.m(),va===D.xc&&(d.j(),a.s.j(D.kl,p,b,a.$l),sa=a.$l=!0));break;case D.Dm:d.i()?(m=!0,l=d.h()|0,l>=G.hs&&l<=G.Zr&&(!p.Xh||a.Ak||Fa.za||(b[b.length]=[D.Dm+" "+l,"overwrites "+p.za]),p.za=l,p.Xh=!0,a.Ak=!1,Fa.za=!1,sa=!0)):(va=d.m(),va===D.xc&&(d.j(),a.s.j(D.Dm,p,b,a.Ak),sa=a.Ak=!0));break;case D.qm:d.i()?(m=!0,l=d.h(),l>=G.gs&&l<=G.sC&&(!p.Kh||a.yk||Fa.depth||
(b[b.length]=[D.qm+" "+l,"overwrites "+p.depth]),p.depth=l,p.Kh=!0,a.yk=!1,Fa.depth=!1,sa=!0)):(va=d.m(),va===D.xc&&(d.j(),a.s.j(D.qm,p,b,a.yk),sa=a.yk=!0));break;case D.tt:d.i()&&(m=!0,l=d.h(),l>=-a.g.fa/2&&l<=a.g.fa/2&&(a.ca=l,sa=!0));break;case D.ut:d.i()&&(m=!0,l=d.h(),l>=-a.g.fa/2&&l<=a.g.fa/2&&(a.fa=l,sa=!0));break;case D.pf:d.i()?(m=!0,l=d.h(),l>=-a.g.fa/2&&l<=a.g.fa/2&&(!p.If||a.Ek||Fa.x||(b[b.length]=[D.pf+" "+l,"overwrites "+-p.x]),p.x=-l,a.g.ia&&(p.x+=63.25),p.If=!0,a.Ek=!1,Fa.x=!1,sa=
!0)):(va=d.m(),va===D.xc&&(d.j(),a.s.j(D.pf,p,b,a.Ek),sa=a.Ek=!0));break;case D.sf:d.i()?(m=!0,l=d.h(),l>=-a.g.fa/2&&l<=a.g.fa/2&&(!p.rf||a.Fk||Fa.y||(b[b.length]=[D.sf+" "+l,"overwrites "+-p.y]),p.y=-l,p.rf=!0,a.Fk=!1,Fa.y=!1,sa=!0)):(va=d.m(),va===D.xc&&(d.j(),a.s.j(D.sf,p,b,a.Fk),sa=a.Fk=!0));break;case D.Wy:d.i()&&(m=!0,l=d.h(),l>=G.Fb&&l<=G.Qb?(a.So=!0,a.tv=l,sa=!0):l>=G.Oq&&l<=G.Mq&&(a.So=!0,a.tv=-(1/l),sa=!0));break;case D.du:case D.te:d.i()?(m=!0,l=d.h(),l>=G.Fb&&l<=G.Qb?(!p.se||a.Gh||Fa.zoom||
(b[b.length]=1>p.zoom?[D.te+" "+l,"overwrites "+-(1/p.zoom)]:[D.te+" "+l,"overwrites "+p.zoom]),p.zoom=l,p.se=!0,a.Gh=!1,Fa.zoom=!1,sa=!0):l>=G.Oq&&l<=G.Mq&&(p.se&&!a.Gh&&(b[b.length]=1>p.zoom?[D.te+" "+l,"overwrites "+-(1/p.zoom)]:[D.te+" "+l,"overwrites "+p.zoom]),p.zoom=-(1/l),p.se=!0,a.Gh=!1,sa=!0)):(va=d.m(),va===D.xc&&(d.j(),a.s.j(D.te,p,b,a.Gh),sa=a.Gh=!0));break;case D.wm:d.i()?(m=!0,l=d.h()|0,l>=G.Cg&&(!p.Ef||a.zk||Fa.Pc||(b[b.length]=[D.wm+" "+l,"overwrites "+p.Pc]),l>G.dd&&(ya=l/G.dd|0,
2<=ya&&(ya>=a.Pf&&(ya=a.Pf),p.step=ya,p.Fe=!0),l=G.dd),p.Pc=l,p.Ef=!0,a.zk=!1,Fa.Pc=!1,a.EA=!1,sa=!0)):(va=d.m(),va===D.xc&&(d.j(),a.s.j(D.wm,p,b,a.zk),sa=a.zk=!0));break;case D.Xy:va=d.m();va===D.Vb?(d.j(),a.zd||(a.ma=!1,a.ze=!1)):a.zd||(a.ma=!0,a.ze=!0);sa=!0;break;case D.Vy:sa=a.fv=!0;break;case D.Ty:va=d.m();va===D.Vb?(d.j(),a.zd||(a.ma=!1,a.ze=!1,a.Ed=!1,a.C.wa=!1)):a.zd||(a.ma=!0,a.ze=!0,a.Ed=!0,a.C.wa=!0);sa=!0;break;case D.Uy:d.i()&&(m=!0,l=d.h()|0,l>=G.BC&&l<=G.vC&&(a.$b=l,sa=!0));break;
case D.pk:d.i()?(m=!0,l=d.h()|0,0<=l&&l<a.g.Tb&&(!p.ye||a.Ue||Fa.vc||this.oy(a,b,l,p.vc),p.vc=l,p.ye=!0,a.Ue=!1,Fa.vc=!1,sa=!0)):(va=d.m(),va===D.sp?(d.j(),a.ya?(p.ye&&!a.Ue&&this.oy(a,b,a.g.Tb,p.vc),p.vc=a.g.Tb,p.ye=!0,a.Ue=!1):b[b.length]=[D.pk+" "+D.sp,"no custom THEME defined"],sa=!0):(l=a.RE(va),-1!==l?(d.j(),!p.ye||a.Ue||Fa.vc||this.oy(a,b,l,p.vc),p.vc=l,p.ye=!0,a.Ue=!1,Fa.vc=!1,sa=!0):va===D.xc&&(d.j(),a.s.j(D.pk,p,b,a.Ue),sa=a.Ue=!0)),sa||(sa=!0,b[b.length]=[e,"invalid specification"]));break;
case D.Tm:va=d.m().toUpperCase();if(va===D.qq||va===D.cp||va===D.Hm||va===D.Rq||va===D.$n){La=d.j();if(p.Es&&!a.Bk&&!Fa.Tf){switch(p.Tf){case y.Hf:k=D.$n;break;case y.gf:k=D.qq;break;case y.Uf:k=D.Hm;break;case y.hf:k=D.cp}b[b.length]=[D.Tm+" "+La,"overwrites "+k]}if(!(2<a.g.i||a.g.Ea||a.g.s||a.g.P||a.g.v||a.g.G||a.g.D)){switch(va){case D.qq:a.g.Wa=y.gf;a.Me=y.gf;break;case D.cp:a.g.Wa=y.hf;a.Me=y.hf;break;case D.Hm:case D.Rq:a.g.Wa=y.Uf;a.Me=y.Uf;break;case D.$n:a.g.Wa=y.Hf,a.Me=y.Hf}p.Tf=a.g.Wa;
p.Es=!0;a.Bk=!1;Fa.Tf=!1}}else va===D.xc?(d.j(),a.s.j(D.Tm,p,b,a.Bk),a.Bk=!0):this.Il(d,b,D.Tm,"argument","shader name");sa=!0;break;case D.cp:2<a.g.i||a.g.Ea||a.g.s||a.g.P||a.g.v||a.g.G||a.g.D||(a.g.Wa=y.hf,a.Me=y.hf);sa=!0;break;case D.Rq:case D.Hm:2<a.g.i||a.g.Ea||a.g.s||a.g.P||a.g.v||a.g.G||a.g.D||(a.g.Wa=y.Uf,a.Me=y.Uf);sa=!0;break;case D.$n:2<a.g.i||a.g.Ea||a.g.s||a.g.P||a.g.v||a.g.G||a.g.D||(a.g.Wa=y.Hf,a.Me=y.Hf);sa=!0;break;case D.Nl:b[b.length]=[e,"already in a script block"];sa=!0;break;
case D.Iy:a.La=!a.La;sa=!0;break;case D.Jy:a.Vi.current=a.Tg([!0],!0,a);sa=!0;break;case D.Zu:a.ak.current=a.Bp([!0],!0,a);sa=!0;break;case D.Hy:sa=a.Gt=!0;break;case D.Su:d.i()&&(m=!0,l=d.h()|0,l>=G.wC&&l<=G.rC&&(sa=!0,a.g.tf=l));break;case D.os:sa=a.bc=!0;break;case D.Or:sa=a.Ga=!0;break;case D.gv:d.i()&&(m=!0,l=d.h(),0<=l&&1>=l&&(sa=!0,a.jb=l));break;case D.hv:a.td=!1;sa=!0;break;case D.iz:a.g.aa&&(a.g.Fa=!1);sa=!0;break;case D.nv:a.g.ia&&(a.g.Fa=!1);sa=!0;break;case D.Js:sa=a.g.Fa=!0;break;case D.qz:a.g.ee&&
(a.xd=!0);sa=!0;break;case D.tu:sa=a.g.jb=!0;break;case D.vy:d.i()&&(m=!0,l=d.h()|0,l>=G.Pq&&l<=G.es&&(a.Em=l,sa=!0));break;case D.qy:d.i()&&(m=!0,l=d.h()|0,l>=G.ew&&l<=G.ds&&(a.zm=l,sa=!0));break;case D.py:d.i()&&(m=!0,l=d.h()|0,l>=G.ks&&l<=G.cs&&(a.Jj=l,sa=!0));break;case D.sy:sa=a.Nn=!0;break;case D.uy:sa=a.Pn=!0;break;case D.xs:m=!1;Wa="a valid item";va=d.m();switch(va){case D.je:d.j();sa=!0;a.Cm=!0;break;case D.lg:d.j();d.i()&&(m=!0,l=d.h()|0,0<=l&&100>=l&&(a.ef=l,sa=!0));break;case D.ws:d.j();
d.i()&&(m=!0,l=d.h()|0,0<=l&&100>=l&&(a.kf=l,sa=!0));break;case D.zs:d.j();d.i()&&(m=!0,l=d.h()|0,0<=l&&100>=l&&(a.wg=l,sa=!0));break;default:this.eL(va)&&(d.j(),d.i()&&(m=!0,l=d.h()|0,0<=l&&100>=l&&(this.CK(a,l),sa=!0)))}break;case D.fi:b[b.length]=[e,"only valid after "+D.Dj];sa=!0;break;case D.xy:a.Km=!0;a.Gm=!1;sa=!0;break;case D.wy:a.Km=!0;sa=a.Gm=!0;break;case D.ty:va=d.m();""!==va&&va!==D.Sm&&(a.Lj=d.j(),sa=a.Nt=!0);break;case D.hh:va=d.m();switch(va){case D.pf:p.tk&&this.ai(p.nh,D.hh,D.pf,
b);p.nh=!0;p.tk=!0;d.j();break;case D.sf:p.uk&&this.ai(p.oh,D.hh,D.sf,b);p.oh=!0;p.uk=!0;d.j();break;case D.te:p.vk&&this.ai(p.ph,D.hh,D.te,b);p.ph=!0;p.vk=!0;d.j();break;case D.lg:p.tk&&this.ai(p.nh,D.hh,D.pf,b);p.uk&&this.ai(p.oh,D.hh,D.sf,b);p.vk&&this.ai(p.ph,D.hh,D.te,b);p.nh=!0;p.tk=!0;p.oh=!0;p.uk=!0;p.ph=!0;p.vk=!0;d.j();break;default:this.Il(d,b,D.hh,"argument",D.lg+", "+D.pf+", "+D.sf+" or "+D.te)}sa=!0;break;case D.ji:va=d.m();switch(va){case D.pf:p.tk&&this.ai(p.nh,D.ji,D.pf,b);p.nh=!1;
p.tk=!0;d.j();break;case D.sf:p.uk&&this.ai(p.oh,D.ji,D.sf,b);p.oh=!1;p.uk=!0;d.j();break;case D.te:p.vk&&this.ai(p.ph,D.ji,D.te,b);p.ph=!1;p.vk=!0;d.j();break;case D.lg:p.tk&&this.ai(p.nh,D.ji,D.pf,b);p.uk&&this.ai(p.oh,D.ji,D.sf,b);p.vk&&this.ai(p.ph,D.ji,D.te,b);p.nh=!1;p.tk=!0;p.oh=!1;p.uk=!0;p.ph=!1;p.vk=!0;d.j();break;default:this.Il(d,b,D.ji,"argument",D.lg+", "+D.pf+", "+D.sf+" or "+D.te)}sa=!0;break;case D.us:t=!0;a.s.add(p,a);p=a.s.D();p.gh=!0;va=d.m();va===D.xc&&(d.j(),-1!==a.bh&&(b[b.length]=
[D.us+" "+D.xc,"overrides previous initial POI"]),a.bh=a.s.i.length);a.kG();sa=!0;break;case D.dr:d.i()&&(m=!0,l=d.h()|0,0<=l&&(u=!0,0<l&&(a.s.add(p,a),p=a.s.D()),p.Fc=l,sa=p.er=!0));break;case D.Vm:d.i()?(m=!0,l=d.h()|0,l>=G.ih&&l<=a.Pf&&(!p.Fe||a.Ck||Fa.step||(b[b.length]=[D.Vm+" "+l,"overwrites "+p.step]),p.step=l,p.Fe=!0,a.Ck=!1,Fa.step=!1,a.GA=!1,sa=!0)):(va=d.m(),va===D.xc&&(d.j(),a.s.j(D.Vm,p,b,a.Ck),sa=a.Ck=!0));break;case D.Rx:d.i()&&(m=!0,l=d.h(),0<=l&&(u=!0,a.s.add(p,a),p=a.s.D(),l<G.LD&&
(l=G.LD),p.Bd=l,sa=p.SD=!0));break;case D.Dp:d.i()&&(m=!0,l=d.h()|0,a.zd||(-1===a.Va||Fa.width||(b[b.length]=[D.Dp+" "+l,"overwrites "+a.Va]),a.Va=l),Fa.width=!1,sa=!0);break;case D.uo:d.i()&&(m=!0,l=d.h()|0,a.zd||(-1===a.rb||Fa.height||(b[b.length]=[D.uo+" "+l,"overwrites "+a.rb]),a.rb=l),Fa.height=!1,sa=!0);break;case D.Yq:d.i()&&(m=!0,l=d.h()|0,-1===a.hc||Fa.iy||(b[b.length]=[D.Yq+" "+l,"overwrites "+a.hc]),a.hc=l,Fa.iy=!1,sa=!0);break;case D.Xq:d.i()&&(m=!0,l=d.h()|0,-1===a.ud||Fa.hy||(b[b.length]=
[D.Xq+" "+l,"overwrites "+a.ud]),a.ud=l,Fa.hy=!1,sa=!0);break;default:b[b.length]=[e,"unknown or misspelt command"],sa=!0}sa||(m?b[b.length]=[e+" "+l,"argument out of range"]:this.Il(d,b,e,"argument",Wa))}""!==e&&(e=d.j())}g&&(b[b.length]=[D.Pd+k,"unterminated string"]);p.ye&&(a.g.v||a.g.G||a.g.D||a.g.la)&&(p.ye=!1);u&&a.sb&&(d=a.wi?D.Zm:a.zi?D.jr:D.kr,b[b.length]=[d,"can not be used with Waypoints"],a.sb=!1,a.wi=!1,a.zi=!1);a.wi||!a.sb&&!a.zi||(a.zi&&(l=a.g.lb,p.ye&&!a.Je&&(l=a.g.pa[p.vc].B),0<l&&
(Ea*=l),p.Ub=Ea),a.xi=Pa,a.Pg=Oa,a.Rg=Pa,a.yi=Oa);if(u||t){a.s.add(p,a);p=a.s.F();u?a.Da=!0:-1!==a.bh&&(a.Jc=a.bh,r=a.s.i[a.bh],r.If&&(p.If=r.If,p.x=r.x),r.rf&&(p.rf=r.rf,p.y=r.y),r.se&&(p.se=r.se,p.zoom=r.zoom),r.fh&&(p.fh=r.fh,p.angle=r.angle),r.mh&&(p.mh=r.mh,p.xb=r.xb),r.Kh&&(p.Kh=r.Kh,p.depth=r.depth),r.Xh&&(p.Xh=r.Xh,p.za=r.za),r.ye&&(p.ye=r.ye,p.vc=r.vc),r.Ef&&(p.Ef=r.Ef,p.Pc=r.Pc),r.Fe&&(p.Fe=r.Fe,p.step=r.step),r.ui&&(p.ui=r.ui,p.uc=r.uc),r.ni&&(p.ni=r.ni,p.Ub=r.Ub));if(u){for(r=0;r<a.s.h.length;r+=
1)p=a.s.h[r],p.Te&&(p.If||p.rf||p.se)&&(k="",p.If?(k="X "+p.x,p.rf?k=p.se?k+(", Y "+p.y+" and ZOOM "+p.zoom):k+(" and Y "+p.y):p.se&&(k+=" and ZOOM "+p.zoom)):p.rf?(k="Y "+p.y,p.se&&(k+=" and ZOOM "+p.zoom)):p.se&&(k="ZOOM "+p.zoom),b[b.length]=[D.vr,"overwrites "+k]);p=a.s.F()}t&&p.h===Xa.play&&a.ob&&(a.eb=!0)}p.Te&&(a.ka=!0);p.rf&&(a.g.ka=a.g.height/2-p.y);p.If&&(a.g.ma=a.g.width/2-p.x);p.se&&(a.g.zoom=p.zoom);a.g.aa||a.g.ia||(p.fh&&(a.g.angle=p.angle),p.mh&&(a.g.xb=p.xb),a.g.la||(p.Kh&&(a.g.pc=
p.depth/G.pm+G.gs),p.Xh&&(a.g.za=p.za)));p.ye&&(a.em=p.vc);p.Ef&&(a.da=p.Pc,a.P=G.ih);p.Fe&&(a.P=p.step,1<a.P&&(a.da=a.ic));p.Ns&&(a.C.notification.notify(p.xe,15,1E3,15,!1),a.We=p.xe);a.uc=p.uc;a.Ub=p.Ub;p.se&&(a.$p=!0);p.If&&(a.Yp=!0);p.rf&&(a.Zp=!0);p.vl&&(a.g.Za=p.grid);p.Ls&&(a.Mc=p.Rl);p.Is&&(a.dn=p.kp);for(r=0;r<c;r+=1)-1!==a.aa[r]&&(n+=1,a.ya=!0);if(0<n){a.qr=!0;for(r=0;r<c;r+=1)a.W.aa[r]?-1===a.aa[r]?(a.qr=!1,a.lo[r]=G.QD):a.lo[r]=G.QK:a.lo[r]=G.PD;a.Mn=a.qr?"(custom)":a.Mn+" (custom*)"}else a.aa=
null;if(a.ya||a.Je||-1!==a.no||-1!==a.qo)r=-1,p.ye&&(r=p.vc),this.IK(a,r),p.ye=!0,p.vc=a.g.Tb,a.em=p.vc;a.U&&(d="not possible due to "+D.mr,a.Ie&&(b[b.length]=[D.wr,d],a.Ie=!1),a.eb&&(b[b.length]=[D.xr,d],a.eb=!1),-1!==a.Wa&&(b[b.length]=[D.Ms+" "+a.Wa,d],a.Wa=-1),-1!==a.uc&&(b[b.length]=[D.vi+" "+a.uc,d]),-1!==a.Ub&&(b[b.length]=[D.oi+" "+a.Ub,d]));0!==a.ca&&a.v+a.Pf+2*Math.abs(a.ca)>=a.g.fa&&(b[b.length]=[D.tt+" "+a.ca,"pattern does not fit on grid at view offset"],a.ca=0);0!==a.fa&&a.A+a.Pf+2*
Math.abs(a.fa)>=a.g.fa&&(b[b.length]=[D.ut+" "+a.fa,"pattern does not fit on grid at view offset"],a.fa=0);a.Dz=b.length}""!==a.yd&&(a.yd=this.Wm(a,a.yd));a.ka&&(a.un=!0);a.Ga&&a.bc&&(b[b.length]=[D.Or,"not valid with "+D.os],a.Ga=!1);-1!==a.Va&&(c=G.pd,a.Va>=G.zC&&a.Va<c&&(a.Va=c),a.Pa&&(c=G.WI),a.Va<c&&(b[b.length]=[D.Dp+" "+a.Va,"argument out of range"],Ka=!0));-1!==a.rb&&(c=G.$h,a.Pa&&(c=G.AC),a.rb<c||a.rb>G.Nq)&&(b[b.length]=[D.uo+" "+a.rb,"argument out of range"],Ka=!0);-1!==a.Va&&!Ka&&a.Va>
a.Lc&&(l=a.Lc/a.Va,a.Va=a.Lc,a.rb=-1!==a.rb?a.rb*l|0:a.displayHeight*l|0,c=G.$h,a.Pa&&(c=G.AC),a.rb<c&&(a.rb=c));a.zd&&(-1!==a.hc&&(a.hc>=G.zC&&a.hc<G.pd&&(a.hc=G.pd),a.hc<G.pd||a.hc>a.Lc)&&(b[b.length]=[D.Yq+" "+a.hc,"argument out of range"],a.hc=-1,Ka=!0),-1!==a.ud&&(a.ud<G.$h||a.ud>G.Nq)&&(b[b.length]=[D.Xq+" "+a.ud,"argument out of range"],a.ud=-1,Ka=!0));if(Ka||b.length)-1!==a.Va&&(a.Va<G.pd?a.Va=G.pd:a.Va>a.Lc&&(a.Va=a.Lc)),-1!==a.rb&&(a.rb<G.Dl?a.rb=G.Dl:a.rb>G.Nq&&(a.rb=-1)),a.Pa=!1;a.h.N=
a.Pa;a.C.da=a.Pa;a.C.La=a.Vg;a.Pa&&(a.eb=!1,a.ma=!1,a.Ed=!1,a.Ga=!1,a.Tg([!1],!0,a),a.Bp([!1],!0,a),a.zp([!1],!0,a),a.La=!1,a.nd=!1);a.Bz&&(a.element.style="display:none",a.element.parentNode&&a.element.parentNode.parentNode&&a.element.parentNode.parentNode.className===Ja.Lr&&(a.element.parentNode.parentNode.style="display:none;"));q&&a.WE();a.s.$a()}},xa={uw:null,qw:null,sw:null,mw:null,Aw:null,yw:null,XC:null,Qw:null,wJ:null,Iw:null,Ew:null,Ow:null,ow:null,Mw:null,Gw:null,Kw:null,Cw:null,ww:null,
vw:null,rw:null,tw:null,nw:null,Bw:null,zw:null,IL:null,Rw:null,xJ:null,Jw:null,Fw:null,Pw:null,pw:null,Nw:null,Hw:null,Lw:null,Dw:null,xw:null,VG:null,st:null,zr:null,kJ:null,lJ:null,$K:null,aL:null,iJ:null,jJ:null,hH:null,iH:null,jH:null,kH:null,oz:null,bL:null,nz:null,ZK:null,JH:null,IH:null,GH:null,HH:null,FH:null,dB:null,fB:null,gB:null,cB:null,eB:null,bH:null,dH:null,eH:null,aH:null,cH:null,$A:null,aB:null,bB:null,Gl:null,nJ:null,mJ:null,oJ:null,uJ:null,tJ:null,vJ:null,ns:null,VC:null,sJ:null,
KC:null,LC:null,MC:null,WC:null,NC:null,OC:null,PC:null,QC:null,RC:null,TC:null,SC:null,UC:null,pJ:null,qJ:null,rJ:null,dK:null,cK:null,kK:null,jK:null,pK:null,qK:null,oK:null,Gs:null,memory:null,T:null},Ja={tagName:"LifeViewer",DH:"fullscreen",iI:"hide",gJ:"multi",LI:"limit",Kr:"rle",Wo:"code",Mm:37,pv:!0,fullScreen:!1,Lq:!1,zb:!1,Lr:"codebox",zy:"",GD:"",Ee:[]},G={Uh:0,qI:1,Hq:2,kk:0,bC:1,CB:16777215,Ds:"LV",AE:"yDirection",Dy:"safeMode",DB:"defaultSpeed",Ru:"defaultSpeedValue",yy:"refreshRate",
oL:"0 0 0 0\n1 0 255 192\n2 0 192 255\n",gH:"Ctrl",WG:"Cmd",HG:"Alt",HJ:"Option",GG:"0123456789rtyopasghjklxcbn",Mv:0,Jq:1,Nv:2,Bj:10,HB:"workaround",bw:1073741824,rg:0,yq:1,$u:2,ys:64,Pq:1,es:4096,ew:1,ds:4096,ks:1,cs:100,UK:[0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,3],ir:[1,10,11,17,18,2,3,4,5,7,12,13,14,15,16,0,6,8,9,19,20],ss:0,gD:1,hD:2,eD:3,jD:4,iD:5,kD:6,lD:7,fD:8,$C:9,LJ:"Top Left;Top;Top Right;Right;Bottom Right;Bottom;Bottom Left;Left;Middle".split(";"),Nr:15,DJ:5,fj:1E8,lr:0,Os:1,Ps:2,Qs:3,
Ts:4,Us:5,Ss:6,Rs:7,Ox:0,qs:1,kx:2,Hx:3,mx:4,Mx:5,rs:6,Vo:7,xx:8,Ix:9,Bx:10,ox:11,zx:12,qx:13,vx:14,Dx:15,Sq:3,kz:[1,3,7,6],NK:[0,1],OK:[0,1],kI:[0,1,0,1,0,1,0],lI:[0,1,2,3,4,5,6],TK:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1],SK:[0,1,2,3,4,5,6,3,4,1,2,1,2,1,0,1,0,1,0,1,0,1,0,1,0,1],lp:Math.sqrt(3),rk:Math.sqrt(3),jk:1/Math.sqrt(3)*1.5,dI:13750737,eI:15066597,jv:7368816,kv:5263440,LD:.016,JK:16,BB:.7,ps:16384,DK:"Script errors",Dg:-8,Ag:8,BC:2,vC:4,EB:4,xC:9,aw:14,lH:13,Sr:null,wC:1,rC:16,
AB:3,hk:0,ho:1,hB:2,io:3,Iu:4,Cr:5,Ju:6,xB:7,yB:8,iB:9,pB:10,oB:11,nB:12,qB:13,rB:14,mB:15,Ku:16,kB:17,lB:18,Fr:19,Dr:20,Gr:21,Ir:22,Hr:23,Er:24,Fu:25,Lu:26,jB:27,uB:28,tB:29,vB:30,sB:31,Nu:32,Mu:33,Hu:34,Gu:35,wB:36,EJ:0,FJ:1,jI:2,nC:3,pC:4,oC:5,gC:6,pb:[0,6,2,5,3,4,1],jf:"dead alive history mark1 markoff mark2 kill".split(" "),LL:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),oD:0,nD:16,Xu:1800,po:"LifeViewer",Xs:1303,OD:"Standard",ky:"Pro",jE:"Chris Rowett",hs:1,Zr:10,lw:0,Oo:1,ve:2,yj:3,
El:0,zj:1,bi:2,vt:1.25,vI:.99,gs:0,sC:10,pm:10,qC:32,Fb:.03125,Qb:64,Qq:-5,cw:5,Oq:-32,Mq:-1,Ko:-2048,Ho:-1,Lo:1/2048,Io:2048,dd:60,Cg:1,SI:60,ih:1,Pf:64,nL:96,zB:.1,nl:.05,av:"Courier",Ws:"Arial",Lg:"18px Arial",Kg:"14px Arial",Hs:"9px Arial",ur:"rgb(240,255,255)",NG:"rgb(0,0,0)",tD:"rgb(240,255,255)",uD:"rgb(0,0,0)",MA:2,js:1,$r:64,MG:.2,jC:"rgb(240,255,255)",KI:"rgb(0,0,0)",JI:18,yC:4,tC:128,II:"Arial",mi:"rgb(32,255,255)",li:"rgb(255,48,48)",WI:64,AC:64,zC:480,pd:600,UI:4096,gI:80,$h:240,Nq:4096,
Dl:480,jy:560,rr:172,wt:292,PD:0,QK:1,QD:2,VI:0,RI:32,Qg:0,Bv:1,Fy:2,Tr:3,Sy:4,Cu:5,cu:6,dw:7,Du:8,fu:9},V={T:null,Sc:[],My:-1,Qf:null,Ee:[],Lm:!1,VA:"",MB:0,RB:0,PB:12,currentFrame:0,ic:60,OA:60,Zq:!1,S:!0,Db:!0,oE:!0,Wl:!0,Zs:!0,Vf:!0,sE:!0,uE:!0,bn:!0,ht:!0,it:!0,pE:!0,vE:!0,nE:!0,qE:!0,lt:!0,rE:!0,Cp:!0,et:!0,jt:!0,mt:!0,ot:!0,dt:!0,ct:!0,$s:!0,nt:!0,kt:!0,bt:!0,qt:!0,pt:!0,ft:!0,gt:!0,rt:!0,sk:!0,tE:!0,kL:!0,lL:!0,jL:!0,mL:!0,Rr:null,dD:0,uz:"",Ey:function(a,b){localStorage.setItem(G.Ds+a,b?
"1":"0")},Wr:function(a){var b=!1;a=localStorage.getItem(G.Ds+a);null!==a&&"1"===a&&(b=!0);return b},HD:function(a,b){localStorage.setItem(G.Ds+a,String(b))},Xr:function(a){var b=0;a=localStorage.getItem(G.Ds+a);null!==a&&(b=Number(a));return b},QB:function(){var a=performance.now();1>=V.currentFrame&&(V.MB=a);V.currentFrame===V.PB+1?(V.Vr=a,V.RB=(a-V.MB)/V.PB,a=1E3/V.RB|0,70>=a?a=60:100>=a?a=75:130>=a?a=120:155>=a?a=144:175>=a?a=165:260>=a&&(a=240),V.ic=a,V.OA=a,a=V.Xr(G.yy),0!==a?(25>a&&(a=25),
500<a&&(a=500),V.ic=a,V.Zq=!0):V.Zq=!1,console.log("refresh rate",V.ic+"Hz "+(V.Zq?"Fixed":"Auto")),setTimeout(Vb,0)):requestAnimationFrame(V.QB);V.currentFrame+=1},Ks:function(){var a=null;-1!==this.My&&(a=this.Sc[this.My]);return a},yH:function(a){for(var b=null,c=0;c<V.Sc.length;){if(V.Sc[c][0].tabIndex===a){b=V.Sc[c][1];break}c+=1}return b},KH:function(a){var b=null;0<=a&&a<this.Sc.length&&(b=this.Sc[a][1]);return b},EL:function(a){var b=null;0<=a&&a<this.Sc.length&&(b=this.Sc[a][0]);return b},
JL:function(){return this.Sc.length},fL:function(){var a=0,b;for(b=0;b<this.Sc.length;b+=1){var c=this.Sc[b][1];c.Pb&&(a+=1)}return a},AD:function(){var a,b=0;for(a=0;a<this.Sc.length;a+=1){var c=this.Sc[a][1];c.lc.current=c.Ud(G.lw,!0,c);c.C.we(!0);b+=1}return b},RD:function(){var a,b=0;for(a=0;a<this.Sc.length;a+=1){var c=this.Sc[a][1];c.Pb&&!c.Iq&&(c.lc.current=c.Ud(G.ve,!0,c),b+=1)}return b},Py:function(a){var b,c=0;for(b=0;b<this.Sc.length;b+=1){var d=this.Sc[b][1];d!==a&&d.Pb&&!d.Iq&&(d.lc.current=
d.Ud(G.ve,!0,d),c+=1)}return c}};xb.prototype.j=function(){var a=this.buffer[this.i>>3]>>7-(this.i&7)&1;this.i+=1;this.i===this.m&&(console.log("end of buffer"),--this.i);return a};xb.prototype.h=function(a){for(var b=0;0<a;)--a,b|=this.j()<<a;return b};fa.prototype.cL=function(a){var b=!1;switch(a){case D.up:case D.tp:case D.qp:case D.fr:case D.hr:case D.gr:case D.rp:b=!0}return b};fa.prototype.$B=function(a){for(var b=!1,c=0;c<G.jf.length&&!b;)a===G.jf[c]?b=!0:c+=1;return b};fa.prototype.eC=function(a){for(var b=
!1,c=0;c<y.Qo.length&&!b;)a===y.Qo[c]?b=!0:c+=1;return b};fa.prototype.SB=function(a){for(var b=!1,c=0;c<y.Po.length&&!b;)a===y.Po[c]?b=!0:c+=1;return b};fa.prototype.ql=function(){var a,b=this.hb,c=this.Hb,d=[];for(a=0;a<G.Bj;a+=1){var f=a===c?"current ":"activate ";f+="clipboard";null!==b[a]?(f+=" ("+b[a].width+" x "+b[a].height+", "+b[a].count+" cell",1!==b[a].count&&(f+="s"),f+=")"):f+=" (empty)";d[a]=f+" ["+this.G+" "+a+"]"}this.wk.Y=d};fa.prototype.aD=function(a){window.confirm("Open last saved pattern?")&&
(a.zd?ub(a.element):sb(a.element))};fa.prototype.Bi=function(){var a=1<<G.Nr,b=this.Ta>>G.Nr;b===this.ah.length&&(this.ah[b]=this.g.T.h(ra.Ad,a,"View.currentEdit"+b,!1));return this.ah[b]};fa.prototype.al=function(a,b){var c=[!0,a,b],d=this.g.Ia,f=this.g.Ga,e=this.g.fa,g;if(a!==(a&d)||b!==(b&f)){c[0]=!1;var k=this.g.width<this.g.fa&&a!==(a&d);for(g=this.g.height<this.g.fa&&b!==(b&f);k||g;)(k||g)&&this.g.fg(k,g,!0),k&&(a+=this.g.width>>2),g&&(b+=this.g.height>>2),k=this.g.width<e&&a!==(a&d),g=this.g.height<
e&&b!==(b&f);a===(a&d)&&b===(b&f)&&(c[0]=!0,c[1]=a,c[2]=b)}if(this.g.Ea&&(d=this.Wi(),d=d+1>>1,0>a-d||a+d>=this.g.width||0>b-d||b+d>=this.g.height)){c[0]=!1;k=this.g.width<e&&(0>a-d||a+d>=this.g.width);for(g=this.g.height<e&&(0>b-d||b+d>=this.g.height);k||g;)(k||g)&&this.g.fg(k,g,!0),k&&(a+=this.g.width>>2),g&&(b+=this.g.height>>2),k=this.g.width<e&&(0>a-d||a+d>=this.g.width),g=this.g.height<e&&(0>b-d||b+d>=this.g.height);0>a-d||a+d>=this.g.width||0>b-d||b+d>=this.g.height||(c[0]=!0,c[1]=a,c[2]=b)}return c};
fa.prototype.sa=function(a,b,c,d){var f=this.Ta,e=G.Nr;var g=f>>e;var k=1<<e,l=k-1,m=this.ah;var n=this.g.i;var q=2<n&&!(this.g.la||this.g.s||this.g.D||this.g.v||this.g.G),p=!1;var r=0;var u=this.g.ja?-1:0,t=this.g.A;var v=this.g.h;b=this.al(a,b);if(b[0]){a=b[1];b=b[2];var A=(this.g.width>>1)-(this.v>>1);var w=(this.g.height>>1)-(this.A>>1);var B=Math.round((this.g.width-this.g.$)/2)+u;u=Math.round((this.g.height-this.g.Z)/2)+u;var C=B+this.g.$-1;var O=u+this.g.Z-1}else return 0;if(-1!==this.g.O&&
(0===this.g.$&&(B=0,C=this.g.width-1),0===this.g.Z&&(u=0,O=this.g.height-1),!(a>=B&&a<=C&&b>=u&&b<=O)))if(d)a<B&&(a=B),a>C&&(a=C),b<u&&(b=u),b>O&&(b=O);else return 0;(this.g.s||this.g.D||this.g.v||this.g.G)&&0!==(this.g.counter&1)&&(v=this.g.R);v=v[b][a];d=this.g.mb(a,b,!1);0<d&&q&&(d=n-d);-1===n&&(n=this.g.P?7:2);0>c?c=0:c>=n&&(c=n-1);c!==d&&(this.Ab||(g>=m.length&&this.Bi(),n=m[g],f&=l,q=c<<16|d<<8|v,0<f&&(4<=f?(r=n[f-1],4194304<=r?n[f-3]===q&&n[f-2]===b-w&&n[f-4]===a-A-(r-4194304)-2&&(n[f-1]+=
1,p=!0):n[f-2]===q&&n[f-1]===b-w&&n[f-3]===a-A-1&&(n[f]=4194304,f+=1,this.Ta+=1,f===k&&this.Bi(),p=!0)):(g=this.Ta,r=m[g-1>>e][g-1&l],4194304<=r?n[g-3>>e][g-3&l]===q&&n[g-2>>e][g-2&l]===b-w&&n[g-4>>e][g-4&l]===a-A-(r-4194304)-2&&(n[g-1>>e][g-1&l]+=1,p=!0):m[g-2>>e][g-2&l]===q&&m[g-1>>e][g-1&l]===b-w&&m[g-3>>e][g-3&l]===a-A-1&&(n[f]=4194304,f+=1,this.Ta+=1,f===k&&(n=this.Bi()),p=!0))),p||(n[f]=a-A,f+=1,this.Ta+=1,f===k&&(n=this.Bi(),f=0),n[f]=c<<16|d<<8|v,f+=1,this.Ta+=1,f===k&&(n=this.Bi(),f=0),n[f]=
b-w,this.Ta+=1,f+1===k&&this.Bi())),r=this.g.Wd(a,b,c,!0),this.g.A!==t&&(this.wb=-1),this.bc||0!==this.g.counter||this.g.ci());return r};fa.prototype.Et=function(a,b){var c=0,d=(this.g.width>>1)-(this.v>>1),f=(this.g.height>>1)-(this.A>>1),e=0,g=this.g.h;(this.g.s||this.g.D||this.g.v||this.g.G)&&0!==(this.g.counter&1)&&(g=this.g.R);if(a)if(b)for(c=a.length;0<c;){var k=a[c-1];4194304<=k&&--c;c-=3;b=a[c]+d;var l=a[c+1]>>8&255;var m=a[c+1]&255;var n=a[c+2]+f;e|=this.g.Wd(b,n,l,!0);g[n][b]=m;if(4194304<=
k)for(k-=4194304;0<=k;)b+=1,e|=this.g.Wd(b,n,l,!0),g[n][b]=m,--k}else for(;c<a.length;)if(b=a[c]+d,l=(a[c+1]&16711680)>>16,n=a[c+2]+f,e|=this.g.Wd(b,n,l,!0),c+=3,k=a[c],4194304<=k)for(c+=1,k-=4194304;0<=k;)b+=1,e|=this.g.Wd(b,n,l,!0),--k;(this.g.P||this.g.v)&&e&&this.g.wb();this.bc||0!==this.g.counter||this.g.ci()};fa.prototype.Zt=function(a){for(var b=this.pa-1,c,d=this.ga,f=!1,e=!1;0<=b&&!f;)c=this.mb[b],c.tg<=a?(f=!0,"advance selection"!==c.action&&"advance outside"!==c.action||!(b<this.mb.length-
2)||"advance selection"!==this.mb[b+2].action&&"advance outside"!==this.mb[b+2].action||(e=!0,b+=2)):--b;f&&(this.pa=b+1,c=this.pa>=this.Nh?this.mb[this.pa-1]:this.mb[this.pa],c.selection?(d.I=c.selection.I,d.J=c.selection.J,d.L=c.selection.L,d.M=c.selection.M,this.R=!0):this.R=!1,this.Qc=!1,this.hm());return e};fa.prototype.hm=function(){var a=this.pa,b=this.Nh,c=this.mb;if(1<a){var d="undo ";var f=c[a-1];if(null===f.sm){var e=f.tg;1<a&&(e=c[a-2].tg);this.g.counter===e?d+=f.action:(d=1<this.g.counter-
e?d+"play":d+"step",d+=" from "+e)}else d=""===f.action?d+"edit":d+f.action;"undo "===d&&(d="undo");this.Xd.Y=d+" ["+this.D+" Z]"}a<b&&(d="redo ",f=c[a],null===f.sm?(e=f.tg,e===this.g.counter?d+=f.action:(d=1<e-this.g.counter?d+"play":d+"step",d+=" to "+e)):d=""===f.action?d+"edit":d+f.action,"redo "===d&&(d="redo"),this.Yh.Y=d+" ["+this.D+" Y]")};fa.prototype.mI=function(a){var b=this.R?this.ga:null;return null===a&&null===b?!0:null===a&&null!==b||null!==a&&null===b?!1:a.I===b.I&&a.J===b.J&&a.L===
b.L&&a.M===b.M?!0:!1};fa.prototype.Kz=function(a,b,c,d){var f=!1;if(0<this.pa){var e=this.mb[this.pa-1];e.tg===a&&null===b&&""===c&&this.mI(e.selection)&&(f=!0)}f||(this.mb[this.pa]={tg:a,sm:b,action:c,selection:d},this.pa+=1)};fa.prototype.ba=function(a){var b=this.g.counter,c=null,d=null,f=this.ga,e=null,g=G.Nr,k=1<<g,l=k-1;g=this.Ta>>g;if(!this.Ab){this.Pb&&(0<this.pa&&(e=this.mb[this.pa-1]),e&&e.selection&&(d=new Va(e.selection.I,e.selection.J,e.selection.L,e.selection.M)),this.Kz(b,c,"",d),d=
null);this.R&&(d=new Va(f.I,f.J,f.L,f.M));if(0<this.Ta){c=this.g.T.h(ra.Ad,this.Ta,"View.editCells"+this.pa,!1);for(e=f=0;f<g;)c.set(this.ah[f].slice(),e),f+=1,e+=k;this.Ta&l&&c.set(this.ah[f].slice(0,this.Ta&l),e);this.Ta=0}this.Kz(b,c,a,d);this.Nh=this.pa;this.hm();this.ka&&0<this.g.A&&(this.g.Nb=!0,this.g.Wb(),this.Gb(!0,!0,G.rg))}};fa.prototype.gp=function(a){var b=a.g.counter,c=a.pa,d=a.ga,f=1,e=!1;if(!a.Ab){a.wb=-1;a.Pb&&(a.lc.current=a.Ud(G.ve,!0,a),c=a.pa);if(0<c)for(;0<f;){var g=a.mb[c-1];
var k=g.tg;var l=g.selection;e||"advance outside"!==g.action&&"advance selection"!==g.action||(e=!0,f=3);null===g.sm&&1<c&&(k=a.mb[c-2].tg);1<c&&(l=a.mb[c-2].selection);if(k<b){var m=a.g.yb;0===k?a.reset(a):a.nr(k);b=a.g.counter;a.g.yb=m;a.Zh(a.Pb)}else a.Et(g.sm,!0);l?(d.I=l.I,d.J=l.J,d.L=l.L,d.M=l.M,a.R=!0):a.R=!1;a.Qc=!1;"reverse playback"===g.action&&(a.g.yb=!a.g.yb,a.g.Zb=!1,a.Zh(a.Pb));--c;a.pa=c;--f}else 0<b&&a.reset(a);a.hm();a.g.Wb();this.ka&&this.Gb(!0,!0,G.rg)}};fa.prototype.Ot=function(a){var b=
a.g.counter,c=a.ga,d=1,f=!1;if(!a.Ab){for(;0<d&&a.pa<a.Nh;){var e=a.mb[a.pa];f||"advance outside"!==e.action&&"advance selection"!==e.action||(f=!0,d=3);e.tg===b&&null===e.sm&&""===e.action&&(a.pa+=1);e.tg>b?(a.GI(e.tg),b=a.g.counter):a.Et(e.sm,!1);e.selection?(c.I=e.selection.I,c.J=e.selection.J,c.L=e.selection.L,c.M=e.selection.M,a.R=!0):a.R=!1;a.Qc=!1;"reverse playback"===e.action&&(a.g.yb=!a.g.yb,a.Zh(a.Pb));a.pa+=1;--d}a.hm();a.g.Wb();(a.g.P||a.g.v)&&a.g.wb();this.ka&&this.Gb(!0,!0,G.rg)}};fa.prototype.BH=
function(){for(var a=0,b=!1,c=this.ga,d;a<this.mb.length&&!b;)d=this.mb[a],0<d.tg||"advance selection"===d.action||"advanced outside"===d.action?b=!0:(d.selection?(c.I=d.selection.I,c.J=d.selection.J,c.L=d.selection.L,c.M=d.selection.M,this.R=!0):this.R=!1,this.Qc=!1,a+=1);this.pa=a;this.hm()};fa.prototype.pq=function(){var a="";if(this.g.ja)a="Margolus";else if(-1!==this.g.Zd||this.W.na)a="1D";else if(this.g.Oh){a="Hexagonal";if(this.g.sh===this.W.qa||this.g.Ea&&this.g.ba.type===this.W.D)a="Tripod";
this.g.Ea&&this.g.ba.type===this.W.A&&(a="Asterisk");1<this.g.ba.v&&(a+=" range "+this.g.ba.v)}else if(this.g.Ea){switch(this.g.ba.type){case this.W.u:a="Corner/Edge";break;case this.W.i:a="Moore";break;case this.W.j:a="von Neumann";break;case this.W.Z:a="Circular";break;case this.W.P:a="Cross";break;case this.W.U:a="Saltire";break;case this.W.X:a="Star";break;case this.W.$:a="L2";break;case this.W.G:a="Hexagonal";break;case this.W.O:a="Checkerboard";break;case this.W.K:a="Aligned Checkerboard";break;
case this.W.R:a="Hash";break;case 10:a="Custom";break;case this.W.D:a="Tripod";break;case this.W.A:a="Asterisk";break;case this.W.H:a="Triangular";break;case this.W.v:a="Gaussian";break;case 15:a="Weighted"}this.g.ba.type===this.W.u?a+=" range "+this.g.ba.R+"/"+this.g.ba.X:1<this.g.ba.v&&(a+=" range "+this.g.ba.v);this.g.ba.ea&&(a+=" (non-deterministic)")}else if(this.g.aa)switch(a="Triangular",this.g.uh){case this.W.la:a+=" Edges";break;case this.W.ma:a+=" Vertices";break;case this.W.ua:a+=" Inner";
break;case this.W.va:a+=" Outer";break;case this.W.ta:a+=" Biohazard";break;case this.W.wa:a+=" Radiation"}else if(this.g.D)if(null===this.g.Ab)a=4===this.g.Yd?"von Neumann":"Moore";else switch(this.g.rd){case Ha.Hj:a="von Neumann";break;case Ha.kh:a="Moore";break;case Ha.jh:a="Hexagonal";break;case Ha.nk:a="1D";break;default:a="unknown"}else a=this.g.Ed||this.g.s?"von Neumann":"Moore";this.g.la&&(a="none");return a};fa.prototype.BL=function(a,b,c,d,f){var e,g,k=this.g.h;for(g=0;g<f;g+=1){var l=a[g];
var m=k[c+g];for(e=0;e<d;e+=1)if(l[e]!==(m[e+b]&64))return!1}for(g=0;g<f;g+=1)for(l=a[g],m=k[c+g],e=0;e<d;e+=1)l[e]&&(m[e+b]=63);return!0};fa.prototype.FA=function(){var a,b,c=this.g.va,d=this.eq,f=this.g.h;0!==(this.g.counter&1)&&(c=this.g.Ta);for(a=0;a<this.Jd.length;a+=1){var e=this.Jd[a];var g=e[0];var k=e[1];e=e[2];var l=d[e];var m=l[0].length;var n=l.length;for(e=0;e<n;e+=1){var q=f[k+e];var p=l[e];var r=c[k+e];for(b=0;b<m;b+=1){var u=1<<(~(g+b)&15);var t=p[b];var v=q[g+b];t?(r[g+b>>4]|=u,64<=
v?127>v&&(v+=1,q[g+b]=v):q[g+b]=t):(r[g+b>>4]&=~u,64<=v?q[g+b]=63:1<v&&(--v,q[g+b]=v))}}}};fa.prototype.VJ=function(){var a=this.JA,b,c=y.xa,d=new ib("p25",this.W),f=this.eq;a[0]="32b$32b$2b2o12b2o14b$2bo2bo10bo2bo12b$2bo3bo9bo3bo11b$3bo2b2o9bo2b2o10b$3bo2b2o9bo2b2o10b$32b$3b3ob3o7b3ob3o8b$4bo5b2o6bo5b2o6b$2b3obobo7b3obobo9b$2bobo5bob2o2bobo5bob2o4b$2bo2b2obo3bo3bo2b2obo3bo5b$4b2o4b2o6b2o4b2o6b$6bo13bo11b$2b2o6bo5b2o6bo7b$6b2obobo8b2obobo6b$3bo5bob3o3bo5bob3o4b$3b2o3bo2bo2bo2b2o3bo2bo2bo3b$2bo5b2obo4bo5b2o2b3o3b$3bobo2bo3bo3b2obo2bo4b3o2b$5bob2o2b2o6bob2o6bo2b$5bo3b4o3b2obo2b2o3b3o2b$6bo9bobobo2bo2bo5b$6bo3bo4b2o3bo5bo5b$8b3o4b3o2bo4bo6b$12bo2b2o9bo5b$13bo3bo6bo7b$11b3o2bo6bo8b$23b3o6b$32b$15bo16b$16bo6bo8b$14b3o5bo9b$22b3o7b$32b$18bo13b$19bo2bo9b$17b3obo10b$21b3o8b$32b$32b!";
a[1]="32b$32b$2b2o12b2o14b$b2o12b2o15b$2b2ob3o8b2ob3o10b$2b2obo10b2obo12b$6b2o12b2o10b$3bobo11bobo12b$3b3o2b3o6b3o2b3o7b$2bo3bo3bo5bo3bo3bo7b$2bobo4b2obo3bobo4b2obo5b$b2obobo2bob3ob2obobo2bob3o4b$6bo2b2ob2o6bo2b2ob2o4b$4bo2bo3bo6bo2bo3bo6b$3b3o4b2o5b3o4b2o6b$6b2o2bo9b2o2bo7b$2b2o4b2obo4b2o4b2obo6b$3b2o2bobobobo3b2o2bobobobo4b$2b3o3bo2bobo2b3o3bo2bo2bo3b$2bo4b6o2b2o4b3o2bo2bo2b$4bobo3bobo3b3obo5bobo3b$5bob2o4bo5bobo8bob$5bob4obo3b2obo3bo3bo4b$5b2o2bo8bob4o2bo5b$7bo2bo9b2o3b2o5b$9b3o2bo2bo7b2o5b$9bo4b2o9bo6b$11bob3obo14b$12b2o9bobo6b$12bo10b2o7b$24bo7b$32b$14bobo15b$15b2o5bobo7b$15bo6b2o8b$23bo8b$32b$17bob2o11b$18b2obobo8b$18bob3o9b$22bo9b$32b!";
a[2]="32b$32b$b3o11b3o14b$bo2bobo8bo2bobo11b$5b2o12b2o11b$2b2obo10b2obo12b$2b2ob2o9b2ob2o11b$3bobob3o7bobob3o8b$2b2ob2o2b2o5b2ob2o2b2o7b$2bo5bo7bo5bo9b$2bo6bo2b2o2bo6bo2b2o4b$b2o5bo5b3o5bo9b$3bo2b4o3b2o2bo2b4o3bo4b$3b2obo2bo7b2obo2bo8b$3b3obo2b2o5b3obo2b2o6b$2bo2b4o7bo2b4o9b$2b3obo2bob2o3b3obo2bob2o5b$7bobobo9bobobo6b$2bobo8b3o2bo6bob2o3b$2bob2ob2o4bobo3bob3ob2ob2o2b$5b2o3bob2ob6o6bo4b$4b2o4bob2o5bo7bo4b$4b2o4bo6bobo3bo8b$5bo5bo5b2o4b5o4b$6bobo2bo7b2o3bo2bo4b$8b2obo2b2o8bo7b$9bob2o12b2o5b$15b2o7bo7b$11bo11bo8b$12b2o9bobo6b$23b2o7b$32b$16bo15b$14bobo5bo9b$15b2o5bobo7b$22b2o8b$32b$19b2o11b$17bo14b$18bobo2bo8b$22bo9b$32b!";
a[3]="32b$2bo13bo15b$b3o11b3o14b$bob2obo8bob2obo11b$2b2o2bo9b2o2bo11b$2b2o12b2o14b$5bob2o10bob2o9b$7b4o10b4o7b$2b2ob2o3bo5b2ob2o3bo7b$b2o5bobo4b2o5bobo7b$2b2o4b2o3b2ob2o4b2o8b$b3o8bo3b2o8b2o4b$3b4o2bo3b2o2b4o2bo8b$2bo6bo6bo6bo8b$2bo6b2o5bo6b2o7b$2bo5b2o2bo3bo5b2o2bo5b$2b3o4bob2o3b3o4bob2o5b$2bob2o2bo2bob4ob2o2bo2bobo4b$4b4o4b2obo4b2obobobo4b$4bo2bo13b2ob2o3bo2b$3bo3bobo5b3o3b2o4bo4b$9b2ob3o17b$6bo3bobo4bobo3bobobo4b$4b3o3b2o5bo2bo2bob2o5b$7b3ob2o5b2o7bo4b$7b3obo12bobo5b$8b2ob2obobo7b2o6b$10b3o11b2o6b$12bo10bo8b$12bo9b2o8b$23b2o7b$32b$15bo16b$16b2o5bo8b$15b2o4b2o9b$22b2o8b$32b$32b$18bobo11b$32b$32b$32b!";
a[4]="32b$b3o11b3o14b$bo2bo10bo2bo13b$bo2b2o9bo2b2o12b$bo3bo9bo3bo12b$2b3ob2o8b3ob2o10b$6b2o12b2o10b$4b2o4bo7b2o4bo7b$b3o2bo3b2o3b3o2bo3b2o6b$bo2bo2b2obo3bo3bo2b2obo7b$8b2o3b2o7b2o8b$bo3bo2b2o2bo6bo2b2o8b$bo2b2o7bobo2b2o12b$2bob2o2b2o5b2ob2o2b2o8b$b3o6bo4b3o6bo7b$b2o5bo3bo2b2o5bo3bo5b$b2ob2o3bob2o2b2ob2o3bob3o4b$2bo4b2ob2o4bobo2b2ob2obo4b$7b2o3b2o3b3ob2o5bo3b$3b2o2bo5b2o6bo6bo3b$9b2o3bo3bo4b2o7b$8b3obo6bo2b3o7b$5bo6bo5bo4bobo6b$4bo2bo2bo3bo9bo2bo4b$5b2o3b3o4b3o3bo3bo4b$6bo10bobo3b3o6b$32b$13bo18b$14bo8bo8b$12b3o7bo9b$22b3o7b$32b$16bo15b$17bo4bo9b$15b3o3bo10b$21b3o8b$32b$32b$32b$32b$32b$32b!";
a[5]="32b$3bo13bo14b$2b3o11b3o13b$b2o2b2o8b2o2b2o11b$b3ob2o8b3ob2o11b$2bo13bo15b$3b3o2bo8b3o2bo9b$8bo13bo9b$3b4obo2b2o4b4obo2b2o5b$2b3o2b2o2b2o3b3o2b2o2b2o5b$2bobo3b2ob2ob2ob2o3b2ob2o5b$11bo2b2o9bo6b$5b2o2b2o2bo5b2o2b2o7b$2b3o2bo7b4o2bo10b$6bo3bo9bo3bo7b$5bo3bo5bo3bo3bo8b$bo3bo4b2obobo3bo4b2ob2o3b$8bobo2bo5b2obobo2b2o3b$2b3o2b2o2bo2bob3o2b2o2b5o2b$4bo2bo2bob4o2b4o2bo3b2o2b$8bobo2bobo2b5obo7b$11b2o2bob3o5bo6b$9bobo2bo4b2o2bo2bo5b$9bobo2bo8bo2bo5b$5b2o3b2ob2o3bobo3b2o6b$8bo2b2o5bobo3bobo5b$6b2o3bo6bobo3b2o6b$25bo6b$32b$13bobo16b$14b2o7bobo6b$14bo8b2o7b$24bo7b$32b$16bobo13b$17b2o3bobo7b$17bo4b2o8b$23bo8b$32b$32b$32b$32b!";
a[6]="32b$2b3o11b3o13b$bo2b2o9bo2b2o12b$6bo13bo11b$3b4o10b4o11b$bo4bo8bo4bo11b$3b2o12b2o13b$6bob2o10bob2o8b$2bo2b2ob2ob2o3bo2b2ob2ob2o5b$2bo3bo8bo4bo11b$2bobo2b3o4bo3bo2b3o8b$5bo2bo2bo3b2ob2o2bo2b2o5b$3b4o3bo6b4o3bo7b$3b2o2bob2o5b3o2bob2o7b$3b4o8bob4o11b$5b2o2bobo2bo4b2o2bobo6b$10b3o11b3o5b$2b3o2b2obo2bob4o2b2obo2b2o3b$3b2o2b2ob2o4b3o2b2ob2o2bo3b$4bo2bo2bobo5bo2bo2bob4o2b$9b2o4b2o2bo3b2ob2o4b$9bob3ob6o2b3o6b$7bobobob3o5b2o2b2o5b$9bobo2b2o4bo4b2o5b$9bo3b2o17b$5bo3bo3b3ob2ob2o2bo7b$7bobob6o7bobo5b$14bo9b2o6b$12bo19b$15bo16b$13bobo7bo8b$14b2o7bobo6b$23b2o7b$32b$18bo13b$16bobo3bo9b$17b2o3bobo7b$22b2o8b$32b$32b$32b$32b!";
a[7]="32b$3bo13bo14b$2b4o10b4o12b$2bob2o10bob2o12b$3bo2bo10bo2bo11b$4bob2o10bob2o10b$2bo3bo9bo3bo11b$5bobo11bobo10b$3b2obob3o6b2obob3o7b$5b2ob3obo6b2ob3obo5b$b2o3bo3bobo2b2o3bo3bobo5b$3bob5o2bo4bob5o2bo5b$8bob2o10bob2o6b$3bo2b3obo6bo2b3obo7b$2bo4bob2o5bo4bob2o7b$3bo3b3o7bo3b3o8b$6bo4b2o7bo4b2o5b$3b6o3b2o3b6o3b2o4b$2bobo2b2o4b2obobo2b2o4b2o3b$2bo2b2o3bob2ob2o2b2o3bo7b$3b2ob2o6b2o2b4o6b2o2b$7bobo2bobo2bo4bo5bo3b$6bob2ob4obob4o5bo4b$6b3obob2ob2obo2b3o8b$8b2ob3o7bo3b2o5b$10bobo3bo2b3o10b$13bo3bo7bo6b$10bobo3b2o5b2o7b$11bo2bo9b2o6b$32b$14bo17b$15b2o7bo7b$14b2o6b2o8b$23b2o7b$32b$17bo14b$18b2o3bo8b$17b2o2b2o9b$22b2o8b$32b$32b$32b!";
for(b=0;8>b;b+=1){var e=[];if(-1!==this.W.ya(d,a[b],e)){this.W.Bb(d,e,this.g.T);var g=d.ba;var k=g.length;var l=g[0].length;for(e=0;e<g.o.length;e+=1)0<g.o[e]&&(g.o[e]=c);f[b]=Array.matrix(ra.ab,k,l,0,this.g.T,"",!1);f[b].o.set(g.o)}}for(a=1;8>a;a+=1)for(b=0;8>b;b+=1){this.fc=f[b][0].length;this.ec=f[b].length;this.ea=new Uint8Array(this.fc*this.ec);this.ea.set(f[b].o);switch(a){case G.Os:this.yg(this,!1);this.yg(this,!1);break;case G.Ps:this.iq(this);break;case G.Qs:this.kq(this);break;case G.Ts:this.yg(this,
!1);this.kq(this);break;case G.Us:this.yg(this,!1);this.iq(this);break;case G.Ss:this.yg(this,!0);break;case G.Rs:this.yg(this,!1)}f[8*a+b]=Array.matrix(ra.ab,this.ec,this.fc,0,this.g.T,"",!1);f[8*a+b].o.set(this.ea)}};fa.prototype.lC=function(){var a,b,c,d=this.eq;var f=this.g.B;var e=f.I,g=f.J,k=f.L,l=f.M,m=[],n=[];0===this.JA.length&&this.VJ();m[0]=[0,0,0,0,-1,0,0,0];n[0]=[0,0,0,0,-1,0,-1,-1];m[1]=[0,0,0,0,1,0,0,0];n[1]=[0,0,0,0,1,0,1,1];m[2]=[0,0,0,0,1,0,0,0];n[2]=[0,0,0,0,-1,0,-1,-1];m[3]=[0,
0,0,0,-1,0,0,0];n[3]=[0,0,0,0,1,0,1,1];m[4]=[0,0,0,0,-1,0,-1,-1];n[4]=[0,0,0,0,-1,0,0,0];m[5]=[0,0,0,0,1,0,1,1];n[5]=[0,0,0,0,1,0,0,0];m[6]=[0,0,0,0,1,0,1,1];n[6]=[0,0,0,0,-1,0,0,0];m[7]=[0,0,0,0,-1,0,-1,-1];n[7]=[0,0,0,0,1,0,0,0];if(this.Ri)for(this.Jd=[],f=0;8>f;f+=1){for(a=0;8>a;a+=1){var q=8*f+a;var p=d[q].length;for(c=g-7;c<=l+7-p;c+=1){var r=d[q][0].length;for(b=e-7;b<=k+7-r;b+=1)this.BL(d[q],b,c,r,p)&&(this.Jd[this.Jd.length]=[b+m[f][a&7],c+n[f][a&7],8*f+(a+1&7)])}}this.Ri=!1}else for(q=0;q<
this.Jd.length;q+=1)d=this.Jd[q],b=d[0],c=d[1],f=d[2]>>3,a=d[2]&7,this.Jd[q]=[b+m[f][a&7],c+n[f][a&7],8*f+(a+1&7)]};fa.prototype.Oz=function(a,b,c,d){var f=[];d=this.Be[d];var e=d[0],g=d[1],k=d[2],l=d[3],m=new ib("rleToCellList",this.W);var n=D.fi.length;d=2>=this.g.i?2:this.g.i;var q=2<d&&!(this.g.la||this.g.s||this.g.D||this.g.v||this.g.G);var p=this.Jj/100;var r=!1;if(a.substring(0,n)===D.fi){a=a.substring(n);b=parseInt(a.substring(0,a.indexOf(",")),10);c=parseInt(a.substring(a.indexOf(",")+1),
10);for(g=a=0;g<c;g+=1)for(e=0;e<b;e+=1)this.g.s?(r=0,this.O.random()<=p&&(r|=1),this.O.random()<=p&&(r|=2),this.O.random()<=p&&(r|=4),this.O.random()<=p&&(r|=8),f[a]=e,f[a+1]=g,f[a+2]=r,a+=3):2===d?this.O.random()<=p&&(f[a]=e,f[a+1]=g,f[a+2]=1,a+=3):this.O.random()<=p&&(f[a]=e,f[a+1]=g,r=(this.O.random()*(d-1)|0)+1,q&&(r=d-r),f[a+2]=r,a+=3);r=!0}else if(p=[],-1!==this.W.ya(m,a+" ",p)){this.W.Bb(m,p,this.g.T);for(p=0;p<m.height;p+=1)for(n=m.ba[p],a=0;a<m.width;a+=1)r=n[a],q&&0<r&&(r=d-r),f[f.length]=
b+a*e+p*g,f[f.length]=c+a*k+p*l,f[f.length]=r;r=!0}r||(f[0]="error");return f};fa.prototype.ZG=function(a){var b=0,c=a.indexOf("["),d=a.indexOf("]");if(-1!==c&&-1!==d&&c<d&&d===a.length-1){for(c+=1;c<d&&0<=b;){var f=a.charCodeAt(c)-48;0>f||9<f?b=-1:(b=10*b+f,c+=1)}0<b&&(this.mn=!0)}return b};fa.prototype.EI=function(a){var b=0>this.ng?-this.ng:this.ng,c=0>this.qg?-this.qg:this.qg;b=2*(b<c?c:b);a<b&&(a=b);return a};fa.prototype.AI=function(a){var b=0>this.mg?-this.mg:this.mg,c=0>this.sg?-this.sg:this.sg;
b=2*(b<c?c:b);a<b&&(a=b);return a};fa.prototype.kF=function(a,b){var c,d=!1;for(c=0;!d&&c<this.he.length;)a===this.he[c].name?d=!0:c+=1;if(d)for(a=this.he[c].mH,c=0;c<a.length;c+=1)b[b.length]=a[c];return d};fa.prototype.gF=function(a,b,c){var d,f=!1;if(vb.Am(b))a[a.length]=[D.ep+" "+b,"name is reserved word"];else{for(d=0;!f&&d<this.he.length;)b===this.he[d].name?f=!0:d+=1;if(f)a[a.length]=[D.ep+" "+b,"name already defined"];else{f=!1;for(d=0;!f&&d<c.length;)1>c[d]?f=!0:d+=1;f?a[a.length]=[D.ep+
" "+b+" "+c[d],"invalid delta"]:(a=c.slice(),this.he[this.he.length]={name:b,mH:a})}}};fa.prototype.cF=function(a,b,c,d,f,e){var g,k=!1;if(vb.Am(b))a[a.length]=[D.Rm+" "+b,"name is reserved word"];else if(-1!==b.indexOf("["))a[a.length]=[D.Rm+" "+b,"name can not contain ["];else{for(g=0;!k&&g<this.Vd.length;)b===this.Vd[g].name?k=!0:g+=1;k?a[a.length]=[D.Rm+" "+b,"name already defined"]:(c=this.Oz(c,d,f,e),"error"!==c[0]?this.Vd[this.Vd.length]={name:b,cells:c}:a[a.length]=[D.Rm+" "+b,"invalid RLE"])}};
fa.prototype.Nz=function(a,b,c,d,f,e,g,k,l,m,n){var q=0,p=!1,r=[],u=this.Be[n],t=u[0],v=u[1],A=u[2],w=u[3];u=G.fj;var B=-G.fj,C=G.fj,O=-G.fj,M=k.indexOf("["),K=k,L=0,U=[],X=D.fi.length,H=2>=this.g.i?2:this.g.i,R=2<H&&!(this.g.la||this.g.s||this.g.D||this.g.v||this.g.G),P=this.Jj/100;-1!==M&&(K=k.substring(0,M),L=this.ZG(k));if(K.substring(0,X)===D.fi){K=K.substring(X);p=parseInt(K.substring(0,K.indexOf(",")),10);K=parseInt(K.substring(K.indexOf(",")+1),10);for(X=q=0;X<K;X+=1)for(M=0;M<p;M+=1)if(2===
H)this.O.random()<=P&&(r[q]=M,r[q+1]=X,r[q+2]=1,q+=3);else if(this.O.random()<=P){r[q]=M;r[q+1]=X;var S=(this.O.random()*(H-1)|0)+1;R&&(S=H-S);r[q+2]=S;q+=3}p=!0}else for(;q<this.Vd.length&&!p;)this.Vd[q].name===K?(p=!0,r=this.Vd[q].cells.slice()):q+=1;if(p)for(q=0;q<r.length;)k=r[q],n=r[q+1],r[q]=l+k*t+n*v,r[q+1]=m+k*A+n*w,q+=3;else r=this.Oz(k,l,m,n),"error"!==r[0]&&(p=!0);-1===L&&(p=!1);if(p&&0<r.length){for(q=0;q<r.length;)l=r[q],m=r[q+1],l<u&&(u=l),l>B&&(B=l),m<C&&(C=m),m>O&&(O=m),q+=3;l<this.ng&&
(this.ng=l);l>this.qg&&(this.qg=l);m<this.mg&&(this.mg=m);m>this.sg&&(this.sg=m);t=Array.matrix(ra.ab,O-C+1,B-u+1,0,this.g.T,"View.rle"+this.$c.length,!1);for(q=0;q<r.length;)l=r[q],m=r[q+1],t[m-C][l-u]=r[q+2],q+=3;U[0]=a;for(q=0;q<c.length;q+=1)U[U.length]=U[U.length-1]+c[q];this.$c[this.$c.length]={Aq:U,end:b,every:d,mode:f,cells:r,map:t,I:u,J:C,width:B-u+1,height:O-C+1,wH:L,deltaX:e,deltaY:g};0<d&&(this.Gk=!0);U[U.length-1]>this.de&&(this.de=U[U.length-1])}return p};fa.prototype.TF=function(){var a,
b,c=this.g.width,d,f=this.g.B;for(a=0;a<this.$c.length;a+=1){var e=this.$c[a];var g=e.wH;if(0<g){var k=e.cells;var l=(c>>1)-(e.width>>1);var m=(c>>1)-(e.height>>1);var n=0;f.I=l;f.L=l+e.width-1;f.J=m;f.M=m+e.height-1;for(this.g.counter=0;n<k.length;)this.g.Wd(l+k[n]-e.I,m+k[n+1]-e.J,k[n+2],!0),n+=3;for(;0<g;)this.g.Gl(!0),this.g.cg(),this.g.pg(this),--g;k=[];n=0;var q=d=G.fj;for(b=f.J;b<=f.M;b+=1)for(g=f.I;g<=f.L;g+=1){var p=this.g.mb(g,b,!1);0!==p&&(k[n]=g-l+e.I,k[n+1]=b-m+e.J,k[n+2]=p,k[n]<d&&(d=
k[n]),k[n+1]<q&&(q=k[n+1]),n+=3)}e.cells=k.slice();e.width=f.L-f.I+1;e.height=f.M-f.J+1;e.J=q;e.I=d;e.map=Array.matrix(ra.ab,e.height,e.width,0,this.g.T,"View.rle"+a,!1);for(n=0;n<k.length;)g=k[n],b=k[n+1],e.map[b-e.J][g-e.I]=k[n+2],n+=3;this.g.Bi()}}this.mn&&this.g.Bi()};fa.prototype.uF=function(a){var b=!1,c=this.g.counter;var d=!1;if(this.g.ja||this.g.s)c=this.g.ac;0!==a.every&&(this.g.ja||this.g.s)&&null!==this.g.Cb&&c<this.g.Ue&&(b=!1,d=!0);if(!d)if(0!==a.every&&c>=a.Aq[0]&&0===(c-a.Aq[0])%a.every)-1!==
a.end&&c>a.end||(b=!0);else for(d=0;d<a.Aq.length&&!b;)c===a.Aq[d]?b=!0:d+=1;return b};fa.prototype.to=function(a,b,c,d){var f=0,e=this.g.ja?-1:0,g=Math.round((this.g.width-this.g.$)/2)+e;e=Math.round((this.g.height-this.g.Z)/2)+e;var k=g+this.g.$-1,l=e+this.g.Z-1;b=this.al(a,b);b[0]&&(a=b[1],b=b[2],-1!==this.g.O?(0===this.g.$&&(g=0,k=this.g.width-1),0===this.g.Z&&(e=0,l=this.g.height-1),a>=g&&a<=k&&b>=e&&b<=l&&(f=this.g.Wd(a,b,c,d))):f=this.g.Wd(a,b,c,d));return f};fa.prototype.Ro=function(a,b){var c=
0;b=this.al(a,b);b[0]&&(a=b[1],b=b[2],c=this.g.mb(a,b,!1));return c};fa.prototype.zn=function(){var a,b=this.g.counter,c=this.g.width,d=this.g.height,f;var e=0;var g=this.g.i-1,k=0;if(!this.g.la){-2===g&&(g=this.g.P?6:1);for(a=0;a<this.$c.length;a+=1){var l=this.$c[a];if(this.uF(l)){var m=l.mode;var n=(c>>1)-(this.v>>1);var q=(d>>1)-(this.A>>1);var p=l.map;if(0!==l.every&&(0!==l.deltaX||0!==l.deltaY)){var r=(b-l.Aq[0])/l.every;n+=l.deltaX*r;q+=l.deltaY*r}n+=l.I;q+=l.J;for(l=0;l<p.length;l+=1){var u=
p[l];if(2<=g&&!(this.g.P||this.g.la||this.g.s||this.g.D||this.g.v||this.g.G))for(r=0;r<u.length;r+=1){var t=u[r];for(f=this.Ro(n+r,q+l);c!==this.g.width||d!==this.g.height;)c!==this.g.width&&(c<<=1,n+=c>>2,this.Aa+=c>>2,this.Ca+=c>>2,this.K+=c>>2),d!==this.g.height&&(d<<=1,q+=d>>2,this.Kb+=d>>2,this.Mb+=d>>2,this.H+=d>>2);switch(m){case G.Ox:e=0;break;case G.qs:e=t&f;break;case G.kx:e=t&g-f;break;case G.Hx:e=t;break;case G.mx:e=g-t&f;break;case G.Mx:e=f;break;case G.rs:e=t^f;break;case G.Vo:e=t|f;
break;case G.xx:e=g-(t|f);break;case G.Ix:e=g-(t^f);break;case G.Bx:e=g-f;break;case G.ox:e=t|g-f;break;case G.zx:e=g-t;break;case G.qx:e=g-t|f;break;case G.vx:e=g-(t&f);break;case G.Dx:e=1}0>e?e=0:e>g&&(e=g);t===f&&m!==G.Sq||this.to(n+r,q+l,e,!0)}else if(this.g.s||this.g.D||this.g.G)for(r=0;r<u.length;r+=1){t=u[r];for(f=this.Ro(n+r,q+l);c!==this.g.width||d!==this.g.height;)c!==this.g.width&&(c<<=1,n+=c>>2,this.Aa+=c>>2,this.Ca+=c>>2,this.K+=c>>2),d!==this.g.height&&(d<<=1,q+=d>>2,this.Kb+=d>>2,this.Mb+=
d>>2,this.H+=d>>2);switch(m){case G.Ox:e=0;break;case G.qs:e=t&f;break;case G.kx:e=t&g-f;break;case G.Hx:e=t;break;case G.mx:e=g-t&f;break;case G.Mx:e=f;break;case G.rs:e=t^f;break;case G.Vo:this.g.G?(e=f,0!=t&&(e=t)):e=t|f;break;case G.xx:e=g-(t|f);break;case G.Ix:e=g-(t^f);break;case G.Bx:e=g-f;break;case G.ox:e=t|g-f;break;case G.zx:e=g-t;break;case G.qx:e=g-t|f;break;case G.vx:e=g-(t&f);break;case G.Dx:e=1}0>e?e=0:e>g&&(e=g);this.to(n+r,q+l,e,!0)}else if(this.g.P||this.g.v)for(r=0;r<u.length;r+=
1){t=u[r];for(f=this.Ro(n+r,q+l);c!==this.g.width||d!==this.g.height;)c!==this.g.width&&(c<<=1,n+=c>>2,this.Aa+=c>>2,this.Ca+=c>>2,this.K+=c>>2),d!==this.g.height&&(d<<=1,q+=d>>2,this.Kb+=d>>2,this.Mb+=d>>2,this.H+=d>>2);if(m===G.Sq){e=t;var v=0;t===f&&(v=1)}else e=t&1,v=f&1,e=0===(m&8>>(e+e|v))?0:1;e!==v&&(k|=this.to(n+r,q+l,e,!1))}else for(r=0;r<u.length;r+=1){t=u[r];e=0===t?0:1;f=this.Ro(n+r,q+l);for(v=0===f?0:1;c!==this.g.width||d!==this.g.height;)c!==this.g.width&&(c<<=1,n+=c>>2,this.Aa+=c>>
2,this.Ca+=c>>2,this.K+=c>>2),d!==this.g.height&&(d<<=1,q+=d>>2,this.Kb+=d>>2,this.Mb+=d>>2,this.H+=d>>2);e=0===(m&8>>(e+e|v))?0:1;e===f&&m!==G.Sq||0===t&&0===f||this.to(n+r,q+l,e,!1)}}}}(this.g.P||this.g.v)&&k&&this.g.wb();this.Dt()}};fa.prototype.Dt=function(){var a,b=this.g.counter;for(a=0;a<this.pa;a+=1)this.mb[a].tg===b&&this.Et(this.mb[a].sm,!1);this.g.Wb()};fa.prototype.uA=function(a){this.qh=this.fg=this.zk=this.Ck=this.Bk=this.Ue=this.Ak=this.yk=this.Dk=this.$l=this.Gh=this.Fk=this.Ek=a};
fa.prototype.kG=function(){this.uA(!1)};fa.prototype.dL=function(){this.uA(!0)};fa.prototype.In=function(){this.ap=[];this.fp=[]};fa.prototype.ZF=function(a){var b=document.createElement("a");a.YA(b);b.href=a.va.toDataURL("image/png");b.download="screenshot.png";b.click();b.remove();a.C.notification.notify("Image saved",15,300,15,!0)};fa.prototype.DA=function(a){var b=a.Zc===G.kk?a.g.Kc:a.g.Wc;if("Oscillator"!==a.Eb)a.C.notification.notify("No Cell Map",15,300,15,!0);else{var c=document.createElement("a");
a.YA(c);c.href=b.toDataURL("image/png");c.download="cellmap.png";c.click();c.remove();a.C.notification.notify("Cell Map saved",15,300,15,!0)}};fa.prototype.YK=function(a){var b=this.g.va,c=this.g.h,d=this.g.R,f=this.g.Ua,e=a.width,g=a.height,k=this.K,l=this.H;var m=Math.round(-this.g.$/2);var n=Math.floor((this.g.$-1)/2);var q=Math.round(-this.g.Z/2);var p=Math.floor((this.g.Z-1)/2);var r=k-(this.g.width>>1),u=r+e-1,t=l-(this.g.height>>1),v=t+g-1,A=this.g.i,w=2===A&&this.g.Ea,B=!0;if(-1!==this.g.O){if(0!==
this.g.$){if(r<m||u>n)this.Fp=!0}else m=-this.g.width>>1,n=(this.g.width>>1)-1;if(0!==this.g.Z){if(v>p||t<q)this.Fp=!0}else q=-this.g.height>>1,p=(this.g.height>>1)-1}a.s&&(0!==(k&1)&&(k+=1),0!==(l&1)&&(l+=1),r=k-(this.g.width>>1),u=r+e-1,t=l-(this.g.height>>1),v=t+g-1);a.ga&&(0===(k&1)&&--k,0===(l&1)&&--l,r=k-(this.g.width>>1),u=r+e-1,t=l-(this.g.height>>1),v=t+g-1);-1!==this.g.O&&(r=m,u=n,t=q,v=p);r+=this.g.width>>1;u+=this.g.width>>1;t+=this.g.height>>1;v+=this.g.height>>1;0>r&&(r=0);u>=this.g.width&&
(u=this.g.width-1);0>t&&(t=0);v>=this.g.height&&(v=this.g.height-1);k>=r&&k<=u&&e+k>=r&&e-1+k<=u&&(B=!1);for(n=0;n<g;n+=1)if(q=a.P[n],n+l>=t&&n+l<=v){p=b[n+l];if(this.Ua||this.g.s||this.g.D||this.g.v||this.g.G||!this.ob){var C=a.ba[n];var O=c[n+l];if(B)for(m=0;m<e;m+=1){if(m+k>=r&&m+k<=u){var M=C[m];0<M&&(M+=this.ua);O[m+k]=M}}else for(m=0;m<e;m+=1)M=C[m],0<M&&(M+=this.ua),O[m+k]=M}else if(2<A)if(C=a.ba[n],O=c[n+l],B)for(m=0;m<e;m+=1)m+k>=r&&m+k<=u&&(M=C[m],0<M&&!this.g.la&&(M=A+this.ua-M),O[m+k]=
M);else for(m=0;m<e;m+=1)M=C[m],0<M&&!this.g.la&&(M=A+this.ua-M),O[m+k]=M;if(w)if(O=c[n+l],B)for(m=0;m<e;m+=1)m+k>=r&&m+k<=u&&0!==(q[m>>4]&1<<(~m&15))&&(p[m+k>>4]|=1<<(~(m+k)&15),O[m+k]=y.xa);else for(m=0;m<e;m+=1)0!==(q[m>>4]&1<<(~m&15))&&(p[m+k>>4]|=1<<(~(m+k)&15),O[m+k]=y.xa);else if(B)for(m=0;m<e;m+=1)m+k>=r&&m+k<=u&&0!==(q[m>>4]&1<<(~m&15))&&(p[m+k>>4]|=1<<(~(m+k)&15));else{m=0;for(C=k&15;m<e-16;)M=q[m>>4],p[m+k>>4]|=M>>C,p[(m+k>>4)+1]|=M<<16-C&65535,m+=16;for(;m<e;)0!==(q[m>>4]&1<<(~m&15))&&
(p[m+k>>4]|=1<<(~(m+k)&15)),m+=1}}if(f)for(n=0;n<g;n+=1)if(n+l>=t&&n+l<=v)if(C=a.ba[n],b=f[n+l],B)for(m=0;m<e;m+=1)m+k>=r&&m+k<=u&&(M=C[m])&&(b[m+k]=G.pb[M]+128);else for(m=0;m<e;m+=1)(M=C[m])&&(b[m+k]=G.pb[M]+128);(this.g.s||this.g.D||this.g.v||this.g.G)&&d.o.set(c.o)};fa.prototype.Fo=function(){var a=!1;-1!==this.g.O&&0!==this.g.$&&0!==this.g.Z&&(a=!0);return a};fa.prototype.AJ=function(){var a=!1;-1===this.g.O||0!==this.g.$&&0!==this.g.Z||(a=!0);return a};fa.prototype.xp=function(a,b,c){a=a[0];
b&&(c.jb=a);return[a,100*a]};fa.prototype.yz=function(a,b,c){b&&(c.yc=a[0]);return[c.yc,G.LJ[c.yc+.5|0]]};fa.prototype.dF=function(a){a.U||(a.yc=(a.yc+.5|0)+1,a.yc>=G.$C&&(a.yc=0),a.Th.current=a.yz([a.yc,a.yc],!0,a))};fa.prototype.CE=function(a,b,c){b&&(c.Lb=a[0],c.Lb<G.ks&&(c.Lb=G.ks),c.Lb>G.cs&&(c.Lb=G.cs));return[c.Lb,c.Lb]};fa.prototype.Ez=function(a,b,c){b&&(c.Zb=(c.g.i-c.cc)*a[0]|0);a[1]="";0<c.Zb&&(a[1]="<");a[1]+=c.Zb+"-"+(c.Zb+c.cc-1);c.Zb+c.cc<c.g.i&&(a[1]+=">");return a};fa.prototype.Zd=
function(a,b,c){var d=a[0];b?(c.oc=!0,c.g.zoom=G.Fb*Math.pow(G.Qb/G.Fb,a[0])/c.g.cb):(d=Math.log(c.g.zoom*c.g.cb/G.Fb)/Math.log(G.Qb/G.Fb),0>d?d=0:1<d&&(d=1));a=this.sb&&!this.Ob?c.g.zoom*c.g.cb:c.g.zoom;a<G.Fb?a=G.Fb:a>G.Qb&&(a=G.Qb);1>a&&(a=-1/a);return[d,a]};fa.prototype.FF=function(a){var b=a/6E4|0;a=a%6E4/1E3;var c="";0<b&&(c=b+":",10>a&&(c+="0"));return c+=a.toFixed(2)};fa.prototype.Gb=function(a,b,c){var d=this.g.zoom,f=this.g.ma,e=this.g.ka,g=6,k=G.gI,l=this.Xb,m=this.ga;var n=(this.g.width>>
1)-(this.v>>1)+(this.ca<<1);var q=(this.g.height>>1)-(this.A>>1)+(this.fa<<1);c===G.yq&&(l.I=m.I+n,l.L=m.L+n,l.I>l.L&&(n=l.L,l.L=l.I,l.I=n),l.J=m.J+q,l.M=m.M+q,l.J>l.M&&(n=l.M,l.M=l.J,l.J=n));this.ma?(c=this.g.Xj(c,l,this.displayWidth*this.$b,this.displayHeight*this.$b,G.Fb,G.Qb,G.vt,this.v,this.A,this.U&&this.Ua,this.rd,this.vd,this.ka),c[0]/=this.$b):(this.Pa&&(k=0),c=this.g.Xj(c,l,this.displayWidth,this.displayHeight-k,G.Fb,G.Qb,G.vt,this.v,this.A,this.U&&this.Ua,this.rd,this.vd,this.ka));this.ka&&
!a?(16<=this.g.zoom&&(g=2),1<this.P&&this.Pb&&(g=1),this.g.zoom=(this.g.zoom*(g-1)+c[0])/g,this.g.ma=(this.g.ma*(g-1)+c[1])/g,this.g.ka=(this.g.ka*(g-1)+c[2])/g,a=this.g.zoom>d?this.g.zoom/d-1:d/this.g.zoom-1,f=this.g.ma>f?this.g.ma-f:f-this.g.ma,e=this.g.ka>e?this.g.ka-e:e-this.g.ka,this.Wg=a,f>this.Wg&&(this.Wg=f),e>this.Wg&&(this.Wg=e),.001>=this.Wg&&(this.g.zoom=c[0],this.g.ma=c[1],this.g.ka=c[2])):(this.Hg=this.g.width/2-this.g.ma,this.Ig=this.g.height/2-this.g.ka,this.gi=this.g.zoom,this.Fg=
this.g.angle,this.Gg=this.g.xb,this.$f=this.g.width/2-c[1],this.Ti=this.g.height/2-c[2],this.Ui=c[0],this.yl=this.Fg,this.Si=this.Gg,this.dm=Xa.Uq,b?this.Nc=0:(this.Nc=Xa.Uq,this.Tw()));this.qc&&(this.qc.current=this.Zd([this.g.zoom,this.g.zoom],!1,this));this.wa&&(this.wa.current=this.Sg([this.g.angle,this.g.angle],!1,this));this.kb&&(this.kb.current=this.ek([this.il(this.g.xb),this.g.xb],!1,this))};fa.prototype.MI=function(a,b,c,d){-1!==this.g.O?this.na?(this.K=Math.round(this.g.width/2)+this.ca,
this.H=Math.round(this.g.height/2)+this.fa):(0!==this.g.$&&c>this.g.$&&(c=this.g.$),0!==this.g.Z&&d>this.g.Z&&(d=this.g.Z),0===c&&(c=this.g.$),0===d&&(d=this.g.Z),this.K=Math.round((this.g.width-c)/2),this.H=Math.round((this.g.height-d)/2)):(this.K=Math.round((this.g.width-a)/2)+this.ca,this.H=Math.round((this.g.height-b)/2)+this.fa);!this.U&&this.g.P||!this.W.ik||-1===this.g.i||(this.U=this.Ua=!0)};fa.prototype.ci=function(a){var b=a;0>a&&(a=-a);var c=a+String();1E12<=a?c="999B+":1E11<=a?c=(a/1E9|
0)+"B":1E10<=a?c=(Math.floor(Number(a/1E8))/10).toFixed(1)+"B":1E9<=a?c=(Math.floor(Number(a/1E7))/100).toFixed(2)+"B":1E8<=a?c=(a/1E6|0)+"M":1E7<=a?c=(Math.floor(Number(a/1E5))/10).toFixed(1)+"M":1E6<=a?c=(Math.floor(Number(a/1E4))/100).toFixed(2)+"M":1E5<=a&&(c=(a/1E3|0)+"K");0>b&&(c="-"+c);return c};fa.prototype.Rk=function(a,b){var c=this.C.U,d=this.C.X;b=a+b;var f=-this.g.angle,e=Math.sin(f/180*Math.PI);f=Math.cos(f/180*Math.PI);0>b?b=0:1<b&&(b=1);a=G.Fb*Math.pow(G.Qb/G.Fb,a);b=G.Fb*Math.pow(G.Qb/
G.Fb,b);b<G.Fb?b=G.Fb:b>G.Qb&&(b=G.Qb);c-=this.displayWidth/2;d-=this.displayHeight/2;c=(c-b/a*c)/b;a=(d-b/a*d)/b;this.g.ma-=c*f+a*-e;this.g.ka-=c*e+a*f;b=Math.log(b/G.Fb)/Math.log(G.Qb/G.Fb);this.qc.current=this.Zd([b,b],!0,this)};fa.prototype.Wi=function(){var a=32;this.g.Ea&&(a=4*this.g.ba.m+1,-1!==this.g.O&&(a+=2*this.g.ba.m),this.g.ba.type===this.W.j&&(a=-1!==this.g.O?a+this.g.Z/2:a+this.g.ba.u/2));return a};fa.prototype.cl=function(a,b){a.g.Km(a,b,a.Wi())};fa.prototype.dA=function(a){var b=
!1,c=a.ga;var d=a.Xb;var f=(a.g.width>>1)-(a.v>>1)+(a.ca<<1);var e=(a.g.height>>1)-(a.A>>1)+(a.fa<<1);d.I=c.I+f;d.J=c.J+e;d.L=c.L+f;d.M=c.M+e;d.I>d.L&&(f=d.L,d.L=d.I,d.I=f);d.J>d.M&&(f=d.M,d.M=d.J,d.J=f);a.cl(a,d);d=0;var g=a.g.width-1;var k=0;var l=a.g.height-1;a.g.Ea&&(d+=2*a.g.ba.m+1,g-=2*a.g.ba.m+1,k+=2*a.g.ba.v+1,l-=2*a.g.ba.v+1);f=(a.g.width>>1)-(a.v>>1)+(a.ca<<1);e=(a.g.height>>1)-(a.A>>1)+(a.fa<<1);c.I+f<d&&(c.I=-f,b=!0);c.I+f>g&&(c.I=a.g.width-1-f,b=!0);c.L+f<d&&(c.L=-f,b=!0);c.L+f>g&&(c.L=
a.g.width-1-f,b=!0);c.J+e<k&&(c.J=-e,b=!0);c.J+e>l&&(c.J=a.g.height-1-e,b=!0);c.M+e<k&&(c.M=-e,b=!0);c.M+e>l&&(c.M=a.g.height-1-e,b=!0);return b};fa.prototype.YF=function(a){a.Rf.current=0<=a.g.yc?100*a.g.yc/y.Jo:100*a.g.Sb/y.Fl;a.Rf.N=!1;a.nb.s=0};fa.prototype.bG=function(a){a.Rf.current=100*(1-(a.Wa-a.g.counter)/a.ei);a.Rf.N=!1;a.nb.s=0};fa.prototype.UF=function(a,b){a.Rf.current=a.g.counter/b*100;a.Rf.N=!1;a.nb.s=0};fa.prototype.QF=function(a){var b=!1,c=!1,d=0;a.Ba||-1===a.Ub||(b=!0);!a.ub&&a.Da&&
(c=!0);if(b||c){var f=!1;if(c&&b)d=a.elapsedTime/a.s.va(a.Ub);else if(c){if(b=a.s.Da().Bd)d=a.elapsedTime/b,1<d&&(f=!0)}else 0<a.Ub&&(d=a.g.counter/a.Ub);1<d&&(d=1);a.Rf.current=100*d}else f=!0;a.Rf.N=f;a.nb.s=f?a.h.X:0};fa.prototype.HA=function(){this.Wd.s(this.g.width/2-this.g.Kb,this.g.height/2-this.g.Lb,this.g.ea,this.g.Da,this.g.displayWidth,this.g.displayHeight,this.g.Rc,this.g.$a[0])};fa.prototype.DE=function(){var a=this.h.A-this.displayWidth/2,b=this.h.F-this.displayHeight/2,c=this.H-this.g.ka,
d=this.K-this.g.ma-(this.g.ia?this.g.ka/2:0),f=this.g.Ja,e=this.g.Aa,g=this.g.zoom;var k=this.g.zc(this.g.zoom);var l=-1;-1!==this.h.A&&(0!==this.g.Da&&(l=Math.sqrt(a*a+b*b),b=180/Math.PI*Math.atan2(b,a),b-=this.g.Da,a=l*Math.cos(Math.PI/180*b),b=l*Math.sin(Math.PI/180*b)),e=b/k-c+e,k=e-Math.floor(e),e-=k,a=a/g+(this.g.ia?c/2+e/2:0)-d+f,this.g.aa&&(a-=.5),c=a-Math.floor(a),a-=c,this.g.aa&&(0===(a+this.K+e+this.H&1)?1<c+k&&(a+=1):1>1-c+k&&(a+=1)),l=this.g.mb(a+this.K,e+this.H,this.Ua&&this.U));return l};
fa.prototype.dk=function(a,b){var c=a-this.displayWidth/2,d=b-this.displayHeight/2;b=this.H-this.g.ka;var f=this.K-this.g.ma-(this.g.ia?this.g.ka/2:0),e=this.g.Ja,g=this.g.Aa,k=0,l=0,m=0,n=0,q=this.g.zoom,p=this.g.zc(this.g.zoom);-1!==a&&(0!==this.g.Da&&(a=Math.sqrt(c*c+d*d),d=180/Math.PI*Math.atan2(d,c),d-=this.g.Da,c=a*Math.cos(Math.PI/180*d),d=a*Math.sin(Math.PI/180*d)),k=d/p-b+g,m=k-Math.floor(k),k-=m,l=c/q+(this.g.ia?b/2+k/2:0)-f+e,this.g.aa&&!this.g.Fa&&(l-=.5),n=l-Math.floor(l),l-=n,this.g.ia&&
(.25>n?.1>m?(--k,--l):.9<=m&&(k+=1):.75<=n&&(.1>m?--k:.9<=m&&(k+=1,l+=1))));this.g.aa&&!this.g.Fa&&(0===(l+this.K+k+this.H&1)?1<n+m&&(l+=1):1>1-n+m&&(l+=1));this.Hc=l+this.K;this.Ic=k+this.H};fa.prototype.lG=function(a,b,c,d,f){var e=Math.abs(c-a),g=Math.abs(d-b),k=a<c?1:-1,l=b<d?1:-1,m=e-g,n=this.g.width,q=this.g.height,p;for(p=this.sa(a,b,f,!0);n!==this.g.width||q!==this.g.height;)n!==this.g.width&&(n<<=1,a+=n>>2,c+=n>>2,this.Aa+=n>>2,this.Ca+=n>>2,this.g.ia&&(this.Aa-=q>>3,this.Ca-=q>>3),this.K+=
n>>2),q!==this.g.height&&(q<<=1,b+=q>>2,d+=q>>2,this.Kb+=q>>2,this.Mb+=q>>2,this.H+=q>>2);for(;a!==c||b!==d;){var r=m+m;r>-g&&(m-=g,a+=k);r<e&&(m+=e,b+=l);for(p|=this.sa(a,b,f,!0);n!==this.g.width||q!==this.g.height;)n!==this.g.width&&(n<<=1,a+=n>>2,c+=n>>2,this.Aa+=n>>2,this.Ca+=n>>2,this.g.ia&&(this.Aa-=q>>3,this.Ca-=q>>3),this.K+=n>>2),q!==this.g.height&&(q<<=1,b+=q>>2,d+=q>>2,this.Kb+=q>>2,this.Mb+=q>>2,this.H+=q>>2)}return p};fa.prototype.AA=function(){var a=170,b=this.Ll.ga,c=this.Ll.X,d=this.bj.X;
this.Md.setPosition(da.ib,0,a-48);this.wp.ff(a-48);this.Nd.ff(a-48+45);this.Se.ff(a-48+170);this.yh.ff(a-48+255);this.ej.ff(a-48+300);this.dj.ff(a-48+345);this.Ll.setPosition(da.ib,c,a);this.bj.setPosition(da.ib,d,a);a+=b;"Oscillator"===this.Eb&&(this.vq.setPosition(da.ib,c,a),this.Kl.setPosition(da.ib,d,a),a+=b);this.g.ia||this.g.aa||(this.zq.setPosition(da.ib,c,a),this.ip.setPosition(da.ib,d,a),a+=b);"Spaceship"!==this.Eb||this.g.ia||this.g.aa||(this.Gq.setPosition(da.ib,c,a),this.yp.setPosition(da.ib,
d,a),a+=b);"Still Life"!==this.Eb&&(this.zv.setPosition(da.ib,c,a),this.Ap.setPosition(da.ib,d,a),a+=b,this.g.ia||this.g.aa||(this.cj.setPosition(da.ib,c,a),this.Ai.setPosition(da.ib,d,a),a+=b));"Spaceship"===this.Eb&&(this.g.ia||this.g.aa||(this.Ev.setPosition(da.ib,c,a),this.Ep.setPosition(da.ib,d,a),a+=b),this.Wv.setPosition(da.ib,c,a),this.Sl.setPosition(da.ib,d,a),a+=b);"Still Life"===this.Eb||this.g.D&&2<this.g.i&&!this.g.P||this.g.eb||-1!==this.g.O||(this.wv.setPosition(da.ib,c,a),this.Ml.setPosition(da.ib,
d,a),a+=b);"Oscillator"===this.Eb&&(-1!==this.g.O||this.g.D&&2<this.g.i||(this.fw.setPosition(da.ib,c,a),this.Ul.setPosition(da.ib,d,a),a+=b),this.Sw.setPosition(da.ib,c,a),this.Gp.setPosition(da.ib,d,a),a+=b);"Still Life"===this.Eb&&(this.cj.setPosition(da.ib,c,a),this.Ai.setPosition(da.ib,d,a))};fa.prototype.jG=function(a){var b=0;this.Yj[this.Wj]=a;this.Wj+=1;this.Wj>=G.DJ&&(this.Wj=0);for(a=0;a<this.Yj.length;a+=1)b+=this.Yj[a];b/=this.Yj.length;this.Xj.Jb=String(Math.round(b));this.Xj.N=!1};
fa.prototype.hA=function(){var a;for(a=0;a<this.Yj.length;a+=1)this.Yj[a]=0;this.Wj=0;this.Xj.N=!0};fa.prototype.mq=function(a,b){var c=0,d=0,f=this.H-this.g.ka,e=this.K-this.g.ma-(this.g.ia?this.g.ka/2:0),g=this.g.Ja,k=this.g.Aa,l=this.g.zoom,m=this.g.zc(this.g.zoom),n=0,q=0;if(0!==this.g.Da){var p=Math.sqrt(c*c+d*d);d=180/Math.PI*Math.atan2(d,c);d-=this.g.Da;c=p*Math.cos(Math.PI/180*d);d=p*Math.sin(Math.PI/180*d)}k=d/m-f+k;if(this.g.aa&&!this.g.Fa||this.g.ia)n=k-Math.floor(k),k-=n;c=c/l+(this.g.ia?
f/2+k/2:0)-e+g;this.g.aa&&!this.g.Fa&&(c-=this.g.zoom/32*.2);if(this.g.aa&&!this.g.Fa||this.g.ia)q=c-Math.floor(c),c-=q;this.g.ia&&(.25>q?.1>n?(--k,--c):.9<=n&&(k+=1):.75<=q&&(.1>n?--k:.9<=n&&(k+=1,c+=1)));this.g.aa&&!this.g.Fa&&(0===(c+this.K+k+this.H&1)?1<q+n&&(c+=1):1>1-q+n&&(c+=1));return Math.sqrt((c-a)*(c-a)+(k-b)*(k-b))};fa.prototype.rL=function(){var a=9999<this.g.fa?99999:9999;var b=this.g.ja?-1:0;var c=Math.round(-this.g.$/2)+b,d=Math.round(-this.g.Z/2)+b,f=c+this.g.$-1,e=d+this.g.Z-1;if(-1===
this.h.A)this.Cb.Jb="",this.Cb.N=!this.Mg;else{this.dk(this.h.A,this.h.F);var g=this.g.mb(this.Hc,this.Ic,this.Ua&&this.U);var k=this.g.mb(this.Hc,this.Ic,!0);var l=this.Hc-this.K+this.ca;b=this.Ic-this.H+this.fa;-1===this.g.O||this.na||(l-=Math.floor(this.v/2+(this.Z-this.v)/2),b-=Math.floor(this.A/2+(this.X-this.A)/2));var m=l<-a||l>a?Number(l/1E3).toFixed(1)+"K":String(l);a=b<-a||b>a?this.Ce?Number(-b/1E3).toFixed(1)+"K":Number(b/1E3).toFixed(1)+"K":this.Ce?String(-b):String(b);-1!==this.g.O?(0===
this.g.$&&(c=-this.g.fa,f=this.g.fa),0===this.g.Z&&(d=-this.g.fa,e=this.g.fa),l<c||l>f||b<d||b>e?(l===c-1||l===f+1)&&b>=d-1&&b<=e+1||(b===d-1||b===e+1)&&l>=c-1&&l<=f+1||this.g.aa&&(l===c-2||l===f+2)&&b>d-1&&b<e+1||this.g.aa&&(b===d-1||b===e+1)&&l===c-2?(this.Cb.Jb=m+","+a+"=[bounded]",this.Jg&&(this.Cb.Jb+=" "+String(k))):this.Cb.Jb=m+","+a+"=[boundary]":(this.Cb.Jb=m+","+a+"="+g+" ("+this.sh(g)+")",this.Jg&&(this.Cb.Jb+=" "+String(k)))):(c=-(this.g.fa-this.v)>>1,f=c+this.g.fa-1,d=-(this.g.fa-this.A)>>
1,e=d+this.g.fa-1,this.Cb.Jb=l<c||l>f||b<d||b>e?m+","+a+"=[boundary]":m+","+a+"="+g+" ("+this.sh(g)+")",this.Jg&&(this.Cb.Jb+=" "+String(k)));this.Cb.N=!1}this.Cb.A=this.Mg||!this.Pb&&-1!==this.h.A?this.B||this.ha||0===this.v?!1:!0:!1;!this.R&&!this.nc||this.B&&!this.ha?this.mf.A=!1:(this.mf.A=!0,this.mf.N=!1,l=this.ga.L>this.ga.I?this.ga.L-this.ga.I+1:this.ga.I-this.ga.L+1,b=this.ga.M>this.ga.J?this.ga.M-this.ga.J+1:this.ga.J-this.ga.M+1,this.mf.Jb=l+" x "+b)};fa.prototype.XF=function(a){if(!this.Pa&&
!this.ma)if(0<this.B)0<a?this.oo(this,a/125*3):this.mo(this,-a/125*3);else if(0<this.ha)0<a?this.eo(this,a/125*3):this.bo(this,-a/125*3);else if(this.Bb&&this.Wb!==G.Uh&&0!==this.g.Hc)this.JJ(a);else if(!this.fb&&!this.qc.locked){var b=this.qc.current[0];this.Rk(b,a/125*.05)}};fa.prototype.KG=function(a){var b=a.oa,c=a.h.s,d=a.h.B;var f=a.ta;var e=f.x,g=f.y,k=f.ga,l=f.H,m=a.g.be;if(null!==m&&a.xd){b.imageSmoothingEnabled=!0;var n=m.width;for(f=0;f<a.cc;f+=1){var q=(f+a.Zb-1)*n;0<=q&&q<m.height&&b.drawImage(m,
0,q,n,n,l/a.cc*f*c+e,g,k*c,k*d)}b.imageSmoothingEnabled=!1}};fa.prototype.EF=function(a){var b=a.g.counter,c=" ";if(a.g.ja||a.g.s)b=a.g.ac;a.Ne?(0>b&&(c=""),a.nb.lower[0]="+"+c+a.ci(b),a.nb.Y=["toggle generation statistics [G]\ngeneration +"+b]):(0>b+a.Ja&&(c=""),a.nb.lower[0]="T"+c+a.ci(b+a.Ja),a.nb.Y=["toggle generation statistics [G]\ngeneration "+(b+a.Ja)]);if(a.Ne){if(a.g.ja||a.g.s)b=a.g.counter;a.jd.Jb=1E12<=b?this.ci(b):String(b);a.jd.Jb=String(b);a.jd.Y="generation "+b}else b+=a.Ja,a.jd.Jb=
1E9<=b?this.ci(b):String(b),a.jd.Y="absolute generation "+b;a.bg.Y=a.jd.Y};fa.prototype.ig=function(){return this.Hk&&!(this.ee||this.g.counter<this.de)};fa.prototype.fH=function(a,b){var c=b.s.current;var d=!1,f=!1,e=!1,g=!1,k=!1;var l=b.g.counter;var m=0;var n=1E3/b.ic,q;b.fb=!1;b.ly&&(b.ly=!1,a=0);b.U||b.QF(b);b.yA(b.kc.current[0]);b.Pb?(a>n&&(.8*a>n&&(f=!0),a=n),!b.Pb||b.Da&&!b.ub||(b.la+=b.da*b.P,m=b.la/b.ic|0,m>l?b.sd=!0:b.elapsedTime+=a)):b.sd&&(k=!0,b.la=b.$t?b.la+b.ic:b.la+b.P*b.ic,m=b.la/
b.ic|0);b.gm();b.Da&&!b.ub&&b.Pb?(b.s.H&&(b.oc&&!b.s.U(b.elapsedTime+a)&&(b.oc=!1,b.elapsedTime=b.s.qa(b.g.width/2-b.g.ma,b.g.height/2-b.g.ka,b.g.zoom,b.g.angle,b.g.xb,b.g.za,b.g.pc*G.pm,b.g.qb,b.g.Wa,b.da,b.P,b.g.counter,b.elapsedTime)),c.Te&&(b.Gb(!0,!1,G.rg),b.oc=!1,c.x=b.g.width/2-b.g.ma,c.y=b.g.height/2-b.g.ka,b.ma&&(b.g.zoom*=b.$b),c.zoom=b.g.zoom)),(e=b.s.O(b,b.elapsedTime+a,b.g.counter,!0))?(c.Te&&(c.Te=!1,b.ma&&(b.g.zoom=c.zoom/b.$b),b.qc&&(b.qc.current=b.Zd([b.g.zoom,b.g.zoom],!1,b))),b.la+=
b.da*b.P,m=b.la/b.ic|0,m>l&&(b.sd=!0)):(b.s.H&&(b.Pb&&(b.fb=!0),b.g.ka=b.g.height/2-c.y,b.g.ma=b.g.width/2-c.x,b.g.zoom=c.zoom,b.ma&&(b.g.zoom/=b.$b),b.qc&&(b.qc.current=b.Zd([b.g.zoom,b.g.zoom],!1,b)),b.g.ia||b.g.aa||b.g.la||(b.g.angle=c.angle,b.wa&&(b.wa.current=[b.g.angle,b.g.angle]),b.g.xb=c.xb,b.kb&&(b.kb.current=[b.il(b.g.xb),b.g.xb]),b.g.za=c.za,b.qb&&(b.qb.current=[b.g.za,b.g.za]),b.g.pc=c.depth/G.pm+G.gs,b.Ia&&(b.Ia.current=[Math.sqrt(b.g.pc),b.g.pc*G.pm]))),b.da=c.Pc,b.P=c.step,b.kc.current=
b.Ec([b.xf(),1],!0,b),c.Fc>b.g.counter?(b.sd=!0,b.la=c.Fc*b.ic,m=b.la/b.ic|0):b.sd=!1,c.xe!==b.We&&(""===c.xe?b.C.notification.clear(!1,!1):b.C.notification.notify(vb.Wm(b,c.xe),15,21600,15,!1),b.We=c.xe),c.vc!==b.rz&&(b.zg(c.vc,b.g.af,b),b.rz=c.vc)),b.sd||(b.elapsedTime+=a)):b.ka&&b.Pb&&(b.fb=!0);b.fb&&(b.Nc=-1);c=0;if(b.sd){var p=performance.now();l=m-l;var r=0;for(q=b.ig();!g&&b.g.counter<m;){c=performance.now()-p;if(b.g.counter===b.uc-1&&!b.Nb||c>.8*n&&!k)g=b.g.counter!==b.uc-1||b.Nb?b.Jf:!0;
b.g.Zb&&b.ba("reverse playback");b.$g();r+=1;if(-1!==b.Ub&&b.g.counter>=b.Ub&&!b.Ba){for(m=1;m<=r;m+=1)b.hn(a,r);b.elapsedTime=0;b.reset(b);m=0;b.eb&&b.tc&&(b.lc.current=b.Ud(G.ve,!0,b),b.C.notification.notify("LOOP reached - Play to continue ",15,180,15,!0));e&&(b.fb=!0)}b.ig()&&!q&&(g=!0)}for(m=1;m<=r;m+=1)b.hn(a,l);b.ig()&&-1===b.wb&&(b.wb=b.g.counter,b.Yc&&(-1===b.Ub||b.Ba)&&(b.g.s||b.g.ja?b.C.notification.notify("Life ended at generation "+(b.g.ac+b.Ja),15,600,15,!1):b.C.notification.notify("Life ended at generation "+
(b.g.counter+b.Ja),15,600,15,!1)),q||-1!==b.Ub&&!b.Ba||(b.lc.current=b.Ud(G.ve,!0,b)));b.la-=(l-r)*b.ic;0>b.la&&(b.la=0);r<l&&(b.g.counter!==b.uc||b.Nb)&&b.Qd?b.jG(r):b.hA();b.g.counter!==b.uc||b.Nb||(b.lc.current=b.Ud(G.ve,!0,b),this.ka&&b.Gb(!0,!1,G.rg),b.Yc&&b.C.notification.notify("STOP reached - Play to continue ",15,180,15,!0))}else b.hA();b.sd&&!b.Pb&&b.ba("");b.wa.locked=b.fb&&b.Da||b.g.ia||b.g.aa||b.g.la;b.kb.locked=b.fb&&b.Da||b.g.ia||b.g.aa||b.g.la;b.ae.locked=b.fb&&b.Da;b.ag.locked=b.fb||
b.ka&&b.Pb;b.kc.locked=b.fb&&b.Da;b.en.locked=b.fb&&b.Da;b.wd.locked=b.fb&&b.Da;b.qc.locked=b.fb||b.ka;b.qb.locked=b.fb&&b.Da||b.g.ia||b.g.aa||b.g.la;b.Ia.locked=b.fb&&b.Da||b.g.ia||b.g.aa||b.g.la;b.cn.locked=b.g.ia||b.g.aa||b.g.la;b.Pj&&(b.XF(b.Pj),b.Pj=0);b.Rn(b,f,c,k);b.sd=!1;b.$t=!1;if(b.Pb||b.ka&&.001<b.Wg||-1!==b.Nc)d=!0;b.C.we(d)};fa.prototype.Rn=function(a,b,c,d){var f=a.g.qb,e=a.g.Ec,g=a.g.Za,k=a.g.zoom,l=a.g.za;a.ka&&a.Pb&&a.Gb(!1,!1,G.rg);a.g.za=a.R||a.nc||a.qa||a.ra.current!==G.bi?1:l;
a.g.Fj(a.dh,a.Mc);a.g.za=l;a.Mc&&a.HA();a.dh&&a.C.we(!0);a.g.Ki(!(a.R||a.nc||a.qa||a.ra.current!==G.bi));!a.g.Fa&&a.g.ia&&4<=a.g.zoom?a.g.Mi():!a.g.Fa&&a.g.aa&&4<=a.g.zoom&&a.g.Ni();a.le&&(2===a.le&&a.g.ll(a.td,1,!0,a.ma,a),3===a.le&&(a.g.Mj(6,0,a),a.g.ce=1,a.g.Za=!0,a.g.Ec=!1,a.g.kb(1),a.g.zoom|=0,a.g.Fj(!1,!1),a.g.Ki(!(a.R||a.nc||a.qa||a.ra.current!==G.bi)),!a.g.Fa&&a.g.ia&&4<=a.g.zoom?a.g.Mi():!a.g.Fa&&a.g.aa&&4<=a.g.zoom&&a.g.Ni()),a.ZF(a),3===a.le&&(a.g.Mj(f,0,a),a.g.ce=1,a.g.Za=g,a.g.Ec=e,a.g.kb(1),
a.g.zoom=k,a.g.Fj(a.dh,a.Mc),a.Mc&&a.HA()),2<=a.le&&(a.g.Ki(!(a.R||a.nc||a.qa||a.ra.current!==G.bi)),!a.g.Fa&&a.g.ia&&4<=a.g.zoom?a.g.Mi():!a.g.Fa&&a.g.aa&&4<=a.g.zoom&&a.g.Ni()),a.le=0);a.g.Mo(a);a.g.counter&&0<a.g.A&&(a.Xb.I=a.g.B.I,a.Xb.J=a.g.B.J,a.Xb.L=a.g.B.L,a.Xb.M=a.g.B.M,a.cl(a,a.Xb));a.me&&a.s.ra(a);!a.Ga||a.lb||a.Cc||a.g.ll(a.td,a.jb,!1,a.ma,a);if(a.Bb&&a.Wb!==G.Uh&&null!==a.g.Jd&&0===a.B&&0===a.ha&&!1===a.ja.current[0])switch(a.Wb){case G.qI:a.Zc===G.kk?a.g.yo(a.Md):a.g.so(a.Md);break;
case G.Hq:a.Zc===G.kk?a.g.wo(a.Md):a.g.qo(a.Md)}a.B?ab.IB(a):a.ha&&ab.oH(a);a.EF(a);a.Zf.Jb=a.FF(a.elapsedTime);a.Rd.Jb=a.ci(a.g.A);a.Fo()?a.gd.Jb=a.g.s?(25*a.g.A/(a.g.Z*a.g.$)|0)+"%":(100*a.g.A/(a.g.Z*a.g.$)|0)+"%":(a.gd.Jb=a.ci(a.g.na),a.Le.Jb=a.ci(a.g.ga));a.Rd.Y="alive "+a.g.A;a.Fo()?a.gd.Y=a.g.s?"density "+(25*a.g.A/(a.g.Z*a.g.$)|0)+"%":"density "+(100*a.g.A/(a.g.Z*a.g.$)|0)+"%":(a.gd.Y="births "+a.g.na,a.Le.Y="deaths "+a.g.ga);a.Qd?a.AF(c,b,d,a):a.kc.dc=a.ag.dc;a.rL();-1!==a.Nc&&a.Tw();a.IF();
a.nG();a.MF();a.rG(0!==a.B||0!==a.ha);!a.ja.current[0]||a.nd&&a.Pb||(a.oa.globalAlpha=.7,a.oa.fillStyle=a.C.dc,a.oa.fillRect(0,0,a.va.width,a.va.height),a.oa.globalAlpha=1)};fa.prototype.AF=function(a,b,c,d){var f=255,e=48,g=48;var k=1E3/d.ic;(b||a>.8*k)&&!c?d.Gj<G.nD&&(d.Gj+=1):d.Gj>G.oD&&--d.Gj;k=d.Gj/(G.nD-G.oD);a=d.bp>>16;b=d.bp>>8&255;c=d.bp&255;d.Wc&&(f=d.Wc[0],e=d.Wc[1],g=d.Wc[2]);d.kc.dc="rgb("+(f*k+a*(1-k)|0)+","+(e*k+b*(1-k)|0)+","+(g*k+c*(1-k)|0)+")"};fa.prototype.iL=function(){var a=this.bg.B,
b=this.Zf.B,c=this.Cb.B;this.Tc.N&&this.Ge.N?(this.df.ff(c),this.Rd.ff(c)):this.Ge.N?(this.df.ff(b),this.Rd.ff(b),this.Tc.ff(c),this.gd.ff(c)):(this.df.ff(a),this.Rd.ff(a),this.Tc.ff(b),this.gd.ff(b),this.Ge.ff(c),this.Le.ff(c))};fa.prototype.gm=function(){var a=this.la/this.ic;if(this.sb&&!this.Ob){this.g.Ja=a*(this.Pg+this.yi)/2;this.g.Aa=a*(this.xi+this.Rg)/2;var b=this.g.jl(0,this.xi,this.Pg,this.Rg,this.yi,this.displayWidth,this.displayHeight-80,G.Fb,G.Qb,G.vt);a=this.g.jl(a,this.xi,this.Pg,
this.Rg,this.yi,this.displayWidth,this.displayHeight-80,G.Fb,G.Qb,G.vt);this.g.cb=a/b}else this.g.Ja=0,this.g.Aa=0,this.g.cb=1;this.qc.current=this.Zd([this.g.zoom,this.g.zoom],!1,this)};fa.prototype.rG=function(a){var b=!(this.B&&this.Kd===G.Qg),c,d=[],f=[],e=this.ja.current[0];this.lc.m[1]=this.Ab||0===this.g.counter&&(!this.g.ja&&!this.g.s||null===this.g.Cb)?!0:!1;var g=a||!this.oe;for(c=0;c<=this.g.Tb;c+=1)this.hi[c].N=g;this.Gz.N=g;this.IA.N=g;this.NA.N=g;this.KA.N=g;for(c=0;c<G.ir.length;c+=
1)G.ir[c]===this.g.Tb&&(this.hi[c].locked=!(this.ya||this.Je||-1!==this.no||-1!==this.qo));g=a||!this.Bb||"Empty"===this.Eb||"none"===this.Eb||e;this.wp.N=a||!this.Bb||e;this.Nd.N=a||!this.Bb||null===this.g.Jd||e;this.Se.N=a||!this.Bb||null===this.g.Jd||e;this.yh.N=a||!this.Bb||null===this.g.Jd||e;this.yh.locked=this.Wb!==G.Hq;g=g||this.Wb===G.Hq;g=(this.Md.N=g)||"Oscillator"===this.Eb&&this.Wb!==G.Uh;this.Ll.N=g;this.zq.N=g||this.g.ia||this.g.aa;this.Gq.N=g||"Spaceship"!==this.Eb||this.g.ia||this.g.aa;
this.zv.N=g||"Still Life"===this.Eb;this.cj.N=g||this.g.ia||this.g.aa;this.vq.N=g||"Oscillator"!==this.Eb;this.Ev.N=g||"Spaceship"!==this.Eb||this.g.ia||this.g.aa;this.Wv.N=g||"Spaceship"!==this.Eb;this.wv.N=g||"Still Life"===this.Eb||this.g.eb||this.g.D&&2<this.g.i||-1!==this.g.O;this.fw.N=g||"Oscillator"!==this.Eb||-1!==this.g.O||this.g.D&&2<this.g.i;this.Sw.N=g||"Oscillator"!==this.Eb;this.bj.N=g;this.ip.N=g||this.g.ia||this.g.aa;this.yp.N=g||"Spaceship"!==this.Eb||this.g.ia||this.g.aa;this.Ap.N=
g||"Still Life"===this.Eb;this.Ai.N=g||this.g.ia||this.g.aa;this.Kl.N=g||"Oscillator"!==this.Eb;this.Ep.N=g||"Spaceship"!==this.Eb||this.g.ia||this.g.aa;this.Sl.N=g||"Spaceship"!==this.Eb;this.Ml.N=g||"Still Life"===this.Eb||this.g.eb||-1!==this.g.O||this.g.D&&2<this.g.i;this.Ul.N=g||"Oscillator"!==this.Eb||-1!==this.g.O||this.g.D&&2<this.g.i;this.Gp.N=g||"Oscillator"!==this.Eb;g=a||!this.Bb||this.Wb===G.Uh||(0===this.g.Hc?!0:this.g.Hc<=this.g.Oc)||e;this.ej.N=g;this.dj.N=g;this.ej.locked=0===this.g.La;
this.dj.locked=this.g.La>=this.g.Hc-this.g.Oc;this.Yh.locked=this.pa===this.Nh;this.Xd.locked=1>=this.pa||this.Xd.Y==="undo ["+this.D+" Z]";this.ae.N=a;this.qc.N=a;this.ag.N=a;this.kd.N=a;this.Yg.N=a;this.Ng.N=a;this.Oc.N=a;this.Wf.N=a;this.ra.N=a;g=(this.eg.N=a)||!this.Ga||this.lb||this.Cc||e;this.tj.N=g;this.uq.N=g;this.qj.N=g;this.ac.N=g||-1!==this.g.O;this.Ji.N=!(this.yb&&-1===this.g.kf||-1!==this.Wa);this.Ji.locked=!1;this.bg.N=a;this.jd.N=a;this.$j.N=a;this.Zf.N=a;this.df.N=a;g=(this.Rd.N=a)||
this.AJ();this.Tc.N=g;g=(this.gd.N=g)||this.Fo();this.Ge.N=g;this.Le.N=g;this.ie.N=a;this.iL();this.ag.N=a;this.vf.N=a||!this.ze;this.kj.N=!this.zd;this.tf||this.qf||this.uf||this.ne||this.Qe||this.oe||this.nf?(this.Gd.Jb="Back",this.Gd.Y="back to previous menu [Backspace]"):(this.Gd.Jb="Close",this.Gd.Y="close menu [Backspace]");this.$d.locked=!(this.g.ja&&2===this.g.lb);this.$d.current=this.$d.locked?[!1]:[this.g.Gd];g=(this.Gd.N=a)||this.oe;this.Ia.N=g;this.wa.N=g;this.kb.N=g;this.qb.N=g;g=a||
this.oe||this.qf||this.ne||this.tf||this.uf||this.Qe||this.ne||this.nf;this.dl.N=g;this.Kn.N=g;this.wd.N=g;this.Zl.N=g;this.xl.N=g;this.pr.N=g;this.Fn.N=g;this.Oe.N=g;g=a||!this.qf;this.yt.N=g;this.Pp.N=g;this.Un.N=g;this.ll.N=g;this.Qn.N=g;this.Bn.N=g;this.pl.N=g;this.Wn.N=g;this.Qp.N=g;this.Rp.N=g;g=a||!this.ne;this.Qt.N=g;this.$m.N=g;this.zz.N=g;this.xz.N=g;this.Jm.N=g;this.Nm.N=g;this.aj.N=g;this.Kk.N=g;this.Vt.N=g;this.Tt.N=g;g=a||!this.uf;this.Vi.N=g;this.ak.N=g;this.Qj.N=g;this.Qj.locked=!this.Nk;
this.hj.N=g;this.rh.N=g;this.rh.locked=!this.g.D||this.g.D&&!this.g.og();this.fn.N=g;this.Sj.N=g;this.Pt.N=g;V.S&&(this.km.N=g);this.fk.N=g;g=a||!this.tf;this.Ld.N=g;this.Ii.N=g;this.qd.N=g;this.Gi.N=g;this.hg.N=g;this.Fi.N=g;this.$d.N=g;this.xg.N=g;this.ym.N=g;this.ln.N=g;g=a||!this.nf;this.An.N=g;this.Gn.N=g;this.cn.N=g;this.Zn.N=g;this.Vn.N=g;this.Mo.N=g;this.zo.N=g;this.Co.N=g;this.Tn.N=g;g=a||!this.Qe;this.Uo.N=g;this.$i.N=g;this.Og.N=g;this.Bg.N=g;this.Ve.N=g;this.Hi.N=g;this.Oi.N=g;this.St.N=
g;g=this.g.la||!this.ob;this.Jm.locked=g||this.g.D;this.Nm.locked=g;this.aj.locked=g||this.U||this.g.ba.ea||-1!==this.g.O&&(0===this.g.$||0===this.g.Z)||this.g.eb;this.Kk.locked=g||this.U||"Empty"===this.Eb||"none"===this.Eb||""===this.Eb;this.Un.locked=g;this.ll.locked=g||!(this.g.D&&2===this.g.i&&!this.g.wf&&(!this.g.Ab||this.g.rd!==Ha.nk));this.Qn.locked=g;this.Wn.locked=g;this.Bn.locked=g||null===this.hb[this.Hb];this.Uo.locked=!this.ob||this.U;this.xg.locked=2<this.g.i||this.g.Ea||this.g.s||
this.g.P||this.g.v||this.g.G||this.g.D;this.$m.locked=g;this.Mo.locked=g;this.No.N=a||!(this.tf||this.qf||this.uf||this.Qe||this.ne||this.nf)||this.displayHeight<G.jy;this.No.Jb=this.tf?"Display":this.uf?"Advanced":this.Qe?"Playback":this.ne?"Pattern":this.qf?"Clipboard":this.nf?"General":"";this.Ve.locked=-1!==this.g.Zd||this.g.Oh||this.g.Ea&&1<this.g.ba.m||this.g.aa||this.g.Ed||this.g.ia||-1!==this.g.O||this.g.ja||2<this.g.i||this.g.D;this.Ve.locked&&(this.Ve.current=[!1]);this.wd.locked=this.Ua||
this.g.la||this.g.D||this.g.v||this.g.G;this.qd.locked=this.g.ia||this.g.aa||0===this.g.lb;this.Ld.locked=!(this.g.ia||this.g.aa);g=a||0===this.s.i.length||e;this.Mk.N=g;this.um.N=g;g=a||!this.La||this.lb||this.Cc||this.Ga;this.Xl.N=g;this.Eh.N=g;this.Yl.N=g;this.Fh.N=g;this.Vl.N=g;this.zh.N=g;this.gx.N=g;this.Hp.N=g;this.jn.N=g;this.kn.N=g;this.Ip.N=g;this.Ah.N=g;this.Ch.N=g;this.Dh.N=g;this.Bh.N=g;this.Kp.N=0===this.ha||0!==this.B;this.cq.N=!(this.Cn&&this.B&&this.Kd===G.Qg);this.Yo.N=!(this.B&&
this.Kd!==G.Qg);this.ld.N=!(this.B&&this.Kd!==G.Qg)||!this.Ci;this.Cl.N=b;this.Hl.N=b;this.Bl.N=b;this.Jl.N=b||this.g.la||this.g.v||this.g.G||this.g.D;this.Zi.N=b;this.Xi.N=b;this.xh.N=b;this.wh.N=b;this.Yi.N=b||0===this.s.B();this.ro.N=!(this.B&&this.Kd!==G.Qg)||this.Ci;if(this.hx){this.hx=!1;b=this.ld.y;for(c=0;c<this.F.length&&b<this.displayHeight-66*this.h.B;)d[c]=this.F[c][1],f[c]="Top"===d[c]?"go to top of topic [Home]":"",b+=26*this.h.B,c+=1;this.ld.lower=d;this.ld.Y=f;this.ld.wa(26*d.length);
this.ld.current=0}g=a||!this.Cc||e;this.an.N=g;this.Xg.N=g;this.Tk.N=g;this.Xe.N=g;this.wk.N=g;this.Th.N=g;this.Od.N=g;this.ol.N=g;this.sl.N=g;this.uj.N=g;g=a||!this.Cc||e;this.Zk.N=g;this.Sk.N=g;this.Uk.N=g;this.Wk.N=g;this.Qk.N=g;this.zl.N=g;this.Al.N=g;this.Ym.N=g;this.Um.N=g;this.gg.N=g;this.gl.N=g;this.el.N=g;this.Lf.N=g||!(this.g.P||this.g.v);this.Kf.N=g;this.Ac.N=g;this.ge.N=g;this.Rj.N=g;this.Tj.N=g;g=a||!this.Cc||e||2>=this.g.i||this.g.la;this.Wh.N=g||this.g.s;g=this.U;this.Th.locked=g;this.Od.locked=
g;g=!this.R;this.ol.locked=g;this.Tk.locked=g;g=!(this.R||this.qa)||this.U;this.Zk.j(g);this.Ac.j(g);this.Wh.j(g);this.ge.j(g);this.Sk.j(g);this.Uk.j(g);this.Wk.j(g);this.Qk.j(g);this.zl.j(g);this.Al.j(g);this.Ym.j(g);this.Um.j(g);this.gg.j(g);this.gl.j(g);this.el.j(g);this.Lf.j(g);this.Kf.j(g);this.Rj.j(g);this.Tj.j(g);g=!this.R||this.U;this.sl.locked=g;g=(!this.wn||null===this.hb[this.Hb])&&!this.Sb||this.qa||this.U;this.uj.locked=g;g=a||!this.lb||!this.Eg||e;this.cb.N=g;this.ta.N=g;if(2>=this.g.i&&
!this.g.D)for(c=0;c<this.ta.lower.length;c+=1)b=2>=c?0===c?c:1===c?y.xa:y.ki:128+G.pb[c],this.ta.K[c]="rgb("+this.g.sa[b]+","+this.g.ra[b]+","+this.g.qa[b]+")";else for(c=0;c<this.ta.lower.length;c+=1)b=0===c+this.Zb?0:this.g.la||this.g.s||this.g.D||this.g.v||this.g.G?c+this.Zb+this.ua:this.ua+this.g.i-(c+this.Zb),this.ta.K[c]="rgb("+this.g.sa[b]+","+this.g.ra[b]+","+this.g.qa[b]+")";g=a||!this.lb||e;this.ad.N=g;this.hl.N=g;this.Ei.N=g;this.Vj.N=g;this.am.N=a||!this.lb||!this.Eg||this.g.i<=this.cc||
e;this.bm.N=a||!this.lb||!this.Eg||this.g.i<=this.cc||e;this.g.i>this.cc&&this.pz();if(0<this.B){c=0;for(b=-1;c<this.F.length&&-1===b;)this.F[c][0]>this.B?b=this.F[c][0]:c+=1;c===this.F.length&&(b=c);-1!==b&&(this.ld.current=c-1)}this.nd&&(this.h.N=this.Pb?!0:!1);this.eg.locked=!this.g.ee;g=this.displayHeight<G.Dl;(this.ja.locked=g)&&this.ze?(this.ja.N=!0,this.vf.setPosition(this.ja.position,this.ja.X,this.ja.B),this.vf.A=!0):(this.ja.N=!1,this.vf.setPosition(da.Ib,-40,-90),this.vf.A=this.ja.current[0])};
fa.prototype.MF=function(){var a=-(this.g.width/2-this.g.ma-this.g.Ja|0),b=-(this.g.height/2-this.g.ka-this.g.Aa|0),c=String(a),d=String(b);this.g.ia&&(a+=63,c=String(a));this.Xl.N=!this.La;this.Eh.N=!this.La;this.Yl.N=!this.La;this.Fh.N=!this.La;this.Vl.N=!this.La;this.zh.N=!this.La;this.gx.N=!this.La;this.Hp.N=!this.La;this.jn.N=!this.La;this.kn.N=!this.La;this.Ip.N=!this.La;this.Ah.N=!this.La;this.Ch.N=!this.La;this.Bh.N=!this.La;this.Dh.N=!this.La;if(-99999>a||99999<a)c=(a/1E3|0)+"K";if(-99999>
b||99999<b)d=(b/1E3|0)+"K";this.Eh.Jb=c;this.Fh.Jb=d;this.zh.Jb=this.g.angle.toFixed(0)+"\u00b0";this.Ah.Jb=this.gn.toFixed(3);this.Ch.Jb=this.ao.toFixed(3);this.Dh.Jb=this.co.toFixed(3);this.Bh.Jb=this.Yn.toFixed(3)};fa.prototype.nG=function(){0===this.g.counter?this.co=this.gn=this.ao=this.Yn=0:(this.ao=(this.g.B.M-this.g.Bb.M)/this.g.counter,this.Yn=(this.g.B.J-this.g.Bb.J)/this.g.counter,this.gn=(this.g.B.L-this.g.Bb.L)/this.g.counter,this.co=(this.g.B.I-this.g.Bb.I)/this.g.counter)};fa.prototype.IF=
function(){this.ae.current=[this.ka];this.Yg.current=[!this.tc&&this.eb];this.Yg.locked=!this.eb;this.sb?(this.Oc.lower[0]="TRACK",this.Oc.current=[!this.Ob&&this.sb],this.Oc.locked=!this.sb,this.Oc.Y=["toggle track mode [W]"]):(this.Oc.lower[0]="WAYPT",this.Oc.current=[!this.ub&&this.Da],this.Oc.locked=!this.Da,this.Oc.Y=["toggle waypoint mode [W]"]);this.Wf.current=[!this.Ba&&-1!==this.Ub];this.Wf.locked=-1===this.Ub;this.Wf.Y=["loop at "+this.Ub+" [Shift P]"];this.Ng.current=[!this.Nb&&-1!==this.uc];
this.Ng.locked=-1===this.uc;this.Ng.Y=["stop at "+this.uc+" ["+this.G+" P]"]};fa.prototype.hn=function(a,b){this.elapsedTime+=a/b};fa.prototype.$g=function(){var a=this.g.B,b=this.g.hb,c=this.g.A;this.g.$k.set(a);this.g.bl.set(b);this.eh&&this.lC();this.g.Gl(this.Ab);this.g.cg();this.eh&&this.FA();this.g.pg(this);this.zn();this.g.ei();0===this.g.A&&(a.set(this.g.$k),b.set(this.g.bl));this.Hk=0===this.g.A&&0!==c?!0:!1;this.g.counter&&0<this.g.A&&(this.Xb.I=this.g.B.I,this.Xb.J=this.g.B.J,this.Xb.L=
this.g.B.L,this.Xb.M=this.g.B.M,this.cl(this,this.Xb))};fa.prototype.VE=function(){null!==this.g.Ab&&this.g.rd===Ha.kh&&4<this.g.i?this.g.nb=0:this.g.lm()};fa.prototype.eA=function(){var a="#C Identify Snapshot\n#CXRLE Gen="+this.g.counter+"\n",b=document.getElementById("ViewerCopy"),c,d=29979527;if(b){for(c=0;c<this.g.Sb;c+=1)a+="#I "+this.g.Ke[c]+"|"+this.g.Ge[c]+"|"+this.g.fe[c]+"|"+this.g.Gc[c<<1]+"|"+this.g.Gc[(c<<1)+1]+"\n",d=99999989*d^this.g.Ke[c]+this.g.Ge[c]+this.g.fe[c]+c;a=a+("#I "+(d|
0)+"\n#C [[ AUTOIDENTIFY ]]\n")+this.g.Yf(this,this.g,this.g.i,this.g.i,[],!1,y.hp);b.innerHTML=a;b.value=b.innerHTML;this.C.notification.notify("Saved Identify Snapshot",15,360,15,!0)}};fa.prototype.UG=function(a,b){0===a.g.nb&&(a.g.Mf=performance.now());do{this.g.Wn();var c=performance.now()-b}while(14>c&&-1!==a.g.nb);-1===a.g.nb&&(a.g.Mf=performance.now()-a.g.Mf,a.C.O=10);a.C.we(!0)};fa.prototype.cm=function(a,b,c){a.h.locked=!1;b?c&&a.C.notification.notify("Cancelled",15,80,15,!0):a.Yc&&(c||-1!==
a.yf)&&(a.C.notification.notify("Arrived at generation "+a.g.counter,15,150,15,!0),-1!==a.yf&&(c=(performance.now()-a.yf)/1E3,b=a.ei/c,a.C.notification.notify(a.ei+" gens in "+c.toFixed(1)+"s = "+b.toFixed(1)+"gps",15,1200,15,!1),a.nn=c,a.By=a.ei));-1===a.yf&&(0!==a.g.A||a.ee||a.g.counter<=a.de)&&a.C.notification.clear(!1,!1);a.ba("");a.Wa=-1;a.yf=-1};fa.prototype.vH=function(a){var b=performance.now();for(a.h.locked=!0;!a.ig()&&a.g.counter<a.Wa&&(-1!==a.yf||13>performance.now()-b);)a.$g(),a.ig()&&
-1===a.wb&&(a.wb=a.g.counter,a.Yc&&(-1===a.Ub||a.Ba)&&(a.g.s||a.g.ja?a.C.notification.notify("Life ended at generation "+(a.g.ac+a.Ja),15,600,15,!1):a.C.notification.notify("Life ended at generation "+(a.g.counter+a.Ja),15,600,15,!1))),a.hn(0,1);a.Rn(a,!1,0,!1);a.bG(a);a.la=a.g.counter*a.ic;a.C.we(!0);(a.g.counter>=a.Wa||a.ig())&&a.cm(a,0===a.g.A&&!(a.ee||a.g.counter<=a.de),!1)};fa.prototype.IE=function(a){var b=performance.now();a.h.locked=!0;a.la=a.g.counter*a.ic;for(a.gm();a.yb&&13>performance.now()-
b&&(0<a.g.A||a.ee||a.g.counter<=a.de);){-1===a.g.kf&&(a.$g(),0===a.g.A&&-1===a.wb&&(a.wb=a.g.counter,a.Yc&&(a.Gk||a.g.counter<=a.de||(a.g.s||a.g.ja?a.C.notification.notify("Life ended at generation "+(a.g.ac+a.Ja),15,600,15,!1):a.C.notification.notify("Life ended at generation "+(a.g.counter+a.Ja),15,600,15,!1)))),a.hn(0,1));if(0<a.g.A||a.ee||a.g.counter<=a.de){var c=a.g.No(a);0<c.length&&(c[0]===y.TA?(c[0]="Nothing Identified",a.Zy="none",a.Eb="none",a.Jk="",a.pj="",a.Ik="",a.rn="",a.ij="",a.Lk=
"",a.mj="",a.jj="",a.Lh="",a.Ih="",a.lj="",a.pn="",a.sn="",a.qn="",a.Ky=""):(a.Zy=c[0],a.Eb=c[1],"Empty"!==a.Eb&&(a.Jk=c[2],a.pj=c[3],a.Ik=c[4],a.rn=c[5],a.ij=c[6],a.Lk=c[7],a.mj=c[8],a.jj=c[9],a.Lh=c[10],a.Ih=c[11],a.lj=c[12],a.pn=c[13],a.sn=c[14],a.qn=c[15],a.Ky=0<=a.g.yc?String(a.g.Sb+" / "+(100*a.g.yc/y.Jo).toFixed(1)+"%"):String(a.g.Sb),a.bj.Jb=a.ij,a.bj.Y=-1===a.ij.indexOf("|")?"":"min | max | average",a.ip.Jb=a.Ik,a.yp.Jb=a.Jk,a.Ap.Jb=a.mj,a.Ep.Jb=a.Lk,a.Sl.Jb=a.pj,a.Sl.Y=-1===a.pj.indexOf("|")?
"":"simplified | unsimplified",a.Ml.Jb=a.jj,a.Ml.Y=-1===a.jj.indexOf("|")?"":"min | max | average",a.Gp.Jb=""===a.Ih?a.Lh+" | N/A":a.Lh+" | "+a.Ih,a.Gp.Y="normal | strict",a.Ai.Jb=a.lj,a.Kl.Jb=a.pn,a.Kl.Y="rotor | stator | total",a.Ul.Jb=a.sn,a.Ul.Y="active | rotor","Still Life"===a.Eb?(a.Ai.Jb=a.qn,a.cj.Jb="Density"):a.cj.Jb="Mod"),a.Bb=!0,a.AA()),a.yb=!1,a.Pb&&(a.lc.current=a.Ud(G.ve,!0,a)),a.ba(""),a.Md.Jb=c[0],"Empty"===a.Eb||"none"===a.Eb||""===a.Eb?(a.C.notification.notify(c[0],15,240,15,!1),
a.Bb=!1):(a.C.notification.clear(!0,!1),a.C.notification.clear(!1,!1),a.la=a.g.counter*a.ic,a.gm(),a.Gb(!0,!1,G.rg)),a.g.Mg(a.yb),a.h.locked=!1)}else a.yb=!1,a.Pb&&(a.lc.current=a.Ud(G.ve,!0,a)),a.ba(""),a.Bb=!1,a.g.Mg(a.yb),a.h.locked=!1;if(-1!==a.g.kf){a.Ji.locked=!0;break}}a.Rn(a,!1,0,!1);a.YF(a);a.la=a.g.counter*a.ic;a.C.we(!0)};fa.prototype.DG=function(a){for(var b=a.Np,c=performance.now(),d=this.Ab,f=51*y.$q;a.g.counter<b&&13>performance.now()-c;)this.Ab=b-1-a.g.counter<=f?!1:d,a.$g();a.g.counter===
b?(a.Zg=!1,a.Mp&&a.C.notification.clear(!0,!1),a.la=a.g.counter*a.ic,a.h.locked=!1):a.h.locked=!0;a.UF(a,b);a.Rn(a,!1,0,!1);a.Ab=d;a.C.we(!0)};fa.prototype.tI=function(){var a,b;var c=b=0;var d,f=1,e=V.Ee;for(a=0;a<e.length;a+=1){var g=e[a].width;var k=e[a].height;g>b&&(b=g);k>c&&(c=k)}for(a=0;1<<a<=b||1<<a<=c;)a+=1;var l=1<<a;for(k=g=Math.ceil(Math.sqrt(e.length));4096<g*l/f||4096<k*l/f;)f+=1;this.$e=document.createElement("canvas");this.$e.width=g*l/f;this.$e.height=k*l/f;this.Yk=this.$e.getContext("2d");
this.Yk.fillStyle="black";this.Yk.fillRect(0,0,this.$e.width,this.$e.height);this.$k=this.C.ub(this.pH,this.Ys,this);this.$k.X=.2;var m=this.displayWidth/g;var n=this.displayHeight/k;for(c=0;c<k;c+=1)for(b=0;b<g;b+=1)if(a=c*k+b,a<e.length){var q=e[a].name;q.endsWith(".rle")&&(q=q.substring(0,q.length-4));q=this.$k.i(this.mF,da.ed,b*m,c*n,m,n,q);q.lower=a;this.Yk.fillStyle="rgb(32,255,255)";var p=e[a].map;var r=p.length;var u=p[0].length;for(d=1;r*d<l&&u*d<l;)d+=1;--d;1<d&&--d;var t=l-u*d>>1;var v=
l-r*d>>1;var A=Math.ceil(d/f);for(q=0;q<r;q+=1){var w=p[q];for(a=0;a<u;a+=1)0<w[a]&&this.Yk.fillRect(Math.ceil((b*l+a*d+t)/f),Math.ceil((c*l+q*d+v)/f),A,A)}}this.C.ja(this.$k);this.oa.fillStyle="blue";this.oa.fillRect(0,0,this.va.width,this.va.height)};fa.prototype.pH=function(a,b){a=b.$e.width;var c=b.$e.height;var d=b.displayWidth/a;var f=b.displayHeight/c;f>d&&(d=f);b.oa.fillStyle="black";b.oa.fillRect(0,0,b.va.width,b.va.height);b.oa.save();b.oa.translate(b.displayWidth/2,b.displayHeight/2);b.oa.scale(d,
d);b.oa.imageSmoothingEnabled=!0;b.oa.imageSmoothingQuality="high";b.oa.drawImage(b.$e,-(a/2),-(c/2));b.oa.restore()};fa.prototype.zG=function(a,b){var c=performance.now();b.Gt&&(b.nb.current=b.zp([!0],!0,b),b.Gt=!1,b.C.m=!0);b.Zg?b.DG(b):b.yb?b.IE(b):-1!==b.Wa?b.vH(b):(b.fH(a,b),b.g.D&&-1!==b.g.nb&&b.UG(b,c))};fa.prototype.Ys=function(a){a.g.counter=0;a.g.ac=0;a.g.Ue=0;a.la=0;a.elapsedTime=0;a.g.ma=a.g.width>>1;a.g.ka=a.g.height>>1;a.g.ma&=a.g.width-1;a.g.ka&=a.g.height-1;a.ly=!0;a.wb=-1};fa.prototype.Mz=
function(a,b,c){b&&(c.Mc=a[0]);return[c.Mc]};fa.prototype.ZD=function(a,b,c){b&&(c.rd=a[0]);return[c.rd]};fa.prototype.xE=function(a,b,c){b&&(c.g.Ec=a[0]);return[c.g.Ec]};fa.prototype.hE=function(a,b,c){b&&(c.La=a[0]);return[c.La]};fa.prototype.ND=function(a,b,c){b&&(c.g.Gb=a[0]);return[c.g.Gb]};fa.prototype.Ly=function(a,b,c){b&&(c.i=a[0]);return[c.i]};fa.prototype.Pz=function(a,b,c){b&&(c.Jg=a[0]);return[c.Jg]};fa.prototype.Cy=function(a,b,c){b&&(c.Id=a[0],V.Ey(G.DB,c.Id),a=c.Id?V.Xr(G.Ru):G.dd,
c.sA(a),c.kc.current=1===c.P&&c.da===G.dd?c.Ec([1,1],!0,c):c.Ec([c.xf(),1],!0,c));return[c.Id]};fa.prototype.cA=function(a){V.HD(G.Ru,a.P*a.da);a.Oi.current=a.Cy([!0],!0,a)};fa.prototype.Iz=function(a,b,c){b&&(c.lf=a[0],V.Ey(G.Dy,c.lf));return[c.lf]};fa.prototype.Sz=function(a,b,c){b&&(c.Ce=a[0],V.Ey(G.AE,c.Ce));return[c.Ce]};fa.prototype.im=function(a,b,c){b&&(c.vh=a[0],c.th=a[1],c.uh=a[2]);return[c.vh,c.th,c.uh]};fa.prototype.jp=function(a,b,c){b&&(c.ra.current!==G.bi&&(c.ra.current=c.Yd(G.bi,!0,
c)),c.ja.current[0]&&(c.ja.current=c.Af([!1],!0,c)),c.Ga=a[0]);return[c.Ga]};fa.prototype.pI=function(a,b,c){b&&(c.g.ud=a[0]);return[c.g.ud]};fa.prototype.lE=function(a,b,c){b&&(c.me=a[0]);return[c.me]};fa.prototype.qD=function(a,b,c){b&&(c.g.jb=a[0]);return[c.g.jb]};fa.prototype.ZC=function(a,b,c){b&&(c.fd=a[0],c.fd&&!c.g.Za&&(c.lb||c.Cc)&&(c.kd.current=c.bk([!0],!0,c)));return[c.fd]};fa.prototype.Az=function(a,b,c){b&&(c.g.Wa=a,c.g.bk(),c.g.zh(),0===(c.g.counter&1)?c.g.ng(c.g.va):c.g.ng(c.g.Ta));
return c.g.Wa};fa.prototype.DC=function(a,b,c){b&&(c.g.Gd=a[0]);return[c.g.Gd]};fa.prototype.bD=function(a,b,c){b&&(c.nd=a[0]);return[c.nd]};fa.prototype.$y=function(a,b,c){b&&(c.g.Fa=a[0],c.aC());return[c.g.Fa]};fa.prototype.Bp=function(a,b,c){b&&(c.C.j=a[0]);c.C.we(!0);return[c.C.j]};fa.prototype.Tg=function(a,b,c){b&&(c.C.F=a[0]);c.C.we(!0);return[c.C.F]};fa.prototype.zg=function(a,b,c){var d=c.g.qb;if(d!==a){c.g.Mj(a,b,c);1<c.g.af&&(c.C.O=c.g.af);for(b=0;b<=c.g.Tb;b+=1)c.hi[b].current=a!==G.ir[b]?
[!1]:[!0];c.m.s=!0;c.m.H=c.g.md;-1!==d&&!c.g.pa[a].H(c.g.P,c)&&c.g.pa[d].H(c.g.P,c)&&c.g.bk();c.qd.current=[c.g.Ec&&0<c.g.lb]}};fa.prototype.xf=function(){var a=G.zB;this.da>G.dd&&(this.da=G.dd);var b=Math.sqrt((this.da-G.Cg)/(G.dd-G.Cg));var c=(this.P-G.ih)/(this.Pf-G.ih);return 0===c?b*(1-a):c*(1-a)+1+a};fa.prototype.yA=function(a){var b=G.zB;this.da>G.dd&&(this.da=G.dd);a<=1-b?(a/=1-b,this.da=Math.round(G.Cg+a*a*(G.dd-G.Cg)),this.P=1):(a<1+b?a=0:(a-=1+b,a/=1-b),this.da=G.dd,this.P=Math.round(G.ih+
a*(this.Pf-G.ih)))};fa.prototype.Ec=function(a,b,c){var d=c.xf();b&&(d=a[0],c.yA(d));c.da>G.dd&&(c.da=G.dd);return[d,Math.round(c.da)<G.dd?String(Math.round(c.da))+"/s":String(Math.round(c.P))+"x"]};fa.prototype.Rt=function(a){a.Uj=a.g.zoom;a.ma&&(a.Uj*=a.$b);a.Wt=a.g.angle;a.iA=a.g.xb;a.Ca=a.g.ma;a.Mb=a.g.ka};fa.prototype.Lz=function(a){a.Hg=a.g.width/2-a.g.ma;a.Ig=a.g.height/2-a.g.ka;a.gi=a.g.zoom;a.Fg=a.g.angle;a.Gg=a.g.xb;a.$f=a.g.width/2-a.Ca;a.Ti=a.g.height/2-a.Mb;a.yl=a.Wt;a.Si=a.iA;a.Ui=a.ma?
a.Uj/a.$b:a.Uj;a.Nc=0};fa.prototype.nH=function(a,b){a.g.zoom=a.zA;a.ma&&(a.g.zoom/=a.$b);a.qc&&(a.qc.current=a.Zd([a.g.zoom,a.g.zoom],!1,a));a.g.angle=a.Mi;a.wa&&(a.wa.current=[a.Mi,a.Mi]);a.g.xb=a.Pi;a.kb&&(a.kb.current=[a.il(a.Pi),a.Pi]);a.g.ma=a.Aa;a.g.ka=a.Kb;b&&(a.zg(a.yo,1,a),a.Ua&&(a.g.ce=0),a.da=a.so,a.P=a.wo,a.kc.current=1===a.P&&a.da===G.dd?a.Ec([1,1],!0,a):a.Ec([a.xf(),1],!0,a),a.g.za=a.Ni,a.qb.current=[a.Ni,a.Ni],b=Math.sqrt(a.Xp),a.Ia.current=a.Bf([b,b],!0,a),a.xg.current=this.Az(this.Me,
!0,a))};fa.prototype.Qz=function(a){a?(this.g.ma+=this.g.Ja,this.g.ka+=this.g.Aa,this.g.zoom*=this.g.cb):(this.gm(),this.g.ma-=this.g.Ja,this.g.ka-=this.g.Aa,this.g.zoom/=this.g.cb,this.gm());this.g.zoom<G.Fb?this.g.zoom=G.Fb:this.g.zoom>G.Qb&&(this.g.zoom=G.Qb)};fa.prototype.Hz=function(a){a.elapsedTime=0;a.Ua||(a.g.Zg(a,a.Ab),a.g.Zh())};fa.prototype.reset=function(a){var b=!1,c=!1,d=a.s.F();this.Hk=!1;this.dh&&this.g.Yl();0===a.g.counter&&a.C.Gb();if(0===a.elapsedTime||a.Xo)b=!0;a.Ba||-1===a.Ub||
a.g.counter>=a.Ub&&(c=!0);a.g.ac=0;a.g.Ue=0;c||b||(a.Da&&(a.ub=!0),a.sb&&(a.Ob=!0),-1!==a.Ub&&(a.Ba=!0),-1!==a.uc&&(a.Nb=!0),a.un&&(a.ka=!1));a.elapsedTime=0;a.g.Ja=0;a.g.Aa=0;a.g.cb=1;if(b){(this.g.ja||this.g.s)&&null!==this.g.Cb&&a.Xn&&(a.g.Zb=!0);a.Da&&(a.ub=!1);a.sb&&(a.Ob=!1);a.un&&(a.ka=!0);if(!c||a.Da&&a.s.H||a.ka)a.nH(a,b),a.ka&&a.Gb(!0,!1,G.rg);a.Ba=!1;c||(a.Nb=!1)}a.Ua||(a.g.Zg(a,a.Ab),Array.Of(a.g.j,a.g.wa),Array.Of(a.g.j,a.g.m),-1!==a.g.O&&a.g.dh(),a.g.P||-1!==a.g.i||a.g.ng(a.g.va));a.bc||
a.g.ci();a.g.Zh();a.rz=-1;a.oc=!1;a.s.Za();a.yb&&(a.yb=!1,a.C.notification.clear(!0,!1));a.g.Mg(a.yb);b?d&&d.Ns?d.xe!==a.We&&(a.C.notification.notify(vb.Wm(a,d.xe),15,21600,15,!1),a.We=d.xe):(a.C.notification.clear(!1,!1),a.We=""):(a.C.notification.clear(!1,!1),a.We="");a.wb=-1;a.g.Ug=0;a.R=!1;a.Qc=!1;a.nc=!1;a.BH();a.Bb=!1;a.Dt();a.Ri=!0};fa.prototype.Zh=function(a){var b=this.g.yb;if(a){var c="pause";a="pause [Enter]"}else a="play [Enter]",this.g.ja||this.g.s?(this.g.Zb&&(b=!b),c=b?"reverse":"play"):
c="play";if(this.g.ja||this.g.s)if(b=this.g.yb,this.g.Zb&&(b=!b),b){var d="stepback";b="stepforward";var f="step back [Shift Tab]";var e="step forward [Tab]"}else d="stepforward",b="stepback",f="step forward [Tab]",e="step back [Shift Tab]";else d="stepforward",b="stepback",f="step forward [Tab]",e="step back [Shift Tab]";this.lc.h[G.ve]=this.m.h(d);d=this.lc.Y;d[G.ve]=f;this.lc.Y=d;this.lc.h[G.Oo]=this.m.h(b);d=this.lc.Y;d[G.Oo]=e;this.lc.Y=d;this.lc.h[G.yj]=this.m.h(c);this.lc.Y[G.yj]=a};fa.prototype.mF=
function(a,b){b=a.C.i.v[b].lower;a.C.ja(a.h);V.Lm=!1;a.Xa=b;a.ii(V.Ee[a.Xa].pattern,!1)};fa.prototype.wD=function(a){V.Lm=!0;a.C.ja(a.$k)};fa.prototype.yF=function(a){localStorage.setItem(G.HB,"y");a.bA()};fa.prototype.Dc=function(a,b){b.Kd=a;b.B=1;b.Ci=!0;b.ap=[];b.fp=[];this.hx=!0};fa.prototype.hL=function(a){a.Dc(G.Bv,a)};fa.prototype.MK=function(a){a.Dc(G.Fy,a)};fa.prototype.NJ=function(a){a.Dc(G.Tr,a)};fa.prototype.YE=function(a){a.Dc(G.Sy,a)};fa.prototype.zH=function(a){a.Dc(G.Cu,a)};fa.prototype.xF=
function(a){a.Dc(G.cu,a)};fa.prototype.KE=function(a){a.Dc(G.dw,a)};fa.prototype.aI=function(a){a.Dc(G.Du,a)};fa.prototype.BF=function(a){a.Dc(G.fu,a)};fa.prototype.fI=function(a,b,c){b&&(c.B=c.F[a][0],c.Ci=!1);return a};fa.prototype.Ux=function(a,b,c){b&&(c.be=a[0],c.be&&c.Vk(c));return[c.be]};fa.prototype.zL=function(a){a.Vk(a)};fa.prototype.mz=function(a,b,c){b&&(c.xd=a[0]);return[c.xd]};fa.prototype.my=function(a,b,c){b&&(c.Sb=a[0],c.Sb&&(c.Eo=!0));return[c.Sb]};fa.prototype.Yd=function(a,b,c){var d=
a;if(b){switch(a){case G.El:c.Ij=!1;c.U||c.g.la?d=c.ra.current:(c.lb=!0,c.ad.current=c.Ae([!1],!0,c),c.Cc=!1);c.yn(c);c.fd&&(c.kd.current=c.bk([!0],!0,c));break;case G.zj:c.lb=!1;c.ad.current=c.Ae([!1],!0,c);c.Cc=!0;c.fd&&(c.kd.current=c.bk([!0],!0,c));break;case G.bi:c.lb=!1,c.Cc=!1,c.ad.current=c.Ae([!1],!0,c),c.yn(c),c.fd&&(c.kd.current=c.bk([!1],!0,c))}c.ap=[];c.fp=[];c.ja.current[0]&&(c.ja.current=c.Af([!1],!0,c),c.C.m=!0);c.Ga&&(c.Ga=!1,c.Oe.current=c.jp([c.Ga],!0,c))}c.Yt(d);return d};fa.prototype.Yt=
function(a){if(this.B||this.ha)this.h.ba("grab");else switch(a){case G.El:this.h.ba("auto");break;case G.bi:this.h.ba("grab");break;case G.zj:this.h.ba("crosshair")}};fa.prototype.xD=function(a,b,c){b&&(c.Hb=a,c.ql(),c.Xe.current=[!1],c.C.m=!0,c.qa?c.Ft(c,a):c.C.notification.notify("Clipboard "+a+" active",15,80,15,!0));return c.Hb};fa.prototype.tH=function(){return G.kz[this.Od.current]};fa.prototype.sz=function(a,b,c){b&&(c.og=a,c.Za=G.kz[a]);return c.og};fa.prototype.hF=function(a){a.U||(a.og+=
1,3<a.og&&(a.og=0),a.Od.current=a.sz(a.og,!0,a))};fa.prototype.sq=function(a){var b=-1,c,d=0,f=0,e=0,g=0;for(c=0;c<a.length&&-1===b;){switch(a.charAt(c)){case "N":d+=1;break;case "S":f+=1;break;case "E":e+=1;break;case "W":g+=1;break;default:b=-2}c+=1}if(1<d||1<f||1<e||1<g)b=-2;-2!==b&&(b=d|e<<1|f<<2|g<<3);return b};fa.prototype.LA=function(a){var b=-1,c;'"'===a.charAt(0)&&(a=a.substring(1,a.length-1));if(this.g.D)for(c=0;c<this.jf.length&&-1===b;)void 0!==this.jf[c]&&this.jf[c]===a&&(b=c),c+=1;else if(2>=
this.g.i)if(this.g.P)for(c=0;c<G.jf.length&&-1===b;)G.jf[c]===a&&(b=c),c+=1;else"alive"===a?b=1:"dead"===a&&(b=0);else if("dead"===a)b=0;else if(this.g.s)b=this.sq(a);else if(this.g.v)for(c=0;c<y.Qo.length&&-1===b;)y.Qo[c]===a&&(b=c),c+=1;else if(this.g.G)for(c=0;c<y.Po.length&&-1===b;)y.Po[c]===a&&(b=c),c+=1;else"alive"===a?b=1:"dying "===a.substring(0,6)&&(b=Number(a.substring(6))+1,b>=this.g.i&&(b=-1));return b};fa.prototype.sh=function(a){var b="";if(this.g.D)b=void 0===this.jf[a]?"state "+String(a):
this.jf[a];else if(2>=this.g.i)if(this.g.P)b=G.jf[a];else switch(a){case 0:b="dead";break;case 1:b="alive";break;default:b="state "+String(a)}else 0===a?b=this.g.la?"state 0":"dead":this.g.s?(0!==(a&1)&&(b+="N"),0!==(a&2)&&(b+="E"),0!==(a&4)&&(b+="S"),0!==(a&8)&&(b+="W")):b=this.g.v?y.Qo[a]:this.g.G?y.Po[a]:this.g.la?"state "+String(a):1===a?"alive":"dying "+String(a-1);return b};fa.prototype.Cz=function(a,b,c){var d=a;b&&(2>=c.g.i?c.Df=a:(a+=c.Zb,c.Df=0===a?0:c.g.la||c.g.s||c.g.D||c.g.v||c.g.G?a:
c.g.i-a),c.Vh?c.C.notification.notify("Replace: Now click on a cell",15,180,15,!0):(c.ad.current=c.Ae([!1],!0,c),c.C.notification.notify("Drawing with state "+a+" ("+c.sh(a)+")",15,120,15,!0)));return d};fa.prototype.Cd=function(a){var b=this.g.i,c=this.cc;-1===b&&(c=b=2);this.g.P&&(c=b=7);a<b&&(a>=c?(this.Zb=a-c+1,a=c-1):a>=this.Zb?a-=this.Zb:(this.Zb=a,a=0),this.cb.current=this.Cz(a,!0,this),this.am.current=this.Ez([this.Zb/(this.g.i-this.cc),0],!0,this))};fa.prototype.QI=function(a,b,c){var d=
0;if(b)for(;d<a.length;)a[d]&&(a[d]=!1,c.cb.current=c.Cz(d,!0,c)),d+=1;return a};fa.prototype.TG=function(a){var b=0,c=this.Df,d=this.g.hb;var f=this.ga;var e=d.I,g=d.L;var k=d.J;d=d.M;var l=(this.g.width>>1)-(this.v>>1)+(this.ca<<1);var m=(this.g.height>>1)-(this.A>>1)+(this.fa<<1);-1!==this.g.O&&(this.na?(l-=Math.floor((this.Z-this.v)/2),m-=Math.floor((this.X-this.A)/2),1===(this.v&1)&&0===(this.Z&1)&&--l,1===(this.A&1)&&0===(this.X&1)&&--m):(l=this.K,m=this.H));2<this.g.i&&!(this.g.la||this.g.s||
this.g.D||this.g.v||this.g.G)&&0<a&&(a=this.g.i-a);this.R&&(e=f.I+l,g=f.L+l,e>g&&(l=g,g=e,e=l),k=f.J+m,d=f.M+m,k>d&&(l=d,d=k,k=l));if(c!==a){for(;k<=d;k+=1)for(f=e;f<=g;f+=1)m=this.g.mb(f,k,!1),2<this.g.i&&!(this.g.v||this.g.G||this.g.s||this.g.D)&&0<m&&(m=this.g.i-m),m===a&&(this.sa(f,k,c,!1),b+=1);0<b&&(!this.g.P&&!this.g.v||6!==a&&6!==c||this.g.wb(),this.ba("replace states"))}else this.C.notification.notify("Cell and drawing state are the same",15,120,15,!0)};fa.prototype.En=function(a,b,c){var d=
a.Df,f=a.g.hb,e=0,g=0;if(0<d)if(2<a.g.i&&!(a.g.la||a.g.s||a.g.D||a.g.v||a.g.G)&&(d=a.g.i-d),a.g.P&&1<d&&(g=d&1),a.g.P&&b)if(c){for(c=f.J;c<=f.M;c+=1)for(b=f.I;b<=f.L;b+=1){var k=a.g.mb(b,c,!1);3<=k&&5>=k&&(a.sa(b,c,k&1,!1),e+=1)}0<e&&(a.g.v?a.ba("clear [R]Super marked cells"):a.ba("clear [R]History marked cells"))}else{for(c=f.J;c<=f.M;c+=1)for(b=f.I;b<=f.L;b+=1)k=a.g.mb(b,c,!1),1<k&&(a.sa(b,c,k&1,!1),e+=1);0<e&&(a.g.v?a.ba("clear Super cells"):(this.g.wb(),a.ba("clear History cells")))}else{for(c=
f.J;c<=f.M;c+=1)for(b=f.I;b<=f.L;b+=1)k=a.g.mb(b,c,!1),k===d&&(a.sa(b,c,g,!1),e+=1);0<e&&((a.g.P||a.g.v)&&6===d&&this.g.wb(),a.ba("clear state "+d+" cells"))}return e};fa.prototype.Ud=function(a,b,c){var d=a,f=c.Nb,e=c.Ba,g=c.ub,k=c.tc,l=c.ka,m=c.Ob,n=40,q=0,p=0,r=0,u=0,t=0,v=0,A=0;if(b){c.Ij=!1;switch(a){case G.lw:c.tc=c.Xo||c.eb&&0===c.g.counter&&0===c.elapsedTime?!1:!0;c.eb&&!c.tc?(a=G.yj,c.Pb=!0):(a=G.ve,c.Pb=!1);c.ba("");c.reset(c);b="Reset";!c.Ba&&e&&-1!==c.Ub&&(p=1);c.Ba&&!e&&-1!==c.Ub&&(p=
-1);!c.Nb&&f&&-1!==c.uc&&(r=1);c.Nb&&!f&&-1!==c.uc&&(r=-1);!l&&c.ka&&(A=1);l&&!c.ka&&(A=-1);!c.ub&&g&&(u=1);c.ub&&!g&&(u=-1);!c.Ob&&m&&(t=1);c.Ob&&!m&&(t=-1);!c.tc&&k&&c.eb&&(v=1);c.tc&&!k&&c.eb&&(v=-1);if(0!==p||0!==r||0!==u||0!==t||0!==v||0!==A)b="",0!==p&&(q+=1,b+="Loop"),0!==r&&(0<q&&(b=0<Math.abs(u)+Math.abs(t)+Math.abs(v)+Math.abs(A)?b+", ":b+" and "),q+=1,b+="Stop"),0!==u&&(0<q&&(b=0<Math.abs(t)+Math.abs(v)+Math.abs(A)?b+", ":b+" and "),q+=1,b+="Waypoints"),0!==t&&(0<q&&(b=0<Math.abs(v)+Math.abs(A)?
b+", ":b+" and "),q+=1,b+="Track"),0!==v&&(0<q&&(b=0!==A?b+", ":b+" and "),q+=1,b+="AutoStart"),0!==A&&(0<q&&(b+=" and "),b+="AutoFit"),b=0<r||0<p||0<u||0<t||0<v||0<A?b+" On":b+" Off",n=120;c.C.notification.notify(b,15,n,15,!0);break;case G.yj:c.Pb?(c.Pb=!1,c.ba(""),(c.g.counter!==c.uc||c.Nb||c.Yc)&&c.C.notification.notify("Pause",15,40,15,!0),c.Mh=performance.now()-c.Mh,c.xo&&c.C.notification.notify("Playback time "+(c.Mh/1E3).toFixed(2),15,300,15,!1)):(c.Da&&!c.ub&&(c.g.ja||c.g.s)&&(c.g.yb||!c.g.yb&&
c.g.Zb)&&c.aq(c),c.Pb=!0,c.ba(""),c.Do&&V.Py(c),c.C.notification.notify("Play",15,40,15,!0),c.Mh=performance.now());break;case G.Oo:if(c.Pb)c.Pb=!1,c.ba(""),c.C.notification.notify("Pause",15,40,15,!0);else{if((c.g.ja||c.g.s)&&null!==c.g.Cb){c.g.Zb=!c.g.Zb;c.g.Zb&&c.ba("reverse playback");c.ba("");for(f=0;f<c.P;f+=1)c.$g(),c.la=c.g.counter*c.ic,c.ig()&&-1===c.wb&&(c.wb=c.g.counter,c.Yc&&(-1===c.Ub||c.Ba)&&(c.g.s||c.g.ja?c.C.notification.notify("Life ended at generation "+(c.g.ac+c.Ja),15,600,15,!1):
c.C.notification.notify("Life ended at generation "+(c.g.counter+c.Ja),15,600,15,!1)));c.g.Zb=!0}else 0<c.g.counter&&(q=c.g.A,c.Zt(c.g.counter-c.P)?c.gp(c):c.nr(c.g.counter-c.P),0===q&&0<c.g.A&&(c.wb=-1),0===c.g.counter&&(c.g.P||-1!==c.g.i||c.g.ng(c.g.va)));c.ka&&c.Gb(!0,!0,G.rg)}break;case G.ve:c.Pb?(c.Pb=!1,c.ba(""),(c.g.counter!==c.uc||c.Nb||c.Yc)&&c.C.notification.notify("Pause",15,40,15,!0),c.Mh=performance.now()-c.Mh,c.xo&&c.C.notification.notify("Playback time "+(c.Mh/1E3).toFixed(2),15,300,
15,!1)):(c.sd=!0,c.ba(""))}d=a;c.Zh(c.Pb)}return d};fa.prototype.Sg=function(a,b,c){b&&(c.oc=!0,c.g.angle=a[0]);return[c.g.angle,c.g.angle]};fa.prototype.il=function(a){var b=.5/(.5-G.nl/2);a=(a-G.Qq)/(G.cw-G.Qq);a<.5-G.nl/2?a*=b:a>.5+G.nl/2?(a-=.5+G.nl/2,a=a*b+.5):a=.5;return a};fa.prototype.MJ=function(a){var b=.5/(.5-G.nl/2);a<.5-G.nl/2?a*=b:a>.5+G.nl/2?(a-=.5+G.nl/2,a=a*b+.5):a=.5;return(G.cw-G.Qq)*a+G.Qq};fa.prototype.ek=function(a,b,c){b&&(c.oc=!0,c.g.xb=c.MJ(a[0]));return[a[0],c.g.xb]};fa.prototype.jm=
function(a,b,c){b?(c.oc=!0,c.g.za=a[0]+.5|0,a=a[0]):a=c.g.za;return[a,c.g.za]};fa.prototype.Bf=function(a,b,c){return b?(c.oc=!0,c.g.pc=a[0]*a[0],[a[0],c.g.pc*G.pm]):[Math.sqrt(c.g.pc),c.g.pc*G.pm]};fa.prototype.pG=function(a,b,c,d){var f=Math.round(-this.g.$/2),e=Math.floor((this.g.$-1)/2),g=Math.round(-this.g.Z/2),k=Math.floor((this.g.Z-1)/2),l=this.Df;if(-1===c&&-1===d){if(-1!==this.g.O&&(0===this.g.$&&(f=-this.g.width/2,e=this.g.width/2-1),0===this.g.Z&&(g=-this.g.height/2,k=this.g.height/2-1),
this.dk(a,b),c=this.Hc-this.g.width/2,d=this.Ic-this.g.height/2,c<f||c>e||d<g||d>k))return!0;this.xk=this.DE();2<this.g.i&&!(this.g.la||this.g.s||this.g.D||this.g.v||this.g.G)&&(l=this.g.i-l);this.xk=this.di&&this.xk===l?0:this.Df}else this.dk(c,d),c=this.Hc,d=this.Ic,this.dk(a,b),a=this.Hc,b=this.Ic,this.lG(c,d,a,b,this.xk)&&this.g.wb();0<this.g.A&&(this.wb=-1);return!1};fa.prototype.iC=function(){var a=Math.abs(this.Jt-this.It),b=Math.abs(this.Lt-this.Kt),c=Math.abs(this.lm-this.jl),d=Math.abs(this.rm-
this.nm),f=G.Fb*Math.pow(G.Qb/G.Fb,this.qc.current[0]);f*=Math.sqrt(c*c+d*d)/Math.sqrt(a*a+b*b);f<G.Fb?f=G.Fb:f>G.Qb&&(f=G.Qb);f=Math.log(f/G.Fb)/Math.log(G.Qb/G.Fb);this.qc.current=this.Zd([f,f],!0,this);this.It=this.jl;this.Kt=this.nm;this.Jt=this.lm;this.Lt=this.rm};fa.prototype.DI=function(a,b,c,d,f,e){if(!e.Pa)switch(f){case 0:e.It=a;e.Kt=b;e.Jt=c;e.Lt=d;e.jl=a;e.nm=b;e.lm=c;e.rm=d;break;case 1:e.jl=a;e.nm=b;e.iC();break;case 2:e.lm=a,e.rm=b,e.iC()}e.C.we(!0)};fa.prototype.fJ=function(a,b,c,
d){d.nd&&!c&&(d.lc.current=d.Ud(G.ve,!0,d))};fa.prototype.CH=function(a,b,c,d){d.Pa||d.FD(a,b,c,d,!1)};fa.prototype.WF=function(a,b){b=(a.Kc-b)/a.dg;-1!==a.Kc&&(0<b?a.mo(a,b):0>b&&a.oo(a,-b))};fa.prototype.SF=function(a,b){b=(a.Kc-b)/a.dg;-1!==a.Kc&&(0<b?a.bo(a,b):0>b&&a.eo(a,-b))};fa.prototype.JJ=function(a){this.g.La-=3*Math.sign(a);0>this.g.La&&(this.g.La=0);this.g.La>this.g.Hc-this.g.Oc&&(this.g.La=this.g.Hc-this.g.Oc)};fa.prototype.hG=function(a,b){b=(a.Kc-b)/(24*this.h.s);-1!==a.Kc&&(a.g.La+=
b,0>a.g.La&&(a.g.La=0),a.g.La>a.g.Hc-a.g.Oc&&(a.g.La=a.g.Hc-a.g.Oc))};fa.prototype.$F=function(a,b,c){b=(a.Hh-b)/a.g.ea;c=(a.Kc-c)/a.g.ea/a.g.Eh();if(!a.ka&&-1!==a.Kc){var d=a.g.ia||a.g.aa?0:-a.g.angle;if(a.fb)a.Da&&!a.ub&&(a.lc.current=a.Ud(G.ve,!0,a));else{var f=Math.sin(d/180*Math.PI);d=Math.cos(d/180*Math.PI);a.oc=!0;a.g.ma+=b*d+c*-f;a.g.ka+=b*f+c*d}}};fa.prototype.CF=function(a,b,c){var d=a.Pb,f=a.Ta,e=!1;a.fe||(a.Pb&&a.Fj&&(a.Pb=!1,a.Ij=!0),d&&(a.Ta=0,a.ba(""),a.Ta=f),e=a.pG(b,c,a.Hh,a.Kc),
d&&a.ba(""));return e};fa.prototype.dG=function(a,b,c){a.qa||a.tF(a,b,c)};fa.prototype.Fz=function(a,b){var c=this.g.width>>1,d=this.g.height>>1;this.na?(c-=Math.floor(this.Z/2)-this.ca-this.ca,d-=Math.floor(this.X/2)-this.fa-this.fa):(c=this.K,d=this.H);0===this.g.$?(a.I=0,a.L=this.g.width-1):(a.I=Math.round((this.g.width-this.g.$)/2)+b,a.L=a.I+this.g.$-1);0===this.g.Z?(a.J=0,a.M=this.g.height-1):(a.J=Math.round((this.g.height-this.g.Z)/2)+b,a.M=a.J+this.g.Z-1);return[c,d]};fa.prototype.tF=function(a,
b,c){var d=a.ga,f=new Va(0,0,0,0),e=(a.g.width>>1)-(a.v>>1)+(a.ca<<1),g=(a.g.height>>1)-(a.A>>1)+(a.fa<<1),k=a.g.ja?-1:0;-1!==a.g.O&&(g=a.Fz(f,k),e=g[0],g=g[1]);if(-1!==b&&-1!==c)if(a.R&&(mb.shift?a.nc=!0:a.Qm(a)),a.dk(b,c),-1===a.Kc)a.mA=b,a.oA=c,a.R=!1,a.Qc=!1;else{if(a.nc)d.L=a.Hc-e,d.M=a.Ic-g;else if(b!==a.mA||c!==a.oA)b=!1,-1!==a.g.O&&(a.Hc<f.I||a.Hc>f.L||a.Ic<f.J||a.Ic>f.M)&&(b=!0),b||(a.nc=!0,d.I=a.Hc-e,d.L=d.I,d.J=a.Ic-g,d.M=d.J);a.nc&&(a.dA(a),-1!==a.g.O?(g=a.Fz(f,k),e=g[0],g=g[1]):(e=(a.g.width>>
1)-(a.v>>1)+(a.ca<<1),g=(a.g.height>>1)-(a.A>>1)+(a.fa<<1)));a.nc&&-1!==a.g.O&&(f.I-=e,f.L-=e,f.J-=g,f.M-=g,d.I<d.L?(d.I<f.I&&(d.I=f.I),d.L>f.L&&(d.L=f.L)):(d.L<f.I&&(d.L=f.I),d.I>f.L&&(d.I=f.L)),d.J<d.M?(d.J<f.J&&(d.J=f.J),d.M>f.M&&(d.M=f.M)):(d.M<f.J&&(d.M=f.J),d.J>f.M&&(d.J=f.M)))}};fa.prototype.Qm=function(a){a.R=!1;a.Qc=!1;a.ba("cancel selection");a.nc=!1};fa.prototype.OF=function(a){a.qa?a.Ht(a,a.Hc,a.Ic,!0):a.pF(a)};fa.prototype.Vk=function(a){var b=a.ga,c=a.g.B,d=b.I,f=b.J,e=b.L,g=b.M,k,l=
0,m=(a.g.width>>1)-(a.v>>1)+(a.ca<<1),n=(a.g.height>>1)-(a.A>>1)+(a.fa<<1);a.g.Nb=!0;a.g.Wb();-1!==a.g.O&&(a.na?(m-=Math.floor((a.Z-a.v)/2),n-=Math.floor((a.X-a.A)/2),1===(a.v&1)&&0===(a.Z&1)&&--m,1===(a.A&1)&&0===(a.X&1)&&--n):(m=a.K,n=a.H));if(d>e){var q=d;d=e;e=q}f>g&&(q=f,f=g,g=q);d<c.I-m&&(d=c.I-m);f<c.J-n&&(f=c.J-n);e>c.L-m&&(e=c.L-m);g>c.M-n&&(g=c.M-n);c=e+1;q=d-1;var p=g+1;var r=f-1;for(k=f;k<=g;k+=1)for(f=d;f<=e;f+=1){var u=a.g.mb(f+m,k+n,!1);0<u&&(k<p&&(p=k),k>r&&(r=k),f<c&&(c=f),f>q&&(q=
f),l+=1)}0<l&&(b.I=c,b.J=p,b.L=q,b.M=r)};fa.prototype.pF=function(a){var b=a.ga;if(a.nc)if(a.R=!0,a.nc=!1,a.Qc=!1,a.be&&a.Vk(a),a.R){var c=b.L<b.I?b.I-b.L+1:b.L-b.I+1;b=b.M<b.J?b.J-b.M+1:b.M-b.J+1;a.ba("selection ("+c+" x "+b+")")}else a.Qm(a)};fa.prototype.KF=function(a,b,c){-1!==b&&-1!==c&&(a.Sx=!0,b=a.DE(),a.Vh?(a.TG(b),a.Vh=!1,a.ad.current=a.Ae([!1],!0,a)):(a.xk=b,a.Cd(b)))};fa.prototype.GF=function(a){a.Ij&&(a.Pb=!0,a.Ij=!1,a.C.we(!0));0<a.Ta&&(a.g.Wb(),a.ba(""))};fa.prototype.FD=function(a,
b,c,d,f){var e=!1;-1!==a&&-1!==b&&d.C.A&&(c?(d.ja.current[0]||(d.B?d.WF(d,b):d.ha?d.SF(d,b):d.Bb&&d.Wb!==G.Uh&&0!==d.g.Hc?d.hG(d,b):!d.lb&&!d.Cc||f?d.$F(d,a,b):d.lb?e=d.CF(d,a,b):d.Cc&&d.dG(d,a,b)),e||(d.Hh=a,d.Kc=b)):-1!==d.Hh?(d.B||d.ja.current[0]||(d.lb?d.fe?d.KF(d,a,b):d.GF(d):d.Cc&&d.OF(d)),d.Hh=-1,d.Kc=-1):d.B||d.ja.current[0]||(d.fe?d.Vh?d.C.notification.notify("Replace: Now click on a cell",15,180,15,!0):d.C.notification.notify("Pick: Now click on a cell",15,180,15,!0):d.qa&&d.C.notification.notify("Now click to paste",
15,180,15,!0)))};fa.prototype.kg=function(a,b){this.ka||(8>this.g.zoom&&(0>a?a=-8:0<a&&(a=8),0>b?b=-8:0<b&&(b=8)),this.Kc=this.Hh=0,this.FD(a,b,!0,this,!0),this.Kc=this.Hh=-1)};fa.prototype.Tb=function(a){return Math.ceil(Math.log2(a+1))};fa.prototype.NF=function(a){var b=new Uint8Array(6*Math.ceil(a.length/8)),c,d,f,e;var g=7;for(e=c=d=0;d<a.length;){var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(d));for(f=5;0<=f;--f)e|=(k>>f&1)<<g,--g,0>g&&(b[c]=e,e=0,
g=7,c+=1);d+=1}7>g&&(b[c]=e);return b};fa.prototype.decode=function(a){a=new xb(this.NF(a));var b,c=a.h(12);var d=a.h(12);var f=a.h(4);var e=c/d;var g=c/e,k=new Uint8Array(e),l=new Uint8Array(e),m=new Uint8Array(e),n=c,q=d-2*f,p=0,r=0,u=0,t=0;for(b=0;b<e;b+=1)k[b]=a.h(4),l[b]=a.h(4),n-=k[b]+l[b];var v=this.Tb(e);for(b=0;b<e;b+=1)m[b]=a.h(v);v=this.Tb(Math.ceil(-1+Math.sqrt(1-8*-n*q)/2));var A=a.h(v);var w=a.h(this.Tb(n));var B=new Uint32Array(A);B[0]=a.h(this.Tb(n));var C=a.h(this.Tb(A));for(b=1;0<
C;)B[b]=B[b-1]+1,b+=1,--C;C=b+a.h(this.Tb(A));for(v=2;b<C;)B[b]=B[b-1]+a.h(v)+1,b+=1;C=b+a.h(this.Tb(A));for(v=3;b<C;)B[b]=B[b-1]+a.h(v)+1,b+=1;for(v=this.Tb(w);b<A;)B[b]=B[b-1]+a.h(v),b+=1;v=this.Tb(Math.ceil(-1+Math.sqrt(1-8*-n*q)/2));w=a.h(v);var O=a.h(this.Tb(n));A=new Uint32Array(w);A[0]=a.h(this.Tb(n));C=a.h(this.Tb(w));for(b=1;0<C;)A[b]=A[b-1]+1,b+=1,--C;C=b+a.h(this.Tb(w));for(v=2;b<C;)A[b]=A[b-1]+a.h(v)+1,b+=1;C=b+a.h(this.Tb(w));for(v=3;b<C;)A[b]=A[b-1]+a.h(v)+1,b+=1;for(v=this.Tb(O);b<
w;)A[b]=A[b-1]+a.h(v),b+=1;v=this.Tb(q);w=new Uint32Array(q);for(b=0;b<q;b+=1)w[b]=a.h(v);v=new Uint32Array(n);for(b=O=0;b<e;b+=1){var M=k[b];var K=l[b];for(C=0;C<g-M-K;C+=1)v[O]=m[b]*g+M+C,O+=1}C=document.createElement("canvas");C.width=c;C.height=d;b=C.getContext("2d");b.clearRect(0,0,c,d);m=b.createImageData(c,d);O=new Uint32Array(m.data.buffer);g=-1;l=k=0;d=this.Tb(B.length);for(e=this.Tb(A.length);l<q;)if(-1===g)u=a.h(1),r=a.h(1),g=(w[l]+f)*c,p=0;else{C=a.h(2);switch(C){case 0:C=a.h(1);t=0===
C?4:3;break;case 1:t=0;break;case 2:C=a.h(1);1===C?t=2:(C=a.h(1),0===C?t=5:(C=a.h(1),t=0===C?6:7));break;case 3:t=1}0===t&&(0===r?(t=a.h(d),t=t===B.length?n-p:B[t]):(t=a.h(e),t=t===A.length?n-p:A[t]));for(C=0;C<t;C+=1)1===r&&(O[g+v[p]]=4294967295),1===u&&(O[g+v[p]]^=O[k+v[p]]),p+=1;r=1-r;p===n&&(k=g,l+=1,g=-1)}b.putImageData(m,0,0);return b};fa.prototype.PE=function(a){var b=G.Sr,c=[8,11,16,17,44],d,f,e;if(null===b)if(V.Rr)b=V.Rr;else{b=this.decode("dYAoERERERISIiIiIiIiJEM1WIZofMZlWId3d3iHd3iYiIiIiIiIh3uIuJi///M5mZMyC0EbBhyUl4KjK22WobTmDU1FnYowAQgxBSlXHn5JaKT5p7jeDIBDMugiAAgSABKlFgQIAoGA8EIEE80EEEQkdAREbIKgUAQwKWOERomkoiqgsecuwaYy0WU24SQ68O+MLBCJEHGFICBKT58+egefPnz458+fPQFQFQFQDJTROEXxnGg9L/pz7947/886KzofQOLLR0kNoL6KgNADA7oD6KgONC8kyDsX0DUlLTpGSUQIAwEEJ/////+l16AZIJYVBSoOxUVRUoEDISQK4hBAiQOgO3//6z//8oC1nBLnz58mTnQ5SxTn3vnH6Av+is6RmyM5kr9DaC/H/oApbRG0FTm/H635d5bKQLJA75rVAVAVAV1/n+255aF0NovxcVG8tJUVE9P49CUVDVB2KhKgQZT7pHFQ+stDbOq91NoID9IagotoqEqNILHqaB3fMIwYMGC4tDlLFQdKAseeo/SHk4/YdygNKm1B2mgBB3tnFukclD1nqnKB9RHKp4iQKaIKkQLJA75r1AVAVAba0dUdVH/f/EdOktI9IvfQdloDlUZeoWWUBoe9QJtQdpJBQdt7wgdI2lD1WUZkcVIVHBHVF1K1F8tAcv1JoKDeoa+RGmBUFCFqMoq4UDuFCL3fMG9N6b03pvWvE4Sf6HKWKdqA5f99AaL/R+eL31jURL/QGh6iag6gCCg6UUBJ+EPWeqckrCGt6I0RorvLunqKpUCyQO+atQFQFQFdWMX/yOdQehtE45n0VijSdQ1g3QGhqif0D+gaKg6P+UZyt5Ieo7lpXQWzamaiqiqdRaDuc9Q1vwKiNFCQRVReNj407u/nz589Dz58+eDem9N6b07chSlLFRZsgL/+pdCG6wqGsG6A4vxUT+gf0DRUHZoBBWkoXqFPTVypyW3OcEdp+VRFRIkE/jUyBZIHfz58+el58+fODBgwULUBUBXCUsVOfvcZrEx3Glaiu6UqGqDqb0Dp7SOnND6A04qUtTtR9FQeoNEfpD/+o/VVWKCP/9L8tGf/6A3fz58+el58+fODBgwW3CrKWKdvn+/f/x3U1Q2deaAPoDi+kf5/oPGg7CROVDejTiBXKnGSKcEegbSiCiBIO/nz589Lz58+cGDBgoCoCoCoCt0pYp3N+3/t+X6G0NobRGi8YxqiqmxULjQX4/U2oc06W5adVKOqGo8IbT2i9F8+MrFXUR3SBCWoqiRFQFRCJDNZ2QqylinvPnH8dvqQovXfK99Aaa7x3SdhMnMYx6JPTVypxmLjBlMKASCg7oYiQLvmnoCoC3i3bxtR1pUHHLye7Dtxyx2ohSgM26Co9TOoGpzQfSFqM0DoXPc6F5VHVIWqqEdUHVLULornpzRv9qKqW1ZXfOyFWUsU/f+f358ah0ZqtT8iLP+iqUB/H6F7oKxakpC1A4wjUElcqccQSDInhIaGEgoAhiJAu+aYkJGZbKZBlLFP95d83jjQdptuiNM40BjWiFKTRFQX4/RBS+htHaE18qT9VNT+mtF30YesaqDQG752Qqylinv47e+f0n//p/VOhu2IJlejQOgNAIUMEDYoR39LU4x35o3RE1cqcaMyKKm6Q0MJBQBD0W0V3zA4MGDBjqCoKgsMuEWoQRSxTxJIuO/oc220qjGgsap0JRUkhUFQOmcaF0BoLGgdBaZIKKVJ2q2oHRWgdMaR+o0pPCJDIkVUMijlu+YHBgwYLbjhSlLFP8u/jHfxrbVOhu2IFj9AaA0BoKEQEBYs0f+lB0aBQJxAkiCCCFTjRVAUSjQSQJxNLGMbvmBwYMGDHUFQVBYZUcKUpYp/FjP//fxr7GhMbMhK4/ROnNMUcsVYaAx/////6cqxqA6ZG6D0to/SGgMrFnU9jd8wKb03pvTencpSxT3L//+35a61RobtA8Efz0DoDHERoIIDioFDf0pMaBPJMSyk6LKiumYQlCgiiChEEkCcTO+YN6b03pvTcICoCoCt82o60p6x+L5zR+tv5Y0NjT2eNQVD1Pc9M5590DRIVAUSFFR1+Wh6jgjqatLOoSoXSmk81T61stEZ7u+YN6b03pvTeuUpYp7t7Fz047rYqfQ3aReXbeegdAZ0ToEToqDmNLHot4JnPRUyUpjQGN0TtmKChQdRFQqCSBOpTnvLu75g3pvTem9N7agKgKgKp9HaE0dzkjpZGAAMHkjpG/mO28u0yR0k5joAuNM2dE1BCCUXP6NK5qD0bgWgIvGMAAYwABmreoLGi9JaC0BUTF8oPYtSInXfz58+el58+fKmDBgwU/Lnz58miUsU7/bPjj9d6mvJAd/xeXcaA0BoDvO9n2Ql4qFg30zREuJJKUbtkhMTt9D6I0MgkgTyS13rQ8+fPnoPQOgc4YjSGKNIY4qOsskAAG/xUdULbUHT/8qjrGmYAAEXQWif56P0TpFVajs6ZRoqERCFIAAKKoIAAkAAC7+fPnz0PPnz59YEufPnyaJSxUvabLPa0v40B34PIDQGgNAaE0JIILUTT/6ZNkhYSUJ6oSu+auaM0ZpqkqQqAqQqAqQoNIAANIqQqE7xfv2nsVIVO4wABjTGdBaAUr+xp6otEiESAIAAIqKIAAkAAC753FLFT6B8xWn8tBn72oAhCgkKD/QcgiSJC13zVqAqAqAqiqSsqkrKpKkpYmpKozp9DVJVN40dj0SINmkFaDKDWJEha75hGDBgwXMUsVLzx9itQomEHu+a9QFQFQGn6lKKlKKlLL/////////4qUssaB73jlUpU9pDCQpIqG3fMG9N6b03pvXKwUHGgO/tiHfNaoCoCoCp+pa2pa2pap6paoynQlOkrV50loaHfMCm9N6b03p3KwUGLeWdE6WXu+acqgqCoFCEgAEgLRo7FTlGjsUY7Y7UJRo7BS5Shd8wODBgwXOwVFQFnu8nz589A8+fPnoHnz56EqAqAqAsufPnu+d4");
var g=b.getImageData(0,0,b.canvas.width,b.canvas.height);var k=new Uint32Array(g.data.buffer);for(d=0;d<c.length;d+=1)for(e=0;40>e;e+=1){var l=e*b.canvas.width+40*c[d];for(f=0;40>f;f+=1)0!==k[l+f]&&(k[l+f]=4285558896)}b.putImageData(g,0,0);c=document.createElement("canvas");c.width=b.canvas.width;c.height=b.canvas.height;V.Rr=c.getContext("2d");V.Rr.drawImage(b.canvas,0,0)}this.m=new pb(b,a);this.m.add("play",40,40);this.m.add("pause",40,40);this.m.add("tostart",40,40);this.m.add("menu",40,40);this.m.add("stepback",
40,40);this.m.add("stepforward",40,40);this.m.add("autofit",40,40);this.m.add("fit",40,40);this.m.add("grid",40,40);this.m.add("shrink",40,40);this.m.add("draw",40,40);this.m.add("hexgrid",40,40);this.m.add("lines",40,40);this.m.add("pan",40,40);this.m.add("pick",40,40);this.m.add("states",40,40);this.m.add("hexagongrid",40,40);this.m.add("trianglegrid",40,40);this.m.add("inside",40,40);this.m.add("undo",40,40);this.m.add("redo",40,40);this.m.add("drawpause",40,40);this.m.add("invertselection",40,
40);this.m.add("autoshrink",40,40);this.m.add("selectlibrary",40,40);this.m.add("cut",40,40);this.m.add("copy",40,40);this.m.add("paste",40,40);this.m.add("flipx",40,40);this.m.add("flipy",40,40);this.m.add("rotatecw",40,40);this.m.add("rotateccw",40,40);this.m.add("random",40,40);this.m.add("smart",40,40);this.m.add("outside",40,40);this.m.add("select",40,40);this.m.add("reverse",40,40);this.m.add("uturn",40,40);this.m.add("nudgeright",40,40);this.m.add("nudgeleft",40,40);this.m.add("nudgeup",40,
40);this.m.add("nudgedown",40,40);this.m.add("advancesel",40,40);this.m.add("cancelsel",40,40);this.m.add("trirectgrid",40,40);this.m.add("download",40,40);this.m.add("changestate",40,40);this.m.add("advanceoutside",40,40)};fa.prototype.Zz=function(a,b,c){var d="",f,e=null;""===a&&(a="Life");a=a.replace(/[\n\r]/g,"\n");for(f=a.indexOf("\n");0===f||0<f&&"#"===a[0];)a=a.substring(f+1),f=a.indexOf("\n");f=a.indexOf("\n");-1!==f&&(a=a.substring(0,f).trim(),f=a.indexOf("rule="),-1!==f?a=a.substring(f+
6).trim():(f=a.indexOf("rule ="),-1!==f&&(a=a.substring(f+7).trim())));var g="x = 1, y = 1, rule = "+(a+"\nb!");var k=a;f=a.indexOf(":");-1!==f&&(k=a.substring(0,f));k===this.$&&-1!==this.g.Se.indexOf("@RULE")&&(g+="\n"+this.g.Se);try{e=this.W.create("",g,this.g.T,b,c,[],!0,this)}catch(l){e=null}e&&e.P&&(d=a);return d};fa.prototype.Yz=function(a,b,c){b=a.ya.indexOf("\n");c.C.notification.notify(a.h,15,300,15,!0);-1===b?c.C.notification.notify(a.ya,15,300,15,!1):c.C.notification.notify(a.ya.substring(0,
b),15,300,15,!1);c.C.we(!0)};fa.prototype.$z=function(a,b,c){b=b[0];a=b.indexOf(":");-1!==a?(c.$=b.substring(0,a),c.bf=b.substring(a)):(c.$=b,c.bf="");c.$a="";a=c.g.Yf(c,c.g,c.g.i,c.g.i,[],!0,y.hp);c.zd&&(c.displayWidth=c.Ze,c.displayHeight=c.Ye);c.ii(a,!1)};fa.prototype.Wz=function(a){var b=a.$+a.bf;""===b&&(b=this.YC);var c=window.prompt("Change rule",b);null!==c&&(this.YC=b,c=a.Zz(c,a.$z,a.Yz),a.W.ra||(""!==c?a.$z(null,[c],a):a.Yz(null,[c],a)))};fa.prototype.Op=function(a,b,c,d,f){var e=this.$;
""!==a&&(e=e.substring(0,e.length-a.length));this.$a=this.$=e+=b;a=this.g.Yf(this,this.g,c,d,f,!0,y.hp);this.zd&&(this.displayWidth=this.Ze,this.displayHeight=this.Ye);this.ii(a,!1)};fa.prototype.GJ=function(a){a.Op(a.g.P?"History":"","Super",a.g.P?7:2,26,a.g.P?G.lI:G.OK)};fa.prototype.cJ=function(a){a.Op(a.g.v?"Super":"","History",a.g.v?26:2,7,a.g.v?G.SK:G.NK)};fa.prototype.zJ=function(a){a.Op(a.g.P?"History":"Super","",a.g.P?7:26,2,a.g.P?G.kI:G.TK)};fa.prototype.pA=function(){var a=this.g.ba.v;
var b="",c,d;var f="R"+a+",C"+(this.g.ba.ca+",");a=this.W.sa(a,this.g.ba.type,this.g.ba.oa);switch(this.g.ba.type){case this.W.u:b="FC"+this.g.ba.R+"E"+this.g.ba.X;break;case this.W.i:b="";break;case this.W.j:b="N";break;case this.W.Z:b="C";break;case this.W.$:b="2";break;case this.W.P:b="+";break;case this.W.U:b="X";break;case this.W.X:b="*";break;case this.W.G:b="H";break;case this.W.O:b="B";break;case this.W.K:b="D";break;case this.W.R:b="#";break;case 10:b="@"+this.g.ba.U;this.g.ia?b+="H":this.g.aa&&
(b+="L");break;case this.W.D:b="3";break;case this.W.A:b="A";break;case this.W.H:b="L";break;case this.W.v:b="G";break;case 15:b="W"+this.g.ba.U,this.g.ia?b+="H":this.g.aa&&(b+="L")}var e=this.O.random()*a/a;f+="S";var g=-1;for(c=d=0;d<a;)this.O.random()<e?-1===g&&(0<c&&(f+=","),f+=String(d),g=d,c+=1):-1!==g&&(g!==d-1&&(f+="-"+String(d-1)),g=-1),d+=1;-1!==g&&g!==d-1&&(f+="-"+String(d-1));0===c&&(g=this.O.random()*a|0,f+=String(g));f+=",B";e=this.O.random()*(a-1)/(a-1);g=-1;d=1;for(c=0;d<a;)this.O.random()<
e?-1===g&&(0<c&&(f+=","),f+=String(d),g=d,c+=1):-1!==g&&(g!==d-1&&(f+="-"+String(d-1)),g=-1),d+=1;-1!==g&&g!==d-1&&(f+="-"+String(d-1));0===c&&(g=this.O.random()*(a-1)|1,f+=String(g));""!==b&&(f+=",N"+b);this.g.ba.ea&&(f+=",P",-1!==this.g.ba.ma&&(f=-1>this.g.ba.ma?f+"#":f+this.g.ba.ma,-1!==this.g.ba.la&&(f=-1>this.g.ba.la?f+",#":f+(","+this.g.ba.la),-1!==this.g.ba.ha&&(f=-1>this.g.ba.ha?f+",#":f+(","+this.g.ba.ha)))));return f};fa.prototype.rA=function(){var a=this.g.ba.v;var b="";var c="R"+a+",C"+
(this.g.ba.ca+",");c+="M1,";a=this.W.sa(a,this.g.ba.type,this.g.ba.oa);a+=1;switch(this.g.ba.type){case this.W.u:b="FC"+this.g.ba.R+"E"+this.g.ba.X;break;case this.W.i:b="M";break;case this.W.j:b="N";break;case this.W.Z:b="C";break;case this.W.$:b="2";break;case this.W.P:b="+";break;case this.W.U:b="X";break;case this.W.X:b="*";break;case this.W.G:b="H";break;case this.W.O:b="B";break;case this.W.K:b="D";break;case this.W.R:b="#";break;case 10:b="@"+this.g.ba.U;this.g.ia?b+="H":this.g.aa&&(b+="L");
break;case this.W.D:b="3";break;case this.W.A:b="A";break;case this.W.H:b="L";break;case this.W.v:b="G";break;case 15:b="W"+this.g.ba.U,this.g.ia?b+="H":this.g.aa&&(b+="L")}var d=this.O.random()*a|0;c+="S"+String(d);d=(this.O.random()*(a-d)|0)+d;c+=".."+String(d);d=(this.O.random()*(a-1)|0)+1;c+=",B"+String(d);d=(this.O.random()*(a-d)|0)+d;c+=".."+String(d);return c+(",N"+b)};fa.prototype.xA=function(){var a="W";var b=2*(127*this.O.random()|0);return a+=String(b)};fa.prototype.tA=function(a){var b=
"B",c,d,f=8,e="";if(this.g.ia)switch(this.g.sh){case this.W.pa:f=6;e=this.W.Wa;break;case this.W.qa:f=3,e=this.W.Kb}else if(this.g.aa)switch(this.g.uh){case this.W.la:f=3;e=this.W.Ga;break;case this.W.ua:f=6;e=this.W.lb;break;case this.W.va:f=6;e=this.W.mb;break;case this.W.ma:f=9;e=this.W.Ja;break;case this.W.ha:f=12;e=this.W.Ia;break;case this.W.ta:f=9;e=this.W.kb;break;case this.W.wa:f=3,e=this.W.nb}else this.g.Ed&&(f=4,e=this.W.sb);var g=new Uint8Array(f+1);var k=new Uint8Array(f+1);var l=d=50;
-1!==this.ef&&(l=d=this.ef);-1!==this.kf&&(d=this.kf);-1!==this.wg&&(l=this.wg);for(c=0;c<=f;c+=1)g[c]=d,k[c]=l;-1===this.ef&&-1===this.kf&&(g[0]=25);for(c=0;c<this.cd.length;c+=2)this.cd[c]<=f&&(g[this.cd[c]]=this.cd[c+1]);for(c=0;c<this.Td.length;c+=2)this.Td[c]<=f&&(k[this.Td[c]]=this.Td[c+1]);for(c=2<this.g.i||a?1:0;c<=f;)100*this.O.random()<=g[c]&&(b+=String(c)),c+=1;b+="/S";for(c=0;c<=f;c+=1)100*this.O.random()<=k[c]&&(b+=String(c));2<this.g.i&&!this.g.v&&!this.g.G&&(b+="/"+this.g.i);return b+=
e.toUpperCase()};fa.prototype.vA=function(a){var b=a?"2PCA4,":"M",c,d=!1;var f=0;var e=[];var g=this.g.kc;if(this.Pn){d=new Uint8Array(16);a=new Uint8Array(16);for(c=0;16>c;c+=1)d[c]=c,a[c]=g[c];for(c=0;16>c;c+=1){var k=g[c];for(f=a=0;16>f;f+=1)k===g[f]&&(a+=1);var l=new Uint8Array(a);for(f=a=0;16>f;f+=1)k===g[f]&&(l[a]=f,a+=1);e[c]=l}for(c=1;16>c;c+=1).5>=this.O.random()&&(l=e[c],a=this.O.random()*l.length|0,a=l[a],g=d[c],d[c]=d[a],d[a]=g);for(c=0;15>c;c+=1)b+=d[c]+",";b+=d[c]}else if(this.Nn){c=
16;a?(a=0,f|=1):(a=16*this.O.random()|0,15===a?(d=!0,f|=32769,--c):(a=0,f|=1));b+=String(a);for(--c;65535!==f;){a=this.O.random()*c|0;for(k=0;0<=a;)0===(f&1<<k)&&--a,k+=1;b+=","+String(k-1);f|=1<<k-1;--c}d&&(b+=",0")}else{a?a=0:(a=16*this.O.random()|0,15===a?d=!0:a=0);b+=String(a)+",";for(c=1;15>c;c+=1)a=16*this.O.random()|0,b+=String(a)+",";a=d?0:16*this.O.random()|0;b+=String(a)}return b};fa.prototype.Bm=function(a,b){var c="",d,f,e=0,g,k=[],l=a.zm,m=a.Em,n=a.Jj/100,q=!1;-1!==a.$.indexOf("|")&&
(q=!0);if(2>=a.g.i||a.Gm){k[0]="b";k[1]="o";var p=2}else for(p=a.g.i,k[0]=".",f=0;f<p-1;f+=1)k[f+1]=24<=f?String.fromCharCode(112+(f/24|0)-1)+String.fromCharCode(65+f%24):String.fromCharCode(65+f);-1!==a.g.Zd&&(l=1);for(d=0;d<l;d+=1){if(this.g.s){var r=0;this.O.random()<=n&&(r|=1);this.O.random()<=n&&(r|=2);this.O.random()<=n&&(r|=4);this.O.random()<=n&&(r|=8)}else r=this.O.random()<=n?(this.O.random()*(p-1)|0)+1:0;for(f=g=1;f<m;f+=1)this.g.s?(e=0,this.O.random()<=n&&(e|=1),this.O.random()<=n&&(e|=
2),this.O.random()<=n&&(e|=4),this.O.random()<=n&&(e|=8)):e=this.O.random()<=n?(this.O.random()*(p-1)|0)+1:0,e!==r&&(1<g&&(c+=g),c+=k[r],g=0,r=e),g+=1;0!==e&&(1<g&&(c+=g),c+=k[e]);d<l-1&&(c+="$\n")}c+="!\n";a.Cm||b||(a.g.D||(a.g.ja||a.g.s?(a.$=a.vA(a.g.s),q&&(a.$+="|"+a.vA(a.g.s))):a.g.Ea?a.zt?(a.$=a.rA(),q&&(a.$+="|"+a.rA())):(a.$=a.pA(),q&&(a.$+="|"+a.pA())):-1!==a.g.Zd?(a.$=a.xA(),q&&(a.$+="|"+a.xA())):(a.$=a.tA(q),q&&(a.$+="|"+a.tA(q)))),a.g.P&&(a.$+="History"),a.g.v&&(a.$+="Super"),a.g.G&&(a.$+=
"Investigator"),b=eb.Bq(a.$),a.$a=null!==b?b:"");b=a.g.wi;b+="x = "+a.Em+", y = "+a.zm+", rule = ";b+=(""===a.$a?a.$:a.$a)+a.bf+"\n";b=b+c+a.g.Se;if(a.Xd.locked||a.Mj||2===a.pa&&0!==a.mb[1].tg||window.confirm("Create new random pattern?"))a.zd&&(a.displayWidth=a.Ze,a.displayHeight=a.Ye),a.ii(b,!1),a.aA(a)};fa.prototype.ED=function(a){var b=window.prompt("Create new pattern with rule",a.$+a.bf);null!==b&&(b=a.Zz(b,a.YD,a.MD),a.W.ra||(""!==b?a.YD(null,[b],a):a.MD(null,[b],a)))};fa.prototype.MD=function(a,
b,c){b=a.ya.indexOf("\n");c.C.notification.notify(a.h,15,300,15,!0);-1===b?c.C.notification.notify(a.ya,15,300,15,!1):c.C.notification.notify(a.ya.substring(0,b),15,300,15,!1);c.C.we(!0)};fa.prototype.YD=function(a,b,c){a=b[0];b="x = 1, y = 1, rule = "+a+"\nb!";c.zd&&(c.displayWidth=c.Ze,c.displayHeight=c.Ye);var d=a;var f=a.indexOf(":");-1!==f&&(d=a.substring(0,f));f=this.g.Se.indexOf("@RULE");d===this.$&&-1!==f&&(b+="\n"+this.g.Se.substring(f));c.ii(b,!1)};fa.prototype.aC=function(){this.kd.h=this.g.ia?
this.g.Fa?[this.m.h("hexgrid")]:[this.m.h("hexagongrid")]:this.g.aa?this.g.Fa?[this.m.h("trirectgrid")]:[this.m.h("trianglegrid")]:[this.m.h("grid")]};fa.prototype.CJ=function(a,b){a.C.A&&(a.Zg||(a.Pj=-b.deltaY,1===b.deltaMode&&(a.Pj*=45),a.C.we(!0)),b.preventDefault())};fa.prototype.Tw=function(){var a=this.s.X(0===this.dm?0:this.Nc/this.dm),b=this.Fg,c=this.yl,d=this.Gg,f=this.Si;this.g.ma=this.g.width/2-(this.Hg+a*(this.$f-this.Hg));this.g.ka=this.g.height/2-(this.Ig+a*(this.Ti-this.Ig));this.g.zoom=
this.gi*Math.pow(this.Ui/this.gi,a);180<c-b?b+=360:-180>c-b&&(c+=360);this.g.angle=(b+a*(c-b))%360;this.g.xb=d+a*(f-d);this.Bo&&(this.g.pc=this.xt+a*(this.fq-this.xt),this.Ia.current=this.Bf([this.g.pc,this.g.pc],!1,this));this.tn&&(this.g.za=this.eu+a*(this.gq-this.eu),this.qb.current=this.jm([this.g.za,this.g.za],!1,this));this.Nc+=1;this.Nc>this.dm&&(this.Nc=-1,this.g.zoom=this.Ui,this.g.angle=c%360,this.g.xb=this.Si,this.g.ma=this.g.width/2-this.$f,this.g.ka=this.g.height/2-this.Ti,this.Bo&&(this.g.pc=
this.fq,this.Ia.current=this.Bf([this.g.pc,this.g.pc],!1,this)),this.tn&&(this.g.za=this.gq,this.qb.current=this.jm([this.g.za,this.g.za],!1,this)));this.qc&&(this.qc.current=this.Zd([this.g.zoom,this.g.zoom],!1,this));this.wa&&(this.wa.current=this.Sg([this.g.angle,this.g.angle],!1,this));this.kb&&(this.kb.current=this.ek([this.il(this.g.xb),this.g.xb],!1,this))};fa.prototype.WE=function(){var a=this.s,b=a.m.length,c,d=this.v,f=this.A,e=a.D();for(c=0;c<b;c+=1){var g=a.m[c];e.gh=!0;e.x=-g.x+d/2;e.If=
!0;e.y=-g.y+f/2;e.rf=!0;e.zoom=g.zoom;e.se=!0;a.add(e,this);c<b-1&&(e=a.D())}};fa.prototype.Xt=function(a,b){var c=a.s.i[b];a.Hg=a.g.width/2-a.g.ma;a.Ig=a.g.height/2-a.g.ka;a.gi=a.g.zoom;a.Fg=a.g.angle;a.Gg=a.g.xb;a.$f=c.If?c.x:a.Hg;a.Ti=c.rf?c.y:a.Ig;a.Ui=c.se?c.zoom:a.gi;a.yl=c.fh?c.angle:a.Fg;a.Si=c.mh?c.xb:a.Gg;a.g.ia&&(a.$f+=a.g.ka/2);a.Bo=c.Kh;a.Bo&&(a.xt=a.g.pc,a.fq=c.depth/G.pm);a.tn=c.Xh;a.tn&&(a.eu=a.g.za,a.gq=c.za);a.Nc=0;a.dm=c.i;a.Tw();c.j&&a.Hz(a);c.h===Xa.play?a.lc.current=a.Ud(G.yj,
!0,a):c.h===Xa.stop&&a.Pb&&(a.lc.current=a.Ud(G.ve,!0,a));c.ye&&a.zg(c.vc,a.g.af,a);a.C.notification.notify("POI "+(b+1),15,60,15,!0);""!==c.xe?a.C.notification.notify(c.xe,15,180,15,!1):a.C.notification.clear(!1,!0);c.ui&&(a.uc=c.uc);c.ni&&(a.Ub=c.Ub);c.Ef&&(a.da=Math.sqrt((c.Pc-G.Cg)/(a.ic-G.Cg)));c.Fe&&(a.P=c.step);if(c.Ef||c.Fe)a.kc.current=a.Ec([a.xf(),1],!0,a);c.er&&(a.g.counter>c.Fc&&a.Hz(a),a.g.counter<c.Fc&&(a.Zg=!0,a.Np=c.Fc,a.Mp=!1));c.vl&&(a.g.Za=c.grid);c.Ls&&(this.Mc=c.Rl);c.Is&&(this.dn=
c.kp)};fa.prototype.Vc=function(a,b,c){var d=b/a.g.cb;c&&(b=1<=b?Math.round(b):1/Math.round(1/b),d=b/a.g.cb);a.fb||(a.Hg=a.g.width/2-a.g.ma,a.Ig=a.g.height/2-a.g.ka,a.gi=a.g.zoom,a.Fg=a.g.angle,a.Gg=a.g.xb,a.$f=a.Hg,a.Ti=a.Ig,a.Ui=d,a.yl=a.Fg,a.Si=a.Gg,a.Nc=0)};fa.prototype.CL=function(a){a.kc.current=a.Ec([1,1],!0,a)};fa.prototype.vF=function(a){a.gp(a)};fa.prototype.HE=function(a){a.Ot(a)};fa.prototype.RF=function(a){a.yb&&a.Ol(a);-1!==a.Wa&&a.cm(a,!0,!0)};fa.prototype.HI=function(a){var b=V.Xr(G.yy);
b=window.prompt("Enter refresh rate",0===b?"Auto":String(b));if(null!==b){if("auto"===b.toLowerCase())b=0;else if(b=parseInt(b,10),25>b||500<b)a.C.notification.notify("Invalid refresh rate specified",15,240,15,!0),b=-1;0<=b&&(V.HD(G.yy,b),V.Zq=0!==b,0===b&&(b=V.OA),a.ic=b,a.C.ic=b,V.ic=b)}};fa.prototype.Xk=function(a){a.tf||a.uf||a.qf||a.ne||a.Qe||a.oe||a.nf?(a.tf=!1,a.uf=!1,a.ne=!1,a.qf=!1,a.Qe=!1,a.nf=!1,a.oe=!1):a.ja.current=[!1]};fa.prototype.QG=function(a){a.qf=!0};fa.prototype.DF=function(a){a.ne=
!0};fa.prototype.lF=function(a){a.tf=!0};fa.prototype.ZE=function(a){a.nf=!0};fa.prototype.HF=function(a){a.Qe=!0};fa.prototype.IJ=function(a){a.uf=!0};fa.prototype.NE=function(a){a.ED(a)};fa.prototype.uG=function(a){a.Bm(a,!1)};fa.prototype.qG=function(a){a.Bm(a,!0)};fa.prototype.gA=function(a){a.aA(a);a.R?a.C.notification.notify("Selection saved",15,120,15,!0):a.C.notification.notify("Pattern saved",15,120,15,!0)};fa.prototype.uL=function(a){a.aD(a)};fa.prototype.CI=function(a){a.Wz(a)};fa.prototype.UE=
function(a){a.oe=!0};fa.prototype.nF=function(a,b,c,d){b&&(a[0]?(b=d-c.RA,c.zg(G.ir[b],1,c),c.ja.current[0]&&(c.ja.current=c.Af([!1],!0,c))):(c.ja.current[0]&&(c.ja.current=c.Af([!1],!0,c)),a[0]=!0));return a};fa.prototype.Dq=function(a){a.Bb=!1};fa.prototype.dJ=function(a){a.DA(a)};fa.prototype.JB=function(a){a.g.Jm()};fa.prototype.GB=function(a){a.g.Gm()};fa.prototype.NI=function(a){a.g.Em()};fa.prototype.FI=function(a){a.g.Cm()};fa.prototype.BA=function(a){"Empty"===a.Eb||"none"===a.Eb||""===a.Eb?
a.C.notification.notify("No Identify Results",15,120,15,!1):(0!==a.B&&(a.B=0,a.md.current=a.zf([0!==a.B],!0,a)),a.ja.current[0]&&(a.ja.current=a.Af([!1],!0,a),a.C.m=!0),a.Se.current=a.fm(G.kk,!0,a),a.Nd.current=a.ck(G.Uh,!0,a),a.g.La=0,a.Bb=!0)};fa.prototype.bI=function(a){a.Ga=!1;a.Oe.current=a.jp([a.Ga],!0,a)};fa.prototype.tG=function(){zb()};fa.prototype.YG=function(a){a.Yb=[];a.ha=0;a.Yt(a.ra.current)};fa.prototype.yE=function(a){--a.Jc;0>a.Jc&&(a.Jc=a.s.i.length-1);a.Xt(a,a.Jc)};fa.prototype.gE=
function(a){a.Jc+=1;a.Jc>=a.s.i.length&&(a.Jc=0);a.Xt(a,a.Jc)};fa.prototype.TE=function(a){a.Xa+=1;a.Xa>=V.Ee.length&&(a.Xa=0);a.ii(V.Ee[a.Xa].pattern,!1)};fa.prototype.LF=function(a){--a.Xa;0>a.Xa&&(a.Xa=V.Ee.length-1);a.ii(V.Ee[a.Xa].pattern,!1)};fa.prototype.vL=function(a){a.yu();a.B&&(a.B=0);a.ja.current[0]=!1;a.C.m=!0};fa.prototype.XK=function(a){a.Ci=!0};fa.prototype.rF=function(a){a.Dc(G.Qg,a)};fa.prototype.sG=function(a,b){var c=0;if((a.g.P||a.g.v)&&b)for(;c<a.ea.length;)1<a.ea[c]&&(a.ea[c]&=
1),c+=1;else for(;c<a.ea.length;)a.ea[c]=0,c+=1};fa.prototype.fA=function(a){var b=a.ga,c=b.I,d=b.L,f=b.J;b=b.M;var e=a.g.B,g;var k=(a.g.width>>1)-(a.v>>1)+(a.ca<<1);var l=(a.g.height>>1)-(a.A>>1)+(a.fa<<1);var m=0;if(!a.U&&a.R){-1!==a.g.O&&(a.na?(k-=Math.floor((a.Z-a.v)/2),l-=Math.floor((a.X-a.A)/2),1===(a.v&1)&&0===(a.Z&1)&&--k,1===(a.A&1)&&0===(a.X&1)&&--l):(k=a.K,l=a.H));if(c>d){var n=d;d=c;c=n}f>b&&(n=b,b=f,f=n);c+=k;d+=k;f+=l;b+=l;a.g.Nb=!0;a.g.Wb();n=e.I;l=e.J;k=e.L;e=e.M;for(g=l;g<=e;g+=1)for(l=
n;l<=k;l+=1)if(!(g>=f&&g<=b&&l>=c&&l<=d)){var q=a.g.mb(l,g,!1);0!==q&&(m|=a.sa(l,g,0,!1))}(a.g.P||a.g.v)&&m&&a.g.wb();a.g.Nb=!0;a.g.Wb();a.ba("clear cells outside selection")}};fa.prototype.FE=function(a,b){var c=a.ga,d=c.I,f=c.L,e=c.J;c=c.M;var g=(a.g.width>>1)-(a.v>>1)+(a.ca<<1),k=(a.g.height>>1)-(a.A>>1)+(a.fa<<1);if(!a.U&&a.R){-1!==a.g.O&&(a.na?(g-=Math.floor((a.Z-a.v)/2),k-=Math.floor((a.X-a.A)/2),1===(a.v&1)&&0===(a.Z&1)&&--g,1===(a.A&1)&&0===(a.X&1)&&--k):(g=a.K,k=a.H));if(d>f){var l=f;f=d;
d=l}e>c&&(l=c,c=e,e=l);if((a.g.P||a.g.v)&&b)for(l=e;l<=c;l+=1)for(e=d;e<=f;e+=1){var m=a.g.mb(e+g,l+k,!1);1<m&&a.sa(e+g,l+k,m&1,!1)}else for(l=e;l<=c;l+=1)for(e=d;e<=f;e+=1)m=a.g.mb(e+g,l+k,!1),0!==m&&a.sa(e+g,l+k,0,!1);(a.g.P||a.g.v)&&a.g.wb();a.g.Nb=!0;a.g.Wb();a.Qc=!1;(a.g.P||a.g.v)&&b?a.g.P?a.ba("clear History cells in selection"):a.ba("clear Super cells in selection"):a.ba("clear cells in selection")}};fa.prototype.sK=function(a){a.Vc(a,a.g.zoom*a.g.cb,!0)};fa.prototype.BG=function(a){a.Gb(!0,
!0,G.yq)};fa.prototype.cG=function(a){a.Gb(!0,!0,G.$u)};fa.prototype.bq=function(a,b){a.U||(a.qa?a.sG(a,b):a.FE(a,b))};fa.prototype.IG=function(a){a.bq(a,!1)};fa.prototype.oG=function(a){a.fA(a)};fa.prototype.AG=function(a){a.bq(a,!0)};fa.prototype.Tz=function(a){a.ra.current!==G.El&&(a.ra.current=a.Yd(G.El,!0,a));a.Vh=!0;a.ad.current=a.Ae([!0],!0,a)};fa.prototype.Mt=function(a){var b=this.ga,c=this.g.B,d=(this.g.width>>1)-(this.v>>1)+(this.ca<<1),f=(this.g.height>>1)-(this.A>>1)+(this.fa<<1);-1!==
this.g.O&&(this.na?(d-=Math.floor((this.Z-this.v)/2),f-=Math.floor((this.X-this.A)/2),1===(this.v&1)&&0===(this.Z&1)&&--d,1===(this.A&1)&&0===(this.X&1)&&--f):(d=this.K,f=this.H));this.ra.current!==G.zj&&(this.ra.current=this.Yd(G.zj,!0,this));0<this.g.A||!a?(this.g.Nb=!0,this.g.Wb(),this.g.v||this.g.G||this.g.D||!(this.g.s||this.g.Ea&&2===this.g.i||2<this.g.i)?(b.I=c.I-d,b.J=c.J-f,b.L=c.L-d,b.M=c.M-f):(this.g.ap(b),b.I-=d,b.L-=d,b.J-=f,b.M-=f),this.R=!0,this.Qc=!1,c=b.L<b.I?b.I-b.L+1:b.L-b.I+1,b=
b.M<b.J?b.J-b.M+1:b.M-b.J+1,a&&this.ba("select all ("+c+" x "+b+")")):(this.C.notification.notify("No live cells to Select",15,120,15,!1),this.R&&this.Qm(this))};fa.prototype.kA=function(a){a.Mt(!0)};fa.prototype.BE=function(a,b,c){a.U||(!a.Vg&&a.Sb&&(b?a.Li(a):a.U?a.Li(a):c?a.On(a,!0):a.On(a,!1)),a.Wp(a,a.Hb,!1,!1))};fa.prototype.$E=function(a){a.BE(a,!1,!1)};fa.prototype.Wp=function(a,b,c,d){var f=a.ga,e=f.I,g=f.L,k=f.J;f=f.M;var l,m=0,n=a.g.i,q=2<n&&!(a.g.la||a.g.s||a.g.D||a.g.v||a.g.G),p=(a.g.width>>
1)-(a.v>>1)+(a.ca<<1),r=(a.g.height>>1)-(a.A>>1)+(a.fa<<1),u=0;if(a.R){if(e>g){var t=g;g=e;e=t}k>f&&(t=f,f=k,k=t);var v=g-e+1;var A=f-k+1;-1!==a.g.O&&(a.na?(p-=Math.floor((a.Z-a.v)/2),r-=Math.floor((a.X-a.A)/2),1===(a.v&1)&&0===(a.Z&1)&&--p,1===(a.A&1)&&0===(a.X&1)&&--r):(p=a.K,r=a.H));var w=a.g.T.h(ra.ab,v*A,"View.pasteBuffer"+b,!1);t=0;for(l=k;l<=f;l+=1)for(k=e;k<=g;k+=1){var B=a.g.mb(k+p,l+r,!1);0<B&&q&&(B=n-B);w[t]=B;0<B&&(m+=1);u|=a.sa(k+p,l+r,0,!1);t+=1}(a.g.P||a.g.v)&&u&&a.g.wb();a.hb[b]={buffer:w,
width:v,height:A,count:m};a.ea=w;a.fc=v;a.ec=A;a.ql();a.g.Nb=!0;a.g.Wb();a.wn=!0;a.Qc=!0;d||(c?a.ba("advance outside"):a.ba("cut"))}};fa.prototype.Hn=function(a,b,c){0!==a.B?(ab.Eu=!0,ab.om="",ab.IB(a),a.ce(a,ab.om),ab.Eu=!1,ab.om=""):(a.Vg||!a.Sb&&a.R||(b?a.Li(a):a.U?a.Li(a):c?a.On(a,!0):a.On(a,!1)),a.R&&(a.tL(a,a.Hb),!a.Eo&&a.Sb&&(a.Eo=!0,a.C.notification.notify("Disable Sync for faster internal clipboard",15,360,15,!1))))};fa.prototype.zF=function(a){a.Jn(a,!0,!1)};fa.prototype.JE=function(a){a.Hn(a,
!1,!0)};fa.prototype.VK=function(a){a.Hn(a,!0,!1)};fa.prototype.KK=function(a){a.lA(a)};fa.prototype.gL=function(a){a.Sn(a,!1)};fa.prototype.xL=function(a){a.Sn(a,!0)};fa.prototype.kE=function(a){navigator.clipboard.readText().then(b=>a.yL(a,b))};fa.prototype.pL=function(a){a.Hn(a,!1,!1)};fa.prototype.AL=function(a){var b=a.ga,c=b.I,d=b.J,f=b.L,e=b.M,g,k,l=(a.g.width>>1)-(a.v>>1)+(a.ca<<1),m=(a.g.height>>1)-(a.A>>1)+(a.fa<<1),n=!0;b=[];if(a.R){if(c>f){var q=c;c=f;f=q}d>e&&(q=d,d=e,e=q);q=f-c+1;-1!==
a.g.O&&(a.na?(l-=Math.floor((a.Z-a.v)/2),m-=Math.floor((a.X-a.A)/2),1===(a.v&1)&&0===(a.Z&1)&&--l,1===(a.A&1)&&0===(a.X&1)&&--m):(l=a.K,m=a.H));if(q!==e-d+1)a.C.notification.notify("Weighted needs a square selection",15,180,15,!0),n=!1;else if(0===(q&1))a.C.notification.notify("Weighted size must be odd",15,180,15,!0),n=!1;else if(3>q||99<q)a.C.notification.notify("Weighted size must be >= 3 and <= 99",15,180,15,!0),n=!1;if(n){n="";var p=0;for(k=d;k<=e;k+=1)for(g=c;g<=f;g+=1)d=a.g.mb(g+l,k+m,!1),
b[b.length]=d,d>p&&(p=d);if(7>=p)for(c=0;c<b.length;c+=1)d=b[c],n+="0123456789abcdef"[d];else for(c=0;c<b.length;c+=1)d=b[c],n+="0123456789abcdef"[d>>4],n+="0123456789abcdef"[d&15];a.g.ia?n+="H":a.g.aa&&(n+="L");a.ce(a,n);a.C.notification.notify("Weighted R"+(q-1>>1)+" copied to clipboard",15,180,15,!0)}}else a.C.notification.notify("Weighted needs a selection",15,180,15,!0)};fa.prototype.oI=function(a){var b="",c;for(c=a.length-1;0<=c;--c){var d="0123456789abcdef".indexOf(a[c]);d=(d&1)<<3|(d&2)<<
1|(d&4)>>1|(d&8)>>3;b+="0123456789abcdef"[d]}return b};fa.prototype.UJ=function(a){var b=a.ga,c=b.I,d=b.J,f=b.L;b=b.M;var e=0,g,k=(a.g.width>>1)-(a.v>>1)+(a.ca<<1),l=(a.g.height>>1)-(a.A>>1)+(a.fa<<1);var m=!0;if(a.R){if(c>f){var n=c;c=f;f=n}d>b&&(n=d,d=b,b=n);n=f-c+1;if(n!==b-d+1)a.C.notification.notify("CoordCA needs a square selection",15,180,15,!0),m=!1;else if(0===(n&1))a.C.notification.notify("CoordCA size must be odd",15,180,15,!0),m=!1;else if(3>n||99<n)a.C.notification.notify("CoordCA size must be >= 3 and <= 99",
15,180,15,!0),m=!1;-1!==a.g.O&&(a.na?(k-=Math.floor((a.Z-a.v)/2),l-=Math.floor((a.X-a.A)/2),1===(a.v&1)&&0===(a.Z&1)&&--k,1===(a.A&1)&&0===(a.X&1)&&--l):(k=a.K,l=a.H));if(m){var q="";var p=d+(b-d+1>>1);var r=c+(f-c+1>>1);var u=3;for(g=d;g<=b;g+=1)for(m=c;m<=f;m+=1)if(g!==p||m!==r){var t=a.g.mb(m+k,g+l,!1);0<t&&(e|=1<<u);--u;0>u&&(q+="0123456789abcdef"[e],u=3,e=0)}a.g.ia?q+="H":a.g.aa&&(0===(c+k+d+l&1)&&(q=a.oI(q)),q+="L");a.ce(a,q);a.C.notification.notify("CoordCA R"+(n-1>>1)+" copied to clipboard",
15,180,15,!0)}}else a.C.notification.notify("CoordCA needs a selection",15,180,15,!0)};fa.prototype.lA=function(a){2<a.g.i?a.AL(a):a.UJ(a)};fa.prototype.tL=function(a,b){var c=a.ga,d=c.I,f=c.J,e=c.L;c=c.M;var g,k=0,l=a.g.i,m=2<l&&!(a.g.la||a.g.s||a.g.D||a.g.v||a.g.G),n=(this.g.width>>1)-(this.v>>1)+(this.ca<<1),q=(this.g.height>>1)-(this.A>>1)+(this.fa<<1);-1!==a.g.O&&(a.na?(n-=Math.floor((a.Z-a.v)/2),q-=Math.floor((a.X-a.A)/2),1===(a.v&1)&&0===(a.Z&1)&&--n,1===(a.A&1)&&0===(a.X&1)&&--q):(n=a.K,q=
a.H));if(a.R){if(d>e){var p=d;d=e;e=p}f>c&&(p=f,f=c,c=p);var r=e-d+1;var u=c-f+1;var t=a.g.T.h(ra.ab,r*u,"View.pasteBuffer"+b,!1);p=0;for(g=f;g<=c;g+=1)for(f=d;f<=e;f+=1){var v=a.g.mb(f+n,g+q,!1);0<v&&m&&(v=l-v);t[p]=v;0<v&&(k+=1);p+=1}a.hb[b]={buffer:t,width:r,height:u,count:k};a.ea=t;a.fc=r;a.ec=u;a.ql();a.wn=!0;a.Qc=!0}};fa.prototype.yn=function(a){a.qa=!1;a.C.notification.clear(!0,!1)};fa.prototype.hq=function(a,b){var c=a.Od.current,d=a.Sb,f=a.Hb,e=a.ga,g=e.I,k=e.L,l=e.J,m=e.M,n,q=a.g.i,p=2<
q&&!(a.g.la||a.g.s||a.g.D||a.g.v||a.g.G),r=(a.g.width>>1)-(a.v>>1)+(a.ca<<1),u=(a.g.height>>1)-(a.A>>1)+(a.fa<<1),t;if(b)a.R&&(a.Hb=G.Bj,a.Sb=!1,a.Wp(a,a.Hb,!0,!1),a.Sb=d,a.g.Gl(a.Ab),a.g.cg(),a.la=a.g.counter*a.ic,a.g.pg(a),a.ba(""),a.Od.current=1,a.Sb=!1,a.Jn(a,!0,!0),a.Sb=d,a.Od.current=c,a.Hb=f);else if(a.R){if(g>k){var v=k;k=g;g=v}l>m&&(v=m,m=l,l=v);a.Mt(!1);b=e.I;c=e.L;d=e.J;f=e.M;b>c&&(v=c,c=b,b=v);d>f&&(v=f,f=d,d=v);-1!==a.g.O&&(a.na?(r-=Math.floor((a.Z-a.v)/2),u-=Math.floor((a.X-a.A)/2),
1===(a.v&1)&&0===(a.Z&1)&&--r,1===(a.A&1)&&0===(a.X&1)&&--u):(r=a.K,u=a.H));var A=new Uint8Array((c-b+1)*(f-d+1));var w=t=0;for(n=d;n<=f;n+=1)for(v=b;v<=c;v+=1){if(!(v>=g&&v<=k&&n>=l&&n<=m)){var B=a.g.mb(v+r,n+u,!1);0<B&&p&&(B=q-B);A[w]=B;t|=a.sa(v+r,n+u,0,!1)}w+=1}(a.g.P||a.g.v)&&t&&a.g.wb();a.g.Nb=!0;a.g.Wb();e.I=g;e.L=k;e.J=l;e.M=m;a.ba("advance selection");a.g.Gl(a.Ab);a.g.cg();a.la=a.g.counter*a.ic;a.g.pg(a);a.ba("");a.Mt(!1);if(e.I<g||e.L>k||e.J<l||e.M>m){w=t=0;for(n=e.J;n<=e.M;n+=1)for(v=e.I;v<=
e.L;v+=1)v>=g&&v<=k&&n>=l&&n<=m||(t|=a.sa(v+r,n+u,0,!1)),w+=1;(a.g.P||a.g.v)&&t&&a.g.wb();a.g.Nb=!0;a.g.Wb()}w=t=0;for(n=d;n<=f;n+=1)for(v=b;v<=c;v+=1)v>=g&&v<=k&&n>=l&&n<=m||(t|=a.sa(v+r,n+u,A[w],!1)),w+=1;(a.g.P||a.g.v)&&t&&a.g.wb();a.g.Nb=!0;a.g.Wb();e.I=g;e.L=k;e.J=l;e.M=m;a.ba("advance selection")}};fa.prototype.Ht=function(a,b,c,d){var f=a.fc,e=a.ec,g=a.ea;var k=a.Xb;var l=a.g.width;var m=a.g.height;var n=0;switch(a.yc+.5|0){case G.gD:b-=f>>1;break;case G.hD:b-=f-1;break;case G.lD:c-=e>>1;break;
case G.fD:b-=f>>1;c-=e>>1;break;case G.eD:b-=f-1;c-=e>>1;break;case G.kD:c-=e-1;break;case G.iD:b-=f>>1;c-=e-1;break;case G.jD:b-=f-1,c-=e-1}k.I=b;k.J=c;k.L=b+f;k.M=c+e;for(a.cl(a,k);l!==a.g.width;)b+=l>>1,l<<=1;for(;m!==a.g.height;)c+=m>>1,m<<=1;switch(a.tH()){case G.Vo:for(m=k=0;m<e;m+=1)for(l=0;l<f;l+=1){var q=g[k];if(a.g.s){var p=a.g.mb(b+l,c+m,!1);n|=a.sa(b+l,c+m,p|q,!1)}else 0<q&&(n|=a.sa(b+l,c+m,q,!1));k+=1}break;case G.Sq:for(m=k=0;m<e;m+=1)for(l=0;l<f;l+=1)q=g[k],n|=a.sa(b+l,c+m,q,!1),k+=
1;break;case G.rs:for(m=k=0;m<e;m+=1)for(l=0;l<f;l+=1)q=g[k],p=a.g.mb(b+l,c+m,!1),n|=a.sa(b+l,c+m,p^q,!1),k+=1;break;case G.qs:for(m=k=0;m<e;m+=1)for(l=0;l<f;l+=1)q=g[k],p=a.g.mb(b+l,c+m,!1),n|=a.sa(b+l,c+m,p&q,!1),k+=1}(a.g.P||a.g.v||a.g.G)&&n&&a.g.wb();a.qa=!1;a.C.notification.clear(!0,!1);d&&a.ba("paste")};fa.prototype.pg=function(a,b,c){var d=(a.g.width>>1)-(a.v>>1)+(a.ca<<1),f=(a.g.height>>1)-(a.A>>1)+(a.fa<<1),e=a.ga,g=e.I,k=e.J,l=e.L,m=e.M;var n=0;var q=a.g.width-1;var p=0;var r=a.g.height-
1,u=0;if(!a.U&&a.R){if(g>l){var t=l;l=g;g=t}k>m&&(t=m,m=k,k=t);t=l-g+1;var v=m-k+1;-1!==a.g.O&&(a.na?(d-=Math.floor((a.Z-a.v)/2),f-=Math.floor((a.X-a.A)/2),1===(a.v&1)&&0===(a.Z&1)&&--d,1===(a.A&1)&&0===(a.X&1)&&--f):(d=a.K,f=a.H));-1!==a.g.O&&(0!==a.g.$?(n=Math.round((a.g.width-a.g.$)/2)-1,q=n+a.g.$-1+2):(n=0,q=a.g.width-1),0!==a.g.Z?(p=Math.round((a.g.height-a.g.Z)/2)-1,r=p+a.g.Z-1+2):(p=0,r=a.g.height-1));-1===a.g.O&&(a.al(g+d+b,k+f+c),d=(a.g.width>>1)-(a.v>>1)+(a.ca<<1),f=(a.g.height>>1)-(a.A>>
1)+(a.fa<<1),e=a.ga,g=e.I,k=e.J,l=e.L,m=e.M,g>l&&(l=g),k>m&&(m=k),-1!==a.g.O&&(a.na?(d-=Math.floor((a.Z-a.v)/2),f-=Math.floor((a.X-a.A)/2),1===(a.v&1)&&0===(a.Z&1)&&--d,1===(a.A&1)&&0===(a.X&1)&&--f):(d=a.K,f=a.H)),a.al(l+d+b,m+f+c),d=(a.g.width>>1)-(a.v>>1)+(a.ca<<1),f=(a.g.height>>1)-(a.A>>1)+(a.fa<<1),e=a.ga,g=e.I,k=e.J,l=e.L,m=e.M,g>l&&(t=l,l=g,g=t),k>m&&(t=m,m=k,k=t),t=l-g+1,v=m-k+1,-1!==a.g.O&&(a.na?(d-=Math.floor((a.Z-a.v)/2),f-=Math.floor((a.X-a.A)/2),1===(a.v&1)&&0===(a.Z&1)&&--d,1===(a.A&
1)&&0===(a.X&1)&&--f):(d=a.K,f=a.H)));a.g.Ea&&(-1===a.g.O?(n+=2*a.g.ba.m+1,q-=2*a.g.ba.m+1,p+=2*a.g.ba.v+1,r-=2*a.g.ba.v+1):(n+=1,--q,p+=1,--r));if(g+d+b>n&&l+d+b<q&&k+f+c>p&&m+f+c<r){a.hb[G.Bj]=null;a.Wp(a,G.Bj,!1,!0);d+=b;f+=c;n=0;l=a.hb[G.Bj].buffer;for(p=0;p<v;p+=1)for(q=0;q<t;q+=1)m=l[n],u|=a.sa(g+q+d,k+p+f,m,!1),n+=1;a.hb[G.Bj]=null;(a.g.P||a.g.v)&&u&&a.g.wb();e.I+=b;e.L+=b;e.J+=c;e.M+=c;a.ba("nudge "+(0===b?-1===c?"up":"down":-1===b?"left":"right"))}else a.C.notification.notify("No room to nudge selection",
15,180,15,!0)}};fa.prototype.ME=function(a,b){var c,d=this.g.i,f=2<d&&!(this.g.la||this.g.s||this.g.D||this.g.v||this.g.G);-1===d&&(d=2);this.g.P&&(d=7);for(c=0;256>c;c+=1)a[c]=c;if(f)for(c=1;256>c;c+=1)b=d-c,0>b?b=0:b>=d&&(b=d-1),a[c]=b;else if(2===d)if(b.O||b.D)for(c=0;256>c;c+=1)a[c]=c&1;else if(b.U)for(c=2;256>c;c+=1)a[c]=0;else{if(b.Ea){for(c=0;256>c;c+=1)a[c]=0;a[64]=1}}else if(this.g.P)if(b.D)for(a[14]=0,a[16]=0,a[18]=0,a[20]=0,a[22]=0,a[24]=0,a[9]=1,a[11]=1,a[13]=1,a[15]=1,a[17]=1,a[19]=1,
a[21]=1,a[23]=1,a[25]=1,a[10]=2,a[12]=2,a[7]=3,a[8]=4,c=26;256>c;c+=1)a[c]=0;else{if(b.U){for(c=2;256>c;c+=1)a[c]=0;a[3]=6}}else if(this.g.v){if(b.U){for(c=2;256>c;c+=1)a[c]=0;a[3]=6}}else if(this.g.G&&(b.O||b.D)){for(c=2;256>c;c+=1)a[c]=0;a[6]=3}for(c=0;256>c;c+=1)a[c]>=d&&(a[c]=0)};fa.prototype.xI=function(a,b,c){a=this.W.create("",a,this.g.T,null,null,null,!1,this);var d,f,e=0,g=0,k=new Uint8Array(256);if(null!==a.ba){this.ME(k,a);var l=this.W.ea;var m=this.W.da;var n=this.g.T.h(ra.ab,l*m,"View.pasteBuffer"+
this.Hb,!1);for(f=0;f<m;f+=1){var q=a.ba[f];for(d=0;d<l;d+=1){var p=q[d];n[e]=k[p];0<p&&(g+=1);e+=1}}this.hb[this.Hb]={buffer:n,width:l,height:m,count:g};this.ea=n;this.fc=l;this.ec=m;this.ql();this.Lp(b,c)}else this.C.notification.notify("Could not decode system clipboard",15,180,15,!0),console.log(this.W.V)};fa.prototype.nI=function(a,b){this.Lp(a,b)};fa.prototype.CG=function(a,b){Pb(this,a,b)};fa.prototype.Lp=function(a,b){var c=(this.g.width>>1)-(this.v>>1)+(this.ca<<1),d=(this.g.height>>1)-(this.A>>
1)+(this.fa<<1),f=this.ga,e=f.I,g=f.J,k=f.L;f=f.M;var l,m;-1!==this.g.O&&(this.na?(c-=Math.floor((this.Z-this.v)/2),d-=Math.floor((this.X-this.A)/2),1===(this.v&1)&&0===(this.Z&1)&&--c,1===(this.A&1)&&0===(this.X&1)&&--d):(c=this.K,d=this.H));if(null!==this.hb[this.Hb])if(a)if(this.R)if(e>k&&(a=e,e=k,k=a),g>f&&(a=g,g=f,f=a),k=k-e+1,f=f-g+1,this.fc>k||this.ec>f)this.C.notification.notify("Paste does not fit in selection",15,180,15,!0);else{a=this.yc;this.yc=G.ss;for(m=g;m<=g+f-this.ec;m+=this.ec)for(l=
e;l<=e+k-this.fc;l+=this.fc)this.Ht(this,l+c,m+d,!1);this.yc=a;this.be&&this.Vk(this);b?this.ba("advance outside"):this.ba("paste to selection")}else this.C.notification.notify("Paste to Selection needs a selection",15,180,15,!0);else this.Ft(this,this.Hb),this.C.notification.notify("Now click to paste",15,180,15,!0)};fa.prototype.Jn=function(a,b,c){a.U||(a.Sb?a.CG(b,c):a.Lp(b,c))};fa.prototype.qF=function(a){a.Ht(a,a.Hc,a.Ic,!0)};fa.prototype.wE=function(a){a.Jn(a,!1,!1)};fa.prototype.Ft=function(a,
b){0<=b&&b<a.hb.length&&(null!==a.hb[b]?(a.qa=!0,a.ea=a.hb[b].buffer,a.fc=a.hb[b].width,a.ec=a.hb[b].height,a.ra.current!==G.zj&&(a.ra.current=a.Yd(G.zj,!0,a))):(a.qa=!1,a.C.notification.notify("Clipboard empty",15,180,15,!0)))};fa.prototype.eG=function(a,b){var c,d=a.g.i;-1===d&&(d=2);if(a.g.s)for(c=0;c<a.ea.length;c+=1){var f=0;100*a.O.random()<=a.Lb&&(f|=1);100*a.O.random()<=a.Lb&&(f|=2);100*a.O.random()<=a.Lb&&(f|=4);100*a.O.random()<=a.Lb&&(f|=8);a.ea[c]=f}else for(c=0;c<a.ea.length;c+=1)f=100*
a.O.random()<=a.Lb?2===d||b?a.Df:(a.O.random()*(d-1)|0)+1:0,a.ea[c]=f};fa.prototype.mG=function(a,b){var c=a.ga,d=c.I,f=c.L,e=c.J;c=c.M;var g=(a.g.width>>1)-(a.v>>1)+(a.ca<<1),k=(a.g.height>>1)-(a.A>>1)+(a.fa<<1),l=a.g.i,m=0;if(a.R){if(d>f){var n=f;f=d;d=n}e>c&&(n=c,c=e,e=n);-1===l&&(l=2);-1!==a.g.O&&(a.na?(g-=Math.floor((a.Z-a.v)/2),k-=Math.floor((a.X-a.A)/2),1===(a.v&1)&&0===(a.Z&1)&&--g,1===(a.A&1)&&0===(a.X&1)&&--k):(g=a.K,k=a.H));if(a.g.s)for(n=e;n<=c;n+=1)for(e=d;e<=f;e+=1){var q=0;100*a.O.random()<=
a.Lb&&(q|=1);100*a.O.random()<=a.Lb&&(q|=2);100*a.O.random()<=a.Lb&&(q|=4);100*a.O.random()<=a.Lb&&(q|=8);m=a.sa(e+g,n+k,q,!1)}else for(n=e;n<=c;n+=1)for(e=d;e<=f;e+=1)q=100*a.O.random()<=a.Lb?2===l||b?a.Df:(a.O.random()*(l-1)|0)+1:0,m|=a.sa(e+g,n+k,q,!1);(a.g.P||a.g.v)&&m&&a.g.wb();a.g.Nb=!0;a.g.Wb();a.ba("random "+a.Lb+"%")}};fa.prototype.Ln=function(a,b){a.U||(a.qa?a.eG(a,b):a.mG(a,b))};fa.prototype.iG=function(a){a.U||a.Ln(a,!1)};fa.prototype.aG=function(a){a.Ln(a,!0)};fa.prototype.iq=function(a){var b=
a.fc,c=a.ec,d=b>>1,f,e,g;for(e=g=0;e<c;e+=1){if(a.g.s)for(f=0;f<d;f+=1){var k=a.ea[g+f];var l=a.ea[g+b-f-1];a.ea[g+f]=l&5|(l&2)<<2|(l&8)>>2;a.ea[g+b-f-1]=k&5|(k&2)<<2|(k&8)>>2}else for(f=0;f<d;f+=1)k=a.ea[g+f],a.ea[g+f]=a.ea[g+b-f-1],a.ea[g+b-f-1]=k;g+=b}};fa.prototype.JG=function(a){var b=a.ga,c=b.I,d=b.L,f=b.J;b=b.M;var e,g=a.g.i,k=2<g&&!(a.g.la||a.g.s||a.g.D||a.g.v||a.g.G),l=(a.g.width>>1)-(a.v>>1)+(a.ca<<1),m=(a.g.height>>1)-(a.A>>1)+(a.fa<<1),n=0;if(a.R){if(c>d){var q=d;d=c;c=q}f>b&&(q=b,b=f,
f=q);-1!==a.g.O&&(a.na?(l-=Math.floor((a.Z-a.v)/2),m-=Math.floor((a.X-a.A)/2),1===(a.v&1)&&0===(a.Z&1)&&--l,1===(a.A&1)&&0===(a.X&1)&&--m):(l=a.K,m=a.H));q=a.g.T.h(ra.ab,d-c+1,"View.flipRow",!1);for(e=f;e<=b;e+=1){for(f=c;f<=d;f+=1){var p=a.g.mb(f+l,e+m,!1);k&&0<p&&(p=g-p);q[f-c]=p}if(a.g.s)for(f=c;f<=d;f+=1)p=q[d-f],a.sa(f+l,e+m,p&5|(p&2)<<2|(p&8)>>2,!1);else for(f=c;f<=d;f+=1)n|=a.sa(f+l,e+m,q[d-f],!1)}(a.g.P||a.g.v)&&n&&a.g.wb();a.g.Nb=!0;a.g.Wb();a.ba("flip horizontally")}};fa.prototype.kq=function(a){var b=
a.fc,c=a.ec,d=c>>1,f,e,g;for(f=g=0;f<b;f+=1){if(a.g.s)for(e=0;e<d;e+=1){var k=a.ea[g+e*b];var l=a.ea[g+(c-e-1)*b];a.ea[g+e*b]=l&10|(l&1)<<2|(l&4)>>2;a.ea[g+(c-e-1)*b]=k&10|(k&1)<<2|(k&4)>>2}else for(e=0;e<d;e+=1)k=a.ea[g+e*b],a.ea[g+e*b]=a.ea[g+(c-e-1)*b],a.ea[g+(c-e-1)*b]=k;g+=1}};fa.prototype.SG=function(a){var b=a.ga,c=b.I,d=b.L,f=b.J;b=b.M;var e,g=a.g.i,k=2<g&&!(a.g.la||a.g.s||a.g.D||a.g.v||a.g.G),l=(a.g.width>>1)-(a.v>>1)+(a.ca<<1),m=(a.g.height>>1)-(a.A>>1)+(a.fa<<1),n=0;if(a.R){if(c>d){var q=
d;d=c;c=q}f>b&&(q=b,b=f,f=q);-1!==a.g.O&&(a.na?(l-=Math.floor((a.Z-a.v)/2),m-=Math.floor((a.X-a.A)/2),1===(a.v&1)&&0===(a.Z&1)&&--l,1===(a.A&1)&&0===(a.X&1)&&--m):(l=a.K,m=a.H));for(q=a.g.T.h(ra.ab,b-f+1,"View.flipColumn",!1);c<=d;c+=1){for(e=f;e<=b;e+=1){var p=a.g.mb(c+l,e+m,!1);k&&0<p&&(p=g-p);q[e-f]=p}if(a.g.s)for(e=f;e<=b;e+=1)p=q[b-e],a.sa(c+l,e+m,p&10|(p&1)<<2|(p&4)>>2,!1);else for(e=f;e<=b;e+=1)n|=a.sa(c+l,e+m,q[b-e],!1)}(a.g.P||a.g.v)&&n&&a.g.wb();a.g.Nb=!0;a.g.Wb();a.ba("flip vertically")}};
fa.prototype.yg=function(a,b){var c=a.fc,d=a.ec,f,e,g=a.g.T.h(ra.ab,c*d,"View.pasteBuffer",!1);for(e=0;e<d;e+=1)for(f=0;f<c;f+=1)if(a.g.s)if(b){var k=a.ea[e*c+f];g[f*d+(d-e-1)]=k<<1&15|(k&8)>>3}else k=a.ea[e*c+f],g[(c-f-1)*d+e]=k>>1&15|(k&1)<<3;else b?g[f*d+(d-e-1)]=a.ea[e*c+f]:g[(c-f-1)*d+e]=a.ea[e*c+f];a.ea=g;a.fc=d;a.ec=c};fa.prototype.Xz=function(a,b,c){a.yI(a,b,c)};fa.prototype.yI=function(a,b,c){var d=a.ga,f=d.I,e=d.L,g=d.J,k=d.M,l=0,m=a.g.i;var n=!0;var q=2<m&&!(a.g.la||a.g.s||a.g.D||a.g.v||
a.g.G),p=a.g.ja?-1:0;var r=Math.round((a.g.width-a.g.$)/2)+p;var u=Math.round((a.g.height-a.g.Z)/2)+p;var t=r+a.g.$-1;var v=u+a.g.Z-1;p=(a.g.width>>1)-(a.v>>1)+(a.ca<<1);var A=(a.g.height>>1)-(a.A>>1)+(a.fa<<1),w=0;if(a.R){-1!==a.g.O&&(a.na?(p-=Math.floor((a.Z-a.v)/2),A-=Math.floor((a.X-a.A)/2),1===(a.v&1)&&0===(a.Z&1)&&--p,1===(a.A&1)&&0===(a.X&1)&&--A):(p=a.K,A=a.H));if(f>e){var B=e;e=f;f=B}g>k&&(B=k,k=g,g=B);B=f+(e-f+1-1>>1);var C=g+(k-g+1-1>>1);var O=B+g-C;var M=C+f-B;var K=B+k-C;C=C+e-B;var L=
d.I;var U=d.J;var X=d.L;var H=d.M;d.I=O;d.J=M;d.L=K;d.M=C;d.I>d.L&&(B=d.I,d.I=d.L,d.L=B);d.J>d.M&&(B=d.J,d.J=d.M,d.M=B);if(-1!==a.g.O){if(d.I+p<r||d.L+p>t||d.J+A<u||d.M+A>v)a.C.notification.notify("Rotation does not fit in bounded grid",15,180,15,!0),n=!1}else a.dA(a)?(a.C.notification.notify("Rotation does not fit on grid",15,180,15,!0),n=!1):(p=(a.g.width>>1)-(a.v>>1)+(a.ca<<1),A=(a.g.height>>1)-(a.A>>1)+(a.fa<<1),-1!==a.g.O&&(a.na?(p-=Math.floor((a.Z-a.v)/2),A-=Math.floor((a.X-a.A)/2),1===(a.v&
1)&&0===(a.Z&1)&&--p,1===(a.A&1)&&0===(a.X&1)&&--A):(p=a.K,A=a.H)));if(n){b?(n=M,v=K,t=1,u=-1):(n=C,v=O,t=-1,u=1);r=a.g.T.h(ra.Tp,3*(e-f+1)*(k-g+1),"View.rotateCells",!1);for(K=g;K<=k;K+=1){B=n;for(O=f;O<=e;O+=1)M=a.g.mb(O+p,K+A,!1),q?0<M&&(M=m-M):a.g.s&&(M=b?M<<1&15|(M&8)>>3:M>>1&15|(M&1)<<3),r[l]=v,r[l+1]=B,r[l+2]=M,l+=3,B+=t;v+=u}p=(a.g.width>>1)-(a.v>>1)+(a.ca<<1);A=(a.g.height>>1)-(a.A>>1)+(a.fa<<1);-1!==a.g.O&&(a.na?(p-=Math.floor((a.Z-a.v)/2),A-=Math.floor((a.X-a.A)/2),1===(a.v&1)&&0===(a.Z&
1)&&--p,1===(a.A&1)&&0===(a.X&1)&&--A):(p=a.K,A=a.H));for(l=0;l<r.length;)O=r[l],K=r[l+1],M=r[l+2],w|=a.sa(O+p,K+A,M,!1),l+=3;for(O=f;O<d.I;O+=1)for(K=g;K<=k;K+=1)w|=a.sa(O+p,K+A,0,!1);for(O=d.L+1;O<=e;O+=1)for(K=g;K<=k;K+=1)w|=a.sa(O+p,K+A,0,!1);for(K=g;K<d.J;K+=1)for(O=f;O<=e;O+=1)w|=a.sa(O+p,K+A,0,!1);for(K=d.M+1;K<=k;K+=1)for(O=f;O<=e;O+=1)w|=a.sa(O+p,K+A,0,!1);(a.g.P||a.g.v)&&w&&a.g.wb();a.g.Nb=!0;a.g.Wb();a.ba(c)}else d.I=L,d.J=U,d.L=X,d.M=H}};fa.prototype.VF=function(a){a.Qm(a)};fa.prototype.aF=
function(a){a.U||a.pg(a,-1,0)};fa.prototype.eF=function(a){a.U||a.pg(a,1,0)};fa.prototype.iF=function(a){a.U||a.pg(a,0,-1)};fa.prototype.XE=function(a){a.U||a.pg(a,0,1)};fa.prototype.oF=function(a){a.hq(a,!0)};fa.prototype.sF=function(a){a.hq(a,!1)};fa.prototype.jq=function(a){a.U||(a.qa?a.iq(a):a.JG(a))};fa.prototype.Jp=function(a){a.U||(a.qa?a.kq(a):a.SG(a))};fa.prototype.Uz=function(a){a.U||(a.qa?a.yg(a,!0):a.Xz(a,!0,"rotate clockwise"))};fa.prototype.Rz=function(a){a.U||(a.qa?a.yg(a,!1):a.Xz(a,
!1,"rotate counter-clockwise"))};fa.prototype.LK=function(a){var b=0,c=a.g.i;if(!a.U)for(-1===c&&(c=2);b<a.ea.length;){var d=a.ea[b];a.ea[b]=c-d-1;b+=1}};fa.prototype.WK=function(a){var b=a.ga,c=b.I,d=b.L,f=b.J;b=b.M;var e=(a.g.width>>1)-(a.v>>1)+(a.ca<<1),g=(a.g.height>>1)-(a.A>>1)+(a.fa<<1),k=a.g.i,l=0;if(!a.U&&a.R){if(c>d){var m=d;d=c;c=m}f>b&&(m=b,b=f,f=m);-1===k&&(k=2);-1!==a.g.O&&(a.na?(e-=Math.floor((a.Z-a.v)/2),g-=Math.floor((a.X-a.A)/2),1===(a.v&1)&&0===(a.Z&1)&&--e,1===(a.A&1)&&0===(a.X&
1)&&--g):(e=a.K,g=a.H));for(m=f;m<=b;m+=1)for(f=c;f<=d;f+=1){var n=a.g.mb(f+e,m+g,!1);!(a.g.v||a.g.G||a.g.s||a.g.D)&&2<k&&0<n&&(n=k-n);l|=a.sa(f+e,m+g,k-n-1,!1)}(a.g.P||a.g.v)&&l&&a.g.wb();a.g.Nb=!0;a.g.Wb();a.ba("invert cells in selection")}};fa.prototype.NB=function(a){a.U||(a.qa?a.LK(a):a.WK(a))};fa.prototype.aq=function(a){a.g.Zb=a.g.Zb?!1:!0;a.Zh(a.Pb);var b=a.g.yb;a.g.Zb&&(b=!b);a.C.notification.notify("Playback "+(b?"Reverse":"Forward"),15,40,15,!0)};fa.prototype.xG=function(a){a.Gb(!0,!0,
G.rg);a.Pb||(a.oc=!0)};fa.prototype.jA=function(a){if(a.g.D&&2===a.g.i){var b=a.g.aq();a.ce(a,b)}};fa.prototype.nA=function(a){var b=a.$;a.g.D&&(b=$a.EH(b),""===b&&(b=a.W.hb));a.ce(a,b)};fa.prototype.BI=function(a){if(0!==a.B||0!==a.ha)a.B=0,a.md.current=a.zf([0!==a.B],!0,a),a.ha=0;0===a.g.A?(a.C.notification.notify("No live cells to Identify",15,120,15,!1),a.yb=!1,a.Bb=!1):(a.yb?(a.yb=!1,a.C.notification.notify("Identify cancelled",15,120,15,!1)):(a.yb=!0,a.Bb=!1,a.g.La=0,a.C.notification.notify("Identifying...",
15,5184E3,15,!1),a.wb=-1),a.ba(""));a.Se.current=a.fm(G.kk,!0,a);a.Nd.current=a.ck(G.Uh,!0,a);a.g.Mg(a.yb);a.B=0;a.Xk(a);a.Xk(a);a.C.m=!0;a.h.locked=!1};fa.prototype.BJ=function(a){a.le=1};fa.prototype.eJ=function(a){a.le=2};fa.prototype.OI=function(a){a.le=3};fa.prototype.QA=function(a){var b=window.prompt("Enter generation",String(""===a.on?String(a.g.counter):a.on)),c=!1;a.yf=-1;if(null!==b){var d=b;"b"===b.substring(b.length-1).toLowerCase()&&(b=b.substring(0,b.length-1),c=!0);if("+"===b.charAt(0)){var f=
a.g.counter;f+=parseInt(b.substring(1),10)}else"-"===b.charAt(0)?(f=a.g.counter,f-=parseInt(b.substring(1),10)):f=parseInt(b,10);0<=f&&f<=G.bw?(a.on=d,f!==a.g.counter&&(a.ig()?a.C.notification.notify("No live cells",15,360,15,!1):(a.Wa=f,a.ja.current=a.Af([!1],!0,a),a.C.m=!0,a.Yc&&a.C.notification.notify("Going to generation "+f,15,1E4,15,!1),a.C.notification.clear(!0,!1),f<a.g.counter&&(a.g.Zg(a,!1),a.Zt(a.g.counter)),c&&(a.yf=performance.now()),a.ei=f-a.g.counter))):a.C.notification.notify("Invalid generation specified",
15,240,15,!0)}};fa.prototype.Ol=function(a){a.BI(a)};fa.prototype.bk=function(a,b,c){b&&(c.g.Za=a[0]);return[c.g.Za]};fa.prototype.KB=function(a,b,c){b&&(c.td=a[0]);return[c.td]};fa.prototype.OB=function(a,b,c){b&&(c.Fj=a[0]);return[c.Fj]};fa.prototype.xv=function(a,b,c){b&&(c.Qd=a[0]);return[c.Qd]};fa.prototype.Xv=function(a,b,c){b&&(c.Jf=a[0]);return[c.Jf]};fa.prototype.Af=function(a,b,c){b&&(0===c.B&&0===c.ha||!a[0]||(c.B=0,c.md.current=c.zf([0!==c.B],!0,c),c.ha=0),!a[0]&&0<c.Yb.length&&(c.ha=
1),a[0]||c.Xk(c),a[0]&&(c.C.notification.clear(!1,!1),c.C.notification.clear(!0,!1)));return a};fa.prototype.Av=function(a,b,c){b&&(c.di=a[0]);return[c.di]};fa.prototype.Fv=function(a,b,c){b&&(c.Eg=a[0]);return[c.Eg]};fa.prototype.cC=function(){this.Wb!==G.Uh&&(this.Zc===G.kk?this.g.On(this.Md):this.Zc===G.bC&&this.g.In(this.Md))};fa.prototype.ck=function(a,b,c){b&&(c.Wb=a,c.cC());return c.Wb};fa.prototype.fm=function(a,b,c){b&&(c.Zc=a,c.Wb===G.Uh&&(c.Nd.current=c.ck(G.Hq,!0,c)),c.cC());return c.Zc};
fa.prototype.Ae=function(a,b,c){b&&(c.fe=a[0],c.fe?c.Vh?c.C.notification.notify("Replace: Now click on a cell",15,180,15,!0):c.C.notification.notify("Pick: Now click on a cell",15,180,15,!0):(c.Sx||c.C.notification.clear(!0,!1),c.Sx=!1,c.Vh=!1));return[c.fe]};fa.prototype.ZA=function(a,b,c){b&&(c.ka=a[0],c.ka&&!c.Pb&&c.Gb(!0,!0,G.rg));return[c.ka]};fa.prototype.fF=function(a,b,c){b&&-1!==c.Ub&&(c.Ba=!a[0],c.Da?(c.ub=c.Ba,c.C.notification.notify("Loop and Waypoints "+(c.Ba?"Off":"On"),15,40,15,!0)):
c.sb?(c.Ob=c.Ba,c.C.notification.notify("Loop and Track "+(c.Ba?"Off":"On"),15,40,15,!0),c.Qz(c.Ob)):c.C.notification.notify("Loop "+(c.Ba?"Off":"On"),15,40,15,!0));return[c.Ba]};fa.prototype.bF=function(a,b,c){b&&c.eb&&(c.tc=!a[0]);return[c.tc]};fa.prototype.jF=function(a,b,c){b&&-1!==c.uc&&(c.Nb=!a[0]);return[c.Nb]};fa.prototype.gw=function(a,b,c){b&&(c.sb?(c.Ob=!a[0],c.Qz(c.Ob),-1!==c.Ub&&(c.Ba=c.Ob)):c.Da&&(c.ub=!a[0],c.ub?(c.C.notification.clear(!1,!1),c.We=""):(c.oc=!0,c.elapsedTime=c.s.wa(c.g.counter),
c.s.O(c,c.elapsedTime,c.g.counter,!1),c.s.O(c,c.elapsedTime,c.g.counter,!1)),-1!==c.Ub&&(c.Ba=c.ub)));return c.sb?[c.Ob]:[c.ub]};fa.prototype.zf=function(a,b,c){b&&(c.B=a[0]?1:0,c.B?(c.ja.current[0]&&(c.ja.current=c.Af([!1],!0,c)),c.C.notification.clear(!1,!1),c.C.notification.clear(!0,!1)):(c.Dc(G.Qg,c),c.B=0));c.Yt(c.ra.current);return[0!==c.B]};fa.prototype.OJ=function(a){a.Rt(a)};fa.prototype.cI=function(a){a.Lz(a)};fa.prototype.qL=function(a){a.BA(a)};fa.prototype.CA=function(a){var b=a.wa.current[0];
b=45*Math.floor((b+22.5)/45);360<=b&&(b=0);a.wa.current=a.Sg([b,b],!0,a)};fa.prototype.LE=function(){V.RD()};fa.prototype.OE=function(a){V.Py(a)};fa.prototype.$G=function(){V.AD()};fa.prototype.gG=function(a){a.En(a,!1,!1)};fa.prototype.EE=function(a,b,c){b&&(c.Ne=a[0]);return[c.Ne]};fa.prototype.zE=function(a,b,c){b&&(c.g.bd=a[0],c.g.pj());return[c.g.bd]};fa.prototype.zp=function(a,b,c){b&&(c.Mg=a[0]);c.C.we(!0);return[c.Mg]};fa.prototype.eo=function(a,b){1<a.ha&&(a.ha-=b,1>a.ha&&(a.ha=1))};fa.prototype.bo=
function(a,b){a.ha<a.Yb.length-a.Fa+1&&(a.ha+=b,a.ha>a.Yb.length-a.Fa+1&&(a.ha=a.Yb.length-a.Fa+1))};fa.prototype.oo=function(a,b){1<a.B&&(a.B-=b,1>a.B&&(a.B=1))};fa.prototype.mo=function(a,b){a.B<a.sj-a.Fa&&(a.B+=b,a.B>a.sj-a.Fa&&(a.B=a.sj-a.Fa))};fa.prototype.PF=function(a){for(var b=a.F.length-1,c=!1;0<=b&&!c;)a.B<=a.F[b][0]?--b:c=!0;c&&(a.B=a.F[b][0])};fa.prototype.QE=function(a){for(var b=0,c=!1;b<a.F.length&&!c;)a.B>=a.F[b][0]?b+=1:c=!0;c&&(a.B=a.F[b][0])};fa.prototype.GI=function(a){for(this.g.s&&
this.g.counter<a&&(1===(this.g.counter&1)?this.g.h.o.fill(0):this.g.R.o.fill(0));this.g.counter<a;)this.g.Gl(!1),this.g.cg(),this.g.ei(),this.g.pg(this),this.zn();this.elapsedTime=1E3*a/(this.da*this.P);this.la=a*this.ic};fa.prototype.nr=function(a){var b=this.ua+(0<this.g.i?this.g.i:0);!this.Ab&&this.C.jb&&(this.C.jb=!1,0>a&&(a=0),this.elapsedTime=1E3*a/(this.da*this.P),this.la=a*this.ic,-1!==this.wb&&a>this.wb+b?this.g.counter=a:this.g.nm(a,this),this.elapsedTime=1E3*a/(this.da*this.P),this.la=
a*this.ic,this.s.hb(this.elapsedTime),this.oc=!0,a!==this.g.counter&&(this.Zg=!0,this.Np=a,this.g.Zg(this,!1),this.C.notification.notify("Computing previous generations",15,1E4,15,!0),this.Mp=!0))};fa.prototype.YA=function(a){a.style.width="2em";a.style.height="2em";a.style.padding=0;a.style.border="none";a.style.outline="none";a.style.boxShadow="none";a.style.background="transparent";a.style.position="fixed";a.style.left="-100px";a.style.top="0px"};fa.prototype.ce=function(a,b){var c=document.getElementById("ViewerCopy"),
d=null;V.VA=b;if(window.ClipboardItem)try{d=new ClipboardItem({"text/plain":Qb().then(()=>new Promise(async f=>{f(new Blob([b],{type:"text/plain"}))}))})}catch(f){}d?navigator.clipboard.write([d]):navigator.clipboard.writeText(b);a.C.notification.notify("Copied to external clipboard",15,180,15,!0);c&&(c.innerHTML=b,c.value=c.innerHTML)};fa.prototype.Fd=function(a){var b=hb.Cf,c=Object.keys(b),d=a.h,f=a.j;a=a.i;for(var e="",g=!1,k=null,l=0;l<c.length&&!g;)k=b[c[l]],k[1]===d&&k[2]===f&&k[3]===a?(g=
!0,l=c.length):l+=1;g?e=k[0]:e=d+" "+f+" "+a;return e};fa.prototype.Di=function(a,b){return a.h===b.h&&a.j===b.j&&a.i===b.i};fa.prototype.Sn=function(a,b){var c="#C "+D.Nl+" ",d=String(-(a.g.width/2-a.g.ma-a.g.Ja|0)),f=String(-(a.g.height/2-a.g.ka-a.g.Aa|0)),e=a.g.zoom,g=String(a.g.angle|0),k=String(a.g.xb|0),l=a.g.pa[a.g.qb];0!==a.g.counter&&(c+=D.dr+" "+a.g.counter+" ");c+=D.pf+" "+d+" "+D.sf+" "+f+" ";c+=D.te+" "+(e===(e|0)?String(e):String(e.toFixed(2)))+" ";c+=D.kl+" "+g+" ";0!==a.g.xb&&(c+=
D.Tl+" "+k+" ");c+=D.Sm+"\n";if(b){c+="#C "+D.Nl+" ";if(a.ya){if(2<a.g.i){if(c+=D.tb+" "+D.rp+" "+a.Fd(l.F),c+=" "+D.tb+" "+D.qp+" "+a.Fd(l.A),a.Di(l.j.i,l.F)||(c+=" "+D.tb+" "+D.up+" "+a.Fd(l.j.i)),a.Di(l.j.h,l.j.i)||(c+=" "+D.tb+" "+D.tp+" "+a.Fd(l.j.h)),l.G||(c+=" "+D.tb+" "+D.hr+" "+a.Fd(l.m.i)),l.G||!a.Di(l.m.h,l.m.i))c+=" "+D.tb+" "+D.gr+" "+a.Fd(l.m.h)}else c+=D.tb+" "+D.rp+" "+a.Fd(l.v),c+=" "+D.tb+" "+D.qp+" "+a.Fd(l.i.h),a.Di(l.i.h,l.i.i)||(c+=" "+D.tb+" "+D.fr+" "+a.Fd(l.i.i)),a.Di(l.h.i,
l.v)||(c+=" "+D.tb+" "+D.up+" "+a.Fd(l.h.i)),a.Di(l.h.h,l.h.i)||(c+=" "+D.tb+" "+D.tp+" "+a.Fd(l.h.h));c+=" "+D.Sm+"\n#C "+D.Nl+" "}c+=D.pk+" "+l.name+" ";a.ua!==a.rj&&(c+=D.vo+" "+a.ua+" ");a.He!==a.pD&&(c+=D.nq+" "+a.He+" ");c+=D.Dp+" "+a.displayWidth+" ";c+=D.uo+" "+a.displayHeight+" ";c+=D.Sm+"\n"}a.ce(a,c)};fa.prototype.aA=function(a){a.g.Nb=!0;a.g.Wb();var b=a.g.Yf(a,a.g,a.g.i,a.g.i,[],!1,y.hp);a.element.innerHTML=b.replace(/\n/g,"<br>");a.element.value=b};fa.prototype.yL=function(a,b){if(a.Xd.locked||
a.Mj||window.confirm("Open clipboard?"))a.element.innerHTML=b,a.element.value=a.element.innerHTML,sb(a.element)};fa.prototype.Li=function(a){Ja.zb?a.ce(a,V.Ee[a.Xa].pattern):a.ce(a,tb(a.element))};fa.prototype.On=function(a,b){a.ce(a,a.g.Yf(a,a.g,a.g.i,a.g.i,[],!1,b?y.hp:0))};fa.prototype.rK=function(a){a.ce(a,a.g.Yf(a,a.g,a.g.i,a.g.i,[],!1,y.BD|y.DD|y.CD))};fa.prototype.kC=function(a){mb.shift=a.shiftKey};fa.prototype.hC=function(a,b){var c=b.charCode||b.keyCode;if(a.Zg?mb.RJ(a,c,b):a.yb?mb.SJ(a,
c,b):-1!==a.Wa?mb.QJ(a,c,b):V.Lm?mb.TJ(a,c,b):mb.PJ(a,c,b))a.C.we(!0),b.preventDefault(),b.stopPropagation()};fa.prototype.fG=function(){this.g.P||this.g.v?(this.Kf.setPosition(da.Ib,-85,-130),this.gg.setPosition(da.Ib,-130,-130),this.g.P?(this.Ac.setPosition(da.Ib,-175,-130),this.Ac.Y="random fill [Shift 5]",this.ge.setPosition(da.Ib,-280,-130)):(this.Ac.setPosition(da.Ib,-220,-130),this.Ac.Y="random multi-state fill [Shift 5]",this.Wh.setPosition(da.Ib,-175,-130),this.ge.setPosition(da.Ib,-325,
-130))):2>=this.g.i?(this.Kf.setPosition(da.Ib,-40,-130),this.gg.setPosition(da.Ib,-85,-130),this.Ac.setPosition(da.Ib,-130,-130),this.Ac.Y="random fill [Shift 5]",this.ge.setPosition(da.Ib,-235,-130)):(this.Kf.setPosition(da.Ib,-40,-130),this.gg.setPosition(da.Ib,-85,-130),this.g.s?(this.Ac.setPosition(da.Ib,-130,-130),this.Ac.Y="random multi-state fill [Shift 5]",this.ge.setPosition(da.Ib,-235,-130)):(this.Ac.setPosition(da.Ib,-175,-130),this.Ac.Y="random multi-state fill [Shift 5]",this.Wh.setPosition(da.Ib,
-130,-130),this.ge.setPosition(da.Ib,-280,-130)))};fa.prototype.fC=function(){var a=!(this.g.la||this.g.v||this.g.G||this.g.D);if(this.displayHeight<G.Dl){var b=50;this.Cl.setPosition(da.ed,10,b);this.Hl.setPosition(da.ib,0,b);this.Bl.setPosition(da.sc,-160,b);b+=50;a?(this.Jl.setPosition(da.ed,10,b),this.Zi.setPosition(da.ib,0,b),this.Xi.setPosition(da.sc,-160,b),0<this.s.B()?(this.xh.setPosition(da.ed,10,150),this.wh.setPosition(da.ib,0,150),this.Yi.setPosition(da.sc,-160,150)):(this.xh.setPosition(da.ed,
10,150),this.wh.setPosition(da.ib,0,150))):(this.Zi.setPosition(da.ed,10,b),this.Xi.setPosition(da.ib,0,b),this.xh.setPosition(da.sc,-160,b),b+=50,this.wh.setPosition(da.ed,10,b),0<this.s.B()&&this.Yi.setPosition(da.ib,0,b))}else b=0<this.s.B()?-200:-175,this.Cl.setPosition(da.gb,0,b),b+=50,this.Hl.setPosition(da.gb,0,b),b+=50,this.Bl.setPosition(da.gb,0,b),b+=50,a&&(this.Jl.setPosition(da.gb,0,b),b+=50),this.Zi.setPosition(da.gb,0,b),b+=50,this.Xi.setPosition(da.gb,0,b),b+=50,this.xh.setPosition(da.gb,
0,b),b+=50,this.wh.setPosition(da.gb,0,b),this.Yi.setPosition(da.gb,0,b+50)};fa.prototype.wA=function(){var a="white",b="black",c="rgb(0,240,32)",d="blue",f="grey",e="white";var g=this.wc[G.Fr];-1!==g?(a="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")",this.m.s=!0):(this.m.s=!0,g=16777215);this.m.P=this.g.jc?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255;g=this.wc[G.Cr];-1!==g?this.m.s=!0:(this.m.s=!0,g=7368816);this.m.H=this.g.jc?-16777216|(g&255)<<16|(g>>8&255)<<
8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255;g=this.wc[G.Dr];-1!==g?b="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")":g=0;this.bp=g;this.m.R=this.g.jc?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255;g=this.wc[G.Gr];-1!==g&&(c="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.wc[G.Ir];-1!==g&&(d="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.wc[G.Hr];-1!==g?f="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")":g=8421504;this.m.O=this.g.jc?-16777216|(g&255)<<
16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255;g=this.wc[G.Er];-1!==g&&(e="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");this.C.Sb(a,b,c,d,f,e,this.mi);this.kj.dc=this.wu;this.kj.hd=this.xu};fa.prototype.SE=function(){var a,b=0;this.h=this.C.ub(this.zG,this.Ys,this);this.h.O=this.CH;this.h.ma=this.fJ;this.C.pa=this.DI;this.Md=this.h.j(da.ib,0,52,480,48,"Banner");this.Md.Rb("32px Arial");this.Ll=this.h.j(da.ib,-160,140,160,32,"Cells");this.zq=this.h.j(da.ib,-160,180,160,32,"Bounding Box");
this.Gq=this.h.j(da.ib,-160,240,160,32,"Direction");this.zv=this.h.j(da.ib,-160,280,160,32,"Period");this.Ev=this.h.j(da.ib,-160,320,160,32,"Slope");this.Wv=this.h.j(da.ib,-160,360,160,32,"Speed");this.wv=this.h.j(da.ib,-160,400,160,32,"Heat");this.Sw=this.h.j(da.ib,-160,440,160,32,"Volatility");this.cj=this.h.j(da.ib,-160,460,160,32,"Mod");this.vq=this.h.j(da.ib,-160,500,160,32,"Active Cells");this.fw=this.h.j(da.ib,-160,540,160,32,"Temperature");this.bj=this.h.j(da.ib,80,140,320,32,"");this.ip=
this.h.j(da.ib,80,180,320,32,"");this.yp=this.h.j(da.ib,80,220,320,32,"");this.Ap=this.h.j(da.ib,80,260,320,32,"");this.Ep=this.h.j(da.ib,80,300,320,32,"");this.Sl=this.h.j(da.ib,80,340,320,32,"");this.Ml=this.h.j(da.ib,80,380,320,32,"");this.Gp=this.h.j(da.ib,80,420,320,32,"");this.Ai=this.h.j(da.ib,80,460,320,32,"");this.Kl=this.h.j(da.ib,80,500,320,32,"");this.Ul=this.h.j(da.ib,80,540,320,32,"");this.Xl=this.h.j(da.ed,0,40,16,20,"X");this.Xl.Rb(G.Kg);this.Xl.Xm=da.ue;this.Yl=this.h.j(da.ed,70,
40,16,20,"Y");this.Yl.Rb(G.Kg);this.Yl.Xm=da.ue;this.Vl=this.h.j(da.ed,140,40,16,20,"A");this.Vl.Rb(G.Kg);this.Vl.Xm=da.ue;this.Eh=this.h.j(da.ed,16,40,54,20,"");this.Eh.Rb(G.Kg);this.Eh.i=da.right;this.Eh.Y="camera X position";this.Fh=this.h.j(da.ed,86,40,54,20,"");this.Fh.Rb(G.Kg);this.Fh.i=da.right;this.Fh.Y="camera Y position";this.zh=this.h.j(da.ed,156,40,40,20,"");this.zh.Rb(G.Kg);this.zh.i=da.right;this.zh.Y="camera angle";this.gx=this.h.j(da.ed,196,40,4,20,"");this.Hp=this.h.j(da.sc,-280,
40,20,20,"E");this.Hp.Rb(G.Kg);this.jn=this.h.j(da.sc,-210,40,20,20,"S");this.jn.Rb(G.Kg);this.kn=this.h.j(da.sc,-140,40,20,20,"W");this.kn.Rb(G.Kg);this.Ip=this.h.j(da.sc,-70,40,20,20,"N");this.Ip.Rb(G.Kg);this.Ah=this.h.j(da.sc,-260,40,50,20,"");this.Ah.Rb(G.Kg);this.Ah.i=da.right;this.Ah.Y="bounding box east edge velocity";this.Ch=this.h.j(da.sc,-190,40,50,20,"");this.Ch.Rb(G.Kg);this.Ch.i=da.right;this.Ch.Y="bounding box south edge velocity";this.Dh=this.h.j(da.sc,-120,40,50,20,"");this.Dh.Rb(G.Kg);
this.Dh.i=da.right;this.Dh.Y="bounding box west edge velocity";this.Bh=this.h.j(da.sc,-50,40,50,20,"");this.Bh.Rb(G.Kg);this.Bh.i=da.right;this.Bh.Y="bounding box north edge velocity";this.Yg=this.h.m(this.bF,da.sc,-210,0,38,20,["START"],[!1],da.zb);this.Yg.Rb(G.Hs);this.Yg.Y=["autostart ["+this.G+" O]"];this.Ng=this.h.m(this.jF,da.sc,-210,20,38,20,["STOP"],[!1],da.zb);this.Ng.Rb(G.Hs);this.Ng.Y=["stop ["+this.G+" P]"];this.Oc=this.h.m(this.gw,da.sc,-172,0,38,20,["WAYPT"],[!1],da.zb);this.Oc.Rb(G.Hs);
this.Oc.Y=["toggle waypoint mode [W]"];this.Wf=this.h.m(this.fF,da.sc,-172,20,38,20,["LOOP"],[!1],da.zb);this.Wf.Rb(G.Hs);this.Wf.Y=["toggle loop mode [Shift P]"];this.ra=this.h.m(this.Yd,da.ed,90,0,120,40,["","",""],G.bi,da.ti);this.ra.h=[this.m.h("draw"),this.m.h("select"),this.m.h("pan")];this.ra.Y=["draw [F2]","select [F4]","pan [F5]"];this.ld=this.h.m(this.fI,da.sc,-80,100,80,60,["1","2"],0,da.ti);this.ld.orientation=da.vertical;this.ld.Y=["",""];this.ld.Rb("14px Arial");this.cq=this.h.i(this.yF,
da.sc,-110,40,60,40,"OK");this.cq.Y="confirm setting disabled and hide warning";this.md=this.h.m(this.zf,da.sc,-40,0,40,40,["Help"],[!1],da.zb);this.md.Y=["toggle help display [H]"];this.md.Rb("16px Arial");this.Yo=this.h.i(this.rF,da.sc,-40,50,40,40,"^");this.Yo.Y="show help topics [Backspace]";this.ro=this.h.i(this.XK,da.sc,-40,100,40,40,"<");this.ro.Y="show help sections [Ins]";this.Cl=this.h.i(this.hL,da.ib,0,50,150,40,"Keys");this.Cl.Y="show keyboard shortcuts [K]";this.Hl=this.h.i(this.MK,da.ib,
0,100,150,40,"Scripts");this.Hl.Y="show script commands [S]";this.Bl=this.h.i(this.NJ,da.ib,0,150,150,40,"Info");this.Bl.Y="show pattern and engine information [I]";this.Jl=this.h.i(this.YE,da.ib,0,200,150,40,"Themes");this.Jl.Y="show colour Themes [E]";this.Zi=this.h.i(this.zH,da.ib,0,250,150,40,"Colours");this.Zi.Y="show colour names [L]";this.Xi=this.h.i(this.xF,da.ib,0,300,150,40,"Aliases");this.Xi.Y="show rule aliases [A]";this.xh=this.h.i(this.KE,da.ib,0,350,150,40,"Memory");this.xh.Y="show memory usage [Y]";
this.wh=this.h.i(this.aI,da.ib,0,400,150,40,"Comments");this.wh.Y="show pattern comments [C]";this.Yi=this.h.i(this.BF,da.ib,0,450,150,40,"Annotations");this.Yi.Y="show annotations [N]";this.ae=this.h.m(this.ZA,da.ed,0,0,40,40,["Auto"],[!1],da.zb);this.ae.h=[this.m.h("autofit")];this.ae.Y=["toggle autofit [Shift F]"];this.ae.Rb("16px Arial");this.ag=this.h.i(this.xG,da.ed,45,0,40,40,"");this.ag.h=this.m.h("fit");this.ag.Y="fit pattern to display [F]";this.kd=this.h.m(this.bk,da.sc,-85,0,40,40,["Grid"],
[!1],da.zb);this.kd.h=[this.m.h("grid")];this.kd.Y=["toggle gridlines [X]"];this.kd.Rb("16px Arial");this.Rf=this.h.Da(da.lh);this.Rf.locked=!0;this.bg=this.h.j(da.lh,0,-130,42,30,"Gen");this.bg.i=da.left;this.bg.Rb(G.Lg);this.bg.Y="generation";this.jd=this.h.j(da.lh,42,-130,98,30,"");this.jd.i=da.right;this.jd.Rb(G.Lg);this.jd.Y="generation";this.$j=this.h.j(da.lh,0,-100,70,30,"Time");this.$j.i=da.left;this.$j.Rb(G.Lg);this.$j.Y="elapsed time";this.Zf=this.h.j(da.lh,70,-100,70,30,"");this.Zf.i=da.right;
this.Zf.Rb(G.Lg);this.Zf.Y="elapsed time";this.mf=this.h.j(da.lh,210,-70,130,30,"");this.mf.i=da.left;this.mf.Rb(G.Lg);this.mf.Y="selection size";this.Cb=this.h.j(da.lh,0,-70,210,30,"");this.Cb.i=da.left;this.Cb.Rb(G.Lg);this.Cb.Y="cell state at cursor position";this.nb=this.h.m(this.zp,da.lh,0,-40,100,40,["T 0"],[this.Mg],da.zb);this.nb.Y=["toggle generation statistics [G]\ngeneration "+(this.g.counter+this.Ja)];this.Bc=this.h.j(da.lh,0,-40,this.displayWidth-40,40,"");this.Bc.i=da.left;this.Bc.N=
!0;this.df=this.h.j(da.Ib,-70,-130,70,30,"Alive");this.df.i=da.left;this.df.Rb(G.Lg);this.df.Y="current population";this.Rd=this.h.j(da.Ib,-140,-130,70,30,"");this.Rd.i=da.right;this.Rd.Rb(G.Lg);this.Rd.Y="alive";this.Tc=this.h.j(da.Ib,-70,-100,70,30,"Births");this.Tc.i=da.left;this.Tc.Rb(G.Lg);this.Tc.Y="cells born this generation";this.gd=this.h.j(da.Ib,-140,-100,70,30,"");this.gd.i=da.right;this.gd.Rb(G.Lg);this.gd.Y="births";this.Ge=this.h.j(da.Ib,-70,-70,70,30,"Deaths");this.Ge.i=da.left;this.Ge.Rb(G.Lg);
this.Ge.Y="cells died this generation";this.Le=this.h.j(da.Ib,-140,-70,70,30,"");this.Le.i=da.right;this.Le.Rb(G.Lg);this.Le.Y="deaths";this.ie=this.h.j(da.lh,0,-160,140,30,this.$);this.ie.Rb(G.Lg);this.qc=this.h.G(this.Zd,da.ib,0,0,G.rr,40,0,1,.1,"Zoom ","",1);this.qc.Y="camera zoom [[ / ]]";this.qb=this.h.G(this.jm,da.Mr,-84,0,40,292,G.Zr,G.hs,1,"Layers ","",0);this.qb.Y="number of layers [Q / A]";this.Ia=this.h.G(this.Bf,da.Mr,-40,0,40,292,1,0,.1,"Depth ","",2);this.Ia.Y="depth between layers [P / L]";
this.kb=this.h.G(this.ek,da.wz,0,0,40,292,0,1,.5,"Tilt ","",1);this.kb.Y="camera tilt [' / /]";this.wa=this.h.G(this.Sg,da.ib,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.wa.Y="camera angle [< / >]";this.vf=this.h.i(this.vL,da.Ib,-40,-90,40,40,"");this.vf.h=this.m.h("shrink");this.vf.Y="shrink to thumbnail [N]";this.No=this.h.j(da.ib,0,100,120,40,"");this.Ld=this.h.m(this.$y,da.gb,-100,-100,180,40,["Use Rectangles"],[this.g.Fa],da.zb);this.Ld.Y=["toggle hexagonal cells [?]"];this.Ii=this.h.m(this.qD,
da.gb,100,-100,180,40,["Cell Borders"],[this.g.jb],da.zb);this.Ii.Y=["toggle cell borders ["+this.G+" B]"];this.qd=this.h.m(this.xE,da.gb,-100,-50,180,40,["Major GridLines"],[this.g.Ec],da.zb);this.qd.Y=["toggle major gridlines [Shift X]"];this.Gi=this.h.m(this.Mz,da.gb,100,-50,180,40,["Starfield"],[this.Mc],da.zb);this.Gi.Y=["toggle starfield display [S]"];this.hg=this.h.m(this.lE,da.gb,-100,0,180,40,["Annotations"],[this.me],da.zb);this.hg.Y=["toggle annotations ["+this.G+" L]"];this.xg=this.h.m(this.Az,
da.gb,100,0,180,40,["Bas","Age","Rbw","Nbr"],this.g.Wa,da.ti);this.xg.Y=["basic shader ["+this.G+" W]","cell age shader ["+this.G+" W]","rainbow shader ["+this.G+" W]","neighbour count shader ["+this.G+" W]"];this.xg.Rb("18px Arial");this.Fi=this.h.m(this.ZC,da.gb,-100,50,180,40,["Auto GridLines"],[this.fd],da.zb);this.Fi.Y=["automatically turn on gridlines for Draw and Select and off for Pan ["+this.D+" G]"];this.$d=this.h.m(this.DC,da.gb,100,50,180,40,["Alt GridLines"],[this.g.Gd],da.zb);this.$d.Y=
["toggle alternating gridlines ["+this.G+" D]"];this.ln=this.h.i(this.sK,da.gb,-100,100,180,40,"Integer Zoom");this.ln.Y="set zoom to nearest integer [Shift 1]";this.ym=this.h.m(this.zE,da.gb,100,100,180,40,["Render Quality"],[this.g.bd],da.zb);this.ym.Y=["toggle anti-aliased cell display ["+this.D+" Q]"];this.Uo=this.h.i(this.QA,da.gb,-100,-75,180,40,"Go To Gen");this.Uo.Y="go to specified generation [Shift N]";this.$i=this.h.m(this.ZD,da.gb,100,-75,180,40,["AutoFit History"],[this.rd],da.zb);this.$i.Y=
["toggle AutoFit History [Shift H]"];this.Og=this.h.m(this.Xv,da.gb,-100,-25,180,40,["Throttle"],[this.Jf],da.zb);this.Og.Y=["toggle playback throttling ["+this.G+" T]"];this.Bg=this.h.m(this.xv,da.gb,100,-25,180,40,["Perf. Warning"],[this.Qd],da.zb);this.Bg.Y=["toggle performance warning display [Shift W]"];this.Ve=this.h.m(this.pI,da.gb,-100,25,180,40,["Kill Gliders"],[this.g.ud],da.zb);this.Ve.Y=["toggle kill escaping gliders ["+this.D+" L]"];this.Hi=this.h.m(this.bD,da.gb,100,25,180,40,["AutoHide UI"],
[this.nd],da.zb);this.Hi.Y=["toggle hide UI on playback ["+this.G+" U]"];this.Oi=this.h.m(this.Cy,da.gb,100,75,180,40,["Use Saved"],[this.Id],da.zb);this.Oi.Y=["toggle use saved default playback speed [Shift E]"];this.St=this.h.i(this.cA,da.gb,-100,75,180,40,"Save Speed");this.St.Y="save default playback speed ["+this.D+" E]";this.Qt=this.h.i(this.CI,da.gb,-100,-100,180,40,"Change Rule");this.Qt.Y="change rule ["+this.G+" R]";this.zz=this.h.i(this.NE,da.gb,100,-100,180,40,"New Pattern");this.zz.Y=
"new pattern ["+this.G+" N]";this.xz=this.h.i(this.uL,da.gb,-100,-50,180,40,"Load Pattern");this.xz.Y="load last saved pattern ["+this.D+" O]";this.$m=this.h.i(this.gA,da.gb,100,-50,180,40,"Save Pattern");this.$m.Y="save pattern ["+this.D+" S]";this.Jm=this.h.i(this.uG,da.gb,-100,0,180,40,"Rand All");this.Jm.Y="randomize pattern and rule ["+this.G+" Z]";this.Nm=this.h.i(this.qG,da.gb,100,0,180,40,"Rand Pattern");this.Nm.Y="randomize pattern and keep rule ["+this.D+" "+this.G+" Z]";this.aj=this.h.i(this.Ol,
da.gb,-100,50,180,40,"Identify");this.aj.Y="identify oscillator or spaceship period [F6]";this.Kk=this.h.i(this.qL,da.gb,100,50,180,40,"Last Identify");this.Kk.Y="show last identify results [Shift F6]";this.Vt=this.h.i(this.BJ,da.gb,-100,100,180,40,"Save Image");this.Vt.Y="save image [O]";this.Tt=this.h.i(this.eJ,da.gb,100,100,180,40,"Save Graph");this.Tt.Y="save population graph image [Shift O]";this.yt=this.h.i(this.kE,da.gb,-100,-100,180,40,"Open Clipboard");this.yt.Y="open clipboard as pattern ["+
this.D+" Shift O]";this.Pp=this.h.i(this.VK,da.gb,100,-100,180,40,"Copy Original");this.Pp.Y="copy original pattern ["+this.D+" Shift C]";this.Un=this.h.i(this.nA,da.gb,-100,-50,180,40,"Copy Rule");this.Un.Y="copy rule definition ["+this.D+" J]";this.ll=this.h.i(this.jA,da.gb,100,-50,180,40,"Copy as MAP");this.ll.Y="copy rule definition as MAP ["+this.G+" M]";this.Qn=this.h.i(this.KK,da.gb,-100,0,180,40,"Copy Nhood");this.Qn.Y="copy CoordCA neighbourhood definition ["+this.D+" B]";this.Wn=this.h.i(this.JE,
da.gb,100,0,180,40,"Copy All");this.Wn.Y="copy current pattern with comments ["+this.D+" "+this.G+" C]";this.Qp=this.h.i(this.gL,da.gb,-100,50,180,40,"Copy Position");this.Qp.Y="copy camera position [K]";this.Rp=this.h.i(this.xL,da.gb,100,50,180,40,"Copy View");this.Rp.Y="copy camera position and view [Shift K]";this.Bn=this.h.i(this.zF,da.gb,-100,100,180,40,"Paste To Seln");this.Bn.Y="paste to selection ["+this.D+" Shift V]";this.pl=this.h.m(this.my,da.gb,100,100,180,40,["External Sync"],[this.Sb],
da.zb);this.pl.Y=["sync cut and copy with external clipboard ["+this.G+" S]"];this.vm=this.h.i(this.LF,da.Ql,-135,-150,120,40,"Prev");this.vm.Y="go to previous pattern [Page Up]";this.Ok=this.h.i(this.TE,da.Ql,135,-150,120,40,"Next");this.Ok.Y="go to next pattern [Page Down]";this.vn=this.h.i(this.wD,da.Ql,0,-150,120,40,"Patterns");this.vn.Y="show all patterns [Home]";this.kj=this.h.i(this.tG,da.Ib,-40,-85,40,40,"X");this.kj.Y="close window";this.kj.Rb("24px Arial");this.kj.dc="red";this.Kp=this.h.i(this.YG,
da.Ib,-40,-85,40,40,"X");this.Kp.Y="close errors [Esc]";this.um=this.h.i(this.yE,da.wz,10,0,40,40,"<");this.um.Y="go to previous POI [Shift J]";this.Mk=this.h.i(this.gE,da.Mr,-50,0,40,40,">");this.Mk.Y="go to next POI [J]";this.tj=this.h.G(this.xp,da.ib,0,45,172,40,0,1,this.jb,"Opacity ","%",0);this.tj.Y="graph opacity [7 / 9]";this.wp=this.h.i(this.Dq,da.sc,-40,45,40,40,"X");this.wp.Y="close results [Esc]";this.Nd=this.h.m(this.ck,da.sc,-40,45,40,120,["Res","Tbl","Map"],this.Wb,da.ti);this.Nd.Y=
["show Identify results [Shift F6]","table [E]","map [E]"];this.Nd.Rb("15px Arial");this.Nd.Xm=da.ue;this.Se=this.h.m(this.fm,da.sc,-40,45,40,80,["Per","Frq"],this.Zc,da.ti);this.Se.Y=["cell periods ["+this.G+" E]","cell frequencies ["+this.G+" E]"];this.Se.Rb("15px Arial");this.Se.Xm=da.ue;this.yh=this.h.i(this.dJ,da.sc,-40,45,40,40,"");this.yh.Y="download cell map [D]";this.yh.h=this.m.h("download");this.ej=this.h.i(this.JB,da.sc,-40,45,40,40,"");this.ej.h=this.m.h("nudgeup");this.ej.Y="scroll table up [PgUp]";
this.dj=this.h.i(this.GB,da.sc,-40,45,40,40,"");this.dj.h=this.m.h("nudgedown");this.dj.Y="scroll table down [PgDown]";this.uq=this.h.i(this.bI,da.sc,-40,45,40,40,"X");this.uq.Y="close graph [Y]";this.qj=this.h.m(this.KB,da.sc,-85,45,40,40,[""],[!1],da.zb);this.qj.h=[this.m.h("lines")];this.qj.Y=["toggle graph lines/points [Shift Y]"];this.ac=this.h.m(this.im,da.sc,-210,45,120,40,["Pop","Bth","Dth"],[this.vh,this.th,this.uh],da.zb);this.ac.Y=["toggle population [Shift F3]","toggle births [Shift F4]",
"toggle deaths [Shift F5]"];this.ac.Rb("15px Arial");this.ad=this.h.m(this.Ae,da.ed,0,45,40,40,[""],[this.fe],da.zb);this.ad.h=[this.m.h("pick")];this.ad.Y=["pick state [F3]"];this.Vj=this.h.m(this.Fv,da.ed,45,45,40,40,[""],[this.Eg],da.zb);this.Vj.h=[this.m.h("states")];this.Vj.Y=["toggle states display ["+this.D+" D]"];this.hl=this.h.m(this.OB,da.ed,90,45,40,40,[""],[this.Fj],da.zb);this.hl.h=[this.m.h("drawpause")];this.hl.Y=["toggle pause playback while drawing ["+this.D+" P]"];this.Ei=this.h.m(this.Av,
da.ed,135,45,40,40,[""],[this.di],da.zb);this.Ei.h=[this.m.h("smart")];this.Ei.Y=["toggle smart drawing [Shift F2]"];this.ja=this.h.m(this.Af,da.Ib,-40,-40,40,40,[""],[!1],da.zb);this.ja.h=[this.m.h("menu")];this.ja.Y=["toggle settings menu [M]"];this.dl=this.h.i(this.DF,da.gb,-100,-75,150,40,"Pattern");this.dl.Y="pattern actions";this.Kn=this.h.i(this.QG,da.gb,100,-75,150,40,"Clipboard");this.Kn.Y="clipboard actions";this.wd=this.h.i(this.UE,da.gb,-100,75,150,40,"Theme");this.wd.Y="choose colour theme";
this.Oe=this.h.m(this.jp,da.gb,100,75,150,40,["Graph"],[this.Ga],da.zb);this.Oe.Y=["toggle population graph display [Y]"];this.xl=this.h.i(this.lF,da.gb,-100,-25,150,40,"Display");this.xl.Y="display settings";this.Fn=this.h.i(this.HF,da.gb,100,-25,150,40,"Playback");this.Fn.Y="playback settings and actions";this.pr=this.h.i(this.ZE,da.gb,-100,25,150,40,"General");this.pr.Y="general actions";this.Mo=this.h.i(this.BG,da.gb,-100,-100,180,40,"Fit Selection");this.Mo.Y="fit selection to display ["+this.D+
" F]";this.An=this.h.i(this.cG,da.gb,100,-100,180,40,"Center Pattern");this.An.Y="center pattern ["+this.D+" M]";this.Gn=this.h.i(this.gG,da.gb,-100,-50,180,40,"Clear Drawing");this.Gn.Y="clear drawing state cells ["+this.D+" "+this.G+" K]";this.cn=this.h.i(this.CA,da.gb,100,-50,180,40,"Snap Angle");this.cn.Y="snap angle to nearest 45 degrees ["+this.G+" /]";this.Zn=this.h.i(this.OJ,da.gb,-100,0,180,40,"Save View");this.Zn.Y="save current view [Shift V]";this.Vn=this.h.i(this.cI,da.gb,100,0,180,40,
"Restore View");this.Vn.Y="restore saved view [V]";this.zo=this.h.i(this.LE,da.gb,-100,50,180,40,"Stop All");this.zo.Y="stop all Viewers [Shift Z]";this.Co=this.h.i(this.OE,da.gb,100,50,180,40,"Stop Others");this.Co.Y="stop other Viewers [Z]";this.Tn=this.h.i(this.$G,da.gb,-100,100,180,40,"Reset All");this.Tn.Y="reset all Viewers [Shift R]";this.Zl=this.h.i(this.IJ,da.gb,100,25,150,40,"Advanced");this.Zl.Y="advanced settings and actions";this.Vi=this.h.m(this.Tg,da.gb,-100,-100,180,40,["Frame Times"],
[this.C.F],da.zb);this.Vi.Y=["toggle timing display [T]"];this.ak=this.h.m(this.Bp,da.gb,100,-100,180,40,["Timing Details"],[this.C.j],da.zb);this.ak.Y=["toggle timing details [Shift T]"];this.Qj=this.h.m(this.EE,da.gb,-100,-50,180,40,["Relative Gen"],[this.Ne],da.zb);this.Qj.Y=["toggle absolute/relative generation display [Shift G]"];this.fk=this.h.m(this.Sz,da.gb,100,-50,180,40,["Y Direction"],[this.Ce],da.zb);this.fk.Y=["toggle y coordinate direction [F9]"];this.hj=this.h.m(this.hE,da.gb,-100,
0,180,40,["Info Bar"],[this.La],da.zb);this.hj.Y=["toggle Information Bar [Shift I]"];this.rh=this.h.m(this.ND,da.gb,100,0,180,40,["Fast Lookup"],[this.g.Gb],da.zb);this.rh.Y=["toggle fast lookup [Shift F7]"];this.fn=this.h.m(this.Pz,da.gb,-100,50,180,40,["State Number"],[this.Jg],da.zb);this.fn.Y=["toggle state number display [F8]"];this.Sj=this.h.m(this.Iz,da.gb,100,50,180,40,["Safe Mode"],[this.lf],da.zb);this.Sj.Y=["toggle safe mode [Shift F9]"];this.Pt=this.h.i(this.HI,da.gb,-100,100,180,40,
"Refresh Rate");this.Pt.Y=["set refresh rate"];V.S&&(this.km=this.h.m(this.Ly,da.gb,100,100,180,40,["WASM Engine"],[this.i],da.zb),this.km.Y=["toggle WASM engine ["+this.G+"`]"]);this.Gd=this.h.i(this.Xk,da.Ql,0,-100,120,40,"Back");this.Gd.Y="back to previous menu [Backspace]";this.Ji=this.h.i(this.RF,da.Ql,0,-100,120,40,"Cancel");this.Ji.Y="cancel operation [Esc]";this.Ji.G=!0;var c=-1;for(a=0;a<=this.g.Tb;a+=1){var d=G.ir[a];var f=G.UK[a];f!==c?(b=120,c=f):b+=60;this.hi[a]=this.h.m(this.nF,da.ib,
140*f-210,b,120,40,[this.Go(d)],[!1],da.zb);this.hi[a].Y=["select "+this.Go(d)+" theme"];this.hi[a].Rb("20px Arial")}this.RA=this.hi[0].id;this.Gz=this.h.j(da.ib,-210,60,120,40,"Default");this.IA=this.h.j(da.ib,-70,60,120,40,"Classic");this.NA=this.h.j(da.ib,70,60,120,40,"Program");this.KA=this.h.j(da.ib,210,60,120,40,"Basic");this.en=this.h.i(this.CL,da.Ib,-405,-40,40,40,"1x");this.en.Y="set 1x playback speed [0]";this.kc=this.h.G(this.Ec,da.Ib,-360,-40,105,40,0,2,1,"","",-1);this.kc.Y="playback speed [+ / -]";
this.Xj=this.h.j(da.Ib,-284,-30,27,20,"0");this.Xj.Rb(G.Lg);this.Xj.N=!0;this.Xd=this.h.i(this.vF,da.Ib,-495,-40,40,40,"");this.Xd.h=this.m.h("undo");this.Xd.Y="undo ["+this.D+" Z]";this.Yh=this.h.i(this.HE,da.Ib,-450,-40,40,40,"");this.Yh.h=this.m.h("redo");this.Yh.Y="redo ["+this.D+" Y]";this.eg=this.h.m(this.mz,da.sc,-130,0,40,40,["Icon"],[this.xd],da.zb);this.eg.Y=["toggle icons ["+this.G+" I]"];this.eg.Rb("15px Arial");this.lc=this.h.m(this.Ud,da.Ib,-205,-40,160,40,["","","",""],G.ve,da.ti);
this.lc.h=[this.m.h("tostart"),this.m.h("stepback"),this.m.h("stepforward"),this.m.h("play")];this.lc.Y=["reset [R]","previous generation [Shift Tab]","next generation [Tab]","play [Enter]"];this.cb=this.h.m(this.Cz,da.sc,-280,45,280,20,"0123456".split(""),this.Df,da.ti);this.cb.Y="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.cb.Rb("14px Arial");this.ta=this.h.m(this.QI,da.sc,-280,65,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],da.zb);this.ta.Y="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");
this.ta.s=1;this.ta.va(this.KG);this.bm=this.h.i(null,da.ed,175,45,5,40,"");this.bm.s=0;this.bm.locked=!0;this.bm.border=0;this.am=this.h.G(this.Ez,da.ed,180,45,130,40,0,1,0,"","",-1);this.am.Y="select drawing states range";this.an=this.h.i(this.kA,da.ed,0,45,40,40,"All");this.an.h=this.m.h("select");this.an.Y="select all cells ["+this.D+" A]";this.an.Rb("16px Arial");this.Xg=this.h.m(this.Ux,da.ed,45,45,40,40,["Auto"],[this.be],da.zb);this.Xg.h=[this.m.h("autoshrink")];this.Xg.Y=["toggle auto shrink selection ["+
this.G+" A]"];this.Xg.Rb("16px Arial");this.Tk=this.h.i(this.zL,da.ed,90,45,40,40,"");this.Tk.h=this.m.h("shrink");this.Tk.Y="shrink selection [Shift A]";this.Xe=this.h.m(null,da.ed,135,45,40,40,[""],[!1],da.zb);this.Xe.h=[this.m.h("selectlibrary")];this.Xe.Y=["toggle clipboard library [Shift B]"];this.wk=this.h.m(this.xD,da.ib,0,90,400,40,"0123456789".split(""),this.Hb,da.ti);this.ql();this.Od=this.h.m(this.sz,da.sc,-160,45,160,40,["AND","CPY","OR","XOR"],G.kz[this.og],da.ti);this.Od.Y=["paste mode [Shift M]",
"paste mode [Shift M]","paste mode [Shift M]","paste mode [Shift M]"];this.Od.Rb("16px Arial");this.sl=this.h.i(this.$E,da.ed,180,45,40,40,"");this.sl.h=this.m.h("cut");this.sl.Y="cut ["+this.D+" X]";this.ol=this.h.i(this.pL,da.ed,225,45,40,40,"");this.ol.h=this.m.h("copy");this.ol.Y="copy ["+this.D+" C]";this.uj=this.h.i(this.wE,da.ed,270,45,40,40,"");this.uj.h=this.m.h("paste");this.uj.Y="paste ["+this.D+" V]";this.Zk=this.h.i(this.VF,da.Ib,-40,-220,40,40,"");this.Zk.h=this.m.h("cancelsel");this.Zk.Y=
"cancel selection ["+this.D+" K]";this.Sk=this.h.i(this.aF,da.Ib,-265,-175,40,40,"");this.Sk.h=this.m.h("nudgeleft");this.Sk.Y="nudge left ["+this.G+" Left]";this.Uk=this.h.i(this.eF,da.Ib,-220,-175,40,40,"");this.Uk.h=this.m.h("nudgeright");this.Uk.Y="nudge right ["+this.G+" Right]";this.Wk=this.h.i(this.iF,da.Ib,-175,-175,40,40,"");this.Wk.h=this.m.h("nudgeup");this.Wk.Y="nudge up ["+this.G+" Up]";this.Qk=this.h.i(this.XE,da.Ib,-130,-175,40,40,"");this.Qk.h=this.m.h("nudgedown");this.Qk.Y="nudge down ["+
this.G+" Down]";this.Tj=this.h.i(this.sF,da.Ib,-85,-175,40,40,"+Sel");this.Tj.h=this.m.h("advanceselection");this.Tj.Y="advance selection ["+this.D+" Space]";this.Tj.Rb("15px Arial");this.Rj=this.h.i(this.oF,da.Ib,-40,-175,40,40,"+Out");this.Rj.h=this.m.h("advanceoutside");this.Rj.Y="advance outside [Shift Space]";this.Rj.Rb("15px Arial");this.zl=this.h.i(this.jq,da.Ib,-265,-85,40,40,"");this.zl.h=this.m.h("flipx");this.zl.Y="flip horizontally ["+this.G+" X]";this.Al=this.h.i(this.Jp,da.Ib,-220,-85,
40,40,"");this.Al.h=this.m.h("flipy");this.Al.Y="flip vertically ["+this.G+" Y]";this.Ym=this.h.i(this.Uz,da.Ib,-175,-85,40,40,"");this.Ym.h=this.m.h("rotatecw");this.Ym.Y="rotate clockwise [>]";this.Um=this.h.i(this.Rz,da.Ib,-130,-85,40,40,"");this.Um.h=this.m.h("rotateccw");this.Um.Y="rotate counter-clockwise [<]";this.gl=this.h.i(this.IG,da.Ib,-85,-85,40,40,"");this.gl.h=this.m.h("inside");this.gl.Y="clear cells in selection [Del]";this.el=this.h.i(this.oG,da.Ib,-40,-85,40,40,"");this.el.h=this.m.h("outside");
this.el.Y="clear cells outside selection [Shift Del]";this.Lf=this.h.i(this.AG,da.Ib,-40,-130,40,40,"R");this.Lf.h=this.m.h("select");this.Lf.Y="clear History cells ["+this.D+" Del]";this.Lf.Rb("16px Arial");this.Kf=this.h.i(this.Tz,da.Ib,-40,-130,40,40,"");this.Kf.h=this.m.h("changestate");this.Kf.Y="change cells to drawing state ["+this.G+" K]";this.gg=this.h.i(this.NB,da.Ib,-85,-130,40,40,"");this.gg.h=this.m.h("invertselection");this.gg.Y="invert cells in selection ["+this.D+" I]";this.Ac=this.h.i(this.iG,
da.Ib,-130,-130,40,40,"");this.Ac.h=this.m.h("random");this.Ac.Y="random fill [Shift 5]";this.Wh=this.h.i(this.aG,da.Ib,-175,-130,40,40,"2");this.Wh.h=this.m.h("random");this.Wh.Y="random 2-state fill ["+this.D+" Shift 5]";this.ge=this.h.G(this.CE,da.Ib,-275,-130,100,40,1,100,this.Lb,"","%",0);this.ge.Y="random fill density";this.Th=this.h.G(this.yz,da.sc,-265,45,100,40,0,G.$C-1,this.yc,"","",-1);this.Th.Y="paste location [Shift L]";this.Th.Rb("16px Arial");this.Qi=this.h.i(this.aq,da.Ib,-250,-40,
40,40,"");this.Qi.h=this.m.h("uturn");this.Qi.Y="reverse playback direction [U]";this.Xe.ca([this.wk]);this.ja.ca([this.No,this.qb,this.Ia,this.wa,this.kb,this.Gd,this.wd,this.dl,this.Kn,this.Zl,this.xl,this.Fn,this.Og,this.Bg,this.vf,this.kj,this.Hi,this.Fi,this.$d,this.ln,this.An,this.Ld,this.Ii,this.hg,this.Ve,this.Oe,this.Vi,this.Gn,this.ak,this.hj,this.Gi,this.Tn,this.zo,this.Co,this.cn,this.$i,this.qd,this.vm,this.Ok,this.vn,this.pr,this.Zn,this.Vn,this.Kk]);this.nb.ca([this.df,this.Rd,this.Tc,
this.gd,this.Ge,this.Le,this.bg,this.jd,this.$j,this.Zf,this.ie]);this.md.ca([this.ld,this.Yo,this.ro])};fa.prototype.JF=function(a){var b=this,c=0,d=0;this.va=a;this.va.getContext&&(c=this.va.width,d=this.va.height,c!==this.Lc&&Ja.Lq&&(c=this.Lc),c<G.pd&&(c=G.pd),d<G.$h&&(d=G.$h),c&=-8,this.va.width!==c&&(this.va.width=c),this.va.height!==d&&(this.va.height=d),this.oa=this.va.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.oa.globalAlpha=1,this.oa.fillStyle="black",this.oa.imageSmoothingEnabled=
!1,this.oa.imageSmoothingQuality="high",this.oa.fillRect(0,0,this.va.width,this.va.height),this.oa.textAlign="left",this.oa.textBaseline="middle",this.displayWidth=this.va.width,this.displayHeight=this.va.height,this.g=new qa(this.oa,this.displayWidth,this.displayHeight,512,256,this.W,this),this.g.Bn(this.oa,this.displayWidth,this.displayHeight),this.Wd=new wb(G.ps,this.g.T),this.PE(this.oa),this.C=new Na(this.va,this.oa,"24px Arial",this.m,this,this.AH),this.C.F=!1,this.g.Gn(),this.SE(),Ma(this.va,
"wheel",function(f){b.CJ(b,f)},!1),this.C.notification.R=!0,this.vz=this.g.T.Nj,this.C.ja(this.h),this.zd?(Ma(V.Qf.h,"keydown",function(f){b.hC(b,f)},!1),Ma(V.Qf.h,"keyup",function(f){b.kC(f)},!1),V.Qf.C=this.C):(Ma(this.va,"keydown",function(f){b.hC(b,f)},!1),Ma(this.va,"keyup",function(f){b.kC(f)},!1)))};fa.prototype.Go=function(a){var b=this.g.pa,c="";a|=0;a<b.length&&(c=b[a].name);return c};fa.prototype.RE=function(a){var b=!1,c=this.g.pa,d=0;for(a=a.toLowerCase();d<c.length-1&&!b;)c[d].name.toLowerCase()===
a?b=!0:d+=1;b||(d=-1);return d};fa.prototype.vG=function(a){var b=this.s.F();b.If||(b.x=this.g.width/2-this.g.ma);b.rf||(b.y=this.g.height/2-this.g.ka);b.se||(b.zoom=this.g.zoom);b.fh||(b.angle=this.g.angle);b.mh||(b.xb=this.g.xb);b.Xh||(b.za=this.g.za);b.Kh||(b.depth=this.g.pc);b.Ef||(b.Pc=this.da);b.Fe||(b.step=this.P);b.ye||(b.vc=this.g.qb);this.s.Xa(a,this)};fa.prototype.GE=function(a){var b=a,c=this.oa,d=a.length;c.font=(18*this.h.B|0)+"px "+G.Ws;var f=c.measureText(a).width;if(500<f){--d;for(f=
c.measureText(a.substring(0,d)+"...").width;500<f;)--d,f=c.measureText(a.substring(0,d)+"...").width;b=b.substring(0,d)+"..."}return b};fa.prototype.yG=function(a,b){vb.KJ(this,a,b)};fa.prototype.uH=function(){this.xd=this.xo=!1;this.Me=this.g.Wa=y.gf;this.Wa=-1;this.Iq=this.Do=!1;this.g.fa=1<<G.lH;this.bh=this.em=-1;this.Pa=!1;this.Gm=this.Km=this.Nt=this.Vg=this.Bz=this.xn=this.C.da=!1;this.g.Ja=0;this.g.Aa=0;this.g.cb=1;this.La=this.un=this.ka=this.Ie=!1;this.Wc=this.Xc=this.aa=null;this.li=G.li;
this.Ke=null;this.mi=G.mi;this.g.Md=this.g.rn;this.g.Ld=this.g.qn;this.g.Kd=this.g.pn;this.g.Nd=this.g.sn;this.g.Od=this.g.tn;this.wf=G.CB;this.tc=this.eb=this.Xo=!1;this.uc=-1;this.Nb=!1;this.Ub=-1;this.Mg=this.Ob=this.zi=this.sb=this.wi=this.Da=this.ub=this.Ba=!1;this.ua=this.rj=2<this.g.i?63<256-this.g.i?63:256-this.g.i:63;this.He=this.pD;this.lb=!1;this.g.ud=!1;this.g.Ug=0};fa.prototype.su=function(){this.Ed?(this.C.Wa?this.Vg||this.Li(this):ub(this.element),this.C.A=!1):(this.displayWidth=this.Zj,
this.displayHeight=this.Tu,this.ka?(this.ma=!1,this.Gb(!0,!1,G.rg)):this.g.zoom=this.bv,this.qc&&(this.qc.current=this.Zd([this.g.zoom,this.g.zoom],!1,this)),this.B=this.Vu,this.ma=!1,this.C.Z=!1,this.h.N=!1,this.C.B||this.C.notification.notify("Shrink with hotkey N",15,100,15,!0),this.resize())};fa.prototype.AH=function(a){a.ma?(a.su(),a.fv&&!a.Pb&&(a.lc.current=a.Ud(G.yj,!0,a))):a.Pa&&(a.Vg||a.Li(a))};fa.prototype.resize=function(){this.tm&&(V.Qf.G=this.lz-this.displayWidth,this.lz=this.displayWidth,
this.tm=!1);this.va.width=this.displayWidth;this.va.height=this.displayHeight;this.oa.textBaseline="middle";this.g.Wk(this.displayWidth,this.displayHeight);"Empty"!==this.Eb&&"none"!==this.Eb&&""!==this.Eb&&null!==this.g.Jd&&(this.g.Zk(this),this.g.Vk(this.g.Yj,this.g.Xl));this.WJ();this.ka&&this.Gb(!0,!1,G.rg)};fa.prototype.yu=function(){this.Zj=this.displayWidth;this.Tu=this.displayHeight;this.bv=this.g.zoom;this.Vu=this.B;this.displayWidth=this.displayWidth/this.$b|0;this.displayHeight=this.displayHeight/
this.$b|0;this.g.zoom/=this.$b;this.displayWidth&=-8;this.h.N=!0;this.C.Z=!0;this.C.qb=this.$b;this.C.A=!1;this.ma=!0;this.resize()};fa.prototype.pz=function(){var a=this.g.i,b;a>this.cc&&(a=this.cc);this.cb.lower=[];this.cb.Y=[];this.cb.Sf(40*a);this.ta.lower=[];this.ta.Y=[];this.ta.current=[];this.ta.Sf(40*a);this.ta.s=1;for(b=0;b<a;b+=1){var c=b+this.Zb;this.cb.lower[b]=String(c);var d=this.sh(c);10>c&&(d+=" ["+this.D+" "+c+"]");this.cb.Y[b]=d;this.ta.lower[b]="";this.ta.Y[b]=d;this.ta.current[b]=
!1}c=this.Df;0<c&&(this.g.la||this.g.s||this.g.D||this.g.v||this.g.G||(c=this.g.i-c));this.cb.current=c-this.Zb};fa.prototype.KD=function(){var a=this.g.i,b=this.h.s;this.Df=1;this.Zb=0;this.Vj.current=[this.Fv([!0],!0,this)];this.cc=7+((this.displayWidth/b-G.pd)/(40*b)|0);this.cc>a&&(this.cc=a);this.g.P?(this.cb.lower="0123456".split(""),this.cb.Sf(280),this.cb.Y=["dead ["+this.D+" 0]","alive ["+this.D+" 1]","history ["+this.D+" 2]","mark 1 ["+this.D+" 3]","mark off ["+this.D+" 4]","mark 2 ["+this.D+
" 5]","kill ["+this.D+" 6]"],this.cb.current=this.Df,this.ta.lower="      ".split(" "),this.ta.Sf(280),this.ta.Y=["dead ["+this.D+" 0]","alive ["+this.D+" 1]","history ["+this.D+" 2]","mark 1 ["+this.D+" 3]","mark off ["+this.D+" 4]","mark 2 ["+this.D+" 5]","kill ["+this.D+" 6]"],this.ta.s=1,this.ta.current=[!1,!1,!1,!1,!1,!1,!1]):2>=a?(this.cb.lower=["0","1"],this.cb.Sf(80),this.cb.Y=["dead ["+this.D+" 0]","alive ["+this.D+" 1]"],this.cb.current=this.Df,this.ta.lower=["",""],this.ta.Sf(80),this.ta.Y=
["dead ["+this.D+" 0]","alive ["+this.D+" 1]"],this.ta.s=1,this.ta.current=[!1,!1]):(this.Df=this.g.la||this.g.s||this.g.D||this.g.v||this.g.G?1:a-1,this.pz(),this.cb.Sf(40*this.cc),this.ta.Sf(40*this.cc),this.am.current=this.Ez([0,0],!0,this));this.cb.setPosition(da.sc,-this.cb.H,45);this.ta.setPosition(da.sc,-this.ta.H,65)};fa.prototype.qA=function(a){var b=this.g.Tb;-1===a&&(a=this.ya?b:this.g.P?10:2<this.g.i&&!(this.g.v||this.g.G||this.g.s||this.g.D)?11:this.g.ja?17:this.g.s||this.g.D?18:1);this.zg(a,
1,this)};fa.prototype.WJ=function(){if(!this.zd){this.Ug=window.devicePixelRatio?window.devicePixelRatio:1;var a=document.body.clientWidth;this.Gc=1;this.displayWidth>a&&(this.Gc=a/this.displayWidth);this.C.ya=this.Gc;this.h.ya(1);this.m.K(1);this.dg=18;this.cg=this.dg+"px "+G.av;this.Pe=this.dg+"px "+G.Ws;this.In();this.va.style.transform="scale("+this.Gc+","+this.Gc+")";this.va.style.transformOrigin="top left"}};fa.prototype.tK=function(){var a=document.body.clientWidth,b=window.innerHeight,c=this.displayWidth,
d=this.displayHeight+80;if(V.Qf){this.Ug=window.devicePixelRatio?window.devicePixelRatio:1;if(V.Qf.F){c=a;d=b-34;var f=1}else c*=this.Ug,d*=this.Ug,f=this.Ug;this.Gc=1;if(c>a||d>b)if(f=c/a,d/b>f&&(f=d/b),c/=f,d=this.displayHeight*this.Ug/f,f=c/this.displayWidth,d/this.displayHeight<f&&(f=d/this.displayHeight),c<G.pd||d<G.$h)f=c/G.pd,d/G.$h<f&&(f=d/G.$h),c/=f,d/=f,this.Gc=f,f=1;this.displayWidth=c&-8;this.displayHeight=d|0;this.C.ya=this.Gc;V.Qf.s=this.Gc;this.h.ya(f);this.m.K(f);this.dg=18*f|0;this.cg=
this.dg+"px "+G.av;this.Pe=this.dg+"px "+G.Ws;this.In();this.displayWidth!==this.lz&&(this.tm=!0)}};fa.prototype.wG=function(){this.Nk=!1;this.Ja=0;this.na=!1;this.bd=this.zc=0;this.vg=this.cf=this.bf=this.$a="";this.Dn=this.Ej=this.A=this.v=0;this.Pk="(none)";this.g.la=!1;this.g.ja=!1;this.g.s=!1;this.g.P=!1;this.g.v=!1;this.g.G=!1;this.g.ia=!1;this.g.sh=this.W.pa;this.g.aa=!1;this.g.uh=this.W.ha;this.g.Ed=!1;this.g.Zd=-1;this.g.Oh=!1;this.g.i=-1;this.g.O=-1;this.ob=this.Ua=this.g.Ea=!1;this.g.D=
!1;this.g.qd=null;this.g.sd=null;this.g.Qc=null;this.g.Vc=null;this.g.Xd=[];this.g.Ab=null;this.g.Ic=0;this.g.rd=0;this.g.th=0};fa.prototype.sA=function(a){a<G.Cg&&(a=G.Cg);a>G.dd?(this.da=G.dd,this.P=a/G.dd|0,this.P>this.Pf&&(this.P=this.Pf)):(this.da=a,this.P=1);this.so=this.da;this.wo=this.P};fa.prototype.ii=function(a,b){this.C.sa.reset();this.Ce=V.Wr(G.AE);this.lf=V.Wr(G.Dy);this.Id=V.Wr(G.DB);this.Oi.current=[this.Id];this.da=G.dd;this.P=1;this.so=this.da;this.wo=this.P;if(this.Id){var c=V.Xr(G.Ru);
this.sA(c)}this.kc.current=1===this.P&&this.da===G.dd?this.Ec([1,1],!0,this):this.Ec([this.xf(),1],!0,this);this.Cb.N=!0;this.mf.N=!0;this.W.F=!1;this.Hk=this.g.wf=!1;this.g.ba.v=1;this.Ze=this.displayWidth;this.Ye=this.displayHeight;a=this.W.create("",a,this.g.T,this.Ki,this.wI,[b],!1,this);this.CC=this.W.V;if(this.W.ra){a=this.W.ea;c=this.W.da;var d=this.W.create("","x=1,y=1,rule=Life\n!",this.g.T,this.Ki,this.Ki,[b],!1,this);this.Ki(d,[b],this);this.W.ea=a;this.W.da=c;this.displayWidth=this.Ze;
this.displayHeight=this.Ye;this.C.notification.clear(!1,!0);this.C.notification.notify("Loading rule...",15,1E4,15,!0)}else this.Ki(a,[b],this)};fa.prototype.wI=function(a,b,c){b[b.length]=a.title;b[b.length]=a.G;c.displayWidth=c.Ze;c.displayHeight=c.Ye;c.W.V=c.CC;c.W.ob=!0;c.Ki(null,b,c)};fa.prototype.bA=function(){var a,b=0,c=!1;if(navigator.userAgentData){var d=navigator.userAgentData;if("Windows"===d.platform&&d.brands)for(a=0;a<d.brands.length;a+=1)if("Google Chrome"===d.brands[a].brand||"Brave Browser"===
d.brands[a].brand)c=!0,b=Number(d.brands[a].version)}c&&103<=b&&107>b&&(a=localStorage.getItem(G.HB),"y"!==a?(this.C.notification.notify("If there are no cells displayed click on Help",15,300,15,!1),this.Cn=!0):this.Cn=!1)};fa.prototype.Ki=function(a,b,c){var d=0,f,e=!1;var g=f=0;var k,l=b[0];var m=!1;var n="";c.g.A=0;c.Wd&&(c.Wd.h=new T(255,255,255));c.Se.current=c.fm(G.kk,!0,c);c.Nd.current=c.ck(G.Uh,!0,c);c.g.ba.ea=!1;c.ac.current=c.im([!0,!0,!0],!0,c);c.g.bd=!1;c.wb=-1;c.Og.current=c.Xv([!0],
!0,c);c.oe=!1;c.uf=!1;c.tf=!1;c.nf=!1;c.Qe=!1;c.ne=!1;c.qf=!1;c.g.qb=-1;c.C.Gb();c.Sb=!0;c.be=!1;c.R=!1;c.nc=!1;c.hb=[];for(k=0;k<G.Bj;k+=1)c.hb[k]=null;c.hb[G.Bj]=null;c.Hb=0;c.wn=!1;c.ea=null;c.qa=!1;c.fc=0;c.ec=0;c.Qc=!1;c.Od.current=c.sz(2,!0,c);c.Ij=!1;c.he=[];c.Oj=[];c.Yb=[];c.Vd=[];c.mb=[];c.ah=[];c.Ta=0;c.pa=0;c.Nh=0;c.g.Nb=!1;c.$c=[];c.Za=G.Vo;c.af=0;c.bl=-1;c.Aj=[];c.ee=0;c.Gk=!1;c.Bt=0;c.Ct=0;c.de=-1;c.mn=!1;c.ng=G.fj;c.qg=-G.fj;c.mg=G.fj;c.sg=-G.fj;c.C.notification.clear(!0,!0);c.C.notification.clear(!1,
!0);c.g.yb=!1;c.g.Zb=!1;c.zt=!1;c.g.Vc=null;a&&(c.$=a.h,c.bf=a.F,c.g.Se=a.sa);!a||null===a.ja&&-1===a.na||(null===a.ja?a.nb>=a.na&&(c.W.V="Illegal state in pattern for @TREE",a=null):a.nb>=a.wa&&(c.W.V="Illegal state in pattern for @TABLE",a=null));a&&c.W.F&&a&&(-1===a.j||-1!==a.j&&(0===a.K||0===a.ea))&&(c.W.V=null===a.ja?"@TREE B0 only valid with finite grid":"@TABLE B0 only valid with finite grid",a=null);if(a){c.Nk=c.W.ub;c.Ja=c.W.Hb;c.na=c.W.La;c.zc=c.W.eb;c.bd=c.W.fb;c.Z=c.W.ea;c.X=c.W.da;c.v=
a.width;c.A=a.height;-999999===c.Z&&(c.Z=c.v);-999999===c.X&&(c.X=c.A);c.cf=a.name;c.vg=a.Hb;c.Pk=a.$a;""===c.Pk&&(c.Pk="(none)");c.Ej=a.G;c.Dn=a.Xa;c.$=a.h;c.$a=a.X;c.bf=a.F;c.g.wi=a.u;c.g.Se=a.sa;c.ob=c.W.ob;c.g.P=a.O;c.g.v=a.D;c.g.G=a.U;c.Lf.Y="clear History cells ["+this.D+" Del]";c.g.v&&(c.Lf.Y="clear Super cells ["+this.D+" Del]");c.g.i=a.i;!c.ob&&2<a.G&&(c.g.i=a.G);c.g.Ab=null;c.g.Xd=null;c.jf=[];c.g.D=!1;c.g.wf=!1;-1!==a.na&&(c.g.Yd=a.mb,c.g.yi=a.na,c.g.i=a.na,c.g.Wj=a.rb,c.g.le=a.lb,c.g.qd=
a.eb,c.g.sd=a.fb,c.g.Qc=a.Ia,c.g.Vc=a.oa,c.jf=a.kb,c.g.wf=c.W.F,c.g.D=!0);null!==a.ja&&(c.g.Xd=a.Wa,c.g.jd=a.Gb,c.g.Ab=a.ja,c.g.Ic=a.Va,c.g.rd=a.cb,c.g.th=a.qb,c.g.i=a.wa,c.g.Qc=a.Ia,c.g.Vc=a.oa,c.jf=a.kb,c.g.wf=c.W.F,c.g.D=!0);if(c.g.Ea=a.Ea){c.g.ba.P=a.H;c.g.ba.G=a.B;c.g.ba.$=c.g.T.h(ra.ab,a.B.length,"HROT.comboList",V.S);for(k=0;k<a.B.length;k+=1)c.g.ba.$[k]=a.H[k]&2|a.B[k]&1;c.g.ba.ca=a.i;c.g.ba.ea=a.Bb;c.g.ba.la=a.Za;c.g.ba.ma=a.jb;c.g.ba.ha=a.hb;c.g.ba.qb(a.m,a.v,a.ka,a.ta,a.s,a.Kb,a.Lb,a.Da,
a.Fa);if(c.W.ca)for(c.g.ba.Z=c.g.T.h(ra.ab,a.B.length,"HROT.altComboList",V.S),c.g.ba.ja=a.Ja,c.g.ba.ka=a.La,c.g.ba.na=!0,k=0;k<a.B.length;k+=1)c.g.ba.Z[k]=a.Ja[k]&2|a.La[k]&1;else c.g.ba.na=!1;c.zt=a.aa}c.g.la=a.ha;c.g.ja=a.ga;c.g.Gd=c.g.ja;c.g.s=a.la;c.g.Fa=!1;c.g.ia=a.ia;c.g.Oh=a.ia;c.g.sh=a.Aa;c.g.aa=a.s;c.g.uh=a.$;c.g.Ed=a.ma;c.g.Zd=a.ua;a.la?(c.g.gl(a),c.g.Vc=a.oa):a.oa?c.g.jp(a.oa):c.g.ee=!1;c.g.O=a.j;c.g.$=a.K;c.g.Z=a.ea;c.g.ne=a.pa;c.g.oe=a.qa;c.g.xg=a.wb;c.g.vh=a.Ab;c.g.yg=a.yb;d=-1===c.g.i?
2:c.g.i;c.g.P&&(d=7);c.Cj=new Uint32Array(d);for(k=0;k<d;k+=1)c.Cj[k]=c.W.aa[k]}else c.wG();c.g.Gb=c.g.og()?!0:!1;c.g.iq();c.me=!0;c.Ga=!1;c.td=!0;c.jb=G.BB;c.bc=a?!1:!0;c.Yc=!0;c.Ne=!1;c.V=c.W.V;c.g.tf=G.AB;c.ca=0;c.fa=0;c.Jc=-1;c.Nc=-1;c.Zg=!1;c.h.locked=!1;c.rd=!1;c.vd=!1;c.g.Uo();c.g.Xo();c.g.P&&c.g.Kn();c.g.P&&c.g.Yn();c.yd="";c.Mc=!1;c.dn=!1;hb.De();c.g.Ob=G.kv;c.g.Dc=G.jv;c.g.lb=10;c.g.ao=10;c.g.Ec=!0;c.qo=-1;c.no=-1;c.Id||(c.da=G.dd,c.P=1);c.g.za=1;c.g.pc=.1;c.g.angle=0;c.g.xb=0;c.g.zoom=
6;c.g.Zp();c.g.Bi();c.g.ma=c.g.width/2;c.g.ka=c.g.height/2;c.$p=!1;c.Yp=!1;c.Zp=!1;c.Aa=0;c.Kb=0;c.Va=-1;c.rb=-1;c.hc=-1;c.ud=-1;c.wc.fill(-1);c.Up=G.jC;c.Sp=G.ur;c.Vp=G.tD;c.ma&&(c.Mj?(c.displayHeight=c.Zj,c.displayWidth=c.Zj,c.g.zoom=this.bv,c.B=this.Vu):c.su());c.ze=!1;c.C.Z=!1;c.$b=G.EB;c.Ed=!1;c.C.wa=!1;c.So=!1;c.Ua=a?!1:!0;c.U=!1;c.g.Za=!1;c.g.jb=!1;c.lc.N=!1;c.ra.N=!1;c.nb.N=!1;c.kc.N=!1;c.ja.N=!1;c.qb.N=!1;c.Ia.N=!1;c.wd.N=!1;c.Og.N=!1;c.Bg.N=!1;c.h.N=!1;c.Rf.N=!1;c.Xd.N=!1;c.Yh.N=!1;c.dl.N=
!1;c.Zl.N=!1;c.Fn.N=!1;c.xl.N=!1;c.Gd.N=!1;c.Qi.N=!1;c.en.N=!1;c.ja.current=[!1];c.nb.current=[!1];c.B=0;c.ha=0;c.Xe.current=[!1];c.Xg.current=c.Ux([c.be],!0,c);c.pl.current=c.my([c.Sb],!0,c);c.Eo=!1;c.ra.current=c.Yd(G.bi,!0,c);c.ge.current=c.CE([50,50],!0,c);c.Th.current=c.yz([G.ss,G.ss],!0,c);c.md.current=c.zf([0!==c.B],!0,c);c.Hd=[96,96,96];c.g.td=c.g.jc?4284506208:1616929023;c.g.wg="rgb("+c.Hd[0]+","+c.Hd[1]+","+c.Hd[2]+")";c.Mf=[128,128,128];c.g.We=c.g.jc?4286611584:2155905279;c.Xf=[0,255,0];
c.g.Jj="rgb(0,255,0)";c.Nf=[255,0,0];c.g.tj="rgb(255,0,0)";c.Yf=[255,128,0];c.g.Lj="rgb(255,128,0)";c.s.reset();c.Da=!1;c.s.ha();c.nd=!1;c.Ab=!1;c.Qd=!0;c.ya=!1;c.Je=!1;c.g.Nc=!1;c.Em=G.ys;c.zm=G.ys;c.Jj=50;c.Cm=!1;c.Nn=!1;c.Pn=!1;c.ef=-1;c.kf=-1;c.wg=-1;c.cd=[];c.Td=[];c.Xn=!1;c.fv=!1;c.GA=!0;c.EA=!0;c.We="";a?a.title&&(n=a.title):(1<b.length&&(n=b[1]),c.wA());c.g.P?(c.Cf=[0,65280,128,14221272,16711680,16776960,6316128],c.Mn="[R]History"):(c.Cf=hb.Pu,c.Mn="(default)");c.uH();c.Lj=Date.now().toString();
this.fl="";""!==n&&(a?d=-1===a.i?a.G:a.i:d=b[2],c.g.P&&(d=7),c.g.s&&(d=16),c.g.v&&(d=26),c.g.G&&(d=21),c.yG(n,d),a&&(c.fl=("\n"+a.u).replace(/\n#C /g,"\n").replace(/\n# /g,"\n").replace(/#CXRLE .*?\n/g,"\n").replace(/\n#C/g,"\n").replace(/\[\[ .*? \]\][ \n]/g,"").replace(/\n#(?:N|O)[^\n]*/g,"\n").substring(1),"\n"===c.fl&&(c.fl="")),c.Yb.length&&(c.ha=1),c.ma&&l&&(c.ma=!1),-1<c.Va&&(c.Va&=-8,c.Va!==c.displayWidth&&(c.displayWidth=c.Va,e=!0)),-1<c.rb&&c.rb!==c.displayHeight&&(c.displayHeight=c.rb,
e=!0),c.zd&&(-1<c.hc?(c.hc&=-8,c.hc!==c.displayWidth&&(c.displayWidth=c.hc,e=!0)):c.displayWidth<G.pd&&(c.displayWidth=G.pd),-1<c.ud&&c.ud!==c.displayHeight&&(c.displayHeight=c.ud,e=!0)));c.zd||(k=(document.body.clientWidth&-8)-8,Ja.fullScreen?(c.displayWidth=k,c.displayHeight=window.innerHeight-130,c.displayWidth<G.pd&&(c.displayWidth=G.pd),c.displayHeight<G.$h&&(c.displayHeight=G.$h),e=!0):c.displayWidth>k&&(e=!0));c.g.Wa!==y.gf&&(2<c.g.i||c.g.Ea||c.g.s||c.g.P||c.g.v||c.g.G||c.g.D)&&(c.g.Wa=y.gf);
if(!c.ob||c.g.D||c.g.v||c.g.G)c.ua=0;c.O.De(c.Lj);c.g.Ea&&c.g.ba.nb(c.Lj);c.zd&&(c.Ze=c.displayWidth,c.Ye=c.displayHeight,c.tm=!0,V.Qf.u(V.Qf));a&&a.Ba&&0===c.$c.length&&(c.ob=!1);c.KD();c.wA();c.fC();c.fG();c.g.nr();c.g.u=c.ua;c.g.rh=c.He;c.Ed&&!c.Ga&&(c.bc=!0,c.Ga=!1);c.g.zm(!c.bc);d=c.Wi();a&&(a.width>c.g.fa-d-2*Math.abs(c.ca+c.zc)||a.height>c.g.fa-d-2*Math.abs(c.ca-c.zc))&&(c.V=a.width>c.g.fa-d||a.height>c.g.fa-d?"Pattern too big":"Pattern too big at specified location",a.Ba=!0,c.ob=!1);a&&-1!==
a.j&&(d=c.Wi(),a.K>c.g.fa-d||a.ea>c.g.fa-d)&&(c.V="Bounded grid too big",c.ob=!1,c.g.O=-1);c.ob||(c.g.Gb=!1,c.g.nb=-1);c.g.uq(c);c.g.og()&&c.g.Gb&&c.VE();c.mn&&(c.qA(c.em),c.g.zh(),c.TF());c.Fp=!1;a&&(-1!==c.g.O?(f=c.g.$,g=c.g.Z,0===f&&(f=a.width),0===g&&(g=a.height)):(f=a.width,g=a.height,0<c.$c.length&&(f=c.EI(f),g=c.AI(g))));d=c.Wi();c.na&&(c.ca+=c.zc,c.fa+=c.bd);k=c.g.width<c.g.fa&&f+d+2*Math.abs(c.ca)>=c.g.width;for(n=c.g.height<c.g.fa&&g+d+2*Math.abs(c.fa)>=c.g.height;k||n;){m=!0;l=b=0;k&&(b=
c.g.width>>1,c.g.width*=2,c.Aa+=c.g.width>>2);n&&(l=c.g.height>>1,c.g.height*=2,c.Kb+=c.g.height>>2);k&&(c.Ca+=c.g.width>>2);n&&(c.Mb+=c.g.height>>2);c.g.ia&&n&&(c.Aa-=c.g.height>>3,c.Ca-=c.g.height>>3);c.g.ma+=b;c.g.ka+=l;c.g.ia&&(c.g.ma-=l/2|0);c.g.B.I+=b;c.g.B.L+=b;c.g.B.M+=l;c.g.B.J+=l;c.g.ya.I+=b;c.g.ya.L+=b;c.g.ya.M+=l;c.g.ya.J+=l;c.g.Bb.I+=b;c.g.Bb.L+=b;c.g.Bb.M+=l;c.g.Bb.J+=l;c.g.hb.I+=b;c.g.hb.L+=b;c.g.hb.M+=l;c.g.hb.J+=l;if(0<c.g.Sb)for(k=0;k<c.g.Sb;k+=1){var q=c.g.ae[(k<<1)+1];n=(q>>16)+
b;q=(q&65535)+l;c.g.ae[(k<<1)+1]=n<<16|q}k=c.g.width<c.g.fa&&f+d+2*Math.abs(c.ca)>=c.g.width;n=c.g.height<c.g.fa&&g+d+2*Math.abs(c.fa)>=c.g.height}m&&c.g.fg(!1,!1,!1);a&&a.Ea&&c.g.ba.resize(c.g.width,c.g.height);a&&c.MI(c.v,c.A,c.Z,c.X);c.C.notification.m=c.Xc?"rgb("+c.Xc[0]+","+c.Xc[1]+","+c.Xc[2]+")":c.C.notification.B;if(null===c.aa)for(k=0;k<c.Cf.length;k+=1)c.lo[k]=c.W.aa[k]?G.QD:G.PD;c.g.Ua?(c.g.Fi(c.Cf,c.aa),c.g.Nc=!0):c.g.Nc=!1;a&&!a.Ba&&a.P&&c.YK(a);c.ie.Jb=""!==c.$a?c.$a:c.$;c.ie.Y=c.$;
""!==c.$a&&(c.ie.Y+=" alias "+c.$a);""!==c.$&&(c.ie.Y+="\n"+c.pq());c.Bb=!1;c.Zy="none";c.Eb="none";c.mj="none";c.Jk="none";c.pj="none";c.Ik="none";c.rn="none";c.ij="none";c.Lk="none";c.jj="none";c.Lh="none";c.Ih="none";c.lj="none";c.yb=!1;c.aj.current=[c.yb];c.g.Mg(c.yb);c.Bg.current=c.xv([c.Qd],!0,c);(c.g.D||c.g.la)&&-1!==c.wc[G.hk]&&(null===c.aa?(c.aa=c.g.T.h(ra.Ad,256,"View.customColours",!1),c.aa.fill(-1),c.aa[0]=c.wc[G.hk],c.wc[G.hk]=-1,c.wc[G.ho]=-1):-1===c.aa[0]&&(c.aa[0]=c.wc[G.hk]));c.qA(c.em);
c.g.zh();c.g.tc=c.aa;c.g.fq();c.g.la||!c.ob&&2<c.g.i?c.g.cl(c.Cf,c.aa):c.g.Di();c.g.kb(1);c.Ii.current=[c.g.jb];c.Ei.current=c.Av([c.di],!0,c);c.tj.current=c.xp([c.jb,c.jb],!1,c);c.qj.current=[c.td];c.ae.current=[c.ka];c.kd.current=[c.g.Za];c.xg.current=c.g.Wa;c.g.counter=0;c.g.ac=0;c.g.Ue=0;c.la=0;c.elapsedTime=0;c.ra.m=[!1,!1,!1];if(c.Ua){if(a&&(c.g.Gj(c.vd),c.aa))for(k=0;k<c.aa.length;k+=1)c.Cf[k]=c.aa[k];c.sH=c.Cf.length;c.g.cl(c.Cf,c.aa);c.g.fd.reset();c.bc=!0;c.Ga=!1}else{c.g.Gj(c.vd);c.g.Zh();
2>=c.g.i&&c.g.ng(c.g.va);c.zn();0<c.$c.length&&(c.g.Gj(c.vd),c.g.Zh(),2>=c.g.i&&c.g.ng(c.g.va));c.g.P&&c.W.aa[2]&&c.g.im(a,c.K,c.H);c.g.$p(c.g.va,c.g.h);f=0;g=c.g.i;c.g.P?g=7:-1===g&&(g=2);for(k=1;k<g;k+=1)f+=c.Cj[k];a&&0===c.g.A&&!c.Gk&&0===f&&(c.g.la||(a.Ba?c.C.notification.notify("Pattern too big!",15,G.Xu,15,!1):""===c.V&&c.C.notification.notify("New pattern",15,300,15,!1)));""!==c.V&&c.C.notification.notify("Invalid pattern!",15,300,15,!1);-1!==c.g.O&&c.g.dh();if(!c.Ed||c.eb||-1!==c.Wa||c.Ie)c.g.eq(c.Ab,
c),c.g.Zg(c,c.Ab)}c.Bg.current=[c.Qd];c.Og.current=[c.Jf];c.Ve.current=[c.g.ud];c.Hi.current=[c.nd];c.Fi.current=[c.fd];c.$d.current=[c.g.Gd];c.$d.locked=!c.g.ja;c.g.aa?(c.Ld.current=[c.g.Fa],c.Ld.Y=["toggle triangular cells [?]"]):(c.Ld.Y=["toggle hexagonal cells [?]"],c.Ld.current=c.g.ia?[c.g.Fa]:[!0]);c.Qi.locked=(c.g.ja||c.g.s)&&null!==c.g.Cb?!1:!0;0===c.s.B()?(c.hg.locked=!0,c.me=!1):(c.hg.locked=!1,c.me=!0);c.hg.current=[c.me];c.hj.current=[c.La];c.g.D||(c.g.Gb=!1);c.rh.current=[c.g.Gb];c.Qj.current=
[c.Ne];c.ym.current=[c.g.bd];c.Gi.current=[c.Mc];c.$i.current=[c.rd];c.s.i.length?(c.um.N=!1,c.Mk.N=!1):(c.um.N=!0,c.Mk.N=!0);if(c.g.ia||c.g.aa)c.g.Ec=!1;0===c.g.lb?(c.qd.current=[!1],c.qd.locked=!0):(c.qd.current=[c.g.Ec],c.qd.locked=!1);c.bc||c.g.ci();d=c.g.zoom;f=c.g.ma;g=c.g.ka;m=c.ma;c.ma=!1;c.Gb(!0,!1,G.rg);c.ma=m;c.$p?c.g.zoom=d:!c.ka&&c.g.zoom>G.qC&&(c.g.zoom=G.qC);c.Yp&&(c.g.ma=f);c.Zp&&(c.g.ka=g);c.Da&&c.vG(c.Yb);c.ma&&c.So&&(c.g.zoom=c.tv);c.zA=c.g.zoom;c.qc.current=c.Zd([c.g.zoom,c.g.zoom],
!1,c);c.Aa=c.g.ma;c.Kb=c.g.ka;c.Mi=c.g.angle;c.wa.current=[c.Mi,c.Mi];c.Pi=c.g.xb;c.kb.current=[c.il(c.Pi),c.Pi];c.yo=c.g.qb;c.zg(c.yo,c.g.af,c);c.so=c.da;c.wo=c.P;c.kc.current=1===c.P&&c.da===G.dd?c.Ec([1,1],!0,c):c.Ec([c.xf(),1],!0,c);c.Ni=c.g.za;c.qb.current=[c.Ni,c.Ni];c.Xp=c.g.pc;d=Math.sqrt(c.Xp);c.Ia.current=c.Bf([d,d],!0,c);c.eb&&!c.tc?(c.Pb=!0,c.lc.current=G.yj):(c.Pb=!1,c.lc.current=G.ve);c.Ie&&!c.Ed&&c.Ol(c);c.Zh(c.Pb);c.displayWidth>G.pd&&!c.zd?(k=c.displayWidth-G.pd+G.rr,k>G.wt&&(k=G.wt),
c.qc.Sf(k)):c.qc.Sf(G.rr);if(e||c.ma)c.ma?c.yu():c.resize();a||(c.W.Pa?c.C.notification.notify("Pattern too big!",15,G.Xu,15,!1):c.C.notification.notify("Invalid pattern!",15,G.Xu,15,!1));c.Yb.length?c.B=0:c.ha=0;c.ob||(c.U=!0,c.g.Nc=!1,c.g.la=!0,c.g.P=!1,c.g.v=!1,c.g.G=!1,c.fC());if(c.U||c.g.la)c.ra.m[G.El]=!0,c.ra.m[G.zj]=!0;c.U?(c.lc.N=!0,c.Rf.N=!0,c.kc.N=!0,c.Xd.N=!0,c.Yh.N=!0,c.Qi.N=!0,c.en.N=!0,c.Ua&&(c.qb.N=!0,c.Ia.N=!0,c.wd.N=!0,c.g.za=1),c.Bc.N=!1,""===c.V?(c.Bc.Jb=" "+D.mr,c.Bc.hd=c.C.hd,
c.Bc.setPosition(da.lh,c.nb.H,-40),c.ma?c.Bc.Sf(c.Zj-(40+c.nb.H)):c.Bc.Sf(c.displayWidth-(40+c.nb.H)),c.nb.N=!1):(c.Bc.Jb=c.V,c.Bc.hd=c.li,c.Bc.setPosition(da.lh,0,-40),c.ma?c.Bc.Sf(c.Zj-40):c.Bc.Sf(c.displayWidth-40),c.nb.N=!0)):c.Bc.N=!0;540>c.displayHeight?c.Gd.setPosition(da.Ql,0,-85):c.Gd.setPosition(da.Ql,0,-100);c.aC();c.oc=!1;c.Rt(c);c.Fo()?(c.Tc.Jb="Density",c.Tc.Y="cell density"):(c.Tc.Jb="Births",c.Tc.Y="cells born this generation");c.C.m=!0;c.C.we(!0);c.zd&&c.Yy&&(c.Yy.nodeValue=""===
c.yd?G.po:c.GE(c.yd));Ja.zb?(e=c.cf,""===e&&(e="Universe "+(c.Xa+1)),V.Lm||c.C.notification.notify(e,15,120,15,!0),c.vm.N=!1,c.Ok.N=!1,c.vn.N=!1):(c.vm.N=!0,c.Ok.N=!0,c.vn.N=!0);c.ba("");c.ms&&Fb(c);c.dn||(8===c.g.zoom||.125===c.g.zoom)&&0<c.Oh&&0===(c.Oh&3)&&1===(c.Vd.length&5)?(c.dh=!0,c.g.Yl()):c.dh=!1;c.g.pj();(c.g.ja||c.g.s)&&null!==c.g.Cb&&c.Xn&&(c.g.Zb=!0,c.Zh(c.Pb));c.Km&&""===c.V&&(c.Mj||(c.Mj=!0,c.Bm(c,!0)),c.Mj=!1);-1!==c.Wa&&(c.Yc&&(0===c.g.A?(c.C.notification.notify("No live cells",15,
360,15,!1),c.Wa=-1):c.C.notification.notify("Going to generation "+c.Wa,15,1E4,15,!1)),c.C.notification.clear(!0,!1));a||(a=c.g.la,c.g.la=!1,c.g.ce=1,c.g.Di(),c.g.la=a);c.g.la&&(c.bc=!0,c.Ga=!1);c.Oe.locked=c.bc;c.Oe.current=[c.Ga];c.fk.current=[c.Ce];c.Sj.current=[c.lf];c.eg.current=c.mz([c.xd],!0,c);c.bA();-1===c.g.i&&192>=c.v&&192>=c.A&&-1===c.g.O?(c.eh=!0,c.Ri=!0):(c.eh=!1,c.Ri=!1);c.C.Wa=c.lf&&c.g.fa===1<<G.aw};console.group("LifeViewer");V.S=!1;V.Db=!1;xa.T=new fb;V.T=xa.T;Ma(window,"load",
function(){requestAnimationFrame(V.QB)},!1);Ma(window,"resize",function(){if(Ja.fullScreen){var a=V.Sc[0][1];a.displayWidth=(document.body.clientWidth&-8)-8;a.displayHeight=window.innerHeight-130;a.displayWidth<G.pd&&(a.displayWidth=G.pd);a.displayHeight<G.jy&&(a.displayHeight=G.jy);if(a.displayWidth>G.pd&&!a.zd){var b=a.displayWidth-G.pd+G.rr;b>G.wt&&(b=G.wt);a.qc.Sf(b)}else a.qc.Sf(G.rr);b=a.Df;a.KD();a.Df=b;a.pz();a.resize();a.C.we(!0)}else for(b=0;b<V.Sc.length;b+=1)a=V.Sc[b][1],a.resize(),a.C.we(!0)},
!1);window.updateViewer=ub;window.updateMe=sb;var ab={si:0,om:"",Eu:!1,RK:function(a){a=y.Qo[a];var b=a.substring(a.length-1);10<a.length&&(a=a.replace(/marked/,"mkd"),a=a.replace(/trail/,"trl"),10<a.length&&(a="1"<=b&&"9">=b?a.substring(0,9)+b:a.substring(0,10)));return a},xH:function(a){a=y.Po[a];10<a.length&&(a=a.replace(/killer/,"klr"),a=a.replace(/births/,"bth"),10<a.length&&(a=a.substring(0,10)));return a},eK:function(a,b,c,d,f,e,g,k,l,m){var n=k,q=a.h.s,p=this.si*q,r=this.si*a.h.s,u=!1,t=a.u;
e&&(e.fillStyle===a.C.Va&&(u=!0),t>=m&&t<=m+a.Fa&&(e.font=a.cg,u||(e.fillStyle=1<(a.B|0)?a.mi:a.C.ca),e.fillText(b,g+p,k+r),u||(e.fillStyle=a.mi),e.fillText(c,g+p+e.measureText(b).width,k+r),u||(e.fillStyle=(a.B|0)<a.sj-a.Fa?a.mi:a.C.ca),e.fillText(d,g+p+e.measureText(b+c).width,k+r),u||(e.fillStyle=a.mi),e.font=a.Pe,e.fillText(f,g+p+a.j[0]*q,k+r),n+=l));a.u+=1;return n},qu:function(a){a/=1048576;return 10>a?String(a.toFixed(1)):String(a.toFixed(0))},fK:function(a,b,c,d,f,e,g,k){var l=a.u;d&&(g-=
6,l>=k&&l<=k+a.Fa&&(k=d.fillStyle,0===this.si?(d.save(),d.imageSmoothingEnabled=!0,d.translate(f,e-(g>>1)-1),d.scale(g/c,g/c),d.drawImage(a.g.be,0,c*b,c,c,0,0,c,c),d.restore()):d.fillRect(f+2,e-(g>>1)-1+2,g,g),d.fillStyle=k))},bb:function(a,b,c,d,f,e,g,k,l){var m=a.u;f&&(k-=6,m>=l&&m<=l+a.Fa&&(a=f.fillStyle,0===this.si?(f.fillStyle="rgb("+b+","+c+","+d+")",f.fillRect(e,g-(k>>1)-1,k,k)):f.fillRect(e+2,g-(k>>1)-1+2,k,k),f.fillStyle=a))},measureText:function(a,b,c,d){var f=d?a.fp:a.ap;f[a.u]?b=f[a.u]:
(b.font=0===d?a.cg:a.Pe,b=b.measureText(c).width,f[a.u]=b);return b},l:function(a,b,c,d,f,e,g,k){var l=e,m=String(c).indexOf("\t"),n=0,q=a.h.s,p=this.si*q,r=this.si*a.h.B,u=a.u>=k&&a.u<=k+a.Fa;ab.Eu&&0===ab.si&&(""===b?ab.om+=c+"\n":"H / Esc"!==b&&(ab.om+=b+"\t"+c+"\n"));if(b.length){u&&(d.font=a.cg,d.fillText(b,f+p,e+r));b=this.measureText(a,d,b,0);b>a.j[n]*q&&""!==c&&(u&&(e+=g,l+=g),a.u+=1,u=a.u>=k&&a.u<=k+a.Fa);u&&(d.font=a.Pe);for(;-1!==m;)u&&d.fillText(c.substring(0,m),f+p+a.j[n]*q,e+r),n+=1,
c=c.substring(m+1),m=c.indexOf("\t");m=!1;if(a.pc&&(b=this.measureText(a,d,c,1),f+a.j[n]*q+b>d.canvas.width)){var t=c.toLowerCase();b=t.indexOf("|");-1===b&&("r"===t[0]?b=t.indexOf("b"):"m"!==t[0]&&(b=t.indexOf("s")),-1===b&&(b=t.indexOf("/"),-1!==b&&"m"!==t[0]?b+=1:(b=c.length>>1,t=t.indexOf(",",b),-1!==t&&(b=t+1))));-1!==b&&(u&&(d.fillText(c.substring(0,b),f+p+a.j[n]*q,e+r),e+=g,l+=g),a.u+=1,(u=a.u>=k&&a.u<=k+a.Fa)&&d.fillText("  "+c.substring(b),f+p+a.j[n]*q,e+r),m=!0)}m||u&&d.fillText(c,f+p+a.j[n]*
q,e+r)}else d.font=a.Pe,u&&d.fillText(c,f+p,e+r);u&&(l+=g);a.u+=1;return l},vb:function(a,b,c){var d=hb.Cf,f=Object.keys(d),e,g=!1,k=0;for(e="    "+a+"\t"+b+"\t"+c+("\t#"+(16777216|a<<16|b<<8|c).toString(16).slice(-6).toUpperCase());k<f.length&&!g;){var l=d[f[k]];l[1]===a&&l[2]===b&&l[3]===c?(e+="\t"+l[0],g=!0,k=f.length):k+=1}return e},re:function(a){return this.vb(a.h,a.j,a.i)},LG:function(a){var b=0,c=0;0<a.g.A&&(b=a.g.B.L-a.g.B.I+1,c=a.g.B.M-a.g.B.J+1);-1!==a.g.O&&(0!==a.g.$&&(b=a.g.$),0!==a.g.Z&&
(c=a.g.Z));return b+" x "+c},OG:function(a){var b="AutoFit";a.rd&&(b+=" History");a.vd&&(b+=" State 1");return b},cD:function(a,b){b-=a.length;for(var c="";0<b;)c+=" ",--b;return c+a},Au:function(a){var b=a.indexOf(","),c=a.lastIndexOf(",");return[parseInt(a.substring(4,b),10),parseInt(a.substring(b+1,c),10),parseInt(a.substring(c+1,a.length-1),10)]},zD:function(a,b,c,d,f,e){var g=d;switch(a.Kd){case G.Qg:this.nK(a,b,c,d,f,e);break;case G.Bv:this.hK(a,b,c,d,f,e);break;case G.Fy:this.lK(a,b,c,d,f,
e);break;case G.Tr:this.gK(a,b,c,d,f,e);break;case G.Sy:this.mK(a,b,c,d,f,e);break;case G.Cu:this.$J(a,b,c,d,f,e);break;case G.cu:this.YJ(a,b,c,d,f,e);break;case G.dw:this.iK(a,b,c,d,f,e);break;case G.Du:this.aK(a,b,c,d,f,e);break;case G.fu:this.ZJ(a,b,c,d,f,e)}a.sj=a.u-1;a.u=1;a.j[0]=120;d=g+f*(a.Fa+2);a.Kd!==G.Qg?d=this.eK(a,"Up"," / ","Down","scroll help",b,c,d,f,0):d+=f;a.zd?this.l(a,"H","close help",b,c,d,f,0):this.l(a,"H / Esc","close help",b,c,d,f,0)},nK:function(a,b,c,d,f,e){var g=V.S?G.ky:
G.OD;a.u=1;a.pc=!1;a.F=[];a.j[0]=108;a.F[0]=[a.u,"Top"];d=this.l(a,"",G.po+" "+g+" build "+G.Xs+" by "+G.jE,b,c,d,f,e);V.S&&(d=this.l(a,"","Alpha release for testing",b,c,d,f,e));a.Cn&&(d=this.l(a,"","",b,c,d,f,e),d=this.l(a,"","If there are no cells displayed please go to chrome://flags",b,c,d,f,e),this.l(a,"","and set Out-of-process 2D canvas rasterization to Disabled. ",b,c,d,f,e))},ZJ:function(a,b,c,d,f,e){var g,k=0,l=a.h.s;a.u=1;a.pc=!1;a.F=[];a.F[k]=[a.u,"Top"];k+=1;a.j[0]=128;a.j[1]=208;a.j[2]=
288;a.j[3]=368;d=this.l(a,"","Annotations",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[k]=[a.u,"Labels"];k+=1;d=this.l(a,"","Labels:",b,c,d,f,e);d=this.l(a,"Number",a.s.m.length,b,c,d,f,e);for(g=0;g<a.s.m.length;g+=1){var m="Label "+String(g+1);d=this.l(a,m,a.s.ya(g),b,c,d,f,e);d=this.l(a," ",a.s.Aa(g),b,c,d,f,e);d=this.l(a," ",a.s.Ba(g),b,c,d,f,e);m=this.Au(a.s.Ca(g));this.bb(a,m[0],m[1],m[2],b,c+a.j[0]*l,d,f,e);d=this.l(a,"Colour",this.vb(m[0],m[1],m[2]),b,c,d,f,e)}d=this.l(a,"","",b,c,d,f,e);a.F[k]=
[a.u,"Arrows"];k+=1;d=this.l(a,"","Arrows:",b,c,d,f,e);d=this.l(a,"Number",a.s.s.length,b,c,d,f,e);for(g=0;g<a.s.s.length;g+=1)m="Arrow "+String(g+1),d=this.l(a,m,a.s.ea(g),b,c,d,f,e),d=this.l(a," ",a.s.fa(g),b,c,d,f,e),d=this.l(a," ",a.s.ga(g),b,c,d,f,e),m=this.Au(a.s.ur(g)),this.bb(a,m[0],m[1],m[2],b,c+a.j[0]*l,d,f,e),d=this.l(a,"Colour",this.vb(m[0],m[1],m[2]),b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[k]=[a.u,"Polygons"];d=this.l(a,"","Polygons:",b,c,d,f,e);d=this.l(a,"Number",a.s.u.length,b,
c,d,f,e);for(g=0;g<a.s.u.length;g+=1)m="Polygon "+String(g+1),d=this.l(a,m,a.s.Ta(g),b,c,d,f,e),d=this.l(a," ",a.s.Ua(g),b,c,d,f,e),d=this.l(a," ",a.s.Va(g),b,c,d,f,e),m=this.Au(a.s.Wa(g)),this.bb(a,m[0],m[1],m[2],b,c+a.j[0]*l,d,f,e),d=this.l(a,"Colour",this.vb(m[0],m[1],m[2]),b,c,d,f,e)},hK:function(a,b,c,d,f,e){var g,k=0;a.u=1;a.F=[];a.pc=!0;a.j[0]=124;a.F[k]=[a.u,"Top"];k+=1;d=this.l(a,"","Keyboard commands",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[k]=[a.u,"Playback"];k+=1;d=this.l(a,"","Playback controls:",
b,c,d,f,e);if(a.Ua)d=this.l(a,"R","reset",b,c,d,f,e);else{d=this.l(a,"Enter","toggle play / pause",b,c,d,f,e);d=this.l(a,"Space","pause / next generation",b,c,d,f,e);d=this.l(a,"B","pause / previous generation",b,c,d,f,e);d=this.l(a,"Backspace","pause / previous generation",b,c,d,f,e);d=this.l(a,"Tab","pause / next step",b,c,d,f,e);d=this.l(a,"Shift Tab","pause / previous step",b,c,d,f,e);if(a.g.ja||a.g.s)d=this.l(a,"U","toggle playback direction",b,c,d,f,e);d=a.zd?this.l(a,"Esc","close LifeViewer",
b,c,d,f,e):this.l(a,"Esc","pause if playing",b,c,d,f,e);d=this.l(a,"R","reset to generation 0",b,c,d,f,e);d=this.l(a,"Shift N","go to generation",b,c,d,f,e);d=this.l(a,"-","decrease playback speed",b,c,d,f,e);d=this.l(a,"+","increase playback speed",b,c,d,f,e);d=this.l(a,"Shift -","minimum playback speed",b,c,d,f,e);d=this.l(a,"Shift +","maximum playback speed",b,c,d,f,e);d=this.l(a,"0","reset step and speed",b,c,d,f,e);d=this.l(a,a.D+" P","toggle pause playback while drawing",b,c,d,f,e);a.g.og()&&
(d=this.l(a,"Shift F7","toggle fast lookup",b,c,d,f,e));d=this.l(a,a.G+" T","toggle throttling",b,c,d,f,e);a.Da?-1!==a.Ub?(d=this.l(a,"W","toggle waypoint playback and loop",b,c,d,f,e),d=this.l(a,"Shift P","toggle just loop",b,c,d,f,e)):d=this.l(a,"W","toggle waypoint playback",b,c,d,f,e):-1!==a.Ub&&(d=this.l(a,"W","toggle loop",b,c,d,f,e));a.eb&&(d=this.l(a,a.G+" O","toggle autostart",b,c,d,f,e));-1!==a.uc&&(d=this.l(a,a.G+" P","toggle stop",b,c,d,f,e))}d=this.l(a,"","",b,c,d,f,e);a.F[k]=[a.u,"Multi"];
k+=1;d=this.l(a,"","Multi-Viewer controls:",b,c,d,f,e);Ja.zb&&(d=this.l(a,"Page Up","previous universe",b,c,d,f,e),d=this.l(a,"Page Down","next universe",b,c,d,f,e),d=this.l(a,"Home","first universe",b,c,d,f,e),d=this.l(a,"End","last universe",b,c,d,f,e));d=this.l(a,"Shift R","reset all LifeViewers to generation 0",b,c,d,f,e);d=this.l(a,"Z","stop playback in all other LifeViewers",b,c,d,f,e);d=this.l(a,"Shift Z","stop playback in all LifeViewers",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[k]=[a.u,
"Camera"];k+=1;d=this.l(a,"","Camera controls:",b,c,d,f,e);if(a.displayHeight>=G.Dl||(a.ma&&a.Tu)>=G.Dl)d=this.l(a,"M","toggle settings menu",b,c,d,f,e);d=this.l(a,"V","restore saved camera position",b,c,d,f,e);d=this.l(a,"Shift V","save current camera position",b,c,d,f,e);var l=a.s.i.length;if(0<l&&(d=this.l(a,"J","jump to next point of interest",b,c,d,f,e),d=this.l(a,"Shift J","jump to previous point of interest",b,c,d,f,e),9<l&&(l=9),!a.lb&&!a.Cc))for(g=1;g<=l;g+=1)d=this.l(a,a.G+" "+String(g),
"jump to POI #"+String(g),b,c,d,f,e);d=this.l(a,"F","fit pattern to display",b,c,d,f,e);d=this.l(a,"Shift F","toggle autofit",b,c,d,f,e);d=this.l(a,"Shift H","toggle autofit history mode",b,c,d,f,e);d=this.l(a,a.D+" F","fit selection to display",b,c,d,f,e);d=this.l(a,a.D+" M","center pattern on display",b,c,d,f,e);a.g.P&&(d=this.l(a,"Shift S","toggle autofit state 1 mode",b,c,d,f,e));d=this.l(a,"[","zoom out",b,c,d,f,e);d=this.l(a,"]","zoom in",b,c,d,f,e);d=this.l(a,"Shift [","halve zoom",b,c,d,f,
e);d=this.l(a,"Shift ]","double zoom",b,c,d,f,e);d=this.l(a,"1","1x zoom",b,c,d,f,e);d=this.l(a,"2","2x zoom",b,c,d,f,e);d=this.l(a,"4","4x zoom",b,c,d,f,e);d=this.l(a,"8","8x zoom",b,c,d,f,e);d=this.l(a,"6","16x zoom",b,c,d,f,e);d=this.l(a,"3","32x zoom",b,c,d,f,e);d=this.l(a,"Shift 1","integer zoom",b,c,d,f,e);d=this.l(a,"Shift 2","-2x zoom",b,c,d,f,e);d=this.l(a,"Shift 4","-4x zoom",b,c,d,f,e);d=this.l(a,"Shift 8","-8x zoom",b,c,d,f,e);d=this.l(a,"Shift 6","-16x zoom",b,c,d,f,e);d=this.l(a,"Shift 3",
"-32x zoom",b,c,d,f,e);d=this.l(a,"Left","pan left",b,c,d,f,e);d=this.l(a,"Right","pan right",b,c,d,f,e);d=this.l(a,"Up","pan up",b,c,d,f,e);d=this.l(a,"Down","pan down",b,c,d,f,e);d=this.l(a,"Shift Left","pan north west",b,c,d,f,e);d=this.l(a,"Shift Right","pan south east",b,c,d,f,e);d=this.l(a,"Shift Up","pan north east",b,c,d,f,e);d=this.l(a,"Shift Down","pan south west",b,c,d,f,e);d=this.l(a,"<","rotate left",b,c,d,f,e);d=this.l(a,">","rotate right",b,c,d,f,e);d=this.l(a,"Shift <","rotate left 90 degrees",
b,c,d,f,e);d=this.l(a,"Shift >","rotate right 90 degrees",b,c,d,f,e);d=this.l(a,a.G+" <","rotate left 45 degrees",b,c,d,f,e);d=this.l(a,a.G+" >","rotate right 45 degrees",b,c,d,f,e);d=this.l(a,"5","reset angle",b,c,d,f,e);d=this.l(a,a.G+" /","snap angle to nearest 45 degrees",b,c,d,f,e);d=this.l(a,"'","tilt down",b,c,d,f,e);d=this.l(a,"/","tilt up",b,c,d,f,e);d=this.l(a,"@","reset tilt",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.Ua||(a.F[k]=[a.u,"View"],k+=1,d=this.l(a,"","View controls:",b,c,d,f,e),
d=this.l(a,"Q","increase number of layers",b,c,d,f,e),d=this.l(a,"A","decrease number of layers",b,c,d,f,e),d=this.l(a,"P","increase layer depth",b,c,d,f,e),d=this.l(a,"L","decrease layer depth",b,c,d,f,e),d=this.l(a,"C","next colour theme",b,c,d,f,e),d=this.l(a,"Shift C","previous colour theme",b,c,d,f,e),d=this.l(a,a.G+" C","default theme",b,c,d,f,e),d=this.l(a,"","",b,c,d,f,e));a.F[k]=[a.u,"Display"];k+=1;d=this.l(a,"","Display controls:",b,c,d,f,e);a.Ua||(d=this.l(a,"G","toggle generation statistics",
b,c,d,f,e),d=this.l(a,"Shift G","toggle generation display mode",b,c,d,f,e),a.bc||(d=this.l(a,"Y","toggle population graph",b,c,d,f,e),d=this.l(a,"Shift Y","toggle graph lines",b,c,d,f,e),d=this.l(a,"7","decrease graph opacity",b,c,d,f,e),d=this.l(a,"9","increase graph opacity",b,c,d,f,e),d=this.l(a,"Shift F3","toggle population plot",b,c,d,f,e),d=this.l(a,"Shift F4","toggle births plot",b,c,d,f,e),d=this.l(a,"Shift F5","toggle deaths plot",b,c,d,f,e)),d=this.l(a,"Shift W","toggle performance warning",
b,c,d,f,e));a.g.ia?d=this.l(a,"?","toggle hexagons for hexagonal grid",b,c,d,f,e):a.g.aa&&(d=this.l(a,"?","toggle triangles for triangular grid",b,c,d,f,e));d=this.l(a,"T","toggle timing information",b,c,d,f,e);d=this.l(a,"Shift T","toggle extended timing information",b,c,d,f,e);V.S&&(d=this.l(a,a.G+" `","toggle WASM engine",b,c,d,f,e));d=this.l(a,"I","toggle pattern and engine information",b,c,d,f,e);d=this.l(a,"Shift I","toggle information bar",b,c,d,f,e);d=this.l(a,a.G+" I","toggle icons",b,c,
d,f,e);d=this.l(a,a.D+" Q","toggle cell anti-aliasing",b,c,d,f,e);d=this.l(a,a.G+" B","toggle cell borders",b,c,d,f,e);d=this.l(a,"X","toggle gridlines",b,c,d,f,e);0<a.g.lb&&(d=this.l(a,"Shift X","toggle major gridlines",b,c,d,f,e));d=this.l(a,a.D+" G","toggle auto gridlines",b,c,d,f,e);a.g.ja&&(d=this.l(a,a.G+" D","toggle alternating gridlines",b,c,d,f,e));if(a.g.P||a.g.v||-1===a.g.i)d=this.l(a,a.G+" G","convert pattern to [R]Super",b,c,d,f,e),d=this.l(a,a.G+" H","convert pattern to [R]History",
b,c,d,f,e),d=this.l(a,a.G+" J","convert pattern to [R]Standard",b,c,d,f,e);0<a.s.B()&&(d=this.l(a,a.G+" L","toggle annotation display",b,c,d,f,e));d=this.l(a,a.D+" L","toggle kill escaping gliders",b,c,d,f,e);a.ze&&(d=this.l(a,"N","toggle thumbnail view",b,c,d,f,e));d=this.l(a,"S","toggle stars",b,c,d,f,e);d=this.l(a,"O","save screenshot",b,c,d,f,e);d=this.l(a,"Shift O","save population graph screenshot",b,c,d,f,e);d=this.l(a,";","save black and white screenshot",b,c,d,f,e);d=this.l(a,"Shift U","toggle UI",
b,c,d,f,e);d=this.l(a,a.G+" U","toggle autohide UI during playback",b,c,d,f,e);-1===a.g.i&&(d=this.l(a,a.G+" W","cycle cell shader",b,c,d,f,e));d=this.l(a,"D","download cell map",b,c,d,f,e);d=this.l(a,"E","cycle identify results display",b,c,d,f,e);d=this.l(a,a.G+" E","cycle identify results type",b,c,d,f,e);d=this.l(a,"F8","toggle cell state display",b,c,d,f,e);d=this.l(a,"Shift F8","toggle y coordinate direction",b,c,d,f,e);d=this.l(a,"F9","toggle popup window maximize",b,c,d,f,e);d=this.l(a,"Shift E",
"toggle use saved default playback speed",b,c,d,f,e);d=this.l(a,a.D+" E","save default playback speed",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[k]=[a.u,"Pattern"];k+=1;d=this.l(a,"","Pattern controls:",b,c,d,f,e);d=this.l(a,a.G+" N","new pattern",b,c,d,f,e);d=this.l(a,a.G+" R","change rule",b,c,d,f,e);d=this.l(a,a.D+" O","open original or last saved pattern",b,c,d,f,e);d=this.l(a,a.D+"+Shift O","open clipboard as pattern",b,c,d,f,e);d=this.l(a,a.D+" S","save pattern",b,c,d,f,e);d=this.l(a,a.G+" Z",
"randomize pattern and rule",b,c,d,f,e);d=this.l(a,a.D+"+"+a.G+" Z","randomize pattern only",b,c,d,f,e);d=this.l(a,"F6","toggle pattern identification",b,c,d,f,e);d=this.l(a,"Shift F6","display last identification result",b,c,d,f,e);d=this.l(a,"Shift F9","toggle Safe Mode",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[k]=[a.u,"Clipboard"];k+=1;d=this.l(a,"","External clipboard controls:",b,c,d,f,e);d=this.l(a,a.G+" S","toggle sync cut and copy with external clipboard",b,c,d,f,e);d=this.l(a,a.D+"+Shift C",
"copy original pattern",b,c,d,f,e);d=this.l(a,a.D+" C","copy current selection",b,c,d,f,e);d=this.l(a,a.D+"+"+a.G+" C","copy current selection with comments",b,c,d,f,e);d=this.l(a,"F7","copy current selection including blanks",b,c,d,f,e);d=this.l(a,a.D+"+Shift X","cut original pattern",b,c,d,f,e);d=this.l(a,a.D+" X","cut current selection",b,c,d,f,e);d=this.l(a,a.D+"+"+a.G+" X","cut current selection with comments",b,c,d,f,e);d=this.l(a,a.D+" J","copy rule definition",b,c,d,f,e);a.g.D&&2===a.g.i&&
(d=this.l(a,a.G+" M","copy rule definition as MAP",b,c,d,f,e));d=this.l(a,"K","copy camera position",b,c,d,f,e);d=this.l(a,"Shift K","copy camera position and view",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[k]=[a.u,"Edit"];k+=1;d=this.l(a,"","Edit controls:",b,c,d,f,e);d=this.l(a,"F1","toggle draw/pan mode",b,c,d,f,e);d=this.l(a,"F2","draw mode",b,c,d,f,e);d=this.l(a,"Shift F2","toggle smart drawing",b,c,d,f,e);d=this.l(a,"F3","pick mode",b,c,d,f,e);d=this.l(a,"F4","select mode",b,c,d,f,e);d=this.l(a,
"F5","pan mode",b,c,d,f,e);d=this.l(a,a.D+" A","select all",b,c,d,f,e);d=this.l(a,"Shift A","shrink selection",b,c,d,f,e);d=this.l(a,a.G+" A","toggle auto-shrink selection",b,c,d,f,e);d=this.l(a,a.D+" C","copy",b,c,d,f,e);d=this.l(a,a.D+" D","toggle states display",b,c,d,f,e);d=this.l(a,a.D+" I","invert selection",b,c,d,f,e);d=this.l(a,a.D+" K","remove selection",b,c,d,f,e);d=this.l(a,a.D+" V","paste",b,c,d,f,e);d=this.l(a,a.D+"+Shift V","paste to selection",b,c,d,f,e);d=this.l(a,a.D+" X","cut",b,
c,d,f,e);d=this.l(a,a.D+" Y","redo edit",b,c,d,f,e);d=this.l(a,a.D+" Z","undo edit",b,c,d,f,e);d=this.l(a,a.D+"+Shift Z","redo edit",b,c,d,f,e);d=this.l(a,a.D+" Space","advance selection",b,c,d,f,e);d=this.l(a,"Shift Space","advance outside",b,c,d,f,e);d=this.l(a,"Shift L","cycle paste location",b,c,d,f,e);d=this.l(a,"Shift M","cycle paste mode",b,c,d,f,e);2<a.g.i?(d=this.l(a,"Shift 5","multi-state random fill",b,c,d,f,e),a.g.s||(d=this.l(a,a.D+"+Shift 5","2-state random fill",b,c,d,f,e))):d=this.l(a,
"Shift 5","random fill",b,c,d,f,e);d=this.l(a,a.G+" K","pick cell state to replace with drawing state",b,c,d,f,e);d=this.l(a,a.D+"+"+a.G+" K","clear current drawing state cells",b,c,d,f,e);d=this.l(a,"Del","clear cells in selection",b,c,d,f,e);d=this.l(a,"Shift Del","clear outside selection",b,c,d,f,e);a.g.P&&(d=this.l(a,a.D+" Del","clear [R]History cells",b,c,d,f,e),d=this.l(a,a.G+" Del","clear [R]History marked cells",b,c,d,f,e));d=this.l(a,">","rotate selection clockwise",b,c,d,f,e);d=this.l(a,
"<","rotate selection counter-clockwise",b,c,d,f,e);d=this.l(a,a.G+" X","flip selection horizontally",b,c,d,f,e);d=this.l(a,a.G+" Y","flip selection vertically",b,c,d,f,e);d=this.l(a,a.G+" Left","nudge selection 1 cell left",b,c,d,f,e);d=this.l(a,a.G+" Right","nudge selection 1 cell right",b,c,d,f,e);d=this.l(a,a.G+" Up","nudge selection 1 cell up",b,c,d,f,e);d=this.l(a,a.G+" Down","nudge selection 1 cell down",b,c,d,f,e);d=this.l(a,"Esc","hide paste",b,c,d,f,e);d=this.l(a,"Enter","perform paste",
b,c,d,f,e);a.g.P?l=7:(l=-1===a.g.i?2:a.g.i,10<l&&(l=10));for(g=0;g<l;g+=1)d=this.l(a,a.D+" "+g,"select state "+g+" for drawing",b,c,d,f,e);d=this.l(a,"Shift B","toggle clipboard library",b,c,d,f,e);for(g=0;10>g;g+=1)d=this.l(a,a.G+" "+g,"make clipboard "+g+" active",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[k]=[a.u,"Help"];d=this.l(a,"","Help controls:",b,c,d,f,e);d=this.l(a,"Up","scroll up one line",b,c,d,f,e);d=this.l(a,"Down","scroll down one line",b,c,d,f,e);d=this.l(a,"Page Up","scroll up one page",
b,c,d,f,e);d=this.l(a,"Page Down","scroll down one page",b,c,d,f,e);d=this.l(a,"Shift Page Up","scroll up one section",b,c,d,f,e);d=this.l(a,"Shift Page Down","scroll down one section",b,c,d,f,e);d=this.l(a,"Home","go to first help page",b,c,d,f,e);d=this.l(a,"End","go to last help page",b,c,d,f,e);this.l(a,"Ins","show help sections",b,c,d,f,e)},lK:function(a,b,c,d,f,e){var g=0,k;a.u=1;a.pc=!1;a.F=[];a.j[0]=252;a.F[g]=[a.u,"Top"];g+=1;d=this.l(a,"","Scripts",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);
d=this.l(a,"","Scripts must be embedded in pattern comments",b,c,d,f,e);d=this.l(a,"","Commands must be surrounded by whitespace",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[g]=[a.u,"Params"];g+=1;d=this.l(a,"","Parameter conventions:",b,c,d,f,e);d=this.l(a,"A|B","either A or B",b,c,d,f,e);d=this.l(a,"(A)","A is optional",b,c,d,f,e);d=this.l(a,"A*","zero or more A",b,c,d,f,e);d=this.l(a,"A+","one or more A",b,c,d,f,e);d=this.l(a,"<1..3>","integer range",b,c,d,f,e);d=this.l(a,"<1.0..3.0>","decimal range",
b,c,d,f,e);d=this.l(a,'"<string>"',"text string",b,c,d,f,e);d=this.l(a," "+D.Sd+"B","program build number",b,c,d,f,e);d=this.l(a," "+D.Sd+"N","pattern name",b,c,d,f,e);d=this.l(a," "+D.Sd+"O","pattern originator",b,c,d,f,e);d=this.l(a," "+D.Sd+"R","rule name",b,c,d,f,e);d=this.l(a," "+D.Sd+"A","rule alias",b,c,d,f,e);d=this.l(a," "+D.Sd+"D","rule neighbourhood",b,c,d,f,e);d=this.l(a," "+D.Sd+"T","program title",b,c,d,f,e);d=this.l(a," "+D.Sd+"S","random seed",b,c,d,f,e);d=this.l(a," "+D.Sd+"G","current generation (Labels)",
b,c,d,f,e);d=this.l(a," "+D.Sd+"H","reversible generation (Labels)",b,c,d,f,e);d=this.l(a," "+D.Sd+"I","current generation relative (Labels)",b,c,d,f,e);d=this.l(a," "+D.Sd+"J","reversible generation relative (Labels)",b,c,d,f,e);d=this.l(a," "+D.Sd+"P","current population (Labels)",b,c,d,f,e);d=this.l(a," "+D.Sd+"F","current births (Labels)",b,c,d,f,e);d=this.l(a," "+D.Sd+"E","current deaths (Labels)",b,c,d,f,e);d=this.l(a," "+D.Sd+"0..9","saved timing as average fps",b,c,d,f,e);d=this.l(a," "+D.Sd+
D.Sd,D.Sd+" symbol",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[g]=[a.u,"General"];g+=1;d=this.l(a,"","General:",b,c,d,f,e);d=this.l(a,D.Nl,"start script section",b,c,d,f,e);d=this.l(a,D.Sm,"end script section",b,c,d,f,e);d=this.l(a,D.Qy,"suppress overwrite warning",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[g]=[a.u,"Playback"];g+=1;d=this.l(a,"","Playback:",b,c,d,f,e);d=this.l(a,D.xr+" ("+D.Vb+")","start play automatically",b,c,d,f,e);d=this.l(a,D.oi+" <1..>|"+D.Vb,"loop at generation",b,c,d,f,e);
d=this.l(a,D.vi+" <1..>|"+D.Vb,"stop at generation",b,c,d,f,e);d=this.l(a,D.Ms+" <1..>","play to generation on load",b,c,d,f,e);d=this.l(a,D.wm+" <"+G.Cg+".."+G.SI+">","set steps per second",b,c,d,f,e);d=this.l(a,D.Vm+" <"+G.ih+".."+a.Pf+">","set generations per step",b,c,d,f,e);(a.g.ja||a.g.s)&&a.g.Cb&&(d=this.l(a,D.Ay,"set initial playback to Reverse",b,c,d,f,e));d=this.l(a,D.lv,"always use hard reset",b,c,d,f,e);d=this.l(a,D.wr,"identify pattern automatically",b,c,d,f,e);d=this.l(a,D.mr,"disable playback",
b,c,d,f,e);d=this.l(a,D.Ww,"disable step back",b,c,d,f,e);d=this.l(a,D.Yw,"disable stop messages",b,c,d,f,e);d=this.l(a,D.Xw,"disable performance warning",b,c,d,f,e);d=this.l(a,D.$w,"disable playback throttling",b,c,d,f,e);d=this.l(a,D.Yu,"starting playback pauses others",b,c,d,f,e);d=this.l(a,D.vv,"ignore other pause requests",b,c,d,f,e);d=this.l(a,D.Tx,"show playback duration",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[g]=[a.u,"Camera"];g+=1;d=this.l(a,"","Camera:",b,c,d,f,e);d=this.l(a,D.kl+" <0..359>",
"set camera angle",b,c,d,f,e);d=this.l(a,D.Tl+" <0.0..5.0>","set camera tilt",b,c,d,f,e);d=this.l(a,D.pf+" <-"+(a.g.fa>>1)+".."+(a.g.fa>>1)+">","set camera x position",b,c,d,f,e);d=this.l(a,D.sf+" <-"+(a.g.fa>>1)+".."+(a.g.fa>>1)+">","set camera y position",b,c,d,f,e);d=this.l(a,D.te+" <"+Number(-1/G.Fb).toFixed(1)+".."+G.Qb.toFixed(1)+">","set camera zoom",b,c,d,f,e);d=this.l(a,D.du,"same as "+D.te,b,c,d,f,e);d=this.l(a,D.vr+" ("+D.Vb+")","fit pattern to display",b,c,d,f,e);d=this.l(a,D.sv+" ("+
D.Vb+")","autofit uses pattern history",b,c,d,f,e);d=this.l(a,D.Ny+" ("+D.Vb+")","autofit only uses state 1",b,c,d,f,e);d=this.l(a,D.kr+" X Y","camera tracking",b,c,d,f,e);d=this.l(a," X ","horizontal speed cells/gen",b,c,d,f,e);d=this.l(a," Y ","vertical speed cells/gen",b,c,d,f,e);d=this.l(a,D.Zm+" E S W N","camera box tracking",b,c,d,f,e);d=this.l(a," E ","east edge speed cells/gen",b,c,d,f,e);d=this.l(a," S ","south edge speed cells/gen",b,c,d,f,e);d=this.l(a," W ","west edge speed cells/gen",
b,c,d,f,e);d=this.l(a," N ","north edge speed cells/gen",b,c,d,f,e);d=this.l(a,D.jr+" P X Y","camera tracking with loop",b,c,d,f,e);d=this.l(a," P ","period",b,c,d,f,e);d=this.l(a," X ","horizontal speed cells/gen",b,c,d,f,e);d=this.l(a," Y ","vertical speed cells/gen",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[g]=[a.u,"Waypoints"];g+=1;d=this.l(a,"","Waypoints:",b,c,d,f,e);d=this.l(a,D.dr+" <0..>","waypoint at generation",b,c,d,f,e);d=this.l(a,D.Rx+" <0.0..>","pause for time",b,c,d,f,e);d=this.l(a,
D.hh+" "+D.lg+"|"+D.pf+"|"+D.sf+"|"+D.te,"linear motion",b,c,d,f,e);d=this.l(a,D.ji+" "+D.lg+"|"+D.pf+"|"+D.sf+"|"+D.te,"bezier motion (default)",b,c,d,f,e);d=this.l(a,D.TD,"save timing at waypoint start",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[g]=[a.u,"POIs"];g+=1;d=this.l(a,"","Points of interest:",b,c,d,f,e);d=this.l(a,D.us,"define point of interest",b,c,d,f,e);d=this.l(a,D.ts+" <0..>","start POI at generation",b,c,d,f,e);d=this.l(a,D.Vq,"reset generation at POI",b,c,d,f,e);d=this.l(a,D.Zo,
"start playback at POI",b,c,d,f,e);d=this.l(a,D.$o,"stop playback at POI",b,c,d,f,e);d=this.l(a,D.Wq+" <"+Xa.sD+".."+Xa.rD+">","set POI transition speed",b,c,d,f,e);d=this.l(a,"<command>|ALL "+D.xc,"use initial value for POI",b,c,d,f,e);d=this.l(a,D.Pd+"<string>"+D.Pd,"define message",b,c,d,f,e);d=this.l(a,D.Vx,"add Labels as POIs",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[g]=[a.u,"Annotations"];g+=1;d=this.l(a,"","Annotations:",b,c,d,f,e);d=this.l(a,D.Kq+" X Y ZOOM","define label at position",b,
c,d,f,e);d=this.l(a," ("+D.je+") "+D.Pd+"<string>"+D.Pd,"... fix position, label text ",b,c,d,f,e);d=this.l(a,D.Pv+" <"+G.yC+".."+G.tC+">","define label font size",b,c,d,f,e);d=this.l(a," ("+D.je+")","... optionally fix size",b,c,d,f,e);d=this.l(a,D.Kv+" <0.0..1.0>","define label font alpha",b,c,d,f,e);d=this.l(a,D.Qv+" <0..> <0..> <0..>","generation range / fade",b,c,d,f,e);d=this.l(a,D.Lv+" <0..359>","label angle",b,c,d,f,e);d=this.l(a," ("+D.je+")","... optionally fix angle",b,c,d,f,e);d=this.l(a,
D.Sv+" D|"+D.Vb,"label view distance",b,c,d,f,e);d=this.l(a,D.Tv+" MINZOOM MAXZOOM|"+D.Vb,"label zoom visibility",b,c,d,f,e);d=this.l(a,D.Rv+" DX DY|"+D.je,"label move per generation",b,c,d,f,e);d=this.l(a,D.Ov+" ("+D.Vb+")","turn label shadow on or off",b,c,d,f,e);d=this.l(a,D.Jv+" "+D.Gv+"|"+D.Hv+"|"+D.Iv,"set label text alignment",b,c,d,f,e);d=this.l(a,D.oq+" X1 Y1 X2 Y2 ZOOM","define arrow at position",b,c,d,f,e);d=this.l(a," ("+D.je+")","... fix position",b,c,d,f,e);d=this.l(a,D.lu+" <"+G.js+
".."+G.$r+"> <0.0..1.0>","line width and head multiple",b,c,d,f,e);d=this.l(a,D.iu+" <0.0..1.0>","define arrow alpha",b,c,d,f,e);d=this.l(a,D.mu+" <0..> <0..> <0..>","generation range / fade",b,c,d,f,e);d=this.l(a,D.ju+" <0..359>","arrow angle",b,c,d,f,e);d=this.l(a," ("+D.je+")","... optionally fix angle",b,c,d,f,e);d=this.l(a,D.ou+" D|"+D.Vb,"arrow view distance",b,c,d,f,e);d=this.l(a,D.pu+" MINZOOM MAXZOOM|"+D.Vb,"arrow zoom visibility",b,c,d,f,e);d=this.l(a,D.nu+" DX DY|"+D.je,"arrow move per generation",
b,c,d,f,e);d=this.l(a,D.ku+" ("+D.Vb+")","turn arrow shadow on or off",b,c,d,f,e);d=this.l(a,D.Yx+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",b,c,d,f,e);d=this.l(a," ("+D.je+")","... fix position",b,c,d,f,e);d=this.l(a,D.vs+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",b,c,d,f,e);d=this.l(a," ("+D.je+")","... fix position",b,c,d,f,e);d=this.l(a,D.$x+" <"+G.js+".."+G.$r+">","line width",b,c,d,f,e);d=this.l(a,D.Wx+" <0.0..1.0>","define polygon alpha",b,c,d,f,e);d=this.l(a,D.ay+" <0..> <0..> <0..>",
"generation range / fade",b,c,d,f,e);d=this.l(a,D.Xx+" <0..359>","polygon angle",b,c,d,f,e);d=this.l(a," ("+D.je+")","... optionally fix angle",b,c,d,f,e);d=this.l(a,D.ey+" D|"+D.Vb,"polygon view distance",b,c,d,f,e);d=this.l(a,D.gy+" MINZOOM MAXZOOM|"+D.Vb,"polygon zoom visilibility",b,c,d,f,e);d=this.l(a,D.by+" DX DY|"+D.je,"polygon move per generation",b,c,d,f,e);d=this.l(a,D.Zx+" ("+D.Vb+")","turn polygon shadow on or off",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[g]=[a.u,"Display"];g+=1;d=this.l(a,
"","Display:",b,c,d,f,e);d=this.l(a,D.Dp+" <"+G.pd+".."+a.Lc+">","set LifeViewer width",b,c,d,f,e);d=this.l(a,D.uo+" <"+G.$h+".."+G.Nq+">","set LifeViewer height",b,c,d,f,e);d=this.l(a,D.Yq+" <"+G.pd+".."+a.Lc+">","set popup width",b,c,d,f,e);d=this.l(a,D.Xq+" <"+G.$h+".."+G.Nq+">","set popup height",b,c,d,f,e);d=this.l(a,D.vp+" "+D.Pd+"<string>"+D.Pd,"set popup window title",b,c,d,f,e);d=this.l(a,D.Dm+" <"+G.hs+".."+G.Zr+">","set number of layers",b,c,d,f,e);d=this.l(a,D.qm+" <"+G.gs.toFixed(1)+
".."+G.sC.toFixed(1)+">","set layer depth",b,c,d,f,e);d=this.l(a,D.Fq+" ("+D.Vb+")","display gridlines",b,c,d,f,e);d=this.l(a,D.Eq+" <0..16>","set major grid line interval",b,c,d,f,e);d=this.l(a,D.nq+" <0.."+(2<a.g.i?1:63)+">","number of age states to draw",b,c,d,f,e);d=this.l(a,D.vo+" <0.."+(2<a.g.i?1:63)+">","number of history states to draw",b,c,d,f,e);d=this.l(a,D.br+" ("+D.Vb+")","display stars",b,c,d,f,e);d=this.l(a,D.ar+" ("+D.Vb+")","display snow",b,c,d,f,e);a.g.ia?(d=this.l(a,D.nv,"hexagonal cells for grid",
b,c,d,f,e),d=this.l(a,D.Js,"offset square cells for grid",b,c,d,f,e)):a.g.aa&&(d=this.l(a,D.iz,"triangular cells for grid",b,c,d,f,e),d=this.l(a,D.Js,"rectangular cells for grid",b,c,d,f,e));d=this.l(a,D.tu,"display cell borders",b,c,d,f,e);d=this.l(a,D.qz,"display cells as icons",b,c,d,f,e);d=this.l(a,D.Vw,"disable menus and hotkeys",b,c,d,f,e);d=this.l(a,D.qv,"hide menus during playback",b,c,d,f,e);d=this.l(a,D.Jy,"show timing information",b,c,d,f,e);d=this.l(a,D.Zu,"extended timing information",
b,c,d,f,e);d=this.l(a,D.Hy,"show generation statistics",b,c,d,f,e);d=this.l(a,D.Iy,"show information bar",b,c,d,f,e);d=this.l(a,D.Tm+" shader","set the cell shader",b,c,d,f,e);d=this.l(a," "+D.$n,"use alive and dead colours",b,c,d,f,e);d=this.l(a," "+D.qq,"use cell age",b,c,d,f,e);d=this.l(a," "+D.cp,"use rainbow colours",b,c,d,f,e);d=this.l(a," "+D.Hm,"use neighbour count colours",b,c,d,f,e);d=this.l(a," "+D.Rq,"same as "+D.Hm,b,c,d,f,e);d=this.l(a,D.ny,"use high quality rendering",b,c,d,f,e);d=
this.l(a,"","",b,c,d,f,e);a.F[g]=[a.u,"Thumb"];g+=1;d=this.l(a,"","Thumbnails:",b,c,d,f,e);d=this.l(a,D.Xy+" ("+D.Vb+")","start at 1/"+a.$b+" size",b,c,d,f,e);d=this.l(a,D.Uy+" <"+G.BC+".."+G.vC+">","set thumbnail divisor",b,c,d,f,e);d=this.l(a,D.Ty+" ("+D.Vb+")","thumbnail launches viewer",b,c,d,f,e);d=this.l(a,D.Wy+" <"+Number(-1/G.Fb).toFixed(1)+".."+G.Qb.toFixed(1)+">","set thumbnail zoom",b,c,d,f,e);d=this.l(a,D.Vy,"start playback on thumbnail expand",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[g]=
[a.u,"Graph"];g+=1;d=this.l(a,"","Population Graph:",b,c,d,f,e);d=this.l(a,D.Or,"display population graph",b,c,d,f,e);d=this.l(a,D.gv+" <0.0..1.0>","population graph opacity",b,c,d,f,e);d=this.l(a,D.hv,"population graph use points",b,c,d,f,e);d=this.l(a,D.os,"disable population graph",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[g]=[a.u,"Colours"];g+=1;d=this.l(a,"","Colours:",b,c,d,f,e);a.g.v||a.g.G||a.g.D||a.g.la?d=this.l(a,D.tb+" "+D.rp+" R G B","set background color",b,c,d,f,e):(d=this.l(a,D.pk+
" <0.."+(a.g.Tb-1)+">|name","set theme",b,c,d,f,e),d=this.l(a," name = "+D.sp,"set custom theme",b,c,d,f,e),d=this.l(a,D.tb+" "+D.rp+" R G B","set theme background",b,c,d,f,e),a.g.s||(d=this.l(a,D.tb+" "+D.qp+" R G B","set theme alive color",b,c,d,f,e),2>=a.g.i&&(d=this.l(a,D.tb+" "+D.fr+" R G B","set theme alive ramp",b,c,d,f,e))),d=this.l(a,D.tb+" "+D.up+" R G B","set theme dead color",b,c,d,f,e),d=this.l(a,D.tb+" "+D.tp+" R G B","set theme dead ramp",b,c,d,f,e),!a.g.s&&2<a.g.i&&(d=this.l(a,D.tb+
" "+D.hr+" R G B","set theme dying color",b,c,d,f,e),d=this.l(a,D.tb+" "+D.gr+" R G B","set theme dying ramp",b,c,d,f,e)));d=this.l(a,D.tb+" "+D.SA+" R G B","set boundary color",b,c,d,f,e);d=this.l(a,D.tb+" <0.."+(-1===a.g.i?a.g.P?"6":"1":String(a.g.i-1))+"> R G B","set state color",b,c,d,f,e);a.g.P&&(d=this.l(a,D.tb+" "+D.ex+" R G B","set [R]History state color "+G.EJ,b,c,d,f,e),d=this.l(a,D.tb+" "+D.ix+" R G B","set [R]History state color "+G.FJ,b,c,d,f,e),d=this.l(a,D.tb+" "+D.rv+" R G B","set [R]History state color "+
G.jI,b,c,d,f,e),d=this.l(a,D.tb+" "+D.Yv+" R G B","set [R]History state color "+G.nC,b,c,d,f,e),d=this.l(a,D.tb+" "+D.$v+" R G B","set [R]History state color "+G.pC,b,c,d,f,e),d=this.l(a,D.tb+" "+D.Zv+" R G B","set [R]History state color "+G.oC,b,c,d,f,e),d=this.l(a,D.tb+" "+D.Cv+" R G B","set [R]History state color "+G.gC,b,c,d,f,e));a.g.s&&(d=this.l(a,D.tb+" N*E*S*W* R G B","set PCA state color",b,c,d,f,e));if(a.g.D)for(k=0;k<a.jf.length;k+=1)if(void 0!==a.jf[k]){var l=a.jf[k];var m=a.LA(l);if(0<=
a.sq(l)||a.$B(l)||a.cL(l)||a.eC(l)||a.SB(l))l='"'+l+'"';d=this.l(a,D.tb+" "+l+" R G B","set state "+m+" color ",b,c,d,f,e)}d=this.l(a,D.tb+" "+D.uu+" R G B","set bounded color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.ID+" R G B","set select color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.Dj+" R G B","set paste color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.JD+" R G B","set selected cells color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.Fq+" R G B","set grid color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.Eq+" R G B","set grid major color",
b,c,d,f,e);d=this.l(a,D.tb+" "+D.br+" R G B","set star color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.ar+" R G B","set snow color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.Ry+" R G B","set waypoint message color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.Wu+" R G B","set error message color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.mv+" R G B","set help message color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.VB+" R G B","set graph background color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.UB+" R G B","set graph axis color",b,c,d,f,e);d=this.l(a,
D.tb+" "+D.TB+" R G B","set graph alive color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.WB+" R G B","set graph birth color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.XB+" R G B","set graph death color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.Kq+" R G B","set label text color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.oq+" R G B","set arrow line color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.vD+" R G B","set polygon color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.cE+" R G B","set UI foreground color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.aE+" R G B",
"set UI background color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.dE+" R G B","set UI highlight text color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.fE+" R G B","set UI selected color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.eE+" R G B","set UI locked color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.bE+" R G B","set UI border color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.XD+" R G B","set title bar color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.VD+" R G B","set title bar background color",b,c,d,f,e);d=this.l(a,D.tb+" "+D.XA+" R G B","set close button color",
b,c,d,f,e);d=this.l(a,D.tb+" "+D.WA+" R G B","set close button background color",b,c,d,f,e);d=this.l(a,D.Bu,"same as "+D.tb,b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[g]=[a.u,"Pattern"];g+=1;d=this.l(a,"","Pattern:",b,c,d,f,e);d=this.l(a,D.tt+" <-"+(a.g.fa>>1)+".."+(a.g.fa>>1)+">","set pattern x offset",b,c,d,f,e);d=this.l(a,D.ut+" <-"+(a.g.fa>>1)+".."+(a.g.fa>>1)+">","set pattern y offset",b,c,d,f,e);d=this.l(a,D.Su+" <"+G.wC+".."+G.rC+">","set boundary delete range",b,c,d,f,e);d=this.l(a,D.Uw,"disable pattern source copy",
b,c,d,f,e);d=this.l(a,D.Zw,"hide pattern source",b,c,d,f,e);d=this.l(a,D.Yr+" <"+G.xC+".."+G.aw+">","set maximum grid size 2^n",b,c,d,f,e);d=this.l(a,D.ep+" name X Y (<1..>)+","create a named recipe",b,c,d,f,e);d=this.l(a,D.Rm+" name rle|"+D.fi+" W H","create a named set of cells",b,c,d,f,e);d=this.l(a," (X Y) (TRANS)","... X Y and transformation",b,c,d,f,e);d=this.l(a," "+D.dz,"identity",b,c,d,f,e);d=this.l(a," "+D.az,"flip",b,c,d,f,e);d=this.l(a," "+D.bz,"flip X",b,c,d,f,e);d=this.l(a," "+D.cz,
"flip Y",b,c,d,f,e);d=this.l(a," "+D.gz,"swap X and Y",b,c,d,f,e);d=this.l(a," "+D.hz,"swap X and Y and flip",b,c,d,f,e);d=this.l(a," "+D.fz,"rotate clockwise",b,c,d,f,e);d=this.l(a," "+D.ez,"rotate counter-clockwise",b,c,d,f,e);d=this.l(a,D.Dj+" name|rle|"+D.fi+" W H (X Y)","paste cells at optional X Y",b,c,d,f,e);d=this.l(a," (TRANS)","... optional transformation",b,c,d,f,e);d=this.l(a," (XT|YT dp1 dt1 dp2 dt2 ... dpn dtn)","... optional slow salvo definition",b,c,d,f,e);d=this.l(a,D.Tq+" <0..>",
"set paste generation",b,c,d,f,e);d=this.l(a," (recipe|<1..>+)*","... optional delta list",b,c,d,f,e);d=this.l(a,D.Tq+" "+D.wq+" <1..>","set paste interval",b,c,d,f,e);d=this.l(a," (<0..> (<1..>))","... optional start and end",b,c,d,f,e);d=this.l(a,D.jx+" X Y","set position delta for "+D.Tq+" "+D.wq,b,c,d,f,e);d=this.l(a,D.Gx+" <0..15>|mode","set paste mode",b,c,d,f,e);d=this.l(a," 0   0000  "+D.Px,"",b,c,d,f,e);d=this.l(a," 1   0001  "+D.tx,"",b,c,d,f,e);d=this.l(a," 2   0010  "+D.lx,"",b,c,d,f,
e);d=this.l(a," 3   0011  "+D.Kx+"|"+D.ux,"",b,c,d,f,e);d=this.l(a," 4   0100  "+D.nx,"",b,c,d,f,e);d=this.l(a," 5   0101  "+D.Nx,"",b,c,d,f,e);d=this.l(a," 6   0110  "+D.Lx,"",b,c,d,f,e);d=this.l(a," 7   0111  "+D.Fx,"",b,c,d,f,e);d=this.l(a," 8   1000  "+D.yx,"",b,c,d,f,e);d=this.l(a," 9   1001  "+D.Jx,"",b,c,d,f,e);d=this.l(a," 10  1010  "+D.Cx,"",b,c,d,f,e);d=this.l(a," 11  1011  "+D.px,"",b,c,d,f,e);d=this.l(a," 12  1100  "+D.Ax,"",b,c,d,f,e);d=this.l(a," 13  1101  "+D.sx,"",b,c,d,f,e);d=this.l(a,
" 14  1110  "+D.wx,"",b,c,d,f,e);d=this.l(a," 15  1111  "+D.Ex,"",b,c,d,f,e);d=this.l(a,D.Dv,"suppress escaping gliders",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[g]=[a.u,"Randomize"];d=this.l(a,"","Randomize:",b,c,d,f,e);d=this.l(a,D.xy,"create random pattern",b,c,d,f,e);d=this.l(a,D.wy,"create 2-state random pattern",b,c,d,f,e);d=this.l(a,D.ty+" <string>","set random seed",b,c,d,f,e);d=this.l(a,D.vy+" <"+G.Pq+".."+G.es+">","set random pattern width",b,c,d,f,e);d=this.l(a,D.qy+" <"+G.ew+".."+G.ds+
">","set random pattern height",b,c,d,f,e);d=this.l(a,D.py+" <"+G.ks+".."+G.cs+">","set random pattern fill percentage",b,c,d,f,e);d=this.l(a,D.xs+" "+D.je,"keep rule fixed",b,c,d,f,e);a.g.ja||a.g.s?(d=this.l(a,D.sy,"only generate reversible rules",b,c,d,f,e),this.l(a,D.uy,"only generate fixed population rules",b,c,d,f,e)):a.g.Ea||-1!==a.g.Zd||(d=this.l(a,D.xs+" <item> <0..100>","set percentage chance for <item>",b,c,d,f,e),d=this.l(a," "+D.lg,"all conditions",b,c,d,f,e),d=this.l(a," "+D.ws,"all birth conditions",
b,c,d,f,e),d=this.l(a," "+D.zs,"all survival conditions",b,c,d,f,e),d=this.l(a," "+D.ws+"<0..n>","specified birth condition",b,c,d,f,e),this.l(a," "+D.zs+"<0..n>","specified survival condition",b,c,d,f,e))},gK:function(a,b,c,d,f,e){var g,k,l=0,m=0,n=V.Sc.length,q=a.g.pa[a.g.qb],p=0,r=a.h.s;a.u=1;a.pc=!1;a.F=[];a.j[0]=128;a.j[1]=210;a.j[2]=270;a.j[3]=330;a.j[4]=430;a.F[p]=[a.u,"Top"];p+=1;d=this.l(a,"","Information",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[p]=[a.u,"Display"];p+=1;d=this.l(a,"","Display:",
b,c,d,f,e);d=this.l(a,"Size",a.displayWidth+" x "+a.displayHeight,b,c,d,f,e);d=this.l(a,"Scale",a.h.s.toFixed(2),b,c,d,f,e);d=this.l(a,"Pixel Ratio",a.Ug.toFixed(2),b,c,d,f,e);d=this.l(a,"Window Zoom",a.Gc.toFixed(2),b,c,d,f,e);d=this.l(a,"Refresh",V.ic+"Hz "+(V.Zq?"Fixed":"Auto"),b,c,d,f,e);Ja.Lq&&(d=this.l(a,"Limit Width",a.Lc,b,c,d,f,e));var u=a.g.ea;1>u&&(u=-1/u);d=this.l(a,"View","X "+-(a.g.width/2-(a.g.ma+a.g.Ja)|0)+"  Y "+-(a.g.height/2-(a.g.ka+a.g.Aa)|0)+"  Z "+u.toFixed(2)+"  ANGLE "+a.g.angle.toFixed(0),
b,c,d,f,e);u=a.Uj;1>u&&(u=1/u);d=this.l(a,"Saved View","X "+-(a.g.width/2-a.Ca|0)+"  Y "+-(a.g.height/2-a.Mb|0)+"  Z "+u.toFixed(2)+"  ANGLE "+a.Wt.toFixed(0),b,c,d,f,e);d=this.l(a,"Origin","X "+a.g.Ja.toFixed(2)+"  Y "+a.g.Aa.toFixed(2)+"  Z "+a.g.cb.toFixed(3),b,c,d,f,e);var t=a.U?a.Ua?"Multi-State Viewer":"Viewer":a.g.P?"History Player":"Player";t=a.zd?t+" (PopUp)":t+" (InLine)";d=this.l(a,"Type",t,b,c,d,f,e);t=a.g.ia?"Hexagonal":a.g.aa?"Triangular":"Square";d=this.l(a,"Mode",t,b,c,d,f,e);t="Rectangular";
a.g.ia&&!a.g.Fa?t="Hexagonal":a.g.aa&&!a.g.Fa&&(t="Triangular");d=this.l(a,"Cells",t,b,c,d,f,e);d=this.l(a,"Quality",a.g.bd?"High":"Standard",b,c,d,f,e);a.ze&&(d=this.l(a,"Thumbnail","1/"+a.$b,b,c,d,f,e));d=this.l(a,"","",b,c,d,f,e);a.F[p]=[a.u,"Pattern"];p+=1;d=this.l(a,"","Pattern:",b,c,d,f,e);""!==a.cf&&(d=this.l(a,"Name",a.cf,b,c,d,f,e));""!==a.vg&&(d=this.l(a,"Originator",a.vg,b,c,d,f,e));d=this.l(a,"Actual Size",a.v+" x "+a.A,b,c,d,f,e);-999999!==a.Z&&-999999!==a.X&&(d=this.l(a,"Specified",
a.Z+" x "+a.X,b,c,d,f,e));0<a.$c.length&&(d=this.l(a,"Pastes",a.$c.length,b,c,d,f,e),d=this.l(a,"Paste Size",a.qg-a.ng+1+" x "+(a.sg-a.mg+1)+" from ("+a.ng+", "+a.mg+") to ("+a.qg+", "+a.sg+")",b,c,d,f,e),d=this.l(a,"Paste Max T",a.de+(a.Gk?" + "+D.wq:""),b,c,d,f,e));0<a.Vd.length&&(d=this.l(a,"RLEs",a.Vd.length,b,c,d,f,e));0<a.he.length&&(d=this.l(a,"Recipes",a.he.length,b,c,d,f,e));d=this.l(a,"Offset","X "+a.ca+"  Y "+a.fa,b,c,d,f,e);a.Nk&&(d=this.l(a,"CXRLE Gen",a.Ja,b,c,d,f,e));a.na&&(d=this.l(a,
"CXRLE Pos","X "+a.zc+"  Y "+a.bd,b,c,d,f,e));a.Fp&&(d=this.l(a,"Clipped",(0===a.g.$?"Inf":a.g.$)+" x "+(0===a.g.Z?"Inf":a.g.Z)+" "+a.W.Yb(a.g.O),b,c,d,f,e));a.ob?t=a.$:(t=a.$,""===t&&(t="(none)"));if("MAP"===t.substring(0,3)&&89===t.length)for(d=this.l(a,"Rule","MAP",b,c,d,f,e),u=3;89>u;)d=this.l(a,"  "+(u-3),t.substring(u,u+16),b,c,d,f,e),u+=16;else a.pc=!0,d=this.l(a,"Rule",t,b,c,d,f,e),a.pc=!1;""!==a.$a&&(d=this.l(a,"Alias",a.$a,b,c,d,f,e));a.g.D&&(t=null===a.g.Ab?"@TREE ["+a.g.Wj+"]":"@TABLE ["+
a.g.Ic+(0<a.g.th?" / "+a.g.th:"")+"]",t=null===a.g.ua&&null===a.g.ge||!a.g.Gb||-1!==a.g.nb?t+" using standard lookup":t+" using fast lookup",d=this.l(a,"Type",t,b,c,d,f,e),a.g.og()&&a.ob&&(t="",-1===a.g.nb?(u=null===a.g.ge?a.g.ua.length:4*a.g.ge.length,t=(1048576<=u?t+((u>>20)+"Mb"):1024<=u?t+((u>>10)+"Kb"):t+(u+" bytes"))+(" fast lookup created in "+(a.g.Mf/1E3).toFixed(1)+" seconds")):(u=a.g.i,t+="Creating fast lookup ("+(100*a.g.nb/(u*u*u*u*u)|0)+"%)"),d=this.l(a,"Lookup",t,b,c,d,f,e)));d=this.l(a,
"N'hood",a.pq(),b,c,d,f,e);if(a.g.Ea)switch(a.g.ba.type){case 15:u=2*a.g.ba.v+1;for(g=0;g<u;g+=1)t=a.g.ba.U.length>u*u?" "+a.g.ba.U.substring(g*u*2,(g+1)*u*2):" "+a.g.ba.U.substring(g*u,(g+1)*u),d=this.l(a,t,"",b,c,d,f,e);break;case 10:for(u=2*a.g.ba.v+1,g=0;g<u;g+=1){t=" ";for(k=0;k<u;k+=1)t=g===u>>1&&k===u>>1?t+"0":t+(a.g.ba.Im[u-1-g][u-1-k]?"1":"0");d=this.l(a,t,"",b,c,d,f,e)}}t=String(a.Ej);2<a.Ej&&a.Dn!==a.Ej&&(t=a.Dn+" of "+t);d=this.l(a,"States",t,b,c,d,f,e);if(a.Cj)for(g=1;g<a.Ej;g+=1)a.Cj[g]&&
(d=this.l(a,"State "+g,a.Cj[g]+"\t"+a.sh(g),b,c,d,f,e));if(a.g.Vc)if(a.j[1]=200,a.j[2]=280,a.j[3]=360,a.j[4]=440,a.g.Vc[0].yr!==Ha.Cs)d=this.l(a,"Icons",Ha.AK[a.g.Vc[0].yr],b,c,d,f,e);else{d=this.l(a,"Icons","Size\tNumber\tColours\tGrayScale",b,c,d,f,e);for(k=0;k<a.g.Vc.length;k+=1)l=a.g.Vc[k].width,m=a.g.Vc[k].height,t=l+"x"+l+"\t"+m/l+"\t"+a.g.Vc[k].bx+"\t"+(a.g.Vc[k].Pr?"Yes":"No"),d=this.l(a," ",t,b,c,d,f,e);for(k=0;k<m/l;k+=1)this.fK(a,k,a.g.be.width,b,c+a.j[0]*r,d,f,e),t=a.sh(k+1),d=this.l(a,
"Icon "+String(k+1),"      "+t,b,c,d,f,e)}d=this.l(a,"Decoder",a.Pk,b,c,d,f,e);-1!==a.nn&&(d=this.l(a,"Last Bench","gens: "+a.By+"  time: "+a.nn.toFixed(1)+"s  gps: "+(a.By/a.nn).toFixed(1),b,c,d,f,e));d=this.l(a,"","",b,c,d,f,e);if("none"!==a.Eb&&"Empty"!==a.Eb){a.F[p]=[a.u,"Identify"];p+=1;d=this.l(a,"","Identify:",b,c,d,f,e);d=this.l(a,"Type",a.Eb,b,c,d,f,e);d=this.l(a,"Cells",a.ij,b,c,d,f,e);""!==a.g.Ih&&(d=this.l(a,"  T Min/Max",a.g.Ih,b,c,d,f,e));"Oscillator"===a.Eb&&(d=this.l(a,"Active",a.pn,
b,c,d,f,e));d=this.l(a,"Bounding",a.Ik,b,c,d,f,e);""!==a.g.Gh&&(d=this.l(a,"  T Min/Max",a.g.Gh,b,c,d,f,e));"Oscillator"===a.Eb?(d=this.l(a,"Period",a.mj,b,c,d,f,e),d=this.l(a,"Mod",a.lj,b,c,d,f,e)):"Still Life"!==a.Eb&&(d=this.l(a,"Direction",a.Jk,b,c,d,f,e),d=this.l(a,"Period",a.mj,b,c,d,f,e),d=this.l(a,"Mod",a.lj,b,c,d,f,e),d=this.l(a,"Slope",a.Lk,b,c,d,f,e),d=this.l(a,"Speed",a.pj,b,c,d,f,e));"Still Life"!==a.Eb&&-1===a.g.O&&(d=this.l(a,"Heat",a.jj,b,c,d,f,e));if("Oscillator"===a.Eb)if(-1===a.g.O&&
(d=this.l(a,"Temperature",a.sn,b,c,d,f,e)),""===a.Ih)d=this.l(a,"Volatility",a.Lh+" | N/A",b,c,d,f,e);else{d=this.l(a,"Volatility",a.Lh+" | "+a.Ih,b,c,d,f,e);a.j[1]=235;a.j[2]=310;a.j[3]=390;a.j[4]=430;a.j[5]=470;a.j[6]=510;a.j[7]=600;d=this.l(a,"  Period","    Count\t% Total\t% Rotor\tColour",b,c,d,f,e);for(k=a.g.Cc.length-1;0<=k;--k)g=a.g.Cc[k],u=a.g.ub[g],this.bb(a,a.g.Xc[g]>>16,a.g.Xc[g]>>8&255,a.g.Xc[g]&255,b,c+a.j[0]*r,d,f,e),l=this.vb(a.g.Xc[g]>>16,a.g.Xc[g]>>8&255,a.g.Xc[g]&255).trim(),d=
1<g?this.l(a,"  "+g,"    "+u+"\t"+(Math.floor(1E4*u/a.g.Yg)/100).toFixed(2)+"%\t"+(Math.floor(1E4*u/a.g.uj)/100).toFixed(2)+"%\t"+l,b,c,d,f,e):this.l(a,"  "+g,"    "+u+"\t"+(Math.floor(1E4*u/a.g.Yg)/100).toFixed(2)+"%\t\t"+l,b,c,d,f,e);a.g.sl||(d=this.l(a,"  Back","\t\t\t"+this.vb(0,0,0).trim(),b,c,d,f,e));d=this.l(a,"  Frequency","    Count\t% Total\t\tColour",b,c,d,f,e);for(g=a.g.Rj-1;0<=g;--g)u=a.g.qg[g],this.bb(a,a.g.kd[g]>>16,a.g.kd[g]>>8&255,a.g.kd[g]&255,b,c+a.j[0]*r,d,f,e),l=this.vb(a.g.kd[g]>>
16,a.g.kd[g]>>8&255,a.g.kd[g]&255).trim(),k=a.g.Qe[g],d=this.l(a,"  "+u,"    "+k+"\t"+(100*k/a.g.Pj).toFixed(2)+"%\t\t"+l,b,c,d,f,e);a.g.Mb&&(this.bb(a,96,96,96,b,c+a.j[0]*r,d,f,e),d=a.g.G?this.l(a,"  State3","    "+a.g.Mb+"\t\t\t"+this.vb(96,96,96).trim(),b,c,d,f,e):this.l(a,"  State6","    "+a.g.Mb+"\t\t\t"+this.vb(96,96,96).trim(),b,c,d,f,e));this.bb(a,0,0,0,b,c+a.j[0]*r,d,f,e);-1!==a.g.O&&(this.bb(a,128,128,128,b,c+a.j[0]*r,d,f,e),d=this.l(a,"  Bounded","\t\t\t"+this.vb(128,128,128).trim(),b,
c,d,f,e));this.bb(a,80,80,80,b,c+a.j[0]*r,d,f,e);d=this.l(a,"  Grid","\t\t\t"+this.vb(80,80,80).trim(),b,c,d,f,e)}"Still Life"===a.Eb&&(d=this.l(a,"Density",a.qn,b,c,d,f,e));d=this.l(a,"Generation",a.rn,b,c,d,f,e);d=this.l(a,"Time","Period: "+a.g.ij.toFixed(1)+"s   Stats: "+(a.g.jj-a.g.ij).toFixed(1)+"s   Total: "+a.g.jj.toFixed(1)+"s",b,c,d,f,e);d=this.l(a,"Buffer",a.Ky,b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e)}a.F[p]=[a.u,"Grid"];p+=1;d=this.l(a,"","Grid:",b,c,d,f,e);d=this.l(a,"Size",a.g.width+" x "+
a.g.height,b,c,d,f,e);d=this.l(a,"Maximum",a.g.fa+" x "+a.g.fa,b,c,d,f,e);d=this.l(a,"Area",this.LG(a),b,c,d,f,e);d=a.g.D||a.g.G?0!==(a.g.counter&1)?this.l(a,"Tiles",a.g.Cd(a.g.H)+" / "+a.g.Cd(a.g.m),b,c,d,f,e):this.l(a,"Tiles",a.g.Cd(a.g.j)+" / "+a.g.Cd(a.g.m),b,c,d,f,e):0!==(a.g.counter&1)?this.l(a,"Tiles",a.g.Cd(a.g.H)+" / "+a.g.Cd(a.g.wa)+" / "+a.g.Cd(a.g.m),b,c,d,f,e):this.l(a,"Tiles",a.g.Cd(a.g.j)+" / "+a.g.Cd(a.g.wa)+" / "+a.g.Cd(a.g.m),b,c,d,f,e);a.g.yd&&(d=this.l(a,"State6",a.g.Cd(a.g.yd),
b,c,d,f,e));d=this.l(a,"Tile Size","16 x 16",b,c,d,f,e);d=this.l(a,"Generation",a.g.counter,b,c,d,f,e);0!==a.Ja&&(d=this.l(a,"AbsoluteGen",a.g.counter+a.Ja,b,c,d,f,e));a.g.ja&&(d=this.l(a,"MargolusGen",a.g.ac+a.Ja,b,c,d,f,e));a.g.s&&(d=this.l(a,"PCAGen",a.g.ac+a.Ja,b,c,d,f,e));(a.g.ja||a.g.s)&&a.g.Cb&&(k=a.g.yb,a.g.Zb&&(k=!k),d=this.l(a,"Direction",k?"Reverse":"Forward",b,c,d,f,e));d=this.l(a,"DeleteRange",a.g.tf,b,c,d,f,e);a.g.ud&&(d=this.l(a,"KillGliders",a.g.Ug,b,c,d,f,e));d=this.l(a,"","",b,c,
d,f,e);-1!==a.g.O&&(a.F[p]=[a.u,"Bounded"],p+=1,d=this.l(a,"","Bounded grid:",b,c,d,f,e),d=this.l(a,"Type",a.W.Yb(a.g.O),b,c,d,f,e),d=0===a.g.$?this.l(a,"Width","Infinite",b,c,d,f,e):this.l(a,"Width",a.g.$,b,c,d,f,e),4!==a.g.O?(d=0===a.g.Z?this.l(a,"Height","Infinite",b,c,d,f,e):this.l(a,"Height",a.g.Z,b,c,d,f,e),2===a.g.O&&(d=a.g.xg?this.l(a,"Twist","Horizontal",b,c,d,f,e):this.l(a,"Twist","Vertical",b,c,d,f,e)),0!==a.g.ne&&(d=this.l(a,"H'Shift",a.g.ne,b,c,d,f,e)),0!==a.g.oe&&(d=this.l(a,"V'Shift",
a.g.oe,b,c,d,f,e))):d=a.g.yg?this.l(a,"Axis","Top Left",b,c,d,f,e):this.l(a,"Axis","Top Right",b,c,d,f,e),d=this.l(a,"","",b,c,d,f,e));a.F[p]=[a.u,"AutoFit"];p+=1;d=this.l(a,"","AutoFit:",b,c,d,f,e);d=this.l(a,"Enabled",a.ka?"On":"Off",b,c,d,f,e);d=this.l(a,"Mode",this.OG(a),b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[p]=[a.u,"Track"];p+=1;d=this.l(a,"","Track:",b,c,d,f,e);d=this.l(a,"Enabled",a.sb&&!a.Ob?"On":"Off",b,c,d,f,e);a.sb&&(a.wi?(d=this.l(a,"Mode","Track Box",b,c,d,f,e),d=this.l(a,"Definition",
"E "+a.Pg.toFixed(3)+"  S "+a.Rg.toFixed(3)+"  W "+a.yi.toFixed(3)+"  N "+a.xi.toFixed(3),b,c,d,f,e)):(d=this.l(a,"Mode","Track",b,c,d,f,e),d=this.l(a,"Definition","X "+a.Pg.toFixed(3)+"  Y "+a.Rg.toFixed(3),b,c,d,f,e)));d=this.l(a,"Current","E "+a.gn.toFixed(3)+"  S "+a.ao.toFixed(3)+"  W "+a.co.toFixed(3)+"  N "+a.Yn.toFixed(3),b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[p]=[a.u,"Undo/Redo"];p+=1;d=this.l(a,"","Undo/Redo:",b,c,d,f,e);d=this.l(a,"Enabled",a.Ab?"Off":"On",b,c,d,f,e);if(!a.Ab)for(d=
this.l(a,"Snapshots",a.g.fd.aa()+"/"+a.g.fd.j.length,b,c,d,f,e),d=this.l(a,"Buffer",(a.g.fd.U()>>10)+"K",b,c,d,f,e),d=this.l(a,"Next Gen",a.g.Lf,b,c,d,f,e),d=this.l(a,"Undo",a.pa,b,c,d,f,e),d=this.l(a,"Redo",a.Nh-a.pa,b,c,d,f,e),g=0;g<G.Bj;g+=1)null!==a.hb[g]&&(d=this.l(a,"Clip "+g+(g===a.Hb?"*":""),a.hb[g].width+" x "+a.hb[g].height,b,c,d,f,e));d=this.l(a,"","",b,c,d,f,e);a.F[p]=[a.u,"Engine"];p+=1;d=this.l(a,"","Engine:",b,c,d,f,e);d=this.l(a,"Name",G.po,b,c,d,f,e);d=this.l(a,"Edition",V.S?G.ky:
G.OD,b,c,d,f,e);d=this.l(a,"Build",G.Xs,b,c,d,f,e);V.S&&(d=this.l(a,"WASM",a.i?"On":"Off",b,c,d,f,e));d=this.l(a,"Author",G.jE,b,c,d,f,e);d=this.l(a,"Decoders","RLE, Life 1.06, Life 1.05, Cells",b,c,d,f,e);d=this.l(a,"N'hoods","Moore, Hexagonal, von Neumann, Triangular, 1D,",b,c,d,f,e);d=this.l(a," ","Circular, Cross, L2, Saltire, Star, Checkerboard,",b,c,d,f,e);d=this.l(a," ","Aligned Checkerboard, Hash, Tripod, Asterisk,",b,c,d,f,e);d=this.l(a," ","Far Corners/Edges, Custom (CoordCA),",b,c,d,f,
e);d=this.l(a," ","Gaussian and Weighted",b,c,d,f,e);d=this.l(a,"Rules","Wolfram, Totalistic, Generations, Margolus,",b,c,d,f,e);d=this.l(a," ","Isotropic Non-Totalistic (Hensel, Callahan),",b,c,d,f,e);d=this.l(a," ","Alternating, MAP, Larger than Life (LtL),",b,c,d,f,e);d=this.l(a," ","Higher-range outer-totalistic (HROT),",b,c,d,f,e);d=this.l(a," ","Partitioned cellular automata (PCA),",b,c,d,f,e);d=this.l(a," ","[R]History, [R]Super, [R]Investigator",b,c,d,f,e);d=this.l(a," ","and Non-Deterministic",
b,c,d,f,e);d=this.l(a,"Repository","RuleTable (@TABLE, @TREE, @COLORS,",b,c,d,f,e);d=this.l(a," ","@ICONS and @NAMES)",b,c,d,f,e);d=this.l(a,"BoundedGrid","Plane, Torus, Klein, Cross-surface and Sphere",b,c,d,f,e);d=this.l(a,"Viewers",n,b,c,d,f,e);d=this.l(a,"Playing",V.fL(),b,c,d,f,e);if(Ja.zb){u=V.Ee.length;d=this.l(a,"Universe","Multi ("+(a.Xa+1)+" of "+u+")",b,c,d,f,e);a.pc=!0;for(g=0;g<u;g+=1)d=this.l(a,String(g+1)+(g===a.Xa?"*":""),V.Ee[g].name,b,c,d,f,e),d=this.l(a," ",V.Ee[g].uK,b,c,d,f,e),
d=this.l(a," ",V.Ee[g].width+" x "+V.Ee[g].height,b,c,d,f,e);a.pc=!1}else d=this.l(a,"Universe","Single",b,c,d,f,e);d=this.l(a,"Exclusive",a.Do?"Yes":"No",b,c,d,f,e);d=this.l(a,"IgnorePause",a.Iq?"Yes":"No",b,c,d,f,e);d=this.l(a,"Endian",Qa.jc?"Little":"Big",b,c,d,f,e);d=this.l(a,"ArrayFill",Qa.gu?"Yes":"No",b,c,d,f,e);d=this.l(a,"ArraySlice",Qa.hu?"Yes":"No",b,c,d,f,e);d=this.l(a,"CopyWithin",Qa.copyWithin?"Yes":"No",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.j[1]=300;a.j[2]=380;a.j[3]=460;a.F[p]=
[a.u,"Rule Cache"];p+=1;d=this.l(a,"","Rule Cache:",b,c,d,f,e);d=this.l(a,"Entries",$a.rules.length,b,c,d,f,e);if(0<$a.rules.length)for(d=this.l(a,"Entry","Name\tSize Kb\tFetch\tDecode",b,c,d,f,e),g=0;g<$a.rules.length;g+=1)t=$a.rules[g].name,17<t.length&&(t=t.substring(0,17)+"*"),d=this.l(a,String(g),t+"\t"+($a.fs[g].size>>10)+"\t"+$a.fs[g].fetch+"ms\t"+$a.fs[g].decode+"ms",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.j[1]=210;a.j[2]=270;a.j[3]=330;a.g.D||a.g.G||a.g.v||a.g.la||(a.F[p]=[a.u,"Theme"],
p+=1,d=this.l(a,"","Theme:",b,c,d,f,e),d=this.l(a,"Name",a.g.pa[a.g.qb].name,b,c,d,f,e),d=this.l(a,"History",a.ua,b,c,d,f,e),2>=a.g.i&&(d=this.l(a,"Age",a.He,b,c,d,f,e)),d=this.l(a,"","",b,c,d,f,e));a.F[p]=[a.u,"Cells"];p+=1;d=this.l(a,"","Cells:",b,c,d,f,e);switch(a.g.Wa){case y.gf:t=a.g.pa[a.g.qb].H(a.g.P,a)?"Cell Age":"Basic";break;case y.hf:t="Rainbow";break;case y.Uf:t="Neighbour Count";break;case y.Hf:t="Basic";break;default:t="Unknown"}d=this.l(a,"Shader",t,b,c,d,f,e);this.bb(a,a.g.sa[0],a.g.ra[0],
a.g.qa[0],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Background",this.vb(a.g.sa[0],a.g.ra[0],a.g.qa[0]),b,c,d,f,e);if(a.g.la||a.g.D)for(g=1;g<a.g.i;g+=1)this.bb(a,a.g.sa[g],a.g.ra[g],a.g.qa[g],b,c+a.j[0]*r,d,f,e),d=this.l(a,"State "+g,this.vb(a.g.sa[g],a.g.ra[g],a.g.qa[g]),b,c,d,f,e);else if(a.g.s){for(g=1;16>g;g+=1)k=g+a.ua,this.bb(a,a.g.sa[k],a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e),t="",g&1&&(t+="N"),g&2&&(t+="E"),g&4&&(t+="S"),g&8&&(t+="W"),d=this.l(a,t,this.vb(a.g.sa[k],a.g.ra[k],a.g.qa[k]),b,c,d,f,e);0<
a.ua&&(k=a.ua,this.bb(a,a.g.sa[k],a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Dead",this.vb(a.g.sa[k],a.g.ra[k],a.g.qa[k]),b,c,d,f,e),1<a.ua&&(k=1,q.h.h.h!==q.h.i.h||q.h.h.j!==q.h.i.j||q.h.h.i!==q.h.i.i?(this.bb(a,a.g.sa[k],a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e),d=this.l(a,"DeadRamp",this.vb(a.g.sa[k],a.g.ra[k],a.g.qa[k]),b,c,d,f,e)):d=this.l(a,"DeadRamp","    (none)",b,c,d,f,e)))}else if(2<a.g.i)if(a.g.v||a.g.G)for(g=1;g<a.g.i;g+=1)this.bb(a,a.g.sa[g],a.g.ra[g],a.g.qa[g],b,c+a.j[0]*r,d,
f,e),d=a.g.v?this.l(a,this.RK(g),this.vb(a.g.sa[g],a.g.ra[g],a.g.qa[g]),b,c,d,f,e):this.l(a,this.xH(g),this.vb(a.g.sa[g],a.g.ra[g],a.g.qa[g]),b,c,d,f,e);else{k=a.g.i+a.ua-1;this.bb(a,a.g.sa[k],a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Alive",this.vb(a.g.sa[k],a.g.ra[k],a.g.qa[k]),b,c,d,f,e);for(g=1;g<a.g.i-1;g+=1)k=a.g.i-g+a.ua-1,this.bb(a,a.g.sa[k],a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Dying "+g,this.vb(a.g.sa[k],a.g.ra[k],a.g.qa[k]),b,c,d,f,e);0<a.ua&&(k=a.ua,this.bb(a,a.g.sa[k],
a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Dead",this.vb(a.g.sa[k],a.g.ra[k],a.g.qa[k]),b,c,d,f,e),1<a.ua&&(k=1,q.h.h.h!==q.h.i.h||q.h.h.j!==q.h.i.j||q.h.h.i!==q.h.i.i?(this.bb(a,a.g.sa[k],a.g.ra[k],a.g.qa[k],b,c+a.j[0]*r,d,f,e),d=this.l(a,"DeadRamp",this.vb(a.g.sa[k],a.g.ra[k],a.g.qa[k]),b,c,d,f,e)):d=this.l(a,"DeadRamp","    (none)",b,c,d,f,e)))}else 12===a.g.qb&&a.g.Ea?(q=a.g.pa[11],this.bb(a,q.i.h.h,q.i.h.j,q.i.h.i,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Alive",this.re(q.i.h),b,c,d,f,e),q=a.g.pa[a.g.qb]):
(this.bb(a,q.i.h.h,q.i.h.j,q.i.h.i,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Alive",this.re(q.i.h),b,c,d,f,e),0<a.He&&a.g.pa[a.g.qb].H(a.g.P,a)&&a.g.Wa!==y.Hf&&(q.i.h.h!==q.i.i.h||q.i.h.j!==q.i.i.j||q.i.h.i!==q.i.i.i?(this.bb(a,q.i.i.h,q.i.i.j,q.i.i.i,b,c+a.j[0]*r,d,f,e),d=this.l(a,"AliveRamp",this.re(q.i.i),b,c,d,f,e)):d=this.l(a,"AliveRamp","    (none)",b,c,d,f,e))),0<a.ua&&a.g.pa[a.g.qb].H(a.g.P,a)&&a.g.Wa!==y.Hf&&(this.bb(a,q.h.i.h,q.h.i.j,q.h.i.i,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Dead",this.re(q.h.i),b,
c,d,f,e),1<a.ua&&(q.h.h.h!==q.h.i.h||q.h.h.j!==q.h.i.j||q.h.h.i!==q.h.i.i?(this.bb(a,q.h.h.h,q.h.h.j,q.h.h.i,b,c+a.j[0]*r,d,f,e),d=this.l(a,"DeadRamp",this.re(q.h.h),b,c,d,f,e)):d=this.l(a,"DeadRamp","    (none)",b,c,d,f,e)));if(a.g.P)for(g=3;6>=g;g+=1)u=128+G.pb[g],l=this.vb(a.g.sa[u],a.g.ra[u],a.g.qa[u]),t=G.jf[g],this.bb(a,a.g.sa[u],a.g.ra[u],a.g.qa[u],b,c+a.j[0]*r,d,f,e),d=this.l(a,t,l,b,c,d,f,e);-1!==a.g.O&&(256>a.g.i+a.g.u?(this.bb(a,a.Mf[0],a.Mf[1],a.Mf[2],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Bounded",
this.vb(a.Mf[0],a.Mf[1],a.Mf[2]),b,c,d,f,e)):(this.bb(a,a.g.sa[2],a.g.ra[2],a.g.qa[2],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Bounded*",this.vb(a.g.sa[2],a.g.ra[2],a.g.qa[2]),b,c,d,f,e)));this.bb(a,a.Hd[0],a.Hd[1],a.Hd[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Boundary",this.vb(a.Hd[0],a.Hd[1],a.Hd[2]),b,c,d,f,e);d=this.l(a,"Borders",a.g.jb?"On":"Off",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[p]=[a.u,"Gridlines"];p+=1;d=this.l(a,"","Gridlines:",b,c,d,f,e);t=a.g.Za?"On":"Off";a.g.Za&&!a.g.ze()&&(t+=" (Hidden)");
d=this.l(a,"Enabled",t,b,c,d,f,e);1!==a.g.lb&&(this.bb(a,a.g.Ob>>16,a.g.Ob>>8&255,a.g.Ob&255,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Line Color",this.vb(a.g.Ob>>16,a.g.Ob>>8&255,a.g.Ob&255),b,c,d,f,e));0<a.g.lb&&(this.bb(a,a.g.Dc>>16,a.g.Dc>>8&255,a.g.Dc&255,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Major Color",this.vb(a.g.Dc>>16,a.g.Dc>>8&255,a.g.Dc&255),b,c,d,f,e));t=0<a.g.lb&&a.g.Ec?String(a.g.lb):"Off";d=this.l(a,"Interval",t,b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[p]=[a.u,"UI"];d=this.l(a,"","UI:",b,c,d,f,
e);p+=1;u=a.wc[G.Fr];-1===u&&(u=16777215);this.bb(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Foreground",this.vb(u>>16,u>>8&255,u&255),b,c,d,f,e);u=a.wc[G.Dr];-1===u&&(u=0);this.bb(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Background",this.vb(u>>16,u>>8&255,u&255),b,c,d,f,e);u=a.wc[G.Gr];-1===u&&(u=61472);this.bb(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Highlight",this.vb(u>>16,u>>8&255,u&255),b,c,d,f,e);u=a.wc[G.Ir];-1===u&&(u=255);this.bb(a,u>>16,u>>8&255,
u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Selected",this.vb(u>>16,u>>8&255,u&255),b,c,d,f,e);u=a.wc[G.Hr];-1===u&&(u=8421504);this.bb(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Locked",this.vb(u>>16,u>>8&255,u&255),b,c,d,f,e);u=a.wc[G.Er];-1===u&&(u=16777215);this.bb(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Border",this.vb(u>>16,u>>8&255,u&255),b,c,d,f,e);a.Xc?(this.bb(a,a.Xc[0],a.Xc[1],a.Xc[2],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Text*",this.vb(a.Xc[0],a.Xc[1],a.Xc[2]),b,c,d,f,e)):
(this.bb(a,255,255,255,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Text",this.vb(255,255,255),b,c,d,f,e));a.Wc?(this.bb(a,a.Wc[0],a.Wc[1],a.Wc[2],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Error*",this.vb(a.Wc[0],a.Wc[1],a.Wc[2]),b,c,d,f,e)):(this.bb(a,255,48,48,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Error",this.vb(255,96,96),b,c,d,f,e));a.Ke?(this.bb(a,a.Ke[0],a.Ke[1],a.Ke[2],b,c+a.j[0]*r,d,f,e),d=this.l(a,"Help*",this.vb(a.Ke[0],a.Ke[1],a.Ke[2]),b,c,d,f,e)):(this.bb(a,32,255,255,b,c+a.j[0]*r,d,f,e),d=this.l(a,"Help",this.vb(32,
255,255),b,c,d,f,e));a.zd&&(u=a.wc[G.Nu],-1===u&&(u=Number("0x"+a.WD.substring(1))),this.bb(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e),d=this.l(a,"TitleFG",this.vb(u>>16,u>>8&255,u&255),b,c,d,f,e),u=a.wc[G.Mu],-1===u&&(u=Number("0x"+a.UD.substring(1))),this.bb(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e),d=this.l(a,"TitleBG",this.vb(u>>16,u>>8&255,u&255),b,c,d,f,e),u=a.wc[G.Hu],-1===u&&(u=Number("0x"+a.xu.substring(1))),this.bb(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e),d=this.l(a,"CloseFG",this.vb(u>>
16,u>>8&255,u&255),b,c,d,f,e),u=a.wc[G.Gu],-1===u&&(u=Number("0x"+a.wu.substring(1))),this.bb(a,u>>16,u>>8&255,u&255,b,c+a.j[0]*r,d,f,e),d=this.l(a,"CloseBG",this.vb(u>>16,u>>8&255,u&255),b,c,d,f,e));d=this.l(a,"","",b,c,d,f,e);a.F[p]=[a.u,"Selection"];p+=1;d=this.l(a,"","Selection Boxes:",b,c,d,f,e);this.bb(a,a.Xf[0],a.Xf[1],a.Xf[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Selection",this.vb(a.Xf[0],a.Xf[1],a.Xf[2]),b,c,d,f,e);this.bb(a,a.Nf[0],a.Nf[1],a.Nf[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Paste Box",this.vb(a.Nf[0],
a.Nf[1],a.Nf[2]),b,c,d,f,e);this.bb(a,a.Yf[0],a.Yf[1],a.Yf[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Paste Cell",this.vb(a.Yf[0],a.Yf[1],a.Yf[2]),b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[p]=[a.u,"Graph"];p+=1;d=this.l(a,"","Population Graph:",b,c,d,f,e);d=this.l(a,"Enabled",a.Ga?"On":"Off",b,c,d,f,e);d=this.l(a,"Disabled",a.bc?"On":"Off",b,c,d,f,e);d=this.l(a,"Mode",a.td?"Lines":"Points",b,c,d,f,e);-1===a.g.O?(n="",a.vh&&(n="Population"),a.th&&(n=""===n?"Births":n+", Births"),a.uh&&(n=""===n?"Deaths":
n+", Deaths"),""===n&&(n="<none>")):n="Population";d=this.l(a,"Data",n,b,c,d,f,e);d=this.l(a,"Opacity",a.jb.toFixed(2),b,c,d,f,e);this.bb(a,a.g.Md[0],a.g.Md[1],a.g.Md[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Bg Color",this.vb(a.g.Md[0],a.g.Md[1],a.g.Md[2]),b,c,d,f,e);this.bb(a,a.g.Ld[0],a.g.Ld[1],a.g.Ld[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Axis Color",this.vb(a.g.Ld[0],a.g.Ld[1],a.g.Ld[2]),b,c,d,f,e);this.bb(a,a.g.Kd[0],a.g.Kd[1],a.g.Kd[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Alive Color",this.vb(a.g.Kd[0],a.g.Kd[1],
a.g.Kd[2]),b,c,d,f,e);this.bb(a,a.g.Nd[0],a.g.Nd[1],a.g.Nd[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Birth Color",this.vb(a.g.Nd[0],a.g.Nd[1],a.g.Nd[2]),b,c,d,f,e);this.bb(a,a.g.Od[0],a.g.Od[1],a.g.Od[2],b,c+a.j[0]*r,d,f,e);d=this.l(a,"Death Color",this.vb(a.g.Od[0],a.g.Od[1],a.g.Od[2]),b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[p]=[a.u,"Stars"];p+=1;d=this.l(a,"","Stars:",b,c,d,f,e);d=this.l(a,"Enabled",a.Mc?"On":"Off",b,c,d,f,e);this.bb(a,a.Wd.h.h,a.Wd.h.j,a.Wd.h.i,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Color",
this.re(a.Wd.h),b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[p]=[a.u,"Snow"];p+=1;d=this.l(a,"","Snow:",b,c,d,f,e);d=this.l(a,"Enabled",a.dh?a.dn?"On":"Secret":"Off",b,c,d,f,e);this.bb(a,a.wf>>16,a.wf>>8&255,a.wf&255,b,c+a.j[0]*r,d,f,e);d=this.l(a,"Color",this.vb(a.wf>>16,a.wf>>8&255,a.wf&255),b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);a.F[p]=[a.u,"Randomize"];p+=1;d=this.l(a,"","Randomize:",b,c,d,f,e);d=this.l(a,"Pattern",a.Km?"On":"Off",b,c,d,f,e);d=this.l(a,"States",a.Gm?"2":"All",b,c,d,f,e);d=this.l(a,
"Custom Seed",a.Nt?"On":"Off",b,c,d,f,e);d=this.l(a,"Seed",a.Lj,b,c,d,f,e);d=this.l(a,"Width",a.Em,b,c,d,f,e);d=this.l(a,"Height",a.zm,b,c,d,f,e);d=this.l(a,"Fill",a.Jj+"%",b,c,d,f,e);d=this.l(a,"Rule Fixed",a.Cm?"Yes":"No",b,c,d,f,e);if(!a.Cm)if(a.g.ja||a.g.s)d=this.l(a,"Reversible",a.Nn?"Only":"Any",b,c,d,f,e),d=this.l(a,"FixedPop",a.Pn?"Yes":"No",b,c,d,f,e);else if(!a.g.Ea&&-1===a.g.Zd){if(-1===a.kf&&-1===a.wg){d=this.l(a,"Chance ALL"+(-1===a.ef?"*":""),-1===a.ef?"50%":a.ef+"%",b,c,d,f,e);k=!1;
for(g=0;g<a.cd.length;g+=2)0===a.cd[g]&&(k=!0);k||(d=this.l(a,"Chance B0*","25%",b,c,d,f,e))}else d=this.l(a,"Chance B"+(-1===a.kf?"*":""),-1===a.kf?"50%":a.kf+"%",b,c,d,f,e),d=this.l(a,"Chance S"+(-1===a.wg?"*":""),-1===a.wg?"50%":a.wg+"%",b,c,d,f,e);for(g=0;g<a.cd.length;g+=2)d=this.l(a,"Chance B"+a.cd[g],a.cd[g+1]+"%",b,c,d,f,e);for(g=0;g<a.Td.length;g+=2)d=this.l(a,"Chance S"+a.Td[g],a.Td[g+1]+"%",b,c,d,f,e)}d=this.l(a,"","",b,c,d,f,e);a.F[p]=[a.u,"Script"];p+=1;d=this.l(a,"","Script:",b,c,d,
f,e);d=this.l(a,"Commands",a.Oh,b,c,d,f,e);d=this.l(a,"Errors",a.Dz,b,c,d,f,e);if(a.Da)for(d=this.l(a,"","",b,c,d,f,e),a.F[p]=[a.u,"Waypoints"],p+=1,d=this.l(a,"","Waypoints:",b,c,d,f,e),d=this.l(a,"Enabled",a.ub?"Off":"On",b,c,d,f,e),d=this.l(a,"Number",a.s.h.length,b,c,d,f,e),g=0;g<a.s.h.length;g+=1)t=String(g),g===a.s.v&&(t=a.s.U(a.elapsedTime)?t+">":t+"*"),d=this.l(a,t,a.s.jb(g,D.Pd),b,c,d,f,e);if(a.s.i.length)for(d=this.l(a,"","",b,c,d,f,e),a.F[p]=[a.u,"POIs"],d=this.l(a,"","Points of interest:",
b,c,d,f,e),d=this.l(a,"Number",a.s.i.length,b,c,d,f,e),g=0;g<a.s.i.length;g+=1)t=String(g+1),g===a.Jc&&(t+="*"),g===a.bh&&(t+=" INITIAL"),k=!1,n=a.s.Ga(g),""!==n&&(d=this.l(a,k?" ":t,(k?"  ":"")+n,b,c,d,f,e),k=!0),n=a.s.Pa(g),""!==n&&(d=this.l(a,k?" ":t,(k?"  ":"")+n,b,c,d,f,e),k=!0),n=a.s.Ia(g),""!==n&&(d=this.l(a,k?" ":t,(k?"  ":"")+n,b,c,d,f,e),k=!0),n=a.s.Fa(g),""!==n&&(d=this.l(a,k?" ":t,(k?"  ":"")+n,b,c,d,f,e),k=!0),n=a.s.La(g),""!==n&&(d=this.l(a,k?" ":t,(k?"  ":"")+n,b,c,d,f,e),k=!0),n=a.s.Ja(g,
D.Pd),""!==n&&(d=this.l(a,k?" ":t,(k?"  ":"")+n,b,c,d,f,e))},mK:function(a,b,c,d,f,e){var g,k,l=0,m=a.h.s;a.u=1;a.pc=!1;a.F=[];a.j[0]=130;a.j[1]=200;a.j[2]=250;a.j[3]=300;a.j[4]=390;a.F[l]=[a.u,"Top"];l+=1;d=this.l(a,"","Themes",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);d=this.l(a,"","Themes are used to provide a visual representation of",b,c,d,f,e);d=this.l(a,"","cell history and longevity and also define grid colours",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);d=this.l(a,"","Grid:",b,c,d,f,e);d=this.l(a,
"GRID","grid line colour",b,c,d,f,e);d=this.l(a,"GRIDMAJOR","major grid line colour and interval",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);if(2>=a.g.i)for(d=this.l(a,"","Two-state Themes:",b,c,d,f,e),d=this.l(a,"BACKGROUND","cell never occupied",b,c,d,f,e),d=this.l(a,"ALIVE","cell just born",b,c,d,f,e),d=this.l(a,"ALIVERAMP","cell alive for several generations",b,c,d,f,e),d=this.l(a,"DEAD","cell just died",b,c,d,f,e),d=this.l(a,"DEADRAMP","cell dead for several generations",b,c,d,f,e),d=this.l(a,"",
"",b,c,d,f,e),d=this.l(a,"",a.He+" ("+D.nq+") states from ALIVE to ALIVERAMP",b,c,d,f,e),d=this.l(a,"",a.ua+" ("+D.vo+") states from DEAD to DEADRAMP",b,c,d,f,e),g=0;g<a.g.pa.length-1;g+=1){d=this.l(a,"","",b,c,d,f,e);var n=a.g.pa[g];a.F[l]=[a.u,n.name];l+=1;d=this.l(a,"Name"+(g===a.g.qb&&2>=a.g.i?"*":""),n.name,b,c,d,f,e);this.bb(a,n.v.h,n.v.j,n.v.i,b,c+a.j[0]*m,d,f,e);d=this.l(a,"BACKGROUND",this.re(n.v),b,c,d,f,e);if(12===g&&a.g.Ea)n=a.g.pa[11],this.bb(a,n.i.h.h,n.i.h.j,n.i.h.i,b,c+a.j[0]*m,d,
f,e),d=this.l(a,"ALIVE",this.re(n.i.h),b,c,d,f,e),n=a.g.pa[g];else if(this.bb(a,n.i.h.h,n.i.h.j,n.i.h.i,b,c+a.j[0]*m,d,f,e),d=this.l(a,"ALIVE",this.re(n.i.h),b,c,d,f,e),n.i.h.h!==n.i.i.h||n.i.h.j!==n.i.i.j||n.i.h.i!==n.i.i.i)this.bb(a,n.i.i.h,n.i.i.j,n.i.i.i,b,c+a.j[0]*m,d,f,e),d=this.l(a,"ALIVERAMP",this.re(n.i.i),b,c,d,f,e);this.bb(a,n.h.i.h,n.h.i.j,n.h.i.i,b,c+a.j[0]*m,d,f,e);d=this.l(a,"DEAD",this.re(n.h.i),b,c,d,f,e);if(n.h.h.h!==n.h.i.h||n.h.h.j!==n.h.i.j||n.h.h.i!==n.h.i.i)this.bb(a,n.h.h.h,
n.h.h.j,n.h.h.i,b,c+a.j[0]*m,d,f,e),d=this.l(a,"DEADRAMP",this.re(n.h.h),b,c,d,f,e);this.bb(a,n.s>>16,n.s>>8&255,n.s&255,b,c+a.j[0]*m,d,f,e);d=this.l(a,"GRID",this.vb(n.s>>16,n.s>>8&255,n.s&255),b,c,d,f,e);0<n.B&&(this.bb(a,n.u>>16,n.u>>8&255,n.u&255,b,c+a.j[0]*m,d,f,e),d=this.l(a,"GRIDMAJOR",this.vb(n.u>>16,n.u>>8&255,n.u&255),b,c,d,f,e));d=a.g.ja&&0<n.B?this.l(a,"GRIDMAJOR",2,b,c,d,f,e):this.l(a,"GRIDMAJOR",n.B,b,c,d,f,e)}else if(a.g.s)for(d=this.l(a,"","PCA Themes:",b,c,d,f,e),d=this.l(a,"BACKGROUND",
"cell never occupied",b,c,d,f,e),d=this.l(a,"DEAD","cell just died",b,c,d,f,e),d=this.l(a,"DEADRAMP","cell dead for several generations",b,c,d,f,e),d=this.l(a,"","",b,c,d,f,e),d=this.l(a,"",a.ua+" ("+D.vo+") states from DEAD to DEADRAMP",b,c,d,f,e),g=0;g<a.g.pa.length-1;g+=1){d=this.l(a,"","",b,c,d,f,e);n=a.g.pa[g];a.F[l]=[a.u,n.name];l+=1;d=this.l(a,"Name"+(g===a.g.qb?"*":""),n.name,b,c,d,f,e);this.bb(a,n.v.h,n.v.j,n.v.i,b,c+a.j[0]*m,d,f,e);d=this.l(a,"BACKGROUND",this.re(n.v),b,c,d,f,e);for(k=1;16>
k;k+=1){this.bb(a,n.D[k-1].h,n.D[k-1].j,n.D[k-1].i,b,c+a.j[0]*m,d,f,e);var q="";k&1&&(q+="N");k&2&&(q+="E");k&4&&(q+="S");k&8&&(q+="W");d=this.l(a,q,this.vb(n.D[k-1].h,n.D[k-1].j,n.D[k-1].i),b,c,d,f,e)}this.bb(a,n.j.i.h,n.j.i.j,n.j.i.i,b,c+a.j[0]*m,d,f,e);d=this.l(a,"DEAD",this.re(n.j.i),b,c,d,f,e);if(n.j.h.h!==n.j.i.h||n.j.h.j!==n.j.i.j||n.j.h.i!==n.j.i.i)this.bb(a,n.j.h.h,n.j.h.j,n.j.h.i,b,c+a.j[0]*m,d,f,e),d=this.l(a,"DEADRAMP",this.re(n.j.h),b,c,d,f,e);this.bb(a,n.s>>16,n.s>>8&255,n.s&255,b,c+
a.j[0]*m,d,f,e);d=this.l(a,"GRID",this.vb(n.s>>16,n.s>>8&255,n.s&255),b,c,d,f,e);0<n.B&&(this.bb(a,n.u>>16,n.u>>8&255,n.u&255,b,c+a.j[0]*m,d,f,e),d=this.l(a,"GRIDMAJOR",this.vb(n.u>>16,n.u>>8&255,n.u&255),b,c,d,f,e));d=this.l(a,"GRIDMAJOR",n.B,b,c,d,f,e)}else for(d=this.l(a,"","Multi-state Themes:",b,c,d,f,e),d=this.l(a,"BACKGROUND","cell never occupied",b,c,d,f,e),d=this.l(a,"ALIVE","cell alive",b,c,d,f,e),d=this.l(a,"DYING","cell just starting dying",b,c,d,f,e),d=this.l(a,"DYINGRAMP","cell about to die",
b,c,d,f,e),d=this.l(a,"DEAD","cell just died",b,c,d,f,e),d=this.l(a,"DEADRAMP","cell dead for several generations",b,c,d,f,e),d=this.l(a,"","",b,c,d,f,e),d=this.l(a,"","Rule defines "+(2>a.g.i?"":String(a.g.i-1)+" ")+"states from DYING to DYINGRAMP",b,c,d,f,e),d=this.l(a,"",a.ua+" (HISTORYSTATES) states from DEAD to DEADRAMP",b,c,d,f,e),g=0;g<a.g.pa.length-1;g+=1)d=this.l(a,"","",b,c,d,f,e),n=a.g.pa[g],a.F[l]=[a.u,n.name],l+=1,d=this.l(a,"Name"+(g===a.g.qb&&2<a.g.i?"*":""),n.name,b,c,d,f,e),this.bb(a,
n.F.h,n.F.j,n.F.i,b,c+a.j[0]*m,d,f,e),d=this.l(a,"BACKGROUND",this.re(n.F),b,c,d,f,e),12===g&&a.g.Ea&&(n=a.g.pa[11]),this.bb(a,n.A.h,n.A.j,n.A.i,b,c+a.j[0]*m,d,f,e),d=this.l(a,"ALIVE",this.re(n.A),b,c,d,f,e),3===a.g.i?(this.bb(a,n.m.h.h,n.m.h.j,n.m.h.i,b,c+a.j[0]*m,d,f,e),d=this.l(a,"DYING",this.re(n.m.h),b,c,d,f,e)):(this.bb(a,n.m.i.h,n.m.i.j,n.m.i.i,b,c+a.j[0]*m,d,f,e),d=this.l(a,"DYING",this.re(n.m.i),b,c,d,f,e),3<a.g.i&&(n.m.h.h!==n.m.i.h||n.m.h.j!==n.m.i.j||n.m.h.i!==n.m.i.i)&&(this.bb(a,n.m.h.h,
n.m.h.j,n.m.h.i,b,c+a.j[0]*m,d,f,e),d=this.l(a,"DYINGRAMP",this.re(n.m.h),b,c,d,f,e))),12===g&&a.g.Ea&&(n=a.g.pa[12]),255>a.g.i&&(this.bb(a,n.j.i.h,n.j.i.j,n.j.i.i,b,c+a.j[0]*m,d,f,e),d=this.l(a,"DEAD",this.re(n.j.i),b,c,d,f,e)),256>a.g.i&&(n.j.h.h!==n.j.i.h||n.j.h.j!==n.j.i.j||n.j.h.i!==n.j.i.i)&&(this.bb(a,n.j.h.h,n.j.h.j,n.j.h.i,b,c+a.j[0]*m,d,f,e),d=this.l(a,"DEADRAMP",this.re(n.j.h),b,c,d,f,e)),this.bb(a,n.s>>16,n.s>>8&255,n.s&255,b,c+a.j[0]*m,d,f,e),d=this.l(a,"GRID",this.vb(n.s>>16,n.s>>8&
255,n.s&255),b,c,d,f,e),0<n.B&&(this.bb(a,n.u>>16,n.u>>8&255,n.u&255,b,c+a.j[0]*m,d,f,e),d=this.l(a,"GRIDMAJOR",this.vb(n.u>>16,n.u>>8&255,n.u&255),b,c,d,f,e)),d=this.l(a,"GRIDMAJOR",n.B,b,c,d,f,e);this.l(a,"","",b,c,d,f,e)},$J:function(a,b,c,d,f,e){var g,k=hb.Cf,l=Object.keys(k),m=a.h.s;a.u=1;a.pc=!1;a.F=[];a.j[0]=260;a.j[1]=330;a.j[2]=380;a.j[3]=430;a.j[4]=a.displayWidth;a.F[0]=[a.u,"Top"];d=this.l(a,"","Colours",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);d=this.l(a,"","The following names can be used in place of R G B or hex specification",
b,c,d,f,e);d=this.l(a,"","for example [[ COLOUR ALIVE Green ]]",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);for(g=0;g<l.length;g+=1){var n=k[l[g]];this.bb(a,n[1],n[2],n[3],b,c+a.j[0]*m,d,f,e);d=this.l(a,n[0],this.vb(n[1],n[2],n[3]),b,c,d,f,e)}},YJ:function(a,b,c,d,f,e){var g,k=0,l=eb.od,m=eb.Gy;a.u=1;a.pc=!1;a.F=[];a.j[0]=260;a.F[k]=[a.u,"Top"];k+=1;d=this.l(a,"","Aliases",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);d=this.l(a,"","Alias names can be used as rule names in RLE",b,c,d,f,e);d=this.l(a,"","for example 'rule = HighLife'",
b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);d=this.l(a,"","* denotes duplicate definition",b,c,d,f,e);d=this.l(a,"","+ denotes duplicate alias name",b,c,d,f,e);a.pc=!0;for(g=0;g<l.length;g+=1)""===l[g][1]?(d=this.l(a,"","",b,c,d,f,e),a.F[k]=[a.u,m[k-1]],k+=1,d=this.l(a,"",l[g][0]+" Aliases:",b,c,d,f,e)):""!==l[g][0]&&(d=this.l(a,l[g][0]+" "+(l[g][2]?"*":"")+(l[g][3]?"+":""),l[g][1],b,c,d,f,e))},aK:function(a,b,c,d,f,e){var g=0,k,l=a.fl;a.u=1;a.pc=!1;a.F=[];a.j[0]=128;d=this.l(a,"","Pattern Comments",b,
c,d,f,e);d=this.l(a,"","",b,c,d,f,e);""!==a.cf&&(d=this.l(a,"Name",a.cf,b,c,d,f,e));""!==a.vg&&(d=this.l(a,"Originator",a.vg,b,c,d,f,e));if(""!==a.cf||""!==a.vg)d=this.l(a,"","",b,c,d,f,e);if(""===l)this.l(a,"None","",b,c,d,f,e);else{b.font=a.cg;var m=b.measureText("M").width;var n=a.displayWidth/m|0;n-=5;for(m=l.indexOf("\n",g);-1!==m;){for(;m-g>n;){for(k=n;" "!==l.charAt(g+k)&&0<k;)--k;0===k?(d=this.l(a,l.substring(g,g+n),"",b,c,d,f,e),g+=n):(d=this.l(a,l.substring(g,g+k),"",b,c,d,f,e),g+=k+1)}d=
this.l(a,l.substring(g,m),"",b,c,d,f,e);g=m+1;m=l.indexOf("\n",g)}}},iK:function(a,b,c,d,f,e){var g,k=0,l=V.Sc.length,m=0,n=0,q=0,p=0,r;a.u=1;a.pc=!1;a.F=[];a.j[0]=128;a.j[1]=200;a.j[2]=290;a.j[3]=530;a.F[k]=[a.u,"Top"];k+=1;d=this.l(a,"","Memory usage",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e);if(1<l){a.F[k]=[a.u,"All"];k+=1;d=this.l(a,"","Memory (all "+l+" LifeViewers):",b,c,d,f,e);for(g=0;g<l;g+=1)if(r=V.KH(g))m+=r.g.T.s,q+=r.g.T.j>>10,n+=r.g.T.u,p+=r.g.T.m>>10;d=this.l(a,"In Use",m-n+"\t"+((q>>10)-
(p>>10))+"M",b,c,d,f,e);d=this.l(a,"Allocations",m+"\t"+(q>>10)+"M",b,c,d,f,e);d=this.l(a,"Frees",n+"\t"+(p>>10)+"M",b,c,d,f,e);d=this.l(a,"","",b,c,d,f,e)}a.F[k]=[a.u,"Current"];d=this.l(a,"","Memory (this LifeViewer):",b,c,d,f,e);d=this.l(a,"In Use",a.g.T.s-a.g.T.u+"\t"+this.qu(a.g.T.j-a.g.T.m)+"M\t"+(a.g.T.j-a.g.T.m),b,c,d,f,e);d=this.l(a,"Allocations",a.g.T.s+"\t"+this.qu(a.g.T.j)+"M\t"+a.g.T.j,b,c,d,f,e);d=this.l(a,"Frees",a.g.T.u+"\t"+this.qu(a.g.T.m)+"M\t"+a.g.T.m,b,c,d,f,e);d=this.l(a,this.cD("Bytes",
10),"Type\tElements\tName\tCount",b,c,d,f,e);for(g=0;g<a.g.T.i.length;g+=1)d=this.l(a,this.cD(String(a.g.T.i[g].size),10),a.g.T.G(g),b,c,d,f,e);this.l(a,"","",b,c,d,f,e)},IB:function(a){var b=a.oa,c=a.h.s,d=a.h.B,f=19*d;a.Fa=(a.displayHeight/f|0)-6;b.fillStyle=a.C.dc;b.globalAlpha=.7;b.fillRect(0,0,b.canvas.width,b.canvas.height);b.globalAlpha=1;b.fillStyle=a.C.dc;this.si=2;ab.zD(a,b,6*c,14*d,f,a.B|0);b.fillStyle=a.mi;this.si=0;ab.zD(a,b,6*c,14*d,f,a.B|0)},bK:function(a,b,c,d,f,e,g,k,l,m){var n=k,
q=a.h.s,p=this.si*q,r=this.si*a.h.s,u=0,t=!1,v=a.u;e.fillStyle===a.C.Va&&(t=!0);v>=m&&v<=m+a.Fa&&(e.font=a.cg,t||(e.fillStyle=1<(a.ha|0)?a.li:a.C.ca),e.fillText(b,g+p,k+r),t||(e.fillStyle=a.li),e.fillText(c,g+p+e.measureText(b).width,k+r),t||(e.fillStyle=(a.ha|0)<a.Yb.length-a.Fa+1?a.li:a.C.ca),e.fillText(d,g+p+e.measureText(b+c).width,k+r),a.j[0]&&(u=a.j[0]*q),t||(e.fillStyle=a.li),e.font=a.Pe,e.fillText(f,g+p+u,k+r),n+=l);return n},As:function(a,b,c,d,f,e,g,k){var l=e,m=a.h.s,n=0,q=a.u;q>=k&&q<=
k+a.Fa&&(b.length&&(d.font=a.cg,d.fillText(b,f,e),n=d.measureText(b+" ").width),a.j[0]&&(n=a.j[0]*m),d.font=a.Pe,d.fillText(c,f+n,e),l+=g);a.u+=1;return l},yD:function(a,b,c,d,f,e){var g,k=a.Yb,l=d;a.u=1;a.j[0]=0;b.font=a.Pe;d=this.As(a,"",G.DK,b,c,d,f,e);for(g=0;g<k.length;g+=1)d=this.As(a,k[g][0],k[g][1],b,c,d,f,e);a.ma||(a.j[0]=120,a.u=1,d=l+f*(a.Fa+2),d=this.bK(a,"Up"," / ","Down","scroll errors",b,c,d,f,0),d=this.As(a,"Esc","clear messages",b,c,d,f,0),this.As(a,"H  ","help",b,c,d,f,0))},oH:function(a){var b=
a.oa,c=a.h.s,d=a.h.B,f=19*d,e=7;a.ma&&(e=1);a.Fa=(a.displayHeight/f|0)-e;b.fillStyle=a.C.dc;b.globalAlpha=.7;b.fillRect(0,0,b.canvas.width,b.canvas.height);b.globalAlpha=1;b.fillStyle=a.C.dc;this.yD(a,b,6*c,14*d,f,a.ha|0);b.fillStyle=a.li;this.yD(a,b,4*c,12*d,f,a.ha|0)}},D={Pd:'"',Nl:"[[",Sm:"]]",ny:"QUALITY",TD:"TIME",Tx:"PLAYTIME",Qy:"SUPPRESS",ts:"POIT",xc:"INITIAL",Vb:"OFF",Ny:"STATE1FIT",Vq:"POIRESET",Zo:"POIPLAY",$o:"POISTOP",Wq:"POITRANS",Vx:"POIADDLABELS",lv:"HARDRESET",kr:"TRACK",Zm:"TRACKBOX",
jr:"TRACKLOOP",Yw:"NOREPORT",Or:"GRAPH",os:"NOGRAPH",gv:"GRAPHOPACITY",hv:"GRAPHPOINTS",Xw:"NOPERFWARNING",qv:"AUTOHIDEGUI",lg:"ALL",hh:"LINEAR",ji:"BEZIER",iz:"TRIANGULARCELLS",nv:"HEXCELLS",Js:"SQUARECELLS",qz:"ICONS",tu:"CELLBORDERS",fi:"RANDCELLS",xy:"RANDOMIZE",wy:"RANDOMIZE2",ty:"RANDSEED",vy:"RANDWIDTH",qy:"RANDHEIGHT",py:"RANDFILL",sy:"RANDREVERSIBLE",uy:"RANDFIXEDPOP",xs:"RANDCHANCE",ws:"B",zs:"S",Su:"DELETERANGE",Jy:"SHOWTIMING",Zu:"EXTENDEDTIMING",Hy:"SHOWGENSTATS",Iy:"SHOWINFOBAR",Zw:"NOSOURCE",
us:"POI",vp:"TITLE",vD:"POLY",Zx:"POLYSHADOW",vs:"POLYFILL",Yx:"POLYLINE",Wx:"POLYALPHA",$x:"POLYSIZE",ay:"POLYT",Xx:"POLYANGLE",gy:"POLYZOOMRANGE",by:"POLYTRACK",ey:"POLYVIEWDIST",oq:"ARROW",ku:"ARROWSHADOW",iu:"ARROWALPHA",lu:"ARROWSIZE",mu:"ARROWT",ju:"ARROWANGLE",pu:"ARROWZOOMRANGE",nu:"ARROWTRACK",ou:"ARROWVIEWDIST",Kq:"LABEL",Ov:"LABELSHADOW",Kv:"LABELALPHA",Pv:"LABELSIZE",Qv:"LABELT",Lv:"LABELANGLE",Tv:"LABELZOOMRANGE",Rv:"LABELTRACK",Sv:"LABELVIEWDIST",Jv:"LABELALIGN",Hv:"LEFT",Iv:"RIGHT",
Gv:"CENTER",je:"FIXED",Yr:"MAXGRIDSIZE",br:"STARS",ar:"SNOW",sp:"CUSTOM",tt:"XOFFSET",ut:"YOFFSET",rp:"BACKGROUND",qp:"ALIVE",fr:"ALIVERAMP",up:"DEAD",tp:"DEADRAMP",hr:"DYING",gr:"DYINGRAMP",cE:"UIFOREGROUND",OL:"UIFOREGROUNDA",aE:"UIBACKGROUND",ML:"UIBACKGROUNDA",dE:"UIHIGHLIGHT",PL:"UIHIGHTLIGHTA",fE:"UISELECT",RL:"UISELECTA",eE:"UILOCKED",QL:"UILOCKEDA",bE:"UIBORDER",NL:"UIBORDERA",XD:"TITLEFOREGROUND",VD:"TITLEBACKGROUND",XA:"CLOSEFOREGROUND",WA:"CLOSEBACKGROUND",SA:"BOUNDARY",uu:"BOUNDED",ID:"SELECT",
JD:"SELECTED",vr:"AUTOFIT",sv:"HISTORYFIT",vo:"HISTORYSTATES",nq:"AGESTATES",Vm:"STEP",Ww:"NOSTEPBACK",dr:"T",Rx:"PAUSE",Fq:"GRID",Eq:"GRIDMAJOR",Ry:"TEXT",Wu:"ERROR",mv:"HELP",ex:"OFF",ix:"ON",rv:"HISTORY",Yv:"MARK1",$v:"MARKOFF",Zv:"MARK2",Cv:"KILL",VB:"GRAPHBG",UB:"GRAPHAXIS",TB:"GRAPHALIVE",WB:"GRAPHBIRTH",XB:"GRAPHDEATH",tb:"COLOR",Bu:"COLOUR",Tl:"TILT",mr:"VIEWONLY",Vw:"NOGUI",Uw:"NOCOPY",Xy:"THUMBNAIL",Uy:"THUMBSIZE",Ty:"THUMBLAUNCH",Vy:"THUMBSTART",Yu:"EXCLUSIVEPLAY",vv:"IGNOREEXCLUSIVE",
pk:"THEME",Tm:"SHADER",qq:"AGE",cp:"RAINBOW",Rq:"NEIGHBOUR",Hm:"NEIGHBOR",$n:"BASIC",Ms:"STARTFROM",xr:"AUTOSTART",wr:"AUTOIDENTIFY",oi:"LOOP",vi:"STOP",kl:"ANGLE",Dm:"LAYERS",qm:"DEPTH",wm:"GPS",te:"ZOOM",du:"Z",pf:"X",sf:"Y",Dp:"WIDTH",uo:"HEIGHT",Yq:"POPUPWIDTH",Xq:"POPUPHEIGHT",Wy:"THUMBZOOM",$w:"NOTHROTTLE",Ay:"REVERSESTART",Dv:"KILLGLIDERS",LB:"FASTLOOKUP",ep:"RECIPE",Rm:"RLE",Dj:"PASTE",Tq:"PASTET",jx:"PASTEDELTA",wq:"EVERY",Gx:"PASTEMODE",Px:"ZERO",tx:"AND",lx:"0010",Kx:"X",nx:"DIFF",Nx:"Y",
Lx:"XOR",Fx:"OR",yx:"NOR",Jx:"XNOR",Cx:"NOTY",px:"1011",Ax:"NOTX",sx:"1101",wx:"NAND",Ex:"ONE",ux:"COPY",dz:"IDENTITY",az:"FLIP",bz:"FLIPX",cz:"FLIPY",gz:"SWAPXY",hz:"SWAPXYFLIP",fz:"RCW",ez:"RCCW",Qx:"XT",mD:"YT",Sd:"#"},mb={shift:!1,TJ:function(a,b,c){var d=!0,f=c.shiftKey,e=c.altKey,g=c.metaKey;if(c.ctrlKey||g||e)b=-1;switch(b){case 84:f?a.C.j=!a.C.j:a.Tg([!a.C.F],!0,a);break;case 27:V.Lm=!1;a.C.ja(a.h);break;default:d=!1}return d},QJ:function(a,b,c){var d=!0,f=c.shiftKey,e=c.altKey,g=c.metaKey;
if(c.ctrlKey||g||e)b=-1;switch(b){case 84:f?a.C.j=!a.C.j:a.Tg([!a.C.F],!0,a);break;case 27:a.cm(a,!0,!1);break;default:d=!1}return d},SJ:function(a,b,c){var d=!0,f=c.shiftKey,e=c.ctrlKey,g=c.metaKey;c=c.altKey;if(!c||192!==b&&223!==b){if(e||g||c)b=-1;switch(b){case 84:f?a.C.j=!a.C.j:a.Tg([!a.C.F],!0,a);break;case 27:case 117:a.Ol(a);break;default:d=!1}}else V.S&&(a.km.current=a.Ly([!a.i],!0,a),a.C.notification.notify("WASM "+(a.i?"On":"Off"),15,40,15,!0));return d},qk:function(a,b){a.Kd===G.Qg?a.Dc(b,
a):a.Kd===b&&a.Dc(G.Qg,a)},RJ:function(a,b,c){var d=!0,f=c.shiftKey,e=c.metaKey,g=c.altKey;if(c.ctrlKey||e||g)b=-1;switch(b){case 84:f?a.C.j=!a.C.j:a.Tg([!a.C.F],!0,a);break;default:d=!1}return d},PJ:function(a,b,c){var d=!0,f=c.shiftKey,e=c.ctrlKey,g=c.altKey,k="";c.metaKey&&(e=!0);mb.shift=f;if(a.Pa)!a.xn&&85===b&&f&&(a.Pa=!a.Pa,a.h.N=a.Pa,a.C.da=a.Pa);else{e&&!g&&37<=b&&40>=b&&(37===b?b=33:38===b?b=36:39===b?b=34:40===b&&(b=35));if(g&&!e){if(48<=b&&57>=b)b-=48,a.Cc||0===a.s.i.length?a.Hb===b?a.qa?
a.Ft(a,b):a.wE(a):a.wk.current=a.xD(b,!0,a):(--b,0<=b&&b<a.s.i.length&&(a.Jc=b,a.Xt(a,a.Jc)));else switch(b){case 37:a.pg(a,-1,0);break;case 38:a.pg(a,0,-1);break;case 39:a.pg(a,1,0);break;case 40:a.pg(a,0,1);break;case 46:if(a.g.P||a.g.v)a.En(a,!0,!0),a.g.P?a.C.notification.notify("Cleared [R]History marked cells",15,120,15,!0):a.C.notification.notify("Cleared [R]Super marked cells",15,120,15,!0);break;case 65:a.Xg.current=a.Ux([!a.be],!0,a);a.C.notification.notify("Auto-Shrink Selection "+(a.be?
"On":"Off"),15,40,15,!0);break;case 66:a.Ii.current=a.qD([!a.g.jb],!0,a);a.C.notification.notify("Cell Borders "+(a.g.jb?"On":"Off"),15,40,15,!0);break;case 67:a.Ua||!a.wd||a.wd.locked||(a.zg(a.yo,a.g.af,a),a.g.la||a.oe||a.C.notification.notify(a.Go(a.g.qb)+" Theme",15,40,15,!0));break;case 68:a.g.ja&&2===a.g.lb&&(a.$d.current=a.DC([!a.g.Gd],!0,a),a.C.notification.notify("Alternating Gridlines "+(a.g.Gd?"On":"Off"),15,40,15,!0));break;case 69:"Oscillator"===a.Eb&&null!==a.g.Jd&&(a.Zc+=1,a.Zc>G.bC&&
(a.Zc=G.kk),a.Se.current=a.fm(a.Zc,!0,a));break;case 71:a.g.P||-1===a.g.i?a.GJ(a):a.g.v?a.C.notification.notify("Rule is already [R]Super",15,120,15,!0):a.C.notification.notify("Unsupported rule for [R]Super",15,120,15,!0);break;case 72:-1===a.g.i&&!a.g.P||a.g.v?a.cJ(a):a.g.P?a.C.notification.notify("Rule is already [R]History",15,120,15,!0):a.C.notification.notify("Unsupported rule for [R]History",15,120,15,!0);break;case 73:a.eg.locked||(a.eg.current=a.mz([!a.xd],!0,a),a.C.notification.notify("Icons "+
(a.xd?"On":"Off"),15,40,15,!0));break;case 74:a.g.P||a.g.v?a.zJ(a):-1===a.g.i?a.C.notification.notify("Rule is already [R]Standard",15,120,15,!0):a.C.notification.notify("Unsupported rule for [R]Standard",15,120,15,!0);break;case 75:a.Tz(a);break;case 76:0<a.s.B()&&(a.hg.current=a.lE([!a.me],!0,a),a.C.notification.notify("Annotations "+(a.me?"On":"Off"),15,40,15,!0));break;case 77:a.ll.locked||a.jA(a);break;case 78:a.ED(a);break;case 79:a.eb&&(a.tc=!a.tc,a.Yg.current=[a.tc],a.C.notification.notify("AutoStart "+
(a.tc?"Off":"On"),15,40,15,!0));break;case 80:-1!==a.uc&&(a.Nb=!a.Nb,a.Ng.current=[a.Nb],a.C.notification.notify("Stop "+(a.Nb?"Off":"On"),15,40,15,!0));break;case 82:a.Wz(a);break;case 83:a.pl.current=a.my([!a.Sb],!0,a);a.C.notification.notify("Sync Clipboard "+(a.Sb?"On":"Off"),15,40,15,!0);break;case 84:a.Og.current=a.Xv([!a.Jf],!0,a);a.C.notification.notify("Throttling "+(a.Jf?"On":"Off"),15,40,15,!0);break;case 85:a.Hi.current=a.bD([!a.nd],!0,a);a.C.notification.notify("AutoHide UI "+(a.nd?"On":
"Off"),15,80,15,!0);break;case 87:if(!(2<a.g.i||a.g.Ea||a.g.s||a.g.P||a.g.v||a.g.G||a.g.D)){a.g.Wa+=1;a.g.Wa>y.Uf&&(a.g.Wa=y.Hf);switch(a.g.Wa){case y.gf:k="Cell Age";break;case y.Uf:k="Neighbour Count";break;case y.hf:k="Rainbow";break;case y.Hf:k="Basic"}a.xg.current=a.Az(a.g.Wa,!0,a);a.C.notification.notify(k+" Shader",15,80,15,!0)}break;case 88:a.jq(a);break;case 89:a.Jp(a);break;case 90:a.Jm.locked||a.Bm(a,!1);break;case 188:b=a.wa.current[0];b-=45;0>b&&(b+=360);a.wa.current=a.Sg([b,b],!0,a);
break;case 190:b=a.wa.current[0];b+=45;360<=b&&(b-=360);a.wa.current=a.Sg([b,b],!0,a);break;case 191:a.CA(a);break;case 192:case 223:V.S&&(a.km.current=a.Ly([!a.i],!0,a),a.C.notification.notify("WASM "+(a.i?"On":"Off"),15,40,15,!0))}b=-2}switch(b){case 191:f?a.g.ia?(a.Ld.current=a.$y([!a.g.Fa],!0,a),a.C.notification.notify("Hexagonal display uses "+(a.g.Fa?"Rectangles":"Hexagons"),15,120,15,!0)):a.g.aa&&(a.Ld.current=a.$y([!a.g.Fa],!0,a),a.C.notification.notify("Triangular display uses "+(a.g.Fa?
"Rectangles":"Triangles"),15,120,15,!0)):a.kb.locked||(b=a.kb.current[0],.47<b&&.53>b?b=.46:(b-=.02,0>b&&(b=0)),a.kb.current=a.ek([b,b],!0,a));break;case 192:f?a.kb.locked||(a.kb.current=a.ek([.5,0],!0,a)):a.kb.locked||(b=a.kb.current[0],.47<b&&.53>b?b=.54:(b+=.02,1<b&&(b=1)),a.kb.current=a.ek([b,b],!0,a));break;case 8:0!==a.B?a.Kd!==G.Qg?a.Dc(G.Qg,a):(a.B=0,a.md.current=a.zf([0!==a.B],!0,a),a.C.m=!0):a.ja.current[0]?(a.Xk(a),a.C.m=!0):a.U||a.lc.m[1]||(b=a.P,a.P=1,a.lc.current=a.Ud(G.Oo,!0,a),a.P=
b);break;case 66:e?a.lA(a):f?(a.Xe.current=[!a.Xe.current[0]],a.C.m=!0):a.U||a.lc.m[1]||(b=a.P,a.P=1,a.lc.current=a.Ud(G.Oo,!0,a),a.P=b);break;case 13:a.qa?a.qF(a):a.U||(a.lc.current===G.yj?a.lc.current=a.Ud(G.yj,!0,a):a.lb&&a.C.ha||(a.lc.current=a.Ud(G.yj,!0,a)));break;case 9:a.U||(a.Pb?a.lc.current=a.Ud(G.ve,!0,a):f?(a.g.ja||a.g.s)&&null!==a.g.Cb?a.lc.current=a.Ud(G.Oo,!0,a):0<a.g.counter&&(a.Zt(a.g.counter-a.P)?a.gp(a):a.nr(a.g.counter-a.P)):(a.sd=!0,a.ba("")));break;case 32:a.U||(a.Pb?a.lc.current=
a.Ud(G.ve,!0,a):e||f?a.hq(a,f):(a.sd=!0,a.$t=!0,a.ba("")));break;case 87:f?(a.Bg.current=a.xv([!a.Qd],!0,a),a.C.notification.notify("Performance Warning "+(a.Qd?"On":"Off"),15,40,15,!0)):a.sb?(a.Oc.current=a.gw([a.Ob],!0,a),-1!==a.Ub?a.C.notification.notify("Track and Loop "+(a.Ob?"Off":"On"),15,40,15,!0):a.C.notification.notify("Track "+(a.Ob?"Off":"On"),15,40,15,!0)):a.Da&&(a.Oc.current=a.gw([a.ub],!0,a),-1!==a.Ub?a.C.notification.notify("Waypoints and Loop "+(a.ub?"Off":"On"),15,40,15,!0):a.C.notification.notify("Waypoints "+
(a.ub?"Off":"On"),15,40,15,!0));break;case 68:e?(a.Vj.current=a.Fv([!a.Eg],!0,a),a.C.notification.notify("States Display "+(a.Eg?"On":"Off"),15,80,15,!0)):a.yh.locked||a.DA(a);break;case 69:0===a.B||a.g.la||a.g.v||a.g.G||a.g.D?f?(a.Oi.current=a.Cy([!a.Id],!0,a),a.C.notification.notify("Using "+(a.Id?"saved":"standard")+" default speed",15,80,15,!0)):e?(a.cA(a),a.C.notification.notify("Default speed saved as "+a.da*a.P+"gps",15,120,15,!0)):"Oscillator"===a.Eb&&null!==a.g.Jd&&(a.Wb+=1,a.Wb>G.Hq&&(a.Wb=
G.Uh),a.Nd.current=a.ck(a.Wb,!0,a)):this.qk(a,G.Sy);break;case 90:e?(g&&(a.Nm.locked||a.Bm(a,!0)),f?a.Ot(a):a.Xd.locked||a.gp(a)):f?(b=V.RD(),0===b?a.C.notification.notify("No LifeViewers playing",15,100,15,!0):1<b&&a.C.notification.notify("Paused all LifeViewers",15,100,15,!0)):(b=V.Py(a),0<b&&(1<b?a.C.notification.notify("Paused "+b+" other LifeViewers",15,100,15,!0):a.C.notification.notify("Paused "+b+" other LifeViewer",15,100,15,!0)));break;case 88:e?a.BE(a,f,g):f?a.qd.locked||(a.qd.current=
a.xE([!a.g.Ec],!0,a),0<a.g.lb&&(a.C.notification.notify("Major Grid Lines "+(a.g.Ec?"On":"Off"),15,40,15,!0),a.In())):a.R||a.qa?a.jq(a):(a.g.Za=!a.g.Za,a.kd.current=a.bk([a.g.Za],!0,a),a.C.notification.notify("Grid Lines "+(a.g.Za?"On":"Off"),15,40,15,!0));break;case 89:0!==a.B?this.qk(a,G.dw):e?a.Ot(a):a.bc?a.C.notification.notify("Graph Disabled",15,40,15,!0):f?(a.td=!a.td,a.qj.current=a.KB([a.td],!0,a),a.C.notification.notify("Graph "+(a.td?"Lines":"Points"),15,40,15,!0)):a.R||a.qa?a.Jp(a):(a.Ga=
!a.Ga,a.Oe.current=a.jp([a.Ga],!0,a),a.C.notification.notify("Population Graph "+(a.Ga?"On":"Off"),15,40,15,!0));break;case 75:0!==a.B?this.qk(a,G.Bv):e?g?(a.En(a,!1,!1),b=a.Df,2<a.g.i&&!(a.g.la||a.g.s||a.g.D||a.g.v||a.g.G)&&0<b&&(b=a.g.i-b),a.g.D?a.C.notification.notify("Cleared state "+b+" cells",15,120,15,!0):a.C.notification.notify("Cleared "+a.sh(b)+" cells",15,120,15,!0)):a.Qm(a):f?(a.Sn(a,!0),a.C.notification.notify("Copied view to clipboard",15,180,15,!0)):(a.Sn(a,!1),a.C.notification.notify("Copied position to clipboard",
15,180,15,!0));break;case 80:e?(a.hl.current=a.OB([!a.Fj],!0,a),a.C.notification.notify("Pause while drawing "+(a.Fj?"On":"Off"),15,80,15,!0)):f?-1!==a.Ub&&(a.Ba=!a.Ba,a.Wf.current=[a.Ba],a.C.notification.notify("Loop "+(a.Ba?"Off":"On"),15,40,15,!0)):a.Ua||a.Ia.locked||(a.Ia.current=.99>=a.Ia.current[0]?a.Bf([a.Ia.current[0]+.01,a.Ia.current[1]],!0,a):a.Bf([1,a.Ia.current[1]],!0,a));break;case 76:0!==a.B?this.qk(a,G.Cu):e?a.Ve.locked||(a.g.ud=!a.g.ud,a.C.notification.notify("Kill Gliders "+(a.g.ud?
"On":"Off"),15,40,15,!0)):f?a.dF(a):a.Ua||a.Ia.locked||(a.Ia.current=.01<=a.Ia.current[0]?a.Bf([a.Ia.current[0]-.01,a.Ia.current[1]],!0,a):a.Bf([0,a.Ia.current[1]],!0,a));break;case 81:e?(a.ym.current=a.zE([!a.g.bd],!0,a),a.C.notification.notify((a.g.bd?"High":"Standard")+" Quality Rendering",15,80,15,!0)):!a.Ua&&!a.qb.locked&&a.qb.current[0]<G.Zr&&(a.qb.current=a.jm([a.g.za+1,a.qb.current[1]],!0,a));break;case 65:0!==a.B?this.qk(a,G.cu):f?a.R&&a.Vk(a):e?a.ra.m[G.zj]||a.kA(a):!a.Ua&&!a.qb.locked&&
a.qb.current[0]>G.hs&&(a.qb.current=a.jm([a.g.za-1,a.qb.current[1]],!0,a));break;case 82:f?V.AD():a.lc.current=a.Ud(G.lw,!0,a);break;case 83:0!==a.B?this.qk(a,G.Fy):e?a.$m.locked||a.gA(a):f?a.g.P&&(a.vd=!a.vd,a.C.notification.notify("AutoFit State 1 Mode "+(a.vd?"On":"Off"),15,40,15,!0)):(a.Gi.current=a.Mz([!a.Mc],!0,a),a.C.notification.notify("Stars "+(a.Mc?"On":"Off"),15,40,15,!0));break;case 78:0!==a.B?0<a.s.B()&&this.qk(a,G.fu):f?a.U||a.QA(a):a.ze&&(a.ma?a.su():(a.yu(),a.B&&(a.B=0)));break;case 86:e?
a.uj.locked||a.Jn(a,f,!1):f?(a.Rt(a),a.C.notification.notify("Saved camera position",15,100,15,!0)):a.fb||a.qc.locked||(a.Lz(a),a.C.notification.notify("Restored camera position",15,100,15,!0),a.Pb||(a.oc=!0));break;case 221:a.fb||a.qc.locked||(f?a.Rk(a.qc.current[0],Math.log(a.g.zoom*a.g.cb*2/G.Fb)/Math.log(G.Qb/G.Fb)-a.qc.current[0]):a.Rk(a.qc.current[0],.01));break;case 219:a.fb||a.qc.locked||(f?a.Rk(a.qc.current[0],Math.log(a.g.zoom*a.g.cb/2/G.Fb)/Math.log(G.Qb/G.Fb)-a.qc.current[0]):a.Rk(a.qc.current[0],
-.01));break;case 53:case 101:e?f?a.g.s||a.Ln(a,!0):a.Cd(5):f?a.Ln(a,!1):a.wa.locked||(a.g.angle=0,a.wa.current=[a.g.angle,a.g.angle]);break;case 49:case 97:e?a.Cd(1):a.qc.locked||(f?(a.Vc(a,a.g.zoom*a.g.cb,!0),a.C.notification.notify("Integer Zoom",15,40,15,!0)):a.Vc(a,1,!1));break;case 50:case 98:e?a.Cd(2):a.qc.locked||(f?a.Vc(a,.5,!1):a.Vc(a,2,!1));break;case 51:case 99:e?a.Cd(3):a.qc.locked||(f?a.Vc(a,.03125,!1):a.Vc(a,32,!1));break;case 52:case 100:e?a.Cd(4):a.qc.locked||(f?a.Vc(a,.25,!1):a.Vc(a,
4,!1));break;case 54:case 102:e?a.Cd(6):a.qc.locked||(f?a.Vc(a,.0625,!1):a.Vc(a,16,!1));break;case 55:e?a.Cd(7):a.bc?a.C.notification.notify("Graph Disabled",15,40,15,!0):(0<a.jb&&(a.jb-=.05,0>a.jb&&(a.jb=0)),a.tj.current=a.xp([a.jb,a.jb],!1,a));break;case 56:case 104:e?a.Cd(8):a.qc.locked||(f?a.Vc(a,.125,!1):a.Vc(a,8,!1));break;case 57:e?a.Cd(9):a.bc?a.C.notification.notify("Graph Disabled",15,40,15,!0):(1>a.jb&&(a.jb+=.05,1<a.jb&&(a.jb=1)),a.tj.current=a.xp([a.jb,a.jb],!1,a));break;case 48:case 96:e?
a.Cd(0):a.kc.current=a.Ec([1,1],!0,a);break;case 173:case 189:case 109:e&&189===b?d=!1:a.U||(a.P>G.ih?f?a.P=G.ih:(--a.P,a.P<G.ih&&(a.P=G.ih)):a.da>G.Cg&&(f?a.da=G.Cg:(--a.da,a.da<G.Cg&&(a.da=G.Cg))),a.kc.current=a.Ec([a.xf(),1],!0,a));break;case 186:a.OI(a);break;case 61:case 187:case 107:e&&187===b?d=!1:a.U||(a.da<G.dd?f?a.da=G.dd:(a.da+=1,a.da>G.dd&&(a.da=G.dd)):a.P<a.Pf&&(f?a.P=a.Pf:(a.P+=1,a.P>a.Pf&&(a.P=a.Pf))),a.kc.current=a.Ec([a.xf(),1],!0,a));break;case 188:f&&(a.R||a.qa)?a.Rz(a):a.wa.locked||
(b=a.wa.current[0],b=f?b-90:b-1,0>b&&(b+=360),a.wa.current=a.Sg([b,b],!0,a));break;case 190:f&&(a.R||a.qa)?a.Uz(a):a.wa.locked||(b=a.wa.current[0],b=f?b+90:b+1,360<=b&&(b-=360),a.wa.current=a.Sg([b,b],!0,a));break;case 46:a.R?f?a.fA(a):(a.bq(a,e),e&&(a.g.P||a.g.v)&&(a.g.P?a.C.notification.notify("Cleared [R]History cells",15,120,15,!0):a.C.notification.notify("Cleared [R]Super cells",15,120,15,!0))):e&&(b=a.En(a,e,!1))&&(a.g.P?a.C.notification.notify("Cleared [R]History cells",15,120,15,!0):a.C.notification.notify("Cleared [R]Super cells",
15,120,15,!0));break;case 74:e&&!f?a.nA(a):e&&f?d=!1:a.s.i.length?a.fb||(f?a.yE(a):a.gE(a)):a.C.notification.notify("No POIs defined",15,80,15,!0);break;case 84:f?a.ak.current=a.Bp([!a.C.j],!0,a):a.Vi.current=a.Tg([!a.C.F],!0,a);break;case 85:f?!a.xn&&(a.Pa=!a.Pa,a.h.N=a.Pa,a.C.da=a.Pa)&&(a.B=0,a.ha=0):(a.g.ja||a.g.s)&&a.g.Cb&&a.aq(a);break;case 71:e?(a.fd=!a.fd,a.Fi.current=a.ZC([a.fd],!0,a),a.C.notification.notify("Auto Grid Lines "+(a.fd?"On":"Off"),15,40,15,!0)):f?a.Nk&&(a.Qj.current=a.EE([!a.Ne],
!0,a),a.C.notification.notify("Generation display "+(a.Ne?"Relative":"Absolute"),15,40,15,!0)):(a.zp([!a.Mg],!0,a),a.nb&&(a.nb.current=[a.Mg],a.C.m=!0));break;case 70:e?a.R&&(a.Gb(!0,!0,G.yq),a.C.notification.notify("Fit Selection",15,80,15,!0)):f?a.ae.locked||(a.ka=!a.ka,a.ae.current=a.ZA([a.ka],!0,a),a.C.notification.notify("AutoFit "+(a.ka?"On":"Off"),15,40,15,!0)):a.ag.locked||(a.Gb(!0,!0,G.rg),a.C.notification.notify("Fit Pattern",15,80,15,!0),a.Pb||(a.oc=!0));break;case 79:e?f?a.kE(a):a.aD(a):
a.le=f?2:1;break;case 37:f?a.kg(a.g.zoom,a.g.zoom):a.kg(a.g.zoom,0);break;case 38:a.B?a.oo(a,1):a.ha?a.eo(a,1):f?a.kg(-a.g.zoom,a.g.zoom):a.kg(0,a.g.zoom);break;case 39:f?a.kg(-a.g.zoom,-a.g.zoom):a.kg(-a.g.zoom,0);break;case 40:a.B?a.mo(a,1):a.ha?a.bo(a,1):f?a.kg(a.g.zoom,-a.g.zoom):a.kg(0,-a.g.zoom);break;case 77:e?(a.Gb(!0,!0,G.$u),a.C.notification.notify("Center Pattern",15,80,15,!0)):f?a.hF(a):!a.ja||a.ja.N||a.ja.locked||(a.ja.current=a.Af([!a.ja.current[0]],!0,a),a.C.m=!0);break;case 67:e?a.Hn(a,
f,g):0!==a.B?this.qk(a,G.Du):a.Ua||!a.wd||a.wd.locked||(f?(b=a.g.qb-1,0>b&&(b=a.ya||a.Je?a.g.Tb:a.g.Tb-1)):(b=a.g.qb+1,a.ya||a.Je?b>=a.g.Tb+1&&(b=0):b>=a.g.Tb&&(b=0)),a.zg(b,a.g.af,a),a.g.la||a.oe||a.C.notification.notify(a.Go(a.g.qb)+" Theme",15,40,15,!0));break;case 72:f?(a.$i.current=a.ZD([!a.rd],!0,a),a.C.notification.notify("AutoFit History Mode "+(a.rd?"On":"Off"),15,40,15,!0)):(a.Yb.length?a.B=a.B?0:1:a.B?a.B=0:a.ma||(a.B=1),a.md.current=a.zf([0!==a.B],!0,a),a.C.m=!0);break;case 73:e&&f?d=
!1:e?a.NB(a):f?a.hj.current=a.hE([!a.La],!0,a):(a.B?this.qk(a,G.Tr):a.ma||a.Dc(G.Tr,a),a.md.current=a.zf([0!==a.B],!0,a),a.C.m=!0);break;case 27:a.zd?a.Yb.length?(a.Yb=[],a.ha=0):a.qa?a.yn(a):a.fe?a.ad.current=a.Ae([!1],!0,a):a.Bb?a.Dq(a):-1!==a.Wa?a.cm(a,!0,!1):zb():a.B?a.B=0:a.Yb.length?(a.Yb=[],a.ha=0):a.qa?a.yn(a):a.fe?a.ad.current=a.Ae([!1],!0,a):a.Bb?a.Dq(a):-1!==a.Wa?a.cm(a,!0,!1):a.Pb&&(a.lc.current=a.Ud(G.ve,!0,a));a.md.current=a.zf([0!==a.B],!0,a);a.C.m=!0;break;case 33:a.B?f?a.PF(a):a.oo(a,
a.Fa):a.ha?a.eo(a,a.Fa):Ja.zb?(--a.Xa,0>a.Xa&&(a.Xa=V.Ee.length-1),a.ii(V.Ee[a.Xa].pattern,!1)):a.JB(a);break;case 34:a.B?f?a.QE(a):a.mo(a,a.Fa):a.ha?a.bo(a,a.Fa):Ja.zb?(a.Xa+=1,a.Xa>=V.Ee.length&&(a.Xa=0),a.ii(V.Ee[a.Xa].pattern,!1)):a.GB(a);break;case 36:a.B?a.B=1:a.ha?a.ha=1:Ja.zb?a.wD(a):a.NI(a);break;case 35:a.B?a.B=a.sj-a.Fa:a.ha?a.ha=a.Yb.length-a.Fa:Ja.zb||a.FI(a);break;case 112:a.U||(a.lb=!a.lb,a.ra.current=a.Yd(a.lb?G.El:G.bi,!0,a),a.C.notification.notify((a.lb?"Draw":"Pan")+" Mode",15,
40,15,!0));break;case 113:f?(a.Ei.current=a.Av([!a.di],!0,a),a.C.notification.notify("Smart Drawing "+(a.di?"On":"Off"),15,40,15,!0)):a.ra.current=a.Yd(G.El,!0,a);break;case 114:f?a.ac.current=a.im([!a.ac.current[0],a.ac.current[1],a.ac.current[2]],!0,a):a.U||(a.ra.current=a.Yd(G.El,!0,a),a.fe||(a.ad.current=a.Ae([!0],!0,a)));break;case 115:f?a.ac.current=a.im([a.ac.current[0],!a.ac.current[1],a.ac.current[2]],!0,a):a.ra.m[G.zj]||(a.ra.current=a.Yd(G.zj,!0,a));break;case 116:f?a.ac.current=a.im([a.ac.current[0],
a.ac.current[1],!a.ac.current[2]],!0,a):a.ra.current=a.Yd(G.bi,!0,a);break;case 117:a.aj.locked||(f?a.BA(a):a.Ol(a));break;case 118:f?a.rh.locked||(a.rh.current=a.ND([!a.g.Gb],!0,a),a.C.notification.notify("Fast Lookup "+(a.g.Gb?"On":"Off"),15,40,15,!0)):a.rK(a);break;case 119:f?a.fk.locked||(a.fk.current=a.Sz([!a.Ce],!0,a),a.C.notification.notify("Y Direction "+(a.Ce?"Up":"Down"),15,40,15,!0)):a.fn.locked||(a.fn.current=a.Pz([!a.Jg],!0,a),a.C.notification.notify("State Numbers "+(a.Jg?"On":"Off"),
15,40,15,!0));break;case 120:f?a.Sj.locked||(a.Sj.current=a.Iz([!a.lf],!0,a),a.C.notification.notify("Safe Mode "+(a.lf?"On":"Off"),15,40,15,!0)):V.Qf&&(V.Qf.F=!V.Qf.F,V.Qf.u(V.Qf));break;case 45:a.Ci=!0;break;case 122:d=!1;break;default:if(-1===b||116===b)d=!1}}return d}}}());
